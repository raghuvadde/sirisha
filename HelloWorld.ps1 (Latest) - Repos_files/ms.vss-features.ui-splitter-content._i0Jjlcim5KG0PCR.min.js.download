"use strict";define("VSSUI",["require","exports","react","OfficeFabric/Utilities"],function(n,t,i,r){var u,f,e;(function(n){u=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var f=20,e=4,o=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r._onDividerKeyDown=function(n){var i=r.props,u=i.disabled,t=i.splitterDirection;if(!u&&!r._isDragging){switch(n.keyCode){case 37:t===0&&r._moveDivider(0);break;case 39:t===0&&r._moveDivider(1);break;case 38:t===1&&r._moveDivider(0);break;case 40:t===1&&r._moveDivider(1);break;default:return}n.preventDefault();n.stopPropagation()}},r._onDividerMouseDown=function(n){var i=r.props.disabled,u=r.state.fixedSize,t;r._fixedRef&&!i&&(n.preventDefault(),n.stopPropagation(),r._dragAnchorPos=r._getEventBoundedClientPos(n),r._previousFixedSize=r._getElementSize(r._fixedRef),t=r._getNewFixedSize(r._previousFixedSize,r._dragAnchorPos),u!==t&&r.setState({placeholderPosition:undefined,fixedSize:t}),r._attachWindowEvents(),r._handleDragMouseEvent(n))},r.state={fixedSize:t.fixedSize||t.initialFixedSize,placeholderPosition:undefined,showDivider:r._shouldShowDivider(t)},r}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){var t=this._shouldShowDivider(n);t!==this.state.showDivider&&this.setState({showDivider:t});this.props.fixedSize!==n.fixedSize?n.fixedSize!=null?this.setState({fixedSize:this._getNewFixedSize(n.fixedSize,0,0,n)}):this.props.fixedSize!=null&&(this.setState({fixedSize:this._getNewFixedSize(this.props.fixedSize,0,0,n)}),r.warn("Splitter: Splitter is switching from controlled mode to uncontrolled mode. You should not switched from a controlled to uncontrolled mode. Using the previous available size")):(this.props.splitterDirection!==n.splitterDirection||this.props.minFixedSize!==n.minFixedSize||this.props.maxFixedSize!==n.maxFixedSize)&&this.setState({fixedSize:this._getNewFixedSize(this.state.fixedSize,0,0,n)})},t.prototype.render=function(){var n=this.props.splitterDirection,t=r.getNativeProps(this.props,r.divProperties);return i.createElement("div",__assign({},t,{className:r.css("vss-Splitter--container",{"vss-Splitter--container-row":n===0,"vss-Splitter--container-column":n===1,"vss-Splitter--container-dragging":this._isDragging},t.className),ref:this._resolveRef("_splitterContainer")}),this._renderNearElement(),this._renderDivider(),this._renderDragPlaceHolder(),this._renderFarElement())},t.prototype._renderNearElement=function(){var n=this.props,u=n.fixedElement,i=n.onRenderNearElement,r=n.nearElementClassName,t;return this._isDragging&&this._cachedNearElement?this._cachedNearElement:(this._cachedNearElement=null,i?(t=i(),this._cachedNearElement=u===0?this._renderFixedPane(t,r):this._renderFlexiblePane(t,r),this._cachedNearElement):void 0)},t.prototype._renderFarElement=function(){var n=this.props,u=n.fixedElement,i=n.onRenderFarElement,r=n.farElementClassName,t;return this._isDragging&&this._cachedFarElement?this._cachedFarElement:(this._cachedFarElement=null,i?(t=i(),this._cachedFarElement=u===1?this._renderFixedPane(t,r):this._renderFlexiblePane(t,r),this._cachedFarElement):void 0)},t.prototype._renderFixedPane=function(n,t){var u=this.props,e=u.minFixedSize,o=u.maxFixedSize,c=u.splitterDirection,s=this.state.fixedSize,f,h;return f=s?s:e!=null?e:o!=null?o:"50%",h=c===0?{width:f}:{height:f},n?i.createElement("div",{className:r.css("vss-Splitter--pane-fixed",t),style:h,ref:this._resolveRef("_fixedRef")},n):void 0},t.prototype._renderFlexiblePane=function(n,t){return i.createElement("div",{className:r.css("vss-Splitter--pane-flexible",t)},n)},t.prototype._renderDivider=function(){var n=this.props,h=n.fixedElement,c=n.minFixedSize,l=n.maxFixedSize,t=this.state,f=t.fixedSize,e=t.showDivider,u=this._getSplitterBoundaries(),o=u.startBound,s=u.endBound;return e&&i.createElement("div",{"aria-valuemin":o,"aria-valuemax":s,"aria-valuenow":f,role:"separator",tabIndex:0,className:r.css("vss-Splitter--divider",{"vss-Splitter--divider-dragging":this._isDragging}),onKeyDown:this._onDividerKeyDown,onMouseDown:this._onDividerMouseDown})},t.prototype._renderDragPlaceHolder=function(){var t=this.props.splitterDirection,n=this.state.placeholderPosition,r=t===0?{left:n}:{top:n};if(this._isDragging)return i.createElement("div",{className:"vss-Splitter--drag-placeholder",style:r})},t.prototype._onDividerMouseMove=function(n){this._handleDragMouseEvent(n)},t.prototype._handleDragMouseEvent=function(n){var r=this.props.fixedElement,u=this.state.placeholderPosition,i,t;n.preventDefault();n.stopPropagation();i=this._getEventBoundedClientPos(n);t=this._getNewFixedSize(this._previousFixedSize,this._dragAnchorPos,i);t!==u&&this.setState({placeholderPosition:r===0?t:this._getElementSize(this._splitterContainer)-t-e})},t.prototype._onDividerMouseUp=function(n){this._detachWindowEvents();var t=this._getEventBoundedClientPos(n),i=this._getNewFixedSize(this._previousFixedSize,this._dragAnchorPos,t);this.setState({placeholderPosition:undefined});this._setFixedSize(i);this._fireWindowResize()},t.prototype._setFixedSize=function(n){var t=this.props,r=t.fixedSize,i=t.onFixedSizeChanged;r==null&&this.setState({fixedSize:n});i&&i(n)},t.prototype._moveDivider=function(n){var i=this._getElementSize(this._fixedRef),t;switch(n){case 0:t=this._getNewFixedSize(i,f,0);break;case 1:t=this._getNewFixedSize(i,0,f);break;default:return}this._setFixedSize(t);this._fireWindowResize()},t.prototype._attachWindowEvents=function(){this._events.on(window,"mousemove",this._onDividerMouseMove);this._events.on(window,"mouseup",this._onDividerMouseUp)},t.prototype._detachWindowEvents=function(){this._events.off(window,"mousemove",this._onDividerMouseMove);this._events.off(window,"mouseup",this._onDividerMouseUp)},t.prototype._getEventBoundedClientPos=function(n){var i=this.props.splitterDirection,t;switch(i){case 0:t=n.clientX;break;case 1:t=n.clientY;break;default:t=0}return this._getBoundedClientPos(t)},t.prototype._getBoundedClientPos=function(n,t){t===void 0&&(t=this.props);var e=t.fixedElement,o=t.minFixedSize,s=t.maxFixedSize,i=this._getSplitterBoundaries(),r=i.startBound,u=i.endBound,f=Math.max(r,Math.min(n,u));return f-this._getElementStartPos(this._splitterContainer,t)},t.prototype._getSplitterBoundaries=function(n){n===void 0&&(n=this.props);var f=n.fixedElement,i=n.minFixedSize,r=n.maxFixedSize;if(!this._splitterContainer)return{startBound:0,endBound:0};var t=this._getElementStartPos(this._splitterContainer,n),e=this._getElementSize(this._splitterContainer,n),u=t+e,o=f===0?i?t+i:t:r?u-r:t,s=f===0?r?t+r:u:i?u-i:u;return{startBound:o,endBound:s}},t.prototype._getNewFixedSize=function(n,t,i,r){var o;i===void 0&&(i=t);r===void 0&&(r=this.props);var s=r.fixedElement,u=r.minFixedSize,h=u===void 0?0:u,f=r.maxFixedSize,c=f===void 0?this._getElementSize(this._splitterContainer):f,e=i-t;return s===1&&(e*=-1),o=n+e,Math.max(h,Math.min(c,o))},Object.defineProperty(t.prototype,"_isDragging",{get:function(){var n=this.state.placeholderPosition;return n!=null},enumerable:!0,configurable:!0}),t.prototype._getElementSize=function(n,t){t===void 0&&(t=this.props);var i=t.splitterDirection;switch(i){case 0:return n.clientWidth;case 1:return n.clientHeight;default:return 0}},t.prototype._getElementStartPos=function(n,t){t===void 0&&(t=this.props);var r=t.splitterDirection,i=n.getBoundingClientRect();switch(r){case 0:return i.left;case 1:return i.top;default:return 0}},t.prototype._shouldShowDivider=function(n){var t=n.onRenderFarElement,i=n.onRenderNearElement,r=n.fixedElement;switch(r){case 0:return!!i;case 1:return!!t}},t.prototype._fireWindowResize=function(){var n=document.createEvent("Event");n.initEvent("resize",!1,!0);window.dispatchEvent(n)},t.defaultProps={fixedElement:1,splitterDirection:0},t}(r.BaseComponent);t[n].Splitter=o})("ComponentsSplitterSplitter"),function(n){function i(i){for(var r in i)t[n].hasOwnProperty(r)||(t[n][r]=i[r])}f=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});i(u)}("ComponentsSplitterindex"),function(n){function i(i){for(var r in i)t[n].hasOwnProperty(r)||(t[n][r]=i[r])}e=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});i(f)}("Splitter")},["Components/Splitter/Splitter","Components/Splitter/index","Splitter"]);document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-features.ui-splitter-content"}}));