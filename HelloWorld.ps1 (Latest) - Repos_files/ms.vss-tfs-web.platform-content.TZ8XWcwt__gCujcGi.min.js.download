"use strict";define("Tfs/Platform",["require","exports","VSS/Platform/Context","VSS/Platform/Feature","react","VSS/Platform/Identity","VSS/Platform/Layout","VSS/Platform/Location","VSS/Features/Frame/CommandBar","VSS/Features/Frame/ContributedMenuItemProvider","OfficeFabric/Icon","VSS/Platform/Util/Cookie","VSS/Platform/UserClaims","VSS/Platform/Util/Storage","VSS/Core/Util/String","VSS/Platform/FPS","VSS/Core/Observable","VSS/Platform/Components/FPSLink","OfficeFabric/Button","OfficeFabric/Link","VSS/Platform/RestClientBase","VSS/Platform/Util/DOM","VSS/Features/Frame/SearchInput","OfficeFabric/Utilities","VSS/Features/Frame/ContributedTabProvider","VSSUI/Tabs","VSS/Platform/Components/ErrorBoundary","OfficeFabric/ContextualMenu","VSSUI/Tooltip","OfficeFabric/Persona"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st){var ht,at,yt,pt,wt,ct,bt,lt,vt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi;(function(n){ht=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});t[n].ManageUserSettings="Manage the currently logged in user settings";t[n].MoreMenu="More ...";t[n].Pin="Pin";t[n].RecentProjectTeams="Recent project/teams";t[n].Unpin="Unpin";t[n].UnpinnedItems="Unpinned items";t[n].DocumentTitle="{0} - {1}";t[n].ApplicationTitleHosted="Azure DevOps Services";t[n].ApplicationTitleOnPrem="Azure DevOps Server";t[n].DevSuite="Dev Suite";t[n].Favorites="Favorites";t[n].Create="Create";t[n].Help="Help";t[n].Settings="Settings";t[n].ProjectSettings="Project settings";t[n].ShowDetails="Show more information";t[n].HideDetails="Show less information";t[n].ShowFavorites="Show favorites";t[n].ShowCreate="Show commonly created items";t[n].ShowApplications="Switch to another application";t[n].ProjectsAndTeams="Projects & teams";t[n].HeaderProjectNameFormat="{0} / {1}";t[n].Navigation_Site="Website";t[n].Dashboards="Dashboards";t[n].Wiki="Wiki";t[n].More="More";t[n].BrandName="Azure";t[n].ProductName="DevOps";t[n].BrandWithProductName="Azure DevOps";t[n].SuiteNameOnPrem="DevOps";t[n].SuiteName="VSTS";t[n].MarketPlace="Marketplace";t[n].Overview="Overview";t[n].Search="Search";t[n].ProjectLabel="This project";t[n].AccountLabel="This organization";t[n].UnhandledErrorTitle="An unexpected error has occurred within this region of the page.";t[n].UnhandledErrorMessage="You can try reloading this component or refreshing the entire page.";t[n].RefreshPageText="Refresh page";t[n].ReloadComponentText="Reload component";t[n].ShowMoreInfoText="Show more info";t[n].Error="Error";t[n].Stack="Stack";t[n].Global="Global"})("Resources"),function(n){function i(n){var t=n.getService("IVssContributionService");return t.getData("ms.vss-tfs-web.header-action-data")}at=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});t[n].getHeaderActionData=i}("HeaderActions"),function(n){function e(n){var t=n.getService("ITfsPageService");if(t)return t.getData()}var u,f;yt=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});u=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.addTelemetryProperties=function(n){var i=t.getData();i&&i.project&&(n.properties.dataspaceId=i.project.id,n.properties.dataspaceType="Project",n.properties.dataspaceVisibility=i.project.visibility.toString(),n.properties.navigationMode=r.isFeatureEnabled(t.pageContext,"ms.vss-tfs-web.vertical-navigation",!1)?"vertical":"horizontal")},t}return __extends(t,n),t.prototype._serviceStart=function(t){var r=this,i;n.prototype._serviceStart.call(this,t);i=t.getService("IVssTelemetryService");i.subscribe(this.addTelemetryProperties,"publish");this._removeSubscriptions=function(){i.unsubscribe(r.addTelemetryProperties,"publish")}},t.prototype._serviceEnd=function(t){this._removeSubscriptions();n.prototype._serviceEnd.call(this,t)},t.prototype.getData=function(){var n=this.pageContext.getService("IVssContributionService");return n.getData("ms.vss-tfs-web.page-data")},t.prototype.getHorizontalNavigationTeamData=function(){var n=this.pageContext.getService("IVssContributionService");return n.getData("ms.vss-tfs-web.team-context-data-provider")},t}(i.VssService);i.Services.add("ITfsPageService",{serviceFactory:u,options:4});f=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.getProject=function(){var n=this.pageContext.getService("ITfsPageService").getData();return n&&n.project?{id:n.project.id,name:n.project.name}:undefined},t}(i.VssService);i.Services.add("ms.vss-tfs-web.tfs-page-data-service",{serviceFactory:f,options:1});t[n].getTFSPageData=e}("Page"),function(n){var i,r,l;pt=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});i=function(n){function t(t,i){var r=n.call(this,t,i)||this,u=i.pageContext,c=u.getService("ITfsPageService"),f=c.getData(),y=u.getService("IVssPageService"),l=y.getData(),e,a,s,v;return l&&(r.caption=l.hostName),f&&f.project&&(r.caption=f.project.name,e=c.getHorizontalNavigationTeamData(),e&&(a=u.getService("IVssNavigationService"),s=a.getCurrentRoute().routeValues,s&&s.team&&(r.caption+=" / "+e.name)),r.projectOverviewUrl=o.routeUrl(i.pageContext,"ms.vss-tfs-web.project-overview-route",{project:f.project.name})),v=at.getHeaderActionData(u)||{},r.showMenu=v.showProjectSelector,r.showMenu&&(r.menuProps={id:"ms.vss-tfs-web.tfs-selector-menu",className:"tfs-selector-menu",items:[],providers:[new h.ContributedMenuItemProvider(i.pageContext,"ms.vss-tfs-web.tfs-selector-menu")],groups:[{key:"navigation",rank:1},{key:"mru",rank:2,name:ht.RecentProjectTeams,showGroupName:!0},{key:"actions",rank:100}]}),r}return __extends(t,n),t.prototype.render=function(){return this.showMenu?u.createElement(s.CommandBarMenuComponent,__assign({},this.props,{menuProps:this.menuProps}),u.createElement("span",{className:"caption"},this.caption),u.createElement(c.Icon,{className:"dropdown-icon",iconName:"ChevronDown"})):u.createElement(s.CommandBarCommandComponent,__assign({},this.props,{className:e.css(this.props.className,"no-menu"),href:this.projectOverviewUrl,supportsFPS:!0}),u.createElement("span",{className:"caption"},this.caption))},t.componentType="tfsSelector",t}(e.VssComponent);e.VssComponent.register(i.componentType,i);r=function(n){function t(t,i){var u=n.call(this,t,i)||this,e=i.pageContext.getService("IVssPageService"),r=e.getData();return r&&r.user&&(u.userImageUrl=f.getIdentityImageUrl(i.pageContext,r.user)),u}return __extends(t,n),t.prototype.render=function(){return u.createElement(s.CommandBarMenuComponent,__assign({},this.props),this.userImageUrl?u.createElement("img",{className:"user-image",src:this.userImageUrl,alt:ht.ManageUserSettings}):null)},t.componentType="profileMenu",t}(e.VssComponent);e.VssComponent.register(r.componentType,r);l=function(n){function t(t,i){var u=n.call(this,t,i)||this,e=i.pageContext.getService("IVssPageService"),r=e.getData();return r&&r.user&&(u.userDisplayName=r.user.displayName,u.userUniqueName=r.user.uniqueName,u.userImageUrl=f.getIdentityImageUrl(i.pageContext,r.user)),u}return __extends(t,n),t.prototype.render=function(){return u.createElement("div",{key:"userMenuItem",className:"user-menu-item ms-ContextualMenu-link"},u.createElement("img",{className:"user-menu-item-image",src:this.userImageUrl,alt:""}),u.createElement("div",{className:"user-menu-item-details"},u.createElement("div",null,this.userDisplayName),u.createElement("div",{className:"user-menu-item-unique-name"},this.userUniqueName)))},t.componentType="userMenuItem",t}(e.VssComponent);e.VssComponent.register(l.componentType,l)}("HorizontalComponents"),function(n){wt=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var u="ms.vss-tfs-web.navigation-settings-data-provider",f="Navigation/",r="user",e=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype._serviceStart=function(t){n.prototype._serviceStart.call(this,t);var i=t.getService("IVssContributionService");this._prefs=i.getData(u)||{};this._prefs[r]||(this._prefs[r]={})},t.prototype.setUserSetting=function(n,t){var i,u;return this._prefs[r][n]=t,i={},i[f+n]=t,u=this.pageContext.getService("ISettingsService"),u.setEntries(i,0)},t.prototype.getUserSetting=function(n,t){var i=this._prefs[r][n];return i!==undefined&&i!==null?i:t},t}(i.VssService);i.Services.add("ITfsNavigationSettingsService",{serviceFactory:e})}("NavigationSettings"),function(n){function s(n){return n.flags!==undefined&&((n.flags&1)==1||(n.flags&2)==2)&&(n.flags&32)!=32}var f,u,e;ct=t[n]={};Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.navigationElementModified="navigationElementModified"}(f=t[n].TfsNavigationServiceEventNames||(t[n].TfsNavigationServiceEventNames={}));u="vmExpanded";e=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype._serviceStart=function(t){var h,c,f,e,o,s;n.prototype._serviceStart.call(this,t);this.navigationService=t.getService("IVssNavigationService");h=t.getService("ITfsNavigationSettingsService");this.pinningPreferences=h.getUserSetting("PinningPreferences")||{};this.pinningPreferences.pinnedHubGroupIds||(this.pinningPreferences.pinnedHubGroupIds=[]);this.pinningPreferences.unpinnedHubGroupIds||(this.pinningPreferences.unpinnedHubGroupIds=[]);this.pinningPreferences.pinnedHubs||(this.pinningPreferences.pinnedHubs={});this.pinningPreferences.unpinnedHubs||(this.pinningPreferences.unpinnedHubs={});var l=r.isFeatureEnabled(this.pageContext,"ms.vss-tfs-web.vertical-navigation",!1),u=t.getService("IVssNavigationService"),i=u.getDisplayedNavigation();l&&i.length>3&&(c=i[2],f=u.getNavigation(c),f&&f.name&&(this.titleSuffix=f.name));this.titleSuffix||(e=this.pageContext.getService("IVssPageService").getData(),this.titleSuffix=e&&e.isHosted?ht.ApplicationTitleHosted:ht.ApplicationTitleOnPrem);o=u.getPageTitle();o&&this.setPageTitle(o);i.length>3&&(s=u.getNavigation(i[3]),s&&(s.flags&32)==0&&this.setMostRecentHubForHubGroup(i[2],i[3]))},t.prototype.getMostRecentHubForHubGroup=function(n){var t=v.tryGetLocalStorageValue("lastHub/"+n.id,null),i;return t&&n.children&&(i=n.children.filter(function(n){return n.id===t})[0],t==="ms.vss-dashboards-web.dashboards-hub"&&(i=this.navigationService.getNavigation(t))),i},t.prototype.isNavigationPinned=function(n){var t=this.navigationService.getNavigation(n),i;if(t){if(t.children&&t.children.length>0)return this.pinningPreferences.unpinnedHubGroupIds.indexOf(n)===-1;if(t.parentId)return i=this.pinningPreferences.unpinnedHubs[t.parentId]||[],i.indexOf(n)===-1}return!0},t.prototype.navigationsPinnable=function(){return this.userCanPin===undefined&&(this.userCanPin=a.userHasClaim(this.pageContext,"member")),this.userCanPin},t.prototype.setMostRecentHubForHubGroup=function(n,t){v.trySetLocalStorageValue("lastHub/"+n,t)},t.prototype.setPageTitle=function(n){document.title=y.format(ht.DocumentTitle,n,this.titleSuffix)},t.prototype.updatePinnedState=function(n,t){var i=this.navigationService.getNavigation(n),e,r,u,o;i&&(i.children&&i.children.length>0?(e=this.pinningPreferences.unpinnedHubGroupIds.indexOf(n),e!==-1?(this.pinningPreferences.pinnedHubGroupIds.push(n),this._remove(this.pinningPreferences.unpinnedHubGroupIds,n)):(this.pinningPreferences.unpinnedHubGroupIds.push(n),this._remove(this.pinningPreferences.pinnedHubGroupIds,n))):i.parentId&&(r=this.pinningPreferences.pinnedHubs[i.parentId],r||(r=[],this.pinningPreferences.pinnedHubs[i.parentId]=r),u=this.pinningPreferences.unpinnedHubs[i.parentId],u||(u=[],this.pinningPreferences.unpinnedHubs[i.parentId]=u),t?(r.push(n),this._remove(u,n)):(this._remove(r,n),u.push(n))),o=this.pageContext.getService("ITfsNavigationSettingsService"),o.setUserSetting("PinningPreferences",this.pinningPreferences),this._notify({updatedNavigation:i},f.navigationElementModified))},t.prototype._remove=function(n,t){var i=n.indexOf(t);return i>=0&&n.splice(i,1),i>=0},t.prototype.getNavigationDisplayMode=function(){var n,i,t;return this.navigationDisplayMode===undefined&&(n=undefined,a.userHasClaim(this.pageContext,"member")&&(i=this.pageContext.getService("ISettingsService"),n=i.getEntry("navigation/verticalMenuExpanded",0)),n===undefined&&(t=l.getCookie(u),t&&t.length>0&&(n=Number.parseInt(t))),this.navigationDisplayMode=n||2),this.navigationDisplayMode},t.prototype.setNavigationDisplayMode=function(n){if(this.navigationDisplayMode=n,a.userHasClaim(this.pageContext,"member")){var t=this.pageContext.getService("ISettingsService");t.setEntries({"navigation/verticalMenuExpanded":n},0)}else l.setCookie(u,n.toString());this._notify(n,"displayModeChanged")},t.prototype.navigateToNavElement=function(n){var i=this.pageContext.getService("IVssNavigationService"),t=i.getNavigation(n);t&&t.href&&p.FastPageSwitch(this.pageContext,t.href,!0)},t.prototype.navigateToRoute=function(n,t){var u={},f,i,r;t&&(f=this.pageContext.getService("ITfsPageService"),i=f.getData(),i&&i.project&&(u.project=i.project.name));r=o.routeUrl(this.pageContext,n,u);r&&p.FastPageSwitch(this.pageContext,r,!0)},t.prototype.navigateToHome=function(){var n=r.isFeatureEnabled(this.pageContext,"ms.vss-tfs-web.vertical-navigation")?"ms.vss-tfs-web.suite-me-page-route":"ms.vss-tfs-web.collection-project-hub-route";this.navigateToRoute(n)},t}(i.VssObservableService);i.Services.add("ITfsNavigationService",{serviceFactory:e,options:4});t[n].isNavigationItemBuiltinOrTrusted=s}("Navigation"),function(n){bt=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.getComponents=function(){var r=this.pageContext.getService("IVssContributionService"),f=this.pageContext.getService("IVssHistoryService"),i=this.pageContext.getService("IVssNavigationService"),h=this.pageContext.getService("ITfsNavigationService");h.setMostRecentHubForHubGroup("ms.vss-web.home-hub-group","ms.vss-dashboards-web.dashboards-hub");var c=o.routeUrl(this.pageContext,"ms.vss-dashboards-web.dashboards-route",this.getRouteValues()),n=r.getData("ms.vss-dashboards-web.dashboards-nav-lwp-data-provider")||[],l=i.isDisplayed("ms.vss-dashboards-web.dashboards-hub")||i.isDisplayed("ms.vss-dashboards-web.dashboards-legacy-hub"),t=f.getState().activeDashboardId;return!t&&l&&n.length>0&&(t=n[0].id),n.map(function(n){var i=t===n.id,r=c+"?activeDashboardId="+n.id,f=u.createElement("span",{className:i?"displayed":""},n.name);return u.createElement(s.CommandBarCommandComponent,{href:r,key:n.id,componentOrder:n.position,tabIndex:i?0:-2,supportsFPS:!0,className:e.css("commandbar-item-link-navigation","flex-cell")},f)})},t.prototype.getRouteValues=function(){var n={},r=this.pageContext.getService("ITfsPageService"),t=r.getData(),i;return t&&t.project&&(n.project=t.project.name,i=r.getHorizontalNavigationTeamData(),i&&(n.team=i.name)),n},t}(i.VssService);i.Services.add("dashboardL2Provider",{serviceFactory:r})}("HorizontalDashboardsDashboardL2Provider"),function(n){function i(n,t,i,r){return{key:t.id,name:t.name||"",href:t.href,groupKey:r||"navigation",iconProps:t.icon?{className:t.icon}:undefined,rank:i,onClick:function(i){if(t.href)return p.onClickFPS(n,t.href,!0,i,{telemetrySource:"NavigationMenuItem"})}}}lt=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});t[n].createMenuItem=i;var r=function(){function n(n,t){this.navigationMenuItems=[];this.subMenuCounter=0;this._onMenuItemRender=function(n){return u.createElement(e.WrappedComponent,{key:n.key+"-wrapper",dependencies:["ms.vss-tfs-web.header-async-content"],wrappedType:"pinnedMenuItem",item:n})};this.pageContext=n;this.navigation=t;this.tfsNavigationService=this.pageContext.getService("ITfsNavigationService")}return n.prototype.loadItems=function(n,t){var u,i,r;if(this.itemsUpdated=n,this.navigationMenuItems=[],this.navigation.children&&this.navigation.children.length>1){for(u=[],i=0;i<this.navigation.children.length;i++)r=this.navigation.children[i],this.navigationMenuItems.push(this._createMenuItem(r,100+i*5));this._createMenu();t()}},n.prototype._createMenu=function(){var i=this,e=[],r=[],o=[],u=[],t,s,h,f,c;this.navigationMenuItems.forEach(function(t){t.pinningOptions?t.pinningOptions.isPinned?(t.groupKey=t.groupKey||n.navigationGroup,e.push(t)):(t.groupKey=n.unpinnedItemsGroup,r.push(t),u.push(t.key)):o.push(t)});t=o;r.length>0?(s={key:"unpinned-items-group",name:ht.UnpinnedItems,rank:1,showGroupName:!0},h={key:"more-items-"+this.subMenuCounter,rank:500,name:ht.MoreMenu,groupKey:n.navigationGroup,subMenuProps:{items:r,groups:[s]}},t.push(h)):u.push("more-items-"+this.subMenuCounter++);ct.isNavigationItemBuiltinOrTrusted(this.navigation)||(f=this.tfsNavigationService.isNavigationPinned(this.navigation.id),c={key:this.navigation.id,name:f?ht.Unpin:ht.Pin,groupKey:"unpin",iconProps:{className:f?"bowtie-icon bowtie-unpin":"bowtie-icon bowtie-pin-unpin"},onClick:function(n,t){if(t){var r=i.tfsNavigationService.isNavigationPinned(t.key);i.tfsNavigationService.updatePinnedState(t.key,!r);i._createMenu()}}},t.push(c));t=t.concat(e);this.itemsUpdated(t,u)},n.prototype._createMenuItem=function(t,r){var u=this,e=ct.isNavigationItemBuiltinOrTrusted(t),f=i(this.pageContext,t,r,e?n.navigationGroup:n.contributedNavigationGroup);return e||(f.pinningOptions={isPinnable:this.tfsNavigationService.navigationsPinnable(),isPinned:this.tfsNavigationService.isNavigationPinned(t.id),onPinnedChanged:function(t,i){var f,r;u.tfsNavigationService.updatePinnedState(t.key,i);u.navigationMenuItems&&(f=u.navigationMenuItems.indexOf(t),f>=0&&(r=u.navigationMenuItems[f],r.pinningOptions&&(r.pinningOptions.isPinned=!r.pinningOptions.isPinned,t.groupKey=r.pinningOptions.isPinned?n.contributedNavigationGroup:n.unpinnedItemsGroup,u._createMenu())))}},f.onRender=this._onMenuItemRender),f},n.navigationGroup="navigation",n.unpinnedItemsGroup="unpinned-items-group",n.contributedNavigationGroup="contributed-navigation",n}();t[n].NavigationMenuItemProvider=r}("MenuProvider"),function(n){var r,o,f;vt=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.getComponents=function(n){var h=n.navigationIndex||0,i=[],y=this.pageContext.getService("ITfsNavigationService"),d=this.pageContext.getService("IVssNavigationService"),p=d.getDisplayedNavigation(),it=p&&p.length>=h&&p[h],c,l,b,r,t,k,nt,tt;if(it&&(c=[],l=n.data,l||(n.data=l={overflowMenuItems:new w.ObservableValue(c)}),b=d.getNavigation(it),b&&b.children)){var a=b.children,rt=a.length,g=void 0,v=-1;for(h===2&&a&&a.length>0&&this.sortHubs(a),r=0;r<rt;r++)(t=a[r],h!==1||t.menuId||t.children&&t.children.length!==0)&&(t.navGroup&&t.navGroup!==g&&(v===-1&&(v=i.length),i.push(u.createElement(s.CommandBarSeperatorComponent,{key:"separator-"+r})),g=t.navGroup),y.isNavigationPinned(t.id)?(k=void 0,g||p.indexOf(t.id)!==-1||(k=[{priority:600+(rt-r)}]),t.componentType?i.push(u.createElement(e.WrappedComponent,Object.assign({key:t.id,wrappedType:t.componentType},t.componentProperties,{adjustments:k}))):(nt=void 0,h===1&&(tt=y.getMostRecentHubForHubGroup(t),tt&&(nt=tt.href)),i.push(u.createElement(o,{adjustments:k,contributedNavigation:t,customHref:nt,isDisplayed:d.isDisplayed(t.id),key:t.id,telemetrySource:n.telemetrySource,telemetryProperties:n.telemetryProperties}))),n.hiddenComponents[t.id]&&c.push(this.createOverflowMenuItem(y,t))):c.push(this.createPinnedMenuItem(y,t)));v===-1&&(v=i.length);i.splice(v,0,u.createElement(f,{key:"overflow-menu",menuItems:l.overflowMenuItems}));l.overflowMenuItems.value=c}return i},t.prototype.sortHubs=function(n){n.sort(function(n,t){var i=n.flags!==undefined&&(n.flags&1)==1,r=t.flags!==undefined&&(t.flags&1)==1;return i&&r||!i&&!r?n.order-t.order:i?-1:1})},t.prototype.createOverflowMenuItem=function(n,t){var u=lt.createMenuItem(this.pageContext,t),i,r,f,e,o,s;if(t.children&&t.children.length>0){for(i=[],r=0,f=t.children;r<f.length;r++)e=f[r],i.push(lt.createMenuItem(this.pageContext,e));t.flags!==undefined&&(t.flags&1)!=1&&(t.flags&32)!=32&&(o=n.isNavigationPinned(t.id),o&&(s={key:t.id,name:ht.Unpin,groupKey:"unpin",iconProps:{className:"bowtie-icon bowtie-unpin"},onClick:function(t,i){if(i){var r=n.isNavigationPinned(i.key);n.updatePinnedState(i.key,!r)}}},i.push(s)));delete u.href;u.subMenuProps={items:i}}return u},t.prototype.createPinnedMenuItem=function(n,t){var i=lt.createMenuItem(this.pageContext,t);return i.groupKey="unpinned-items",i.pinningOptions={isPinnable:n.navigationsPinnable(),isPinned:!1,onPinnedChanged:function(t,i){n.updatePinnedState(t.key,i)}},i.onRender=this._onMenuItemRender,i},t.prototype._onMenuItemRender=function(n){return u.createElement(e.WrappedComponent,{key:n.key+"-wrapper",dependencies:["ms.vss-tfs-web.header-async-content"],wrappedType:"pinnedMenuItem",item:n})},t}(i.VssService);t[n].NavigationComponentProvider=r;i.Services.add("tfsNavigationComponentProvider",{serviceFactory:r});o=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.menuProps={id:t.contributedNavigation.id.split(".").join("_")+"_menu",items:[],providers:[new lt.NavigationMenuItemProvider(i.pageContext,t.contributedNavigation),new h.ContributedMenuItemProvider(i.pageContext,t.contributedNavigation.menuId||t.contributedNavigation.id)],groups:[{key:"navigation",rank:5}]},r}return __extends(t,n),t.prototype.render=function(){var n=this.props.contributedNavigation,t,i="",r={};return n.flags&&(n.flags&64)==64&&n.icon?(t=n.icon,r["aria-label"]=n.name):n.name&&(i=n.name),u.createElement(s.CommandBarMenuComponent,__assign({},this.props,{menuProps:this.menuProps,noTabIndex:!0}),u.createElement(b.FPSLinkComponent,__assign({},r,{className:e.css("commandbar-item-link-navigation","flex-cell",this.props.isDisplayed?"displayed":"",t),href:this.props.customHref||n.href||"",id:n.id,tabIndex:this.props.selected?0:-2,telemetrySource:this.props.telemetrySource,telemetryProperties:this.props.telemetryProperties}),i))},t.componentType="navigationComponent",t}(e.VssComponent);f=function(n){function t(t,i){var r=n.call(this,t,i)||this,u;return r.onMenuItemsChange=function(n){r.menuProps.items=n||[];r.forceUpdate()},r.observe([{propertyName:"menuItems",observer:r.onMenuItemsChange}]),u=!!(t.menuItems.value&&t.menuItems.value.some(function(n){return n.onClick!==undefined})),r.menuProps={items:t.menuItems.value||[],providers:[],groups:[{key:"unpinned-items",name:ht.UnpinnedItems,rank:Number.MAX_VALUE,showGroupName:!0},{key:"navigation",rank:5}]},u||(r.menuProps.onItemClick=function(n,i){if(i&&i.onCustomClick){i.onCustomClick(n,i);t.expand&&t.itemKey&&t.expand(t.itemKey,!1)}}),r}return __extends(t,n),t.prototype.render=function(){return this.menuProps.items.length>0?u.createElement(s.CommandBarMenuComponent,__assign({className:"commandbar-item-link-navigation bowtie-icon bowtie-ellipses"},this.props,{menuProps:this.menuProps})):u.createElement("div",{className:"commandbar-item overflow-menu"})},t.componentType="overflowMenu",t}(e.VssComponent);t[n].OverflowMenuComponent=f}("NavigationProvider"),function(n){function i(n,t,i){if(n===t)return!0;if(!n||!t||n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(i){if(!i(n[r],t[r]))return!1}else if(n[r]!==t[r])return!1;return!0}kt=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});t[n].arrayCompare=i;var r=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.hiddenComponents={},r.responsiveProps={adjustments:[],ignoredChildren:[]},r.components=[],r.providerProps={},r.onLayoutChange=function(n){for(var i={},t=0;t<=n;t++)i[r.components[r.responsiveProps.adjustments[t].index].key.toString()]="hidden";r.hiddenComponents=i;r.processNavigationComponents(r.props,r.context);r.forceUpdate()},r.onNavigationChanged=function(){r.processNavigationComponents(r.props,r.context)},r.tfsNavigationService=i.pageContext.getService("ITfsNavigationService"),r.tfsNavigationService.subscribe(r.onNavigationChanged,ct.TfsNavigationServiceEventNames.navigationElementModified),r.processNavigationComponents(t,i,!1),r}return __extends(t,n),t.prototype.render=function(){var n=this,t=this.responsiveProps.ignoredChildren?Object.keys(this.responsiveProps.ignoredChildren).length:0;return this.components.length-t>2?u.createElement(s.CommandBarComponent,{ref:function(t){n.commandBarComponent=t},"aria-label":this.props["aria-label"],className:this.props.className,responsiveProps:this.responsiveProps},this.components):null},t.prototype.componentWillReceiveProps=function(t){n.prototype.componentWillReceiveProps.call(this,t);this.processNavigationComponents(t,this.context)},t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);this.tfsNavigationService.unsubscribe(this.onNavigationChanged,ct.TfsNavigationServiceEventNames.navigationElementModified)},t.prototype.processNavigationComponents=function(n,t,r){var d,s,f,o,g,y,p,l,nt,h,c,w,a,v,b,k;if(r===void 0&&(r=!0),d=t.pageContext.getService("IVssLayoutManager"),s=d.getComponentsForRegion(n.componentRegion),s){for(f=[],o=0;o<s.length;o++)g=s[o].componentType,y=s[o].providerName,g==="componentProvider"&&y?(p=n.componentRegion+o,l=this.providerProps[p],l?l.hiddenComponents=this.hiddenComponents:l=this.providerProps[p]=Object.assign({hiddenComponents:this.hiddenComponents,telemetrySource:"horizontal."+n.componentRegion},s[o].componentProperties),nt=t.pageContext.getService(y),f.splice.apply(f,[f.length,0].concat(nt.getComponents(l)))):f.push(u.createElement(e.WrappedComponent,Object.assign({wrappedType:s[o].componentType},s[o].componentProperties)));for(h={adjustments:[],ignoredChildren:[],onLayoutChange:this.onLayoutChange},c=0;c<f.length;c++)if(w=f[c],a=w.props,a)if(a.adjustmentIgnore)h.ignoredChildren[c]=!0;else if(a.adjustments&&w.key)for(v=0,b=a.adjustments;v<b.length;v++)k=b[v],h.adjustments.push({approxSize:k.approxSize,index:c,priority:k.priority});h.adjustments.sort(function(n,t){return(n.priority||0)-(t.priority||0)});this.responsiveProps&&this.components&&i(this.responsiveProps.ignoredChildren,h.ignoredChildren)&&i(this.responsiveProps.adjustments,h.adjustments,function(n,t){return!(n&&t&&n.priority!==t.priority)})&&i(this.components,f,function(n,t){return!(n&&t&&n.key!==t.key)})||(this.responsiveProps=h,this.components=f,this.commandBarComponent&&this.commandBarComponent.resetLayout(),r&&this.forceUpdate())}},t.componentType="tfsNavigationComponent",t}(e.VssComponent);e.VssComponent.register(r.componentType,r)}("HorizontalNavigation"),function(n){dt=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var i;(function(n){n.UseNewBranding="VisualStudio.Services.WebPlatform.UseNewBranding"})(i=t[n].WebPlatformFeatureFlags||(t[n].WebPlatformFeatureFlags={}))}("Constants"),function(n){gt=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var i=function(n){function t(t){var i=n.call(this,t)||this;return i.state={hideInfo:!0},i}return __extends(t,n),t.prototype.render=function(){var n=this;return u.createElement("div",{className:"flex flex-column tfs-unhandled-error"},u.createElement("div",{className:"tfs-unhandled-error--title"},ht.UnhandledErrorTitle),u.createElement("div",null,ht.UnhandledErrorMessage),u.createElement("div",{className:"tfs-unhandled-error--buttons flex flex-noshrink justify-start"},u.createElement(k.PrimaryButton,{onClick:function(){window.location.reload()}},ht.RefreshPageText),u.createElement(k.DefaultButton,{onClick:function(){n.props.reloadComponent()}},ht.ReloadComponentText)),u.createElement("div",{className:"tfs-unhandled-error--moreInfo"},this.state.hideInfo?u.createElement(d.Link,{onClick:function(t){n.setState({hideInfo:!1});t.preventDefault()}},ht.ShowMoreInfoText):u.createElement("div",null,u.createElement("div",{className:"tfs-unhandled-error--title"},ht.Error,": ",this.props.error.message),u.createElement("div",{className:"tfs-unhandled-error--stack"},u.createElement("div",{className:"tfs-unhandled-error--title"},ht.Stack),this.props.errorInfo.componentStack.trim()))))},t}(e.VssComponent);e.Components.add("tfs.page-error-handler",i)}("ErrorHandling"),function(n){ni=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.getProduct=function(n){var i=this.pageContext.getService("IVssContributionService"),t=i.getData("ms.vss-tfs-web.product-features-data-provider");return t&&t.features?t.features[n]:undefined},t}(i.VssService);i.Services.add("ITfsProductFeaturesService",{serviceFactory:r})}("ProductFeatures"),function(n){ti=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.createConnectedService=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"_apis/projects/{projectId}/connectedServices/{name}",routeValues:{projectId:t},body:n})]})})},t.prototype.getConnectedServiceDetails=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/projects/{projectId}/connectedServices/{name}",routeValues:{projectId:n,name:t}})]})})},t.prototype.getConnectedServices=function(n,t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(){return i={kind:t},[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/projects/{projectId}/connectedServices/{name}",routeValues:{projectId:n},queryParams:i})]})})},t.prototype.createIdentityMru=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"_apis/core/identityMru/{mruName}",routeValues:{mruName:t},body:n})]})})},t.prototype.deleteIdentityMru=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",method:"DELETE",routeTemplate:"_apis/core/identityMru/{mruName}",routeValues:{mruName:t}})]})})},t.prototype.getIdentityMru=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/core/identityMru/{mruName}",routeValues:{mruName:n}})]})})},t.prototype.updateIdentityMru=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",method:"PATCH",routeTemplate:"_apis/core/identityMru/{mruName}",routeValues:{mruName:t},body:n})]})})},t.prototype.getTeamMembersWithExtendedProperties=function(n,t,i,r){return __awaiter(this,void 0,void 0,function(){var u;return __generator(this,function(){return u={$top:i,$skip:r},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/members",routeValues:{projectId:n,teamId:t},queryParams:u})]})})},t.prototype.getProcessById=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/process/processes/{*processId}",routeValues:{processId:n}})]})})},t.prototype.getProcesses=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/process/processes/{*processId}"})]})})},t.prototype.getProjectCollection=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"_apis/projectCollections/{collectionId}",routeValues:{collectionId:n}})]})})},t.prototype.getProjectCollections=function(n,t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(){return i={$top:n,$skip:t},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"_apis/projectCollections/{collectionId}",queryParams:i})]})})},t.prototype.getProjectHistoryEntries=function(n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(){return t={minRevision:n},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"_apis/projectHistory",queryParams:t})]})})},t.prototype.getProject=function(n,t,i){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(){return r={includeCapabilities:t,includeHistory:i},[2,this.beginRequest({apiVersion:"5.0-preview.3",routeTemplate:"_apis/projects/{*projectId}",routeValues:{projectId:n},queryParams:r})]})})},t.prototype.getProjects=function(n,t,i,r){return __awaiter(this,void 0,void 0,function(){var u;return __generator(this,function(){return u={stateFilter:n,$top:t,$skip:i,continuationToken:r},[2,this.beginRequest({apiVersion:"5.0-preview.3",routeTemplate:"_apis/projects/{*projectId}",queryParams:u})]})})},t.prototype.queueCreateProject=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.3",method:"POST",routeTemplate:"_apis/projects/{*projectId}",body:n})]})})},t.prototype.queueDeleteProject=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.3",method:"DELETE",routeTemplate:"_apis/projects/{*projectId}",routeValues:{projectId:n}})]})})},t.prototype.updateProject=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.3",method:"PATCH",routeTemplate:"_apis/projects/{*projectId}",routeValues:{projectId:t},body:n})]})})},t.prototype.getProjectProperties=function(n,t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(){return i={keys:t&&t.join(",")},[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/projects/{projectId}/properties",routeValues:{projectId:n},queryParams:i})]})})},t.prototype.setProjectProperties=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",method:"PATCH",routeTemplate:"_apis/projects/{projectId}/properties",routeValues:{projectId:n},customHeaders:{"Content-Type":"application/json-patch+json"},body:t})]})})},t.prototype.createOrUpdateProxy=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"PUT",routeTemplate:"_apis/proxies",body:n})]})})},t.prototype.deleteProxy=function(n,t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(){return i={proxyUrl:n,site:t},[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"DELETE",routeTemplate:"_apis/proxies",queryParams:i})]})})},t.prototype.getProxies=function(n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(){return t={proxyUrl:n},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"_apis/proxies",queryParams:t})]})})},t.prototype.getAllTeams=function(n,t,i){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(){return r={$mine:n,$top:t,$skip:i},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"_apis/teams",queryParams:r})]})})},t.prototype.createTeam=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"POST",routeTemplate:"_apis/projects/{projectId}/teams/{*teamId}",routeValues:{projectId:t},body:n})]})})},t.prototype.deleteTeam=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"DELETE",routeTemplate:"_apis/projects/{projectId}/teams/{*teamId}",routeValues:{projectId:n,teamId:t}})]})})},t.prototype.getTeam=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"_apis/projects/{projectId}/teams/{*teamId}",routeValues:{projectId:n,teamId:t}})]})})},t.prototype.getTeams=function(n,t,i,r){return __awaiter(this,void 0,void 0,function(){var u;return __generator(this,function(){return u={$mine:t,$top:i,$skip:r},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"_apis/projects/{projectId}/teams/{*teamId}",routeValues:{projectId:n},queryParams:u})]})})},t.prototype.updateTeam=function(n,t,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"PATCH",routeTemplate:"_apis/projects/{projectId}/teams/{*teamId}",routeValues:{projectId:t,teamId:i},body:n})]})})},t}(g.RestClientBase);i.RestClients.add("ICoreRestClient",{factory:r,options:{serviceInstanceType:"00025394-6065-48ca-87d9-7f5672854ef7"}})}("RestClientCore"),function(n){ii=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var i=function(n){function t(t,i){var r=n.call(this,t)||this,u;return r._onExecuteSearch=function(n){var t=r.context.pageContext.getService("IVssSearchService");t.execute(n)},r._dispatchEvent=function(n){var t=document.createEvent("Event");t.initEvent(n,!1,!0);window.dispatchEvent(t)},r._expandSearchBox=function(){r._publishTelemetry();r._dispatchEvent("searchExpanded");r.setState({isExpanded:!0})},r._collapseSearchBox=function(n){r._dispatchEvent("searchCollapsed");r.setState({isExpanded:!1,selectedProviderId:n?undefined:r.state.selectedProviderId})},r._onBlur=function(n){var t=n.relatedTarget||document.activeElement;r._searchHeader&&!nt.contains(r._searchHeader,t)&&r._collapseSearchBox()},r._onSearchTabLoaded=function(n){var t=n.detail;t&&t.providerId&&r.setState({selectedProviderId:t.providerId,isExpanded:!1})},r._onFpsCompleted=function(){r._searchInputComponent&&r._searchInputComponent.setQueryText("");r.state.isExpanded&&r._collapseSearchBox();r.registerShortcut()},r._publishTelemetry=function(){var t=r.context.pageContext.getService("IVssTelemetryService"),i=r.context.pageContext.getService("IVssNavigationService"),n=i.getDisplayedNavigation(),u=n.length>=3?n[2]:"",f=n.length>=4?n[3]:"";t.publishEvent("WebPlatform","L1SearchBarFocussed",{launchPoint_HubGroup:u,launchPoint_hub:f})},r.state={isExpanded:!1,selectedProviderId:undefined},u=i.pageContext.getService("IVssSearchService"),r._providersAvailable=Object.keys(u.getProviders()).length>0,r}return __extends(t,n),t.prototype.render=function(){var n=this,i=this.context.pageContext.getService("ITfsPageService"),t=i.getData(),r=this.state.isExpanded,f=t&&t.project?ht.ProjectLabel:ht.AccountLabel;return this._providersAvailable?u.createElement("div",{className:it.css("flex","expandable-search-header"),ref:function(t){return n._searchHeader=t},onBlur:this._onBlur,"aria-owns":"searchBox-dropDown"},r?u.createElement("label",{className:"search-context--label flex-self-center"},f):null,u.createElement(tt.SearchInputComponent,{executeSearch:this._onExecuteSearch,selectedProviderId:this.state.selectedProviderId,dropdownGapSize:0,helpClassName:it.css("expandable-header-search-help"),helpId:"searchBox-dropDown",showSearchProviders:!1,placeholderText:ht.Search,showSearchIcon:!0,spellCheck:!1,onInputFocus:this._expandSearchBox,componentRef:function(t){n._searchInputComponent=t}})):u.createElement("div",{className:"search-placeholder"})},t.prototype.componentDidMount=function(){this.addEventListener(document.body,"searchTabLoaded",this._onSearchTabLoaded);this.addEventListener(document.body,"fpsCompleted",this._onFpsCompleted);this.registerShortcut()},t.prototype.componentWillUnmount=function(){this._dispatchEvent("searchCollapsed");this.removeEventListener(document.body,"searchTabLoaded",this._onSearchTabLoaded);this.removeEventListener(document.body,"fpsCompleted",this._onFpsCompleted)},t.prototype.componentDidUpdate=function(t,i){n.prototype.componentDidUpdate.call(this,t,i);!this.state.isExpanded&&this._searchInputComponent&&this._searchInputComponent.blur()},t.prototype.componentWillReceiveProps=function(){var n=this.context.pageContext.getService("IVssSearchService");this._providersAvailable=Object.keys(n.getProviders()).length>0},t.prototype.registerShortcut=function(){var n=this,u=this.context.pageContext.getService("IVssNavigationService"),t=u.getDisplayedNavigation(),i=t.length>=3?t[2]:"",r;i!=="ms.vss-search-platform.search-hidden-collection-hub-group"&&i!=="ms.vss-search-platform.search-hidden-project-hub-group"&&(r=this.context.pageContext.getService("IVssKeyboardShortcutService"),r.registerShortcut(ht.Global,{combos:["/","s"],description:ht.Search,action:function(){n._searchInputComponent&&n._searchInputComponent.focus()}}))},t}(e.VssComponent);t[n].ExpandableSearchBox=i;e.VssComponent.register("expandableSearchHeader",i)}("SearchExpandableSearchBox"),function(n){var u,f;ri=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.execute=function(n){var f=this.pageContext.getService("ITfsPageService"),i=f.getData(),r={searchText:n.queryText},u,t;return i&&i.project&&(r.project=i.project.name,u=f.getHorizontalNavigationTeamData(),u&&(r.team=u.name)),t=o.routeUrl(this.pageContext,"ms.vss-work-web.query-search:route",r),t&&(n.openInNewWindow?window.open(t):window.location.href=t),Promise.resolve({searchQuery:n,searchResult:new w.ObservableValue(undefined)})},t}(i.VssService);i.Services.add("witsearch-coordinator",{serviceFactory:u});f=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.execute=function(n){var a=this.pageContext.getService("ITfsPageService"),t=a.getData(),u=a.getHorizontalNavigationTeamData(),f=n.providerId==="ms.vss-tfs-web.wiki-project-search-provider"||n.providerId==="ms.vss-tfs-web.wiki-collection-search-provider",i={text:n.queryText,type:n.type},v=this.getSearchRouteId(n.providerId,f,!1),h,c,l,r;t&&t.project&&(v=this.getSearchRouteId(n.providerId,f,!0),i.project=t.project.name,u&&(i.team=u.name));var e="",y={"ms.vss-wiki-web.wiki-hub-group":"wiki","ms.vss-code-web.code-hub-group":"code","ms.vss-work-web.work-hub-group":"workitems","ms.vss-build-web.build-release-hub-group":"buildrelease","ms.vss-test-web.test-hub-group":"test","ms.vss-tfs-web.project-team-hidden-hub-group":"projects-team","ms.vss-web.home-hub-group":"dashboard","ms.vss-web.project-admin-hub-group":"projects-admin","ms.vss-tfs-web.collection-project-hub-group":"apps-projects","ms.vss-tfs-web.collection-favorites-hub-group":"apps-favorites","ms.vss-tfs-web.collection-work-hub-group":"apps-workitems","ms.vss-tfs-web.collection-pullrequests-hub-group":"apps-pullrequests","ms.vss-tfs-web.collection-rooms-new-account-nav-hub-group":"apps-rooms","ms.vss-tfs-web.collection-users-new-account-nav-hub-group":"apps-users","ms.vss-web.collection-admin-hub-group":"apps-admin"},k=this.pageContext.getService("IVssNavigationService"),b=k.getDisplayedNavigation(),s=b.length>1&&b[2];if(e=s?y[s]?y[s]:"custom":"search",t&&(e+=u?"-Team":t.project?"-Project":"-Collection"),i.lp=encodeURIComponent(e),!f){if(h="",n.filters)for(c in n.filters)l=n.filters[c],l&&(h+=c+"{"+l[0]+"}");i.filters=h}return r=o.routeUrl(this.pageContext,v,i)+"",r&&(n.openInNewWindow?window.open(r):p.FastPageSwitch(this.pageContext,r,!0)),Promise.resolve({searchQuery:n,searchResult:new w.ObservableValue(undefined)})},t.prototype.getSearchRouteId=function(n,t,i){var u=r.isFeatureFlagEnabled(this.pageContext,"WebAccess.Search.EnableNewRoute",!1),f="ms.vss-search-platform.search-project-route",e="ms.vss-search-platform.search-collection-route",o=n==="ms.vss-code-web.versioncontrol-project-search-provider"||n==="ms.vss-code-web.versioncontrol-collection-search-provider",s=r.isFeatureEnabled(this.pageContext,"ms.vss-search-web.enable-search-lwp",!1);return t?i?u?f:"ms.vss-search-platform.wikisearch-project-route":u?e:"ms.vss-search-platform.wikisearch-collection-route":o&&s?i?"ms.vss-search-web.project-route":"ms.vss-search-web.collection-route":i?f:e},t}(i.VssService);i.Services.add("tfssearch-coordinator",{serviceFactory:f})}("SearchGlobalSearchCoordinator"),function(n){ui=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.openShortcutDialog=function(){var n=this.pageContext.getService("IVssLayoutManager");n.renderCallout(function(n){return u.createElement(e.WrappedComponent,{wrappedType:"shortcutDialog",onDismiss:function(){n()}},null)})},t}(i.VssService);i.Services.add("ITfsShortcutService",{serviceFactory:r})}("ShortcutService"),function(n){var c,i,r,h;fi=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});c=function(n){function t(t,i){var r=n.call(this,t,i)||this,u,f;return r.onDisplayModeChanged=function(n){r.setState({expanded:n===2})},u=i.pageContext.getService("IVssPageService").getData(),r.onprem=!u.isHosted,r.initializeState(t),f=i.pageContext.getService("ITfsNavigationService"),r.state=r.props.alwaysExpanded?{expanded:!0}:{expanded:f.getNavigationDisplayMode()===2},r}return __extends(t,n),t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);this.unsubscribeToServices&&(this.unsubscribeToServices(),this.unsubscribeToServices=undefined)},t.prototype.componentWillReceiveProps=function(t){n.prototype.componentWillReceiveProps.call(this,t);this.initializeState(t)},t.prototype.initializeState=function(n){var i=this,t;this.unsubscribeToServices&&this.unsubscribeToServices();this.props.alwaysExpanded||(t=this.context.pageContext.getService("ITfsNavigationService"),t.subscribe(this.onDisplayModeChanged,"displayModeChanged"),this.unsubscribeToServices=function(){t.unsubscribe(i.onDisplayModeChanged,"displayModeChanged")});n.routeId&&a.userHasClaim(this.context.pageContext,"member")&&(this.href=o.routeUrl(this.context.pageContext,n.routeId))},t.prototype.render=function(){return u.createElement(s.CommandBarCommandComponent,__assign({},this.props,{key:"suite-logo",className:e.css("header-main-command suite-logo",this.state.expanded?"expanded":undefined,this.href?undefined:"no-command"),supportsFPS:!1,href:this.href,routeId:undefined,telemetrySource:"applicationLink"}),u.createElement("span",{className:"suite-image bowtie-icon bowtie-brand-vsts"}),this.state.expanded&&u.createElement("span",{className:"fontSizeM brand"},ht.BrandName," ",u.createElement("span",{className:"product fontWeightHeavy"},ht.ProductName)))},t}(e.VssComponent);e.VssComponent.register("suite-logo",c);i=function(n){function t(t,i){var u=n.call(this,t,i)||this,e=i.pageContext.getService("IVssPageService"),r=e.getData();return r&&r.user&&(u.displayName=r.user.displayName,u.imageUrl=f.getIdentityImageUrl(i.pageContext,r.user,1)),u}return __extends(t,n),t.prototype.render=function(){var n=this;return u.createElement(s.CommandBarMenuComponent,__assign({className:"navigation-profile-menu justify-center",expandOnHover:!1,menuId:"ms.vss-tfs-web.profile-menu",alt:ht.ManageUserSettings},this.props),u.createElement(e.WrappedComponent,{wrappedType:"vssPersona",size:"small",suppressPersonaCard:!0,identityDetailsProvider:{getIdentityImageUrl:function(){return n.imageUrl},getDisplayName:function(){return n.displayName}}}))},t.componentType="vertical-profile",t}(e.VssComponent);e.VssComponent.register(i.componentType,i);r=function(n){function t(t,i){var r=n.call(this,t,i)||this,u=at.getHeaderActionData(i.pageContext)||{};return r.signInUrl=u.signInUrl,r}return __extends(t,n),t.prototype.render=function(){return u.createElement(s.CommandBarCommandComponent,__assign({},this.props,{href:this.signInUrl}))},t.componentType="header-sign-in",t}(e.VssComponent);e.VssComponent.register(r.componentType,r);h=function(n){function t(i,r){var u=n.call(this,i,r)||this,f;return u._tabProviders=[],u._onTabClicked=function(n){var i,r;t._defaultTabKey=n;r=u.context.pageContext.getService("ISettingsService");r.setEntries((i={},i[t.DefaultPivotStorageKey]=n,i),0);u._selectedTabId.value=n},u._tabProviders=[new rt.ContributedTabProvider({pageContext:r.pageContext,tabGroupIds:["ms.vss-tfs-web.my-work-pivot"],props:{onDismiss:u.props.onDismiss}})],t._defaultTabKey||(f=r.pageContext.getService("ISettingsService"),t._defaultTabKey=f.getEntry(t.DefaultPivotStorageKey,0)),u._selectedTabId=new w.ObservableValue(t._defaultTabKey||"work-items"),u}return __extends(t,n),t.prototype.render=function(){return u.createElement("div",{className:e.css("flex-column flex-grow scroll-hidden",this.props.className)},u.createElement(ut.TabProvider,{selectedTabId:this._selectedTabId,providers:this._tabProviders},u.createElement(ut.TabBar,{className:"flyout-my-work-tabs",onSelectedTabChanged:this._onTabClicked,disableSticky:!0}),u.createElement(ut.TabContent,null)))},t.componentType="vertical-header-my-work-flyout",t.DefaultPivotStorageKey="navigation/myworkdefaultpivot",t}(e.VssComponent);e.VssComponent.register(h.componentType,h)}("VerticalHeader"),function(n){var r,l;ei=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});r=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.navigationItemHeight=0,r.collapsedOtherElementHeight=0,r.createAndDispatchResizeEvent=function(){var n=document.createEvent("Event");n.initEvent("resize",!1,!0);window.dispatchEvent(n)},r.onDisplayModeChanged=function(n){r.displayMode=n;r.showHubNavigationItems=r.checkAvailableNavigationHeight();r.forceUpdate()},r.onToggleExpansion=function(){var t=r.displayMode===1?2:1,i=r.context.pageContext.getService("ITfsNavigationService"),n;i.setNavigationDisplayMode(t);n=r.context.pageContext.getService("IVssTelemetryService");n.publishEvent("WebPlatform","VerticalNavigation",{action:"vertical-nav-expanded",displayMode:r.displayMode,hubsAreVisible:r.showHubNavigationItems})},r.onFpsLoading=function(n){if(n.detail&&n.detail.data&&n.detail.data.navigationId){var t=n.detail.data.navigationId,i=r.context.pageContext.getService("IVssNavigationService"),f=i.getDisplayedNavigation(),u=i.getNavigation(t),e=u&&u.parentId;r.buildNavigationLists(f[1],e,t);r.forceUpdate()}},r.onResize=function(){var n=r.checkAvailableNavigationHeight();n!==r.showHubNavigationItems&&(r.showHubNavigationItems=n,r.forceUpdate())},r.initializeState(t,i),r}return __extends(t,n),t.prototype.render=function(){var h=this,n=[],r=yt.getTFSPageData(this.context.pageContext),o,t,c;if(r&&r.project&&(n.push(u.createElement(v,{key:"project-descriptor",className:"commandbar-item unselectable primary",projectName:r.project.name,collapsedMode:this.displayMode===1,showCreateMenu:this.userIsMember&&this.displayMode!==1})),this.userIsMember&&this.displayMode===1&&n.push(u.createElement(f,{key:"create-menu",menuId:"ms.vss-tfs-web.vertical-header-create-menu",className:"primary"}))),this.navigationList.length&&(this.processNavigationList(this.navigationList,n,!0),this.hubNavigationList&&this.hubNavigationList.length>1&&(o=[],this.processNavigationList(this.hubNavigationList,o,!1),this.showHubNavigationItems)))for(t=0;t<n.length;t++)if(n[t].key===this.parentNavigation){n.splice.apply(n,[t+1,0].concat(o));break}return this.settingsUrl&&n.push(u.createElement(i,{navigationId:this.settingsNavigation,key:"settings",className:e.css("primary","no-child",this.displayedNavigation===this.settingsNavigation?"displayed":undefined),displayMode:this.displayMode,href:this.settingsUrl,supportsFPS:!0,iconName:"Settings",telemetrySource:"vertical.settings",text:ht.ProjectSettings,title:ht.ProjectSettings,tooltipClassName:"primary",secondaryAction:{className:"primary fontSize alt-hover-effect",focusable:!0,iconProps:{iconName:"DoubleChevronLeft"},onClick:function(n){h.onToggleExpansion();n.preventDefault()},title:ht.HideDetails}})),this.displayMode!==1&&this.settingsUrl||n.push(u.createElement(i,{key:"expand",className:"primary fontSize alt-hover-effect",displayMode:this.displayMode,iconName:this.displayMode===1?"DoubleChevronRight":"DoubleChevronLeft",onClick:this.onToggleExpansion,telemetrySource:"vertical.expand",title:ht.ShowDetails,tooltipClassName:"primary"})),c=e.css("navigation-commands flex flex-column fontSizeM",this.displayMode===1?"collapsed":"expanded h-scroll-hidden"),u.createElement("div",{key:"left-navigation",className:c,role:"navigation","aria-label":ht.Navigation_Site,ref:function(n){return h.leftNavElement=n}},u.createElement(ft.ErrorBoundary,{handlerComponentType:"tfs.page-error-handler"},u.createElement(s.CommandBarComponent,{className:"flex-grow v-scroll-hidden h-scroll-hidden",orientation:1,groups:[{key:"hubs",useSeparators:!0,className:"flex flex-column flex-grow v-scroll-auto h-scroll-hidden nav-items custom-scrollbar"}]},n)))},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this.addEventListener(document.body,"fpsLoading",this.onFpsLoading);this.addEventListener(window,"resize",this.onResize);this.leftNavElement&&this.addEventListener(this.leftNavElement,"transitionend",this.createAndDispatchResizeEvent)},t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);this.unsubscribeToServices&&(this.unsubscribeToServices(),this.unsubscribeToServices=undefined)},t.prototype.componentWillReceiveProps=function(t){n.prototype.componentWillReceiveProps.call(this,t);this.initializeState(t,this.context)},t.prototype.buildNavigationLists=function(n,t,i){var o,r,f,s,e,h,u;if(t&&i&&(o=this.context.pageContext.getService("IVssNavigationService"),this.navigationList=[],r=o.getNavigation(n),r&&r.children&&(this.navigationList=r.children),r=o.getNavigation(t),r&&r.children&&(this.hubNavigationList=r.children),i&&(this.parentNavigation=t,this.displayedNavigation=i),f=0,s=0,this.navigationList)){for(e=0,h=this.navigationList;e<h.length;e++)u=h[e],u.children&&u.children.length&&((u.flags||0)&32)!=32&&(s++,f=Math.max(f,u.children.length));this.navigationItemHeight=48*s+40*f}},t.prototype.initializeState=function(n,t){var s=this,h=t.pageContext.getService("IVssNavigationService"),r=h.getDisplayedNavigation(),c=t.pageContext.getService("ITfsPageService"),f=c.getData(),i,e,o,u;this.buildNavigationLists(r[1],r[2],r[3]);i=t.pageContext.getService("ITfsNavigationService");this.displayMode=i.getNavigationDisplayMode();this.unsubscribeToServices&&this.unsubscribeToServices();i.subscribe(this.onDisplayModeChanged,"displayModeChanged");this.unsubscribeToServices=function(){i.unsubscribe(s.onDisplayModeChanged,"displayModeChanged")};this.settingsNavigation=f&&f.project?"ms.vss-admin-web.project-admin-hub":"ms.vss-admin-web.collection-admin-hub";e=at.getHeaderActionData(t.pageContext)||{};this.settingsUrl=e.settingsUrl;this.userIsMember=a.userHasClaim(this.context.pageContext,"member");o=t.pageContext.getService("IVssLayoutManager");u=o.getComponentsForRegion("footer");this.pageHasFooter=u&&u.length>0;this.collapsedOtherElementHeight=144+(this.pageHasFooter?22:0)+2+8+(this.userIsMember?48:0)+(this.settingsUrl?48:0);this.showHubNavigationItems=this.checkAvailableNavigationHeight()},t.prototype.processNavigationList=function(n,t,r){var o=this,c,w,f,a,h,k,v,d;if(n.length){var it=this.context.pageContext.getService("IVssNavigationService"),g=[],p=[],nt={};for(c=0,w=n;c<w.length;c++)f=w[c],a=it.getNavigation(f.id),(!r||a&&a.children&&a.children.length>0)&&(ct.isNavigationItemBuiltinOrTrusted(f)?g.push(f):(f.order===0&&(f.order=100),p.push(f)),nt[f.id]=f);if(p.sort(function(n,t){return n.order===t.order?y.localeIgnoreCaseComparer(n.id,t.id):n.order-t.order}),[g,p].forEach(function(n){t.push.apply(t,n.map(function(n){var t=o.displayedNavigation===n.id||o.parentNavigation===n.id,h=((n.flags||0)&32)==32,f,s;return h?u.createElement("div",{key:n.id,className:"hidden-nav-element"}):(f=!n.children||n.children.length<=1||!o.showHubNavigationItems,r&&(!t||!o.showHubNavigationItems)&&n.children&&n.children.length>1?(s=n.children[0],u.createElement(l,{key:n.id,groupKey:"hubs",contributedNavigation:n,customHref:s.href,navigationId:s.id,className:e.css("icon-hover-only",t&&"displayed",r?"primary":"secondary",f&&"no-child"),displayMode:o.displayMode,expandKey:39,iconAsset:n.iconAsset,iconUrl:n.icon,navigationIconName:n.iconName||"ViewAll",iconComponent:n.iconPersonaName?u.createElement(st.Persona,{hidePersonaDetails:!0,primaryText:n.iconPersonaName,size:st.PersonaSize.size24}):undefined,telemetrySource:"vertical.hub",text:n.name,title:n.name,mouseLeaveDelayMs:50,tooltipClassName:r?"primary":"secondary"})):u.createElement(i,{key:n.id,groupKey:"hubs",navigationId:n.id,className:e.css("icon-hover-only",t&&"displayed",r?"primary":"secondary",f&&"no-child"),displayMode:o.displayMode,href:n.href,iconAsset:n.iconAsset,iconUrl:n.icon,iconName:n.iconName||"ViewAll",iconComponent:n.iconPersonaName?u.createElement(st.Persona,{hidePersonaDetails:!0,primaryText:n.iconPersonaName,size:st.PersonaSize.size24}):undefined,imageClassName:r?undefined:"grayscale",supportsFPS:!0,telemetrySource:"vertical.hub",text:n.name,title:n.name,tooltipClassName:r?"primary":"secondary"}))}))}),r){var tt=!1,b=void 0,rt=u.createElement(s.CommandBarSeperatorComponent,{key:"separator"});for(h=0;h<t.length;h++)k=t[h],k.key&&(v=nt[k.key],v&&(d=v.navGroup,tt?d!==b&&(t.splice(h,0,rt),b=d):(tt=!0,b=v.navGroup)))}}},t.prototype.checkAvailableNavigationHeight=function(){return this.displayMode===1?window.innerHeight>=this.navigationItemHeight+this.collapsedOtherElementHeight:!0},t.componentType="vertical-navigation",t}(e.VssComponent);e.VssComponent.register(r.componentType,r);var v=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var n=this.props,t=n.projectName,i=n.collapsedMode,r=n.showCreateMenu;return u.createElement("div",{className:e.css(this.props.className,"project-item")},u.createElement("span",{className:"flex flex-noshrink icon-left view-icon"},u.createElement(st.Persona,{hidePersonaDetails:!0,text:t,size:st.PersonaSize.size24})),u.createElement("span",{className:e.css("fontWeightHeavy flex-grow commandbar-item-text",i?"hidden":null)},t),r&&u.createElement(f,__assign({},this.props,{className:"",menuId:"ms.vss-tfs-web.vertical-header-create-menu"})))},t}(e.VssComponent),f=function(n){function t(t,i){var r=n.call(this,t,i)||this,u;return r.onFpsCompleted=function(){r.loadMenuItemsAfterTTI(1e3)},u=t.menuId,r.menuProvider=new h.ContributedMenuItemProvider(i.pageContext,u),r.menuProps={id:"create_menu",className:"navigation-commands-menu",items:[],providers:[r.menuProvider],directionalHint:11,calloutProps:{className:"animate"},groups:[{key:"app-actions",rank:5},{key:"actions",rank:10}]},r.state={},r}return __extends(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this.loadMenuItemsAfterTTI(1e3);this.addEventListener(document.body,"fpsCompleted",this.onFpsCompleted)},t.prototype.render=function(){return u.createElement(s.CommandBarMenuComponent,__assign({},this.props,{"aria-label":ht.Create,className:e.css(this.props.className,"header-create-menu view-icon alt-hover-effect",this.state.disabled&&"disabled"),disabled:this.state.disabled,noTabIndex:this.state.disabled,expandOnHover:!1,expandKey:39,iconName:"Add",menuProps:this.menuProps,title:ht.Create}))},t.prototype.loadMenuItemsAfterTTI=function(n){var t=this,i=this.setTimeout(function(){t.loadMenuItems();t.clearTimeout(i)},n),r=this.context.pageContext.getService("IVssContributionEventService");r.subscribe(function(){i&&(t.loadMenuItems(),t.clearTimeout(i))},"page-interactive")},t.prototype.loadMenuItems=function(){var n=this,t=!1;this.menuProvider.loadItems(function(i){t=!0;i&&i.length?n.setState({disabled:!1}):n.setState({disabled:!0})},function(){t||n.setState({disabled:!0})})},t}(e.VssComponent),i=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.onKeyDown=function(n){if(!n.isDefaultPrevented())if(n.which===39){if(t.secondaryActionElement){var i=document.activeElement;i!==t.secondaryActionElement&&(t.focusElement=i,t.secondaryActionElement.focus(),n.preventDefault())}}else n.which==37&&t.focusElement&&(t.focusElement.focus(),n.preventDefault())},t}return __extends(t,n),t.prototype.render=function(){var l=this,r,n,t,i;r=this.props.iconAsset?o.getAssetLocation(this.context.pageContext,this.props.iconAsset):this.props.iconUrl;var a=r?{iconType:1,imageProps:{src:r,shouldFadeIn:!1,className:this.props.imageClassName}}:{iconName:this.props.iconName},f=this.props.displayMode!==1&&this.props.secondaryAction,h=undefined;return f&&(n=this.props.secondaryAction,t=u.createElement("span",{className:"icon-right link-icon flex"},u.createElement(c.Icon,__assign({},n.iconProps))),n.title&&(t=u.createElement(ot.TooltipHost,{hostClassName:"flex flex-grow justify-center",className:"flex flex-noshrink commandbar-item-tooltip",content:n.title,calloutProps:{beakWidth:0,gapSpace:8,finalHeight:32},tooltipProps:{directionalHint:12}},t)),h=u.createElement("span",{ref:function(n){l.secondaryActionElement=n},className:e.css("flex flex-noshrink view-icon secondary-action commandbar-item commandbar-item-menu",n.className),tabIndex:n.focusable?-1:undefined,onClick:n.onClick,"aria-label":n.title,onKeyDown:function(t){if((t.which===32||t.which===13)&&n.onClick)n.onClick(t)}},t)),i=u.createElement("div",{onKeyDown:this.onKeyDown,className:e.css(f?"flex flex-noshrink":null)},u.createElement(s.CommandBarCommandComponent,{className:e.css(this.props.className,f?"flex-grow child-actions":null),href:this.props.href,onClick:this.props.onClick,selected:this.props.selected,supportsFPS:this.props.supportsFPS,telemetryProperties:this.props.telemetryProperties,telemetrySource:this.props.telemetrySource,navigationId:this.props.navigationId,"aria-label":this.props.title},u.createElement("span",{className:"flex flex-noshrink icon-left view-icon"},this.props.iconComponent||u.createElement(c.Icon,a)),u.createElement("span",{className:e.css("flex-grow commandbar-item-text",this.props.displayMode===1?"hidden":null)},this.props.text)),h),this.props.displayMode!==1&&this.props.text||(i=u.createElement(ot.TooltipHost,{className:e.css("flex flex-noshrink commandbar-item-tooltip",this.props.tooltipClassName),content:this.props.title,calloutProps:{beakWidth:0,gapSpace:8,finalHeight:32},tooltipProps:{directionalHint:12}},i)),i},t}(e.VssComponent);t[n].NavigationComponent=i;l=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.onMenuItemClick=function(n,t){if(t)return p.onClickFPS(r.context.pageContext,t.navigation.href,!0,n,{telemetrySource:"applicationMenu",navigationId:t.navigation.id})},r.createMenuProps(t,i),r}return __extends(t,n),t.prototype.render=function(){var n,t=this.props.contributedNavigation,i,r;return n=this.props.iconAsset?o.getAssetLocation(this.context.pageContext,this.props.iconAsset):this.props.iconUrl,i=n?{iconType:1,imageProps:{src:n,shouldFadeIn:!1}}:{iconName:this.props.navigationIconName},r=u.createElement(s.CommandBarMenuComponent,__assign({},this.props,{menuProps:this.menuProps,noTabIndex:!0}),u.createElement(b.FPSLinkComponent,{"aria-label":t.name,className:e.css("flex-cell","commandbar-item-link","flex-grow"),href:this.props.customHref||t.href||"",id:t.id,navigationId:this.props.navigationId,tabIndex:this.props.selected?0:-2,telemetrySource:this.props.telemetrySource,telemetryProperties:this.props.telemetryProperties},u.createElement("span",{className:"flex flex-noshrink icon-left view-icon"},this.props.iconComponent||u.createElement(c.Icon,i)),u.createElement("span",{className:e.css("flex-grow commandbar-item-text",this.props.displayMode===1?"hidden":null)},this.props.text))),r},t.prototype.componentWillReceiveProps=function(t){n.prototype.componentWillReceiveProps.call(this,t);this.createMenuProps(t,this.context)},t.prototype.createMenuProps=function(n,t){var s,u,f,e,i,r;if(this.menuProps={id:n.contributedNavigation.id.split(".").join("_")+"_menu",className:"navigation-commands-menu",directionalHint:11,calloutProps:{className:"animate"},items:[]},n.contributedNavigation.children){for(u=[],f=0,e=n.contributedNavigation.children;f<e.length;f++)i=e[f],r=void 0,i.iconAsset?r=o.getAssetLocation(t.pageContext,i.iconAsset):i.iconName||(r=i.icon),u.push({key:i.id,href:i.href,name:i.name,navigation:i,iconProps:r?{iconType:1,imageProps:{src:r,width:16,height:16,className:"grayscale",shouldFadeIn:!1,imageFit:1}}:{iconName:i.iconName},onClick:this.onMenuItemClick});n.displayMode===1?this.menuProps.items.push({key:"section",itemType:et.ContextualMenuItemType.Section,className:"navigation-menu-header flex",sectionProps:{key:n.contributedNavigation.id,title:n.contributedNavigation.name,items:u}}):(s=this.menuProps.items).push.apply(s,u)}},t}(e.VssComponent)}("VerticalNavigation"),function(n){var r,f;oi=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});r=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.doNotHide=["ms.vss-tfs-web.suite-me-page-hub","ms.vss-aex-user-management-web.collection-user-management-hub"],t.doNotShow=["ms.vss-admin-web.user-admin-hub"],t}return __extends(t,n),t.prototype.getComponents=function(n){var c=n.navigationIndex||0,e=[],l=this.pageContext.getService("IVssNavigationService"),o=l.getDisplayedNavigation(),v=o&&o.length>=c&&o[c],a,s,h,r;if(v){if(a=[],s=n.data,s||(n.data=s={overflowMenuItems:new w.ObservableValue(a)}),h=l.getNavigation(v),h&&h.children){var i=h.children,y=i.length;for(c===2&&i&&i.length>0&&this.sortHubs(i),r=0;r<y;r++){var t=i[r],p=o.indexOf(t.id)!==-1,b=void 0;this.doNotShow.indexOf(t.id)>-1||(p&&this.doNotHide.indexOf(t.id)!==-1&&(b=[{priority:600+(y-r)}]),p||this.doNotHide.indexOf(t.id)!==-1?e.push(u.createElement(f,{adjustments:b,contributedNavigation:t,isDisplayed:l.isDisplayed(t.id),key:t.id,telemetrySource:n.telemetrySource,telemetryProperties:n.telemetryProperties})):a.push(this._createMenuItem(this.pageContext,t)))}}e.splice(e.length,0,u.createElement(vt.OverflowMenuComponent,{key:"overflow-menu",menuItems:s.overflowMenuItems,expandOnHover:!1}))}return e},t.prototype._createMenuItem=function(n,t){return{key:t.id,name:t.name||"",href:t.href,groupKey:"navigation",iconProps:t.icon?{className:t.icon}:undefined,onCustomClick:function(i){if(t.href)p.onClickFPS(n,t.href,!0,i,{telemetrySource:"NavigationMenuItem"})}}},t}(vt.NavigationComponentProvider);i.Services.add("suiteNavigationComponentProvider",{serviceFactory:r});f=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var n=this.props.contributedNavigation,t,i="";return n.flags&&(n.flags&64)==64&&n.icon?t=n.icon:n.name&&(i=n.name),u.createElement(s.CommandBarCommandComponent,__assign({},this.props,{noTabIndex:!0}),u.createElement(b.FPSLinkComponent,{className:e.css("commandbar-item-link-navigation","flex-cell",this.props.isDisplayed?"displayed":"",t),href:this.props.customHref||n.href||"",id:n.id,tabIndex:this.props.selected?0:-2,telemetrySource:this.props.telemetrySource,telemetryProperties:this.props.telemetryProperties},i))},t.componentType="navigationComponent",t}(e.VssComponent)}("VerticalSuiteNavigationProvider")},["Resources","HeaderActions","Page","Horizontal/Components","NavigationSettings","Navigation","Horizontal/Dashboards/DashboardL2Provider","MenuProvider","NavigationProvider","Horizontal/Navigation","Constants","ErrorHandling","ProductFeatures","RestClient/Core","Search/ExpandableSearchBox","Search/GlobalSearchCoordinator","ShortcutService","Vertical/Header","Vertical/Navigation","Vertical/SuiteNavigationProvider"]);document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-tfs-web.platform-content"}}));