if (window.performance && window.performance.mark) { window.performance.mark('startLoadBundleInner-view'); }
// Copyright (C) Microsoft Corporation. All rights reserved.
define("TfsCommon/Scripts/Navigation/PageService",["require","exports","VSS/Contributions/LocalPageData","VSS/Service"],function(n,t,i,r){function o(){return e.getProject()}Object.defineProperty(t,"__esModule",{value:!0});var u="ms.vss-tfs-web.page-data",f=function(){function n(){}return n.prototype.getProject=function(){var n=i.getData(u)||{};return n.project},n}(),e=r.getLocalService(f);t.getProject=o});

define("TfsCommon/Scripts/ProjectTelemetry",["require","exports","TfsCommon/Scripts/Navigation/PageService","VSS/Telemetry/Services","VSS/Service","VSS/FeatureManagement/Services"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});r.addTelemetryEventHandler(function(n){var t=i.getProject(),r,e;t&&(n.properties.dataspaceId=t.id,n.properties.dataspaceType="Project",n.properties.dataspaceVisibility=t.visibility.toString(),r=u.getService(f.FeatureManagementService),e=r&&r.isFeatureEnabled("ms.vss-tfs-web.vertical-navigation")?"vertical":"horizontal",n.properties.navigationMode=e)})});

define("VersionControl/Scenarios/Shared/ValidateRepository",["require","exports","VSS/Service","VSS/Contributions/Services","VSS/Utils/String","Presentation/Scripts/TFS/TFS.Host.TfsContext","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scenarios/Shared/Constants","VSS/LoaderPlugins/Css!VersionControlControls"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function n(){}return n.repositoryExists=function(n,t){return!!n&&Object.keys(n).length!==0&&(!t||!n.projectVersionControlInfo||n.projectVersionControlInfo.supportsTFVC)},n.repositoryForPageExists=function(t,i){var v=n._webPageDataService.getPageData(o.versionControlDataProviderId),c,l,a;if(!n.repositoryExists(v,i)){var s=e.RepoNotFound_Title,h=e.RepoNotFound_NavigateAway,r=n._webPageDataService.getPageData(o.navigationDataProviderId);return r&&r.notFoundRepoName&&(s=u.format(e.RepoNotFound_TitleWithName,r.notFoundRepoName)),r&&r.defaultGitRepoUrl&&r.defaultGitRepoName&&(c=f.TfsContext.getDefault().getHostUrl()+r.defaultGitRepoUrl,h=u.format(e.RepoNotFound_NavigateAwayWithDefault,c,r.defaultGitRepoName)),l=' \n                <div class="hub-view vc-repository-not-found"> \n                    <div class="hub-title">{0}<\/div>\n                    <div class="hub-content">\n                        <div class="hub-no-content-gutter">\n                        <p>{1}<\/p>\n                        <p>{2}<br>{3}<\/p>\n                        <\/div>\n                    <\/div>\n                <\/div> \n                ',a=u.format(l,s,e.RepoNotFound_Explanation,e.RepoNotFound_UpdateBookmark,h),t.append($(a)),!1}return!0},n.isEmptyRepository=function(){var t=n._webPageDataService.getPageData(o.versionControlDataProviderId);return t.isEmptyRepository},n.getRepositoryInfo=function(){var t=n._webPageDataService.getPageData(o.versionControlDataProviderId);return{projectId:t.gitRepository.project.id,repositoryId:t.gitRepository.id}},n._webPageDataService=i.getService(r.WebPageDataService),n}();t.ValidateRepository=s});

define("VSS/Navigation/HubsProvider",["require","exports","VSS/Diag","VSS/Contributions/Services","q","VSS/Service"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(n){this._containerHubPromises={};this._refreshDelegates={};this._variesByOwner=n}return n.prototype.getRootContributedHub=function(){return null},n.prototype.getContainerHub=function(n){if(this._refreshDelegates[n.contributionId]=n.refreshDelegate,this._variesByOwner&&this._containerHubPromises[n.contributionId])return this._containerHubPromises[n.contributionId];if(!this._variesByOwner&&this._containerHubCommonPromise)return this._containerHubCommonPromise;var t=u(this.getRootContributedHub(n));return this._variesByOwner?this._containerHubPromises[n.contributionId]=t:this._containerHubCommonPromise=t,t},n.prototype.invokeRefreshCallbacks=function(){var t,n;this._containerHubPromises={};this._containerHubCommonPromise=null;for(t in this._refreshDelegates)n=this._refreshDelegates[t],n&&n()},n.prototype.getCachedPageData=function(n,t,u,e){var h=this,s,o;return u===void 0&&(u=!0),s=f.getService(r.WebPageDataService),o=s.getCachedPageData(n,t,u,e,function(){h.invokeRefreshCallbacks}),o||i.logWarning("Hubs provider contribution data not found ("+n+")."),o},n.prototype.reloadCachedProviderData=function(n,t){var i=this,u=f.getService(r.WebPageDataService);u.reloadCachedProviderData(n,function(){i.invokeRefreshCallbacks},t)},n}();t.HubsProvider=e});

define("VersionControl/Scripts/Resources/TFS.Resources.VersionControl.Navigation",["require","exports"],function(require,exports){var e=exports;e.ManageRepositoriesActionText="Manage repositories";e.CloneActionText="Clone";e.ForkActionText="Fork";e.ContributedTabError="Could not find specified extension: {0}";e.RepoSettingsNoPermission="You don\u0027t have permission to manage repositories";e.NewPullRequestActionText="New pull request";e.NewPullRequestNoPermission="You don\u0027t have permission to create pull requests";e.NewRepositoryActionText="New Repository";});

// Copyright (C) Microsoft Corporation. All rights reserved.
var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();define("VersionControl/Scripts/Navigation",["require","exports","VSS/Context","VSS/Contributions/Services","VersionControl/Scenarios/Shared/Permissions/GitPermissionsSource","VSS/Locations","TfsCommon/Scripts/Navigation/Common","VSS/Navigation/HubsProvider","q","VSS/Service","VSS/SDK/Shim","VSS/Utils/Url","VersionControl/Scripts/Resources/TFS.Resources.VersionControl.Navigation","VSS/User/Services","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function nt(){return v.getService().hasClaim(v.UserClaims.Member)}var p,w,b,k,d,g;Object.defineProperty(t,"__esModule",{value:!0});t.navigationDataProviderId="ms.vss-code-web.navigation-data-provider";p=function(n){function u(){return n.call(this,!0)||this}return __extends(u,n),u.prototype.getRootContributedHub=function(n){var l=null,a,o,u,s,c;return e.isLevel1Hubs(n.contributionId)&&(a=h.getService(r.WebPageDataService),o=a.getPageData(t.navigationDataProviderId),o&&(u=e.getDefaultHub(),u.isDefault=!0,s=e.getDefaultHub(),s.order=.001,s.children=[u],c=i.getPageContext().webContext,o.defaultRepoIsGit?(u.name=o.defaultGitRepoName,u.uri=o.defaultGitRepoUrl,u.icon=o.defaultRepoIsFork?"bowtie-icon bowtie-git-fork":"bowtie-icon bowtie-git"):o.supportsTfvc&&c.project?(u.name="$/"+c.project.name,u.uri=f.urlHelper.getMvcUrl({controller:"versionControl"}),u.icon="bowtie-icon bowtie-tfvc-repo"):s=null,l=s)),l},u}(o.HubsProvider);w=new p;c.VSS.register("ms.vss-code-web.code-hubs-provider",function(){return w});b=function(){function n(){}return n.prototype.getMenuItems=function(){var c=h.getService(r.WebPageDataService),n=c.getPageData(t.navigationDataProviderId),e,o;return n?(e=i.getPageContext().webContext,o=new u.GitPermissionsSource(e.project.id,n.defaultRepoId),o.queryDefaultGitRepositoryPermissionsAsync().then(function(t){var i=[],r=!1,u,e,o;return n.defaultRepoIsGit&&(u=!t.repository.PullRequestContribute,e=u?undefined:l.combineUrl(n.defaultGitRepoUrl,"pullrequestcreate"),i.push({id:"new-pull-request-action",text:a.NewPullRequestActionText,icon:"css://bowtie-icon bowtie-tfvc-pull-request",href:e,disabled:u,title:u?a.NewPullRequestNoPermission:undefined}),r=!(t.repository.CreateRepository||t.repository.RenameRepository||t.repository.DeleteRepository)),o=r?undefined:f.urlHelper.getMvcUrl({controller:"versionControl",area:"admin"}),i.push({id:"repository-settings-action",text:a.ManageRepositoriesActionText,icon:"css://bowtie-icon bowtie-settings-gear",href:o,disabled:r,title:r?a.RepoSettingsNoPermission:undefined}),i.length>0&&i.unshift({separator:!0}),i})):s([])},n}();k=new b;c.VSS.register("ms.vss-code-web.code-hub-group-actions",function(){return k});d=function(){function n(){this._forkDialogOpening=!1}return n.prototype.getMenuItems=function(){var n=this,i=[],f=h.getService(r.WebPageDataService),u=f.getPageData(t.navigationDataProviderId);return u&&u.defaultRepoIsGit&&(u.defaultRepoCanFork&&nt()&&i.push({id:"fork-repository",text:a.ForkActionText,icon:"css://bowtie-icon bowtie-git-fork",action:function(){n._forkDialogOpening||(n._forkDialogOpening=!0,y.using(["VersionControl/Scenarios/ForkRepository/ForkRepositoryDialog"],function(t){t.ForkRepositoryDialog.show();n._forkDialogOpening=!1}))}}),i.push({id:"clone-repository",text:a.CloneActionText,icon:"css://bowtie-icon bowtie-clone-to-desktop",action:function(){y.using(["VersionControl/Scripts/CodeHubCloneRepositoryAction"],function(t){if(!n._clonePopup||n._clonePopup.isDisposed()){var i=$("[command='clone-repository']");i.length===0&&(i=$("[data-command-key='clone-repository']"));n._clonePopup=t.createCloneRepositoryPopup(i,null,function(){var n=$(document).find(".bowtie-clone-to-desktop");n.length>0&&$(n[0]).parent().focus()})}})}})),i},n}();g=new d;c.VSS.register("ms.vss-code-web.code-hub-actions",function(){return g})});

define("VersionControl/Scripts/Controls/RepositoryPicker",["require","exports","VSS/Context","VSS/Contributions/Services","VSS/Events/Action","VSS/Navigation/HubsService","q","VSS/SDK/Shim","VSS/Service","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","Presentation/Scripts/TFS/TFS.Host.TfsContext","VersionControl/Scenarios/Shared/Constants","VersionControl/Scenarios/Shared/ValidateRepository","VersionControl/Scripts/Navigation","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VSS/LoaderPlugins/Css!VersionControl/Controls/RepositorySelector"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){Object.defineProperty(t,"__esModule",{value:!0});o.registerContent("tfs.versioncontrol.repository-picker",function(n){var it=s.getLocalService(f.HubsService).getSelectedHubGroupId(),g=e.defer(),tt=s.getService(r.WebPageDataService),t=tt.getPageData(p.navigationDataProviderId),o=tt.getPageData(v.versionControlDataProviderId),b=i.getPageContext().webContext,rt=h.caseInsensitiveContains(window.location.pathname,"/_versionControl"),k,nt,d;return y.ValidateRepository.repositoryExists(o,rt)||(o={},o.gitRepository={name:w.Repository_None},k={},b.project&&(o.projectGuid=b.project.id,k.name=b.project.name,k.id=b.project.id),o.projectVersionControlInfo={project:k,defaultSourceControlType:undefined,supportsGit:!0,supportsTFVC:t?t.supportsTfvc:!1}),t&&o&&o.projectVersionControlInfo&&n.$container?(nt=n.$container.children().first().length>0,nt||(d="",t.defaultRepoIsGit?d=t.defaultGitRepoName:t.supportsTfvc&&b.project&&(d="$/"+b.project.name),$(c.domElem("div","vc-hub-repositories-placeholder")).text(d).css("opacity",0).appendTo(n.$container)),t.defaultRepoIsGit&&(o.gitRepository||(a.TfsContext.getDefault().navigation.currentController||"").toLowerCase()!=="apps"||(o.gitRepository={name:t.defaultGitRepoName})),l.using(["VersionControl/Scripts/Controls/RepositorySelector","VersionControl/Scenarios/Shared/Permissions/GitPermissionsSource"],function(i,r){nt&&n.$container.empty();var f=new r.GitPermissionsSource(b.project.id,t.defaultRepoId);f.queryDefaultGitRepositoryPermissionsAsync().then(function(r){var e=!0,f;t.defaultRepoIsGit&&(e=r.repository.CreateRepository||r.repository.RenameRepository||r.repository.DeleteRepository||r.repository.ManagePermissions);i.RepositorySelector.createInstance(o,n.$container,undefined,e);f=function(n,t){return n&&n.navigatedHubGroupId&&n.navigatedHubGroupId!==it&&(u.getService().unregisterActionWorker(u.CommonActions.ACTION_WINDOW_UNLOAD,f),i.RepositorySelector.disposeInstance()),t(n)};u.getService().registerActionWorker(u.CommonActions.ACTION_WINDOW_UNLOAD,f,1)}).then(function(){g.resolve(!0)})})):g.resolve(!1),g.promise})});

/*! markdown-it 8.1.0 https://github.com//markdown-it/markdown-it @license MIT */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("3rdParty/markdown-it",[],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.markdownit=e()}}(function(){var e;return function e(r,t,n){function s(i,a){if(!t[i]){if(!r[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(o)return o(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var u=t[i]={exports:{}};r[i][0].call(u.exports,function(e){var t=r[i][1][e];return s(t?t:e)},u,u.exports,e,r,t,n)}return t[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)s(n[i]);return s}({1:[function(e,r,t){"use strict";r.exports=e("entities/maps/entities.json")},{"entities/maps/entities.json":52}],2:[function(e,r,t){"use strict";r.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},{}],3:[function(e,r,t){"use strict";var n="[a-zA-Z_:][a-zA-Z0-9:._-]*",s="[^\"'=<>`\\x00-\\x20]+",o="'[^']*'",i='"[^"]*"',a="(?:"+s+"|"+o+"|"+i+")",c="(?:\\s+"+n+"(?:\\s*=\\s*"+a+")?)",l="<[A-Za-z][A-Za-z0-9\\-]*"+c+"*\\s*\\/?>",u="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",p="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",h="<[?].*?[?]>",f="<![A-Z]+\\s+[^>]*>",d="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",m=new RegExp("^(?:"+l+"|"+u+"|"+p+"|"+h+"|"+f+"|"+d+")"),_=new RegExp("^(?:"+l+"|"+u+")");r.exports.HTML_TAG_RE=m,r.exports.HTML_OPEN_CLOSE_TAG_RE=_},{}],4:[function(e,r,t){"use strict";function n(e){return Object.prototype.toString.call(e)}function s(e){return"[object String]"===n(e)}function o(e,r){return y.call(e,r)}function i(e){var r=Array.prototype.slice.call(arguments,1);return r.forEach(function(r){if(r){if("object"!=typeof r)throw new TypeError(r+"must be object");Object.keys(r).forEach(function(t){e[t]=r[t]})}}),e}function a(e,r,t){return[].concat(e.slice(0,r),t,e.slice(r+1))}function c(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!==(65535&e)&&65534!==(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function l(e){if(e>65535){e-=65536;var r=55296+(e>>10),t=56320+(1023&e);return String.fromCharCode(r,t)}return String.fromCharCode(e)}function u(e,r){var t=0;return o(D,r)?D[r]:35===r.charCodeAt(0)&&w.test(r)&&(t="x"===r[1].toLowerCase()?parseInt(r.slice(2),16):parseInt(r.slice(1),10),c(t))?l(t):e}function p(e){return e.indexOf("\\")<0?e:e.replace(x,"$1")}function h(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(A,function(e,r,t){return r?r:u(e,t)})}function f(e){return S[e]}function d(e){return q.test(e)?e.replace(E,f):e}function m(e){return e.replace(F,"\\$&")}function _(e){switch(e){case 9:case 32:return!0}return!1}function g(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function b(e){return L.test(e)}function k(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function v(e){return e.trim().replace(/\s+/g," ").toUpperCase()}var y=Object.prototype.hasOwnProperty,x=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,C=/&([a-z#][a-z0-9]{1,31});/gi,A=new RegExp(x.source+"|"+C.source,"gi"),w=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,D=e("./entities"),q=/[&<>"]/,E=/[&<>"]/g,S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},F=/[.?*+^$[\]\\(){}|-]/g,L=e("uc.micro/categories/P/regex");t.lib={},t.lib.mdurl=e("mdurl"),t.lib.ucmicro=e("uc.micro"),t.assign=i,t.isString=s,t.has=o,t.unescapeMd=p,t.unescapeAll=h,t.isValidEntityCode=c,t.fromCodePoint=l,t.escapeHtml=d,t.arrayReplaceAt=a,t.isSpace=_,t.isWhiteSpace=g,t.isMdAsciiPunct=k,t.isPunctChar=b,t.escapeRE=m,t.normalizeReference=v},{"./entities":1,mdurl:58,"uc.micro":65,"uc.micro/categories/P/regex":63}],5:[function(e,r,t){"use strict";t.parseLinkLabel=e("./parse_link_label"),t.parseLinkDestination=e("./parse_link_destination"),t.parseLinkTitle=e("./parse_link_title")},{"./parse_link_destination":6,"./parse_link_label":7,"./parse_link_title":8}],6:[function(e,r,t){"use strict";var n=e("../common/utils").isSpace,s=e("../common/utils").unescapeAll;r.exports=function(e,r,t){var o,i,a=0,c=r,l={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(r)){for(r++;r<t;){if(o=e.charCodeAt(r),10===o||n(o))return l;if(62===o)return l.pos=r+1,l.str=s(e.slice(c+1,r)),l.ok=!0,l;92===o&&r+1<t?r+=2:r++}return l}for(i=0;r<t&&(o=e.charCodeAt(r),32!==o)&&!(o<32||127===o);)if(92===o&&r+1<t)r+=2;else{if(40===o&&(i++,i>1))break;if(41===o&&(i--,i<0))break;r++}return c===r?l:(l.str=s(e.slice(c,r)),l.lines=a,l.pos=r,l.ok=!0,l)}},{"../common/utils":4}],7:[function(e,r,t){"use strict";r.exports=function(e,r,t){var n,s,o,i,a=-1,c=e.posMax,l=e.pos;for(e.pos=r+1,n=1;e.pos<c;){if(o=e.src.charCodeAt(e.pos),93===o&&(n--,0===n)){s=!0;break}if(i=e.pos,e.md.inline.skipToken(e),91===o)if(i===e.pos-1)n++;else if(t)return e.pos=l,-1}return s&&(a=e.pos),e.pos=l,a}},{}],8:[function(e,r,t){"use strict";var n=e("../common/utils").unescapeAll;r.exports=function(e,r,t){var s,o,i=0,a=r,c={ok:!1,pos:0,lines:0,str:""};if(r>=t)return c;if(o=e.charCodeAt(r),34!==o&&39!==o&&40!==o)return c;for(r++,40===o&&(o=41);r<t;){if(s=e.charCodeAt(r),s===o)return c.pos=r+1,c.lines=i,c.str=n(e.slice(a+1,r)),c.ok=!0,c;10===s?i++:92===s&&r+1<t&&(r++,10===e.charCodeAt(r)&&i++),r++}return c}},{"../common/utils":4}],9:[function(e,r,t){"use strict";function n(e){var r=e.trim().toLowerCase();return!g.test(r)||!!b.test(r)}function s(e){var r=d.parse(e,!0);if(r.hostname&&(!r.protocol||k.indexOf(r.protocol)>=0))try{r.hostname=m.toASCII(r.hostname)}catch(e){}return d.encode(d.format(r))}function o(e){var r=d.parse(e,!0);if(r.hostname&&(!r.protocol||k.indexOf(r.protocol)>=0))try{r.hostname=m.toUnicode(r.hostname)}catch(e){}return d.decode(d.format(r))}function i(e,r){return this instanceof i?(r||a.isString(e)||(r=e||{},e="default"),this.inline=new h,this.block=new p,this.core=new u,this.renderer=new l,this.linkify=new f,this.validateLink=n,this.normalizeLink=s,this.normalizeLinkText=o,this.utils=a,this.helpers=a.assign({},c),this.options={},this.configure(e),void(r&&this.set(r))):new i(e,r)}var a=e("./common/utils"),c=e("./helpers"),l=e("./renderer"),u=e("./parser_core"),p=e("./parser_block"),h=e("./parser_inline"),f=e("linkify-it"),d=e("mdurl"),m=e("punycode"),_={default:e("./presets/default"),zero:e("./presets/zero"),commonmark:e("./presets/commonmark")},g=/^(vbscript|javascript|file|data):/,b=/^data:image\/(gif|png|jpeg|webp);/,k=["http:","https:","mailto:"];i.prototype.set=function(e){return a.assign(this.options,e),this},i.prototype.configure=function(e){var r,t=this;if(a.isString(e)&&(r=e,e=_[r],!e))throw new Error('Wrong `markdown-it` preset "'+r+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&t[r].ruler.enableOnly(e.components[r].rules),e.components[r].rules2&&t[r].ruler2.enableOnly(e.components[r].rules2)}),this},i.prototype.enable=function(e,r){var t=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(r){t=t.concat(this[r].ruler.enable(e,!0))},this),t=t.concat(this.inline.ruler2.enable(e,!0));var n=e.filter(function(e){return t.indexOf(e)<0});if(n.length&&!r)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this},i.prototype.disable=function(e,r){var t=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(r){t=t.concat(this[r].ruler.disable(e,!0))},this),t=t.concat(this.inline.ruler2.disable(e,!0));var n=e.filter(function(e){return t.indexOf(e)<0});if(n.length&&!r)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this},i.prototype.use=function(e){var r=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,r),this},i.prototype.parse=function(e,r){var t=new this.core.State(e,this,r);return this.core.process(t),t.tokens},i.prototype.render=function(e,r){return r=r||{},this.renderer.render(this.parse(e,r),this.options,r)},i.prototype.parseInline=function(e,r){var t=new this.core.State(e,this,r);return t.inlineMode=!0,this.core.process(t),t.tokens},i.prototype.renderInline=function(e,r){return r=r||{},this.renderer.render(this.parseInline(e,r),this.options,r)},r.exports=i},{"./common/utils":4,"./helpers":5,"./parser_block":10,"./parser_core":11,"./parser_inline":12,"./presets/commonmark":13,"./presets/default":14,"./presets/zero":15,"./renderer":16,"linkify-it":53,mdurl:58,punycode:60}],10:[function(e,r,t){"use strict";function n(){this.ruler=new s;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}var s=e("./ruler"),o=[["table",e("./rules_block/table"),["paragraph","reference"]],["code",e("./rules_block/code")],["fence",e("./rules_block/fence"),["paragraph","reference","blockquote","list"]],["blockquote",e("./rules_block/blockquote"),["paragraph","reference","list"]],["hr",e("./rules_block/hr"),["paragraph","reference","blockquote","list"]],["list",e("./rules_block/list"),["paragraph","reference","blockquote"]],["reference",e("./rules_block/reference")],["heading",e("./rules_block/heading"),["paragraph","reference","blockquote"]],["lheading",e("./rules_block/lheading")],["html_block",e("./rules_block/html_block"),["paragraph","reference","blockquote"]],["paragraph",e("./rules_block/paragraph")]];n.prototype.tokenize=function(e,r,t){for(var n,s,o=this.ruler.getRules(""),i=o.length,a=r,c=!1,l=e.md.options.maxNesting;a<t&&(e.line=a=e.skipEmptyLines(a),!(a>=t))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=l){e.line=t;break}for(s=0;s<i&&!(n=o[s](e,a,t,!1));s++);e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),a=e.line,a<t&&e.isEmpty(a)&&(c=!0,a++,e.line=a)}},n.prototype.parse=function(e,r,t,n){var s;e&&(s=new this.State(e,r,t,n),this.tokenize(s,s.line,s.lineMax))},n.prototype.State=e("./rules_block/state_block"),r.exports=n},{"./ruler":17,"./rules_block/blockquote":18,"./rules_block/code":19,"./rules_block/fence":20,"./rules_block/heading":21,"./rules_block/hr":22,"./rules_block/html_block":23,"./rules_block/lheading":24,"./rules_block/list":25,"./rules_block/paragraph":26,"./rules_block/reference":27,"./rules_block/state_block":28,"./rules_block/table":29}],11:[function(e,r,t){"use strict";function n(){this.ruler=new s;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}var s=e("./ruler"),o=[["normalize",e("./rules_core/normalize")],["block",e("./rules_core/block")],["inline",e("./rules_core/inline")],["linkify",e("./rules_core/linkify")],["replacements",e("./rules_core/replacements")],["smartquotes",e("./rules_core/smartquotes")]];n.prototype.process=function(e){var r,t,n;for(n=this.ruler.getRules(""),r=0,t=n.length;r<t;r++)n[r](e)},n.prototype.State=e("./rules_core/state_core"),r.exports=n},{"./ruler":17,"./rules_core/block":30,"./rules_core/inline":31,"./rules_core/linkify":32,"./rules_core/normalize":33,"./rules_core/replacements":34,"./rules_core/smartquotes":35,"./rules_core/state_core":36}],12:[function(e,r,t){"use strict";function n(){var e;for(this.ruler=new s,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new s,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}var s=e("./ruler"),o=[["text",e("./rules_inline/text")],["newline",e("./rules_inline/newline")],["escape",e("./rules_inline/escape")],["backticks",e("./rules_inline/backticks")],["strikethrough",e("./rules_inline/strikethrough").tokenize],["emphasis",e("./rules_inline/emphasis").tokenize],["link",e("./rules_inline/link")],["image",e("./rules_inline/image")],["autolink",e("./rules_inline/autolink")],["html_inline",e("./rules_inline/html_inline")],["entity",e("./rules_inline/entity")]],i=[["balance_pairs",e("./rules_inline/balance_pairs")],["strikethrough",e("./rules_inline/strikethrough").postProcess],["emphasis",e("./rules_inline/emphasis").postProcess],["text_collapse",e("./rules_inline/text_collapse")]];n.prototype.skipToken=function(e){var r,t,n=e.pos,s=this.ruler.getRules(""),o=s.length,i=e.md.options.maxNesting,a=e.cache;if("undefined"!=typeof a[n])return void(e.pos=a[n]);if(e.level<i)for(t=0;t<o&&(e.level++,r=s[t](e,!0),e.level--,!r);t++);else e.pos=e.posMax;r||e.pos++,a[n]=e.pos},n.prototype.tokenize=function(e){for(var r,t,n=this.ruler.getRules(""),s=n.length,o=e.posMax,i=e.md.options.maxNesting;e.pos<o;){if(e.level<i)for(t=0;t<s&&!(r=n[t](e,!1));t++);if(r){if(e.pos>=o)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},n.prototype.parse=function(e,r,t,n){var s,o,i,a=new this.State(e,r,t,n);for(this.tokenize(a),o=this.ruler2.getRules(""),i=o.length,s=0;s<i;s++)o[s](a)},n.prototype.State=e("./rules_inline/state_inline"),r.exports=n},{"./ruler":17,"./rules_inline/autolink":37,"./rules_inline/backticks":38,"./rules_inline/balance_pairs":39,"./rules_inline/emphasis":40,"./rules_inline/entity":41,"./rules_inline/escape":42,"./rules_inline/html_inline":43,"./rules_inline/image":44,"./rules_inline/link":45,"./rules_inline/newline":46,"./rules_inline/state_inline":47,"./rules_inline/strikethrough":48,"./rules_inline/text":49,"./rules_inline/text_collapse":50}],13:[function(e,r,t){"use strict";r.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},{}],14:[function(e,r,t){"use strict";r.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},{}],15:[function(e,r,t){"use strict";r.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},{}],16:[function(e,r,t){"use strict";function n(){this.rules=s({},a)}var s=e("./common/utils").assign,o=e("./common/utils").unescapeAll,i=e("./common/utils").escapeHtml,a={};a.code_inline=function(e,r,t,n,s){var o=e[r];return"<code"+s.renderAttrs(o)+">"+i(e[r].content)+"</code>"},a.code_block=function(e,r,t,n,s){var o=e[r];return"<pre"+s.renderAttrs(o)+"><code>"+i(e[r].content)+"</code></pre>\n"},a.fence=function(e,r,t,n,s){var a,c,l,u,p=e[r],h=p.info?o(p.info).trim():"",f="";return h&&(f=h.split(/\s+/g)[0]),a=t.highlight?t.highlight(p.content,f)||i(p.content):i(p.content),0===a.indexOf("<pre")?a+"\n":h?(c=p.attrIndex("class"),l=p.attrs?p.attrs.slice():[],c<0?l.push(["class",t.langPrefix+f]):l[c][1]+=" "+t.langPrefix+f,u={attrs:l},"<pre><code"+s.renderAttrs(u)+">"+a+"</code></pre>\n"):"<pre><code"+s.renderAttrs(p)+">"+a+"</code></pre>\n"},a.image=function(e,r,t,n,s){var o=e[r];return o.attrs[o.attrIndex("alt")][1]=s.renderInlineAsText(o.children,t,n),s.renderToken(e,r,t)},a.hardbreak=function(e,r,t){return t.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,r,t){return t.breaks?t.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,r){return i(e[r].content)},a.html_block=function(e,r){return e[r].content},a.html_inline=function(e,r){return e[r].content},n.prototype.renderAttrs=function(e){var r,t,n;if(!e.attrs)return"";for(n="",r=0,t=e.attrs.length;r<t;r++)n+=" "+i(e.attrs[r][0])+'="'+i(e.attrs[r][1])+'"';return n},n.prototype.renderToken=function(e,r,t){var n,s="",o=!1,i=e[r];return i.hidden?"":(i.block&&i.nesting!==-1&&r&&e[r-1].hidden&&(s+="\n"),s+=(i.nesting===-1?"</":"<")+i.tag,s+=this.renderAttrs(i),0===i.nesting&&t.xhtmlOut&&(s+=" /"),i.block&&(o=!0,1===i.nesting&&r+1<e.length&&(n=e[r+1],"inline"===n.type||n.hidden?o=!1:n.nesting===-1&&n.tag===i.tag&&(o=!1))),s+=o?">\n":">")},n.prototype.renderInline=function(e,r,t){for(var n,s="",o=this.rules,i=0,a=e.length;i<a;i++)n=e[i].type,s+="undefined"!=typeof o[n]?o[n](e,i,r,t,this):this.renderToken(e,i,r);return s},n.prototype.renderInlineAsText=function(e,r,t){for(var n="",s=0,o=e.length;s<o;s++)"text"===e[s].type?n+=e[s].content:"image"===e[s].type&&(n+=this.renderInlineAsText(e[s].children,r,t));return n},n.prototype.render=function(e,r,t){var n,s,o,i="",a=this.rules;for(n=0,s=e.length;n<s;n++)o=e[n].type,i+="inline"===o?this.renderInline(e[n].children,r,t):"undefined"!=typeof a[o]?a[e[n].type](e,n,r,t,this):this.renderToken(e,n,r,t);return i},r.exports=n},{"./common/utils":4}],17:[function(e,r,t){"use strict";function n(){this.__rules__=[],this.__cache__=null}n.prototype.__find__=function(e){for(var r=0;r<this.__rules__.length;r++)if(this.__rules__[r].name===e)return r;return-1},n.prototype.__compile__=function(){var e=this,r=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){r.indexOf(e)<0&&r.push(e)})}),e.__cache__={},r.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(t){t.enabled&&(r&&t.alt.indexOf(r)<0||e.__cache__[r].push(t.fn))})})},n.prototype.at=function(e,r,t){var n=this.__find__(e),s=t||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=r,this.__rules__[n].alt=s.alt||[],this.__cache__=null},n.prototype.before=function(e,r,t,n){var s=this.__find__(e),o=n||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s,0,{name:r,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null},n.prototype.after=function(e,r,t,n){var s=this.__find__(e),o=n||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s+1,0,{name:r,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null},n.prototype.push=function(e,r,t){var n=t||{};this.__rules__.push({name:e,enabled:!0,fn:r,alt:n.alt||[]}),this.__cache__=null},n.prototype.enable=function(e,r){Array.isArray(e)||(e=[e]);var t=[];return e.forEach(function(e){var n=this.__find__(e);if(n<0){if(r)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[n].enabled=!0,t.push(e)},this),this.__cache__=null,t},n.prototype.enableOnly=function(e,r){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,r)},n.prototype.disable=function(e,r){Array.isArray(e)||(e=[e]);var t=[];return e.forEach(function(e){var n=this.__find__(e);if(n<0){if(r)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[n].enabled=!1,t.push(e)},this),this.__cache__=null,t},n.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},r.exports=n},{}],18:[function(e,r,t){"use strict";var n=e("../common/utils").isSpace;r.exports=function(e,r,t,s){var o,i,a,c,l,u,p,h,f,d,m,_,g,b,k,v,y,x,C,A=e.bMarks[r]+e.tShift[r],w=e.eMarks[r];if(62!==e.src.charCodeAt(A++))return!1;if(s)return!0;for(_=e.blkIndent,e.blkIndent=0,c=f=e.sCount[r]+A-(e.bMarks[r]+e.tShift[r]),32===e.src.charCodeAt(A)?(A++,c++,f++,o=!1,v=!0):9===e.src.charCodeAt(A)?(v=!0,(e.bsCount[r]+f)%4===3?(A++,c++,f++,o=!1):o=!0):v=!1,d=[e.bMarks[r]],e.bMarks[r]=A;A<w&&(i=e.src.charCodeAt(A),n(i));)9===i?f+=4-(f+e.bsCount[r]+(o?1:0))%4:f++,A++;for(m=[e.bsCount[r]],e.bsCount[r]=e.sCount[r]+1+(v?1:0),u=A>=w,b=[e.sCount[r]],e.sCount[r]=f-c,k=[e.tShift[r]],e.tShift[r]=A-e.bMarks[r],x=e.md.block.ruler.getRules("blockquote"),g=e.parentType,e.parentType="blockquote",h=r+1;h<t&&!(e.sCount[h]<_)&&(A=e.bMarks[h]+e.tShift[h],w=e.eMarks[h],!(A>=w));h++)if(62!==e.src.charCodeAt(A++)){if(u)break;for(y=!1,a=0,l=x.length;a<l;a++)if(x[a](e,h,t,!0)){y=!0;break}if(y)break;d.push(e.bMarks[h]),m.push(e.bsCount[h]),k.push(e.tShift[h]),b.push(e.sCount[h]),e.sCount[h]=-1}else{for(c=f=e.sCount[h]+A-(e.bMarks[h]+e.tShift[h]),32===e.src.charCodeAt(A)?(A++,c++,f++,o=!1,v=!0):9===e.src.charCodeAt(A)?(v=!0,(e.bsCount[h]+f)%4===3?(A++,c++,f++,o=!1):o=!0):v=!1,d.push(e.bMarks[h]),e.bMarks[h]=A;A<w&&(i=e.src.charCodeAt(A),n(i));)9===i?f+=4-(f+e.bsCount[h]+(o?1:0))%4:f++,A++;u=A>=w,m.push(e.bsCount[h]),e.bsCount[h]=e.sCount[h]+1+(v?1:0),b.push(e.sCount[h]),e.sCount[h]=f-c,k.push(e.tShift[h]),e.tShift[h]=A-e.bMarks[h]}for(C=e.push("blockquote_open","blockquote",1),C.markup=">",C.map=p=[r,0],e.md.block.tokenize(e,r,h),C=e.push("blockquote_close","blockquote",-1),C.markup=">",e.parentType=g,p[1]=e.line,a=0;a<k.length;a++)e.bMarks[a+r]=d[a],e.tShift[a+r]=k[a],e.sCount[a+r]=b[a],e.bsCount[a+r]=m[a];return e.blkIndent=_,!0}},{"../common/utils":4}],19:[function(e,r,t){"use strict";r.exports=function(e,r,t){var n,s,o;if(e.sCount[r]-e.blkIndent<4)return!1;for(s=n=r+1;n<t;)if(e.isEmpty(n))n++;else{if(!(e.sCount[n]-e.blkIndent>=4))break;n++,s=n}return e.line=s,o=e.push("code_block","code",0),o.content=e.getLines(r,s,4+e.blkIndent,!0),o.map=[r,e.line],!0}},{}],20:[function(e,r,t){"use strict";r.exports=function(e,r,t,n){var s,o,i,a,c,l,u,p=!1,h=e.bMarks[r]+e.tShift[r],f=e.eMarks[r];if(h+3>f)return!1;if(s=e.src.charCodeAt(h),126!==s&&96!==s)return!1;if(c=h,h=e.skipChars(h,s),o=h-c,o<3)return!1;if(u=e.src.slice(c,h),i=e.src.slice(h,f),i.indexOf("`")>=0)return!1;if(n)return!0;for(a=r;(a++,!(a>=t))&&(h=c=e.bMarks[a]+e.tShift[a],f=e.eMarks[a],!(h<f&&e.sCount[a]<e.blkIndent));)if(e.src.charCodeAt(h)===s&&!(e.sCount[a]-e.blkIndent>=4||(h=e.skipChars(h,s),h-c<o||(h=e.skipSpaces(h),h<f)))){p=!0;break}return o=e.sCount[r],e.line=a+(p?1:0),l=e.push("fence","code",0),l.info=i,l.content=e.getLines(r+1,a,o,!0),l.markup=u,l.map=[r,e.line],!0}},{}],21:[function(e,r,t){"use strict";var n=e("../common/utils").isSpace;r.exports=function(e,r,t,s){var o,i,a,c,l=e.bMarks[r]+e.tShift[r],u=e.eMarks[r];if(o=e.src.charCodeAt(l),35!==o||l>=u)return!1;for(i=1,o=e.src.charCodeAt(++l);35===o&&l<u&&i<=6;)i++,o=e.src.charCodeAt(++l);return!(i>6||l<u&&!n(o))&&(!!s||(u=e.skipSpacesBack(u,l),a=e.skipCharsBack(u,35,l),a>l&&n(e.src.charCodeAt(a-1))&&(u=a),e.line=r+1,c=e.push("heading_open","h"+String(i),1),c.markup="########".slice(0,i),c.map=[r,e.line],c=e.push("inline","",0),c.content=e.src.slice(l,u).trim(),c.map=[r,e.line],c.children=[],c=e.push("heading_close","h"+String(i),-1),c.markup="########".slice(0,i),!0))}},{"../common/utils":4}],22:[function(e,r,t){"use strict";var n=e("../common/utils").isSpace;r.exports=function(e,r,t,s){var o,i,a,c,l=e.bMarks[r]+e.tShift[r],u=e.eMarks[r];if(o=e.src.charCodeAt(l++),42!==o&&45!==o&&95!==o)return!1;for(i=1;l<u;){if(a=e.src.charCodeAt(l++),a!==o&&!n(a))return!1;a===o&&i++}return!(i<3)&&(!!s||(e.line=r+1,c=e.push("hr","hr",0),c.map=[r,e.line],c.markup=Array(i+1).join(String.fromCharCode(o)),!0))}},{"../common/utils":4}],23:[function(e,r,t){"use strict";var n=e("../common/html_blocks"),s=e("../common/html_re").HTML_OPEN_CLOSE_TAG_RE,o=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+n.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(s.source+"\\s*$"),/^$/,!1]];r.exports=function(e,r,t,n){var s,i,a,c,l=e.bMarks[r]+e.tShift[r],u=e.eMarks[r];if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(l))return!1;for(c=e.src.slice(l,u),s=0;s<o.length&&!o[s][0].test(c);s++);if(s===o.length)return!1;if(n)return o[s][2];if(i=r+1,!o[s][1].test(c))for(;i<t&&!(e.sCount[i]<e.blkIndent);i++)if(l=e.bMarks[i]+e.tShift[i],u=e.eMarks[i],c=e.src.slice(l,u),o[s][1].test(c)){0!==c.length&&i++;break}return e.line=i,a=e.push("html_block","",0),a.map=[r,i],a.content=e.getLines(r,i,e.blkIndent,!0),!0}},{"../common/html_blocks":2,"../common/html_re":3}],24:[function(e,r,t){"use strict";r.exports=function(e,r,t){var n,s,o,i,a,c,l,u,p,h,f=r+1,d=e.md.block.ruler.getRules("paragraph");for(h=e.parentType,e.parentType="paragraph";f<t&&!e.isEmpty(f);f++)if(!(e.sCount[f]-e.blkIndent>3)){if(e.sCount[f]>=e.blkIndent&&(c=e.bMarks[f]+e.tShift[f],l=e.eMarks[f],c<l&&(p=e.src.charCodeAt(c),(45===p||61===p)&&(c=e.skipChars(c,p),c=e.skipSpaces(c),c>=l)))){u=61===p?1:2;break}if(!(e.sCount[f]<0)){for(s=!1,o=0,i=d.length;o<i;o++)if(d[o](e,f,t,!0)){s=!0;break}if(s)break}}return!!u&&(n=e.getLines(r,f,e.blkIndent,!1).trim(),e.line=f+1,a=e.push("heading_open","h"+String(u),1),a.markup=String.fromCharCode(p),a.map=[r,e.line],a=e.push("inline","",0),a.content=n,a.map=[r,e.line-1],a.children=[],a=e.push("heading_close","h"+String(u),-1),a.markup=String.fromCharCode(p),e.parentType=h,!0)}},{}],25:[function(e,r,t){"use strict";function n(e,r){var t,n,s,o;return n=e.bMarks[r]+e.tShift[r],s=e.eMarks[r],t=e.src.charCodeAt(n++),42!==t&&45!==t&&43!==t?-1:n<s&&(o=e.src.charCodeAt(n),!i(o))?-1:n}function s(e,r){var t,n=e.bMarks[r]+e.tShift[r],s=n,o=e.eMarks[r];if(s+1>=o)return-1;if(t=e.src.charCodeAt(s++),t<48||t>57)return-1;for(;;){if(s>=o)return-1;t=e.src.charCodeAt(s++);{if(!(t>=48&&t<=57)){if(41===t||46===t)break;return-1}if(s-n>=10)return-1}}return s<o&&(t=e.src.charCodeAt(s),!i(t))?-1:s}function o(e,r){var t,n,s=e.level+2;for(t=r+2,n=e.tokens.length-2;t<n;t++)e.tokens[t].level===s&&"paragraph_open"===e.tokens[t].type&&(e.tokens[t+2].hidden=!0,e.tokens[t].hidden=!0,t+=2)}var i=e("../common/utils").isSpace;r.exports=function(e,r,t,a){var c,l,u,p,h,f,d,m,_,g,b,k,v,y,x,C,A,w,D,q,E,S,F,L,z,T,R,M,I=!1,B=!0;if(a&&"paragraph"===e.parentType&&e.tShift[r]>=e.blkIndent&&(I=!0),(F=s(e,r))>=0){if(d=!0,z=e.bMarks[r]+e.tShift[r],v=Number(e.src.substr(z,F-z-1)),I&&1!==v)return!1}else{if(!((F=n(e,r))>=0))return!1;d=!1}if(I&&e.skipSpaces(F)>=e.eMarks[r])return!1;if(k=e.src.charCodeAt(F-1),a)return!0;for(b=e.tokens.length,d?(M=e.push("ordered_list_open","ol",1),1!==v&&(M.attrs=[["start",v]])):M=e.push("bullet_list_open","ul",1),M.map=g=[r,0],M.markup=String.fromCharCode(k),x=r,L=!1,R=e.md.block.ruler.getRules("list"),D=e.parentType,e.parentType="list";x<t;){for(S=F,y=e.eMarks[x],f=C=e.sCount[x]+F-(e.bMarks[r]+e.tShift[r]);S<y&&(c=e.src.charCodeAt(S),i(c));)9===c?C+=4-(C+e.bsCount[x])%4:C++,S++;if(l=S,h=l>=y?1:C-f,h>4&&(h=1),p=f+h,M=e.push("list_item_open","li",1),M.markup=String.fromCharCode(k),M.map=m=[r,0],A=e.blkIndent,E=e.tight,q=e.tShift[r],w=e.sCount[r],e.blkIndent=p,e.tight=!0,e.tShift[r]=l-e.bMarks[r],e.sCount[r]=C,l>=y&&e.isEmpty(r+1)?e.line=Math.min(e.line+2,t):e.md.block.tokenize(e,r,t,!0),e.tight&&!L||(B=!1),L=e.line-r>1&&e.isEmpty(e.line-1),e.blkIndent=A,e.tShift[r]=q,e.sCount[r]=w,e.tight=E,M=e.push("list_item_close","li",-1),M.markup=String.fromCharCode(k),x=r=e.line,m[1]=x,l=e.bMarks[r],x>=t)break;if(e.sCount[x]<e.blkIndent)break;for(T=!1,u=0,_=R.length;u<_;u++)if(R[u](e,x,t,!0)){T=!0;break}if(T)break;if(d){if(F=s(e,x),F<0)break}else if(F=n(e,x),F<0)break;if(k!==e.src.charCodeAt(F-1))break}return M=d?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),M.markup=String.fromCharCode(k),g[1]=x,e.line=x,e.parentType=D,B&&o(e,b),!0}},{"../common/utils":4}],26:[function(e,r,t){"use strict";r.exports=function(e,r){var t,n,s,o,i,a,c=r+1,l=e.md.block.ruler.getRules("paragraph"),u=e.lineMax;for(a=e.parentType,e.parentType="paragraph";c<u&&!e.isEmpty(c);c++)if(!(e.sCount[c]-e.blkIndent>3||e.sCount[c]<0)){for(n=!1,s=0,o=l.length;s<o;s++)if(l[s](e,c,u,!0)){n=!0;break}if(n)break}return t=e.getLines(r,c,e.blkIndent,!1).trim(),e.line=c,i=e.push("paragraph_open","p",1),i.map=[r,e.line],i=e.push("inline","",0),i.content=t,i.map=[r,e.line],i.children=[],i=e.push("paragraph_close","p",-1),e.parentType=a,!0}},{}],27:[function(e,r,t){"use strict";var n=e("../common/utils").normalizeReference,s=e("../common/utils").isSpace;r.exports=function(e,r,t,o){var i,a,c,l,u,p,h,f,d,m,_,g,b,k,v,y,x=0,C=e.bMarks[r]+e.tShift[r],A=e.eMarks[r],w=r+1;if(91!==e.src.charCodeAt(C))return!1;for(;++C<A;)if(93===e.src.charCodeAt(C)&&92!==e.src.charCodeAt(C-1)){if(C+1===A)return!1;if(58!==e.src.charCodeAt(C+1))return!1;break}for(l=e.lineMax,v=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";w<l&&!e.isEmpty(w);w++)if(!(e.sCount[w]-e.blkIndent>3||e.sCount[w]<0)){for(k=!1,p=0,h=v.length;p<h;p++)if(v[p](e,w,l,!0)){k=!0;break}if(k)break}for(b=e.getLines(r,w,e.blkIndent,!1).trim(),A=b.length,C=1;C<A;C++){if(i=b.charCodeAt(C),91===i)return!1;if(93===i){d=C;break}10===i?x++:92===i&&(C++,C<A&&10===b.charCodeAt(C)&&x++)}if(d<0||58!==b.charCodeAt(d+1))return!1;for(C=d+2;C<A;C++)if(i=b.charCodeAt(C),10===i)x++;else if(!s(i))break;if(_=e.md.helpers.parseLinkDestination(b,C,A),!_.ok)return!1;if(u=e.md.normalizeLink(_.str),!e.md.validateLink(u))return!1;for(C=_.pos,x+=_.lines,a=C,c=x,g=C;C<A;C++)if(i=b.charCodeAt(C),10===i)x++;else if(!s(i))break;for(_=e.md.helpers.parseLinkTitle(b,C,A),C<A&&g!==C&&_.ok?(y=_.str,C=_.pos,x+=_.lines):(y="",C=a,x=c);C<A&&(i=b.charCodeAt(C),s(i));)C++;if(C<A&&10!==b.charCodeAt(C)&&y)for(y="",C=a,x=c;C<A&&(i=b.charCodeAt(C),s(i));)C++;return!(C<A&&10!==b.charCodeAt(C))&&(!!(f=n(b.slice(1,d)))&&(!!o||("undefined"==typeof e.env.references&&(e.env.references={}),"undefined"==typeof e.env.references[f]&&(e.env.references[f]={title:y,href:u}),e.parentType=m,e.line=r+x+1,!0)))}},{"../common/utils":4}],28:[function(e,r,t){"use strict";function n(e,r,t,n){var s,i,a,c,l,u,p,h;for(this.src=e,this.md=r,this.env=t,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.parentType="root",this.level=0,this.result="",i=this.src,h=!1,a=c=u=p=0,l=i.length;c<l;c++){if(s=i.charCodeAt(c),!h){if(o(s)){u++,9===s?p+=4-p%4:p++;continue}h=!0}10!==s&&c!==l-1||(10!==s&&c++,this.bMarks.push(a),this.eMarks.push(c),this.tShift.push(u),this.sCount.push(p),this.bsCount.push(0),h=!1,u=0,p=0,a=c+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}var s=e("../token"),o=e("../common/utils").isSpace;n.prototype.push=function(e,r,t){var n=new s(e,r,t);return n.block=!0,t<0&&this.level--,n.level=this.level,t>0&&this.level++,this.tokens.push(n),n},n.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},n.prototype.skipEmptyLines=function(e){for(var r=this.lineMax;e<r&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},n.prototype.skipSpaces=function(e){for(var r,t=this.src.length;e<t&&(r=this.src.charCodeAt(e),o(r));e++);return e},n.prototype.skipSpacesBack=function(e,r){if(e<=r)return e;for(;e>r;)if(!o(this.src.charCodeAt(--e)))return e+1;return e},n.prototype.skipChars=function(e,r){for(var t=this.src.length;e<t&&this.src.charCodeAt(e)===r;e++);return e},n.prototype.skipCharsBack=function(e,r,t){if(e<=t)return e;for(;e>t;)if(r!==this.src.charCodeAt(--e))return e+1;return e},n.prototype.getLines=function(e,r,t,n){var s,i,a,c,l,u,p,h=e;if(e>=r)return"";for(u=new Array(r-e),s=0;h<r;h++,s++){for(i=0,p=c=this.bMarks[h],l=h+1<r||n?this.eMarks[h]+1:this.eMarks[h];c<l&&i<t;){if(a=this.src.charCodeAt(c),o(a))9===a?i+=4-(i+this.bsCount[h])%4:i++;else{if(!(c-p<this.tShift[h]))break;i++}c++}i>t?u[s]=new Array(i-t+1).join(" ")+this.src.slice(c,l):u[s]=this.src.slice(c,l)}return u.join("")},n.prototype.Token=s,r.exports=n},{"../common/utils":4,"../token":51}],29:[function(e,r,t){"use strict";function n(e,r){var t=e.bMarks[r]+e.blkIndent,n=e.eMarks[r];
return e.src.substr(t,n-t)}function s(e){var r,t=[],n=0,s=e.length,o=0,i=0,a=!1,c=0;for(r=e.charCodeAt(n);n<s;)96===r&&o%2===0?(a=!a,c=n):124!==r||o%2!==0||a?92===r?o++:o=0:(t.push(e.substring(i,n)),i=n+1),n++,n===s&&a&&(a=!1,n=c+1),r=e.charCodeAt(n);return t.push(e.substring(i)),t}var o=e("../common/utils").isSpace;r.exports=function(e,r,t,i){var a,c,l,u,p,h,f,d,m,_,g,b;if(r+2>t)return!1;if(p=r+1,e.sCount[p]<e.blkIndent)return!1;if(l=e.bMarks[p]+e.tShift[p],l>=e.eMarks[p])return!1;if(a=e.src.charCodeAt(l++),124!==a&&45!==a&&58!==a)return!1;for(;l<e.eMarks[p];){if(a=e.src.charCodeAt(l),124!==a&&45!==a&&58!==a&&!o(a))return!1;l++}for(c=n(e,r+1),h=c.split("|"),m=[],u=0;u<h.length;u++){if(_=h[u].trim(),!_){if(0===u||u===h.length-1)continue;return!1}if(!/^:?-+:?$/.test(_))return!1;58===_.charCodeAt(_.length-1)?m.push(58===_.charCodeAt(0)?"center":"right"):58===_.charCodeAt(0)?m.push("left"):m.push("")}if(c=n(e,r).trim(),c.indexOf("|")===-1)return!1;if(h=s(c.replace(/^\||\|$/g,"")),f=h.length,f>m.length)return!1;if(i)return!0;for(d=e.push("table_open","table",1),d.map=g=[r,0],d=e.push("thead_open","thead",1),d.map=[r,r+1],d=e.push("tr_open","tr",1),d.map=[r,r+1],u=0;u<h.length;u++)d=e.push("th_open","th",1),d.map=[r,r+1],m[u]&&(d.attrs=[["style","text-align:"+m[u]]]),d=e.push("inline","",0),d.content=h[u].trim(),d.map=[r,r+1],d.children=[],d=e.push("th_close","th",-1);for(d=e.push("tr_close","tr",-1),d=e.push("thead_close","thead",-1),d=e.push("tbody_open","tbody",1),d.map=b=[r+2,0],p=r+2;p<t&&!(e.sCount[p]<e.blkIndent)&&(c=n(e,p),c.indexOf("|")!==-1);p++){for(h=s(c.replace(/^\||\|\s*$/g,"")),d=e.push("tr_open","tr",1),u=0;u<f;u++)d=e.push("td_open","td",1),m[u]&&(d.attrs=[["style","text-align:"+m[u]]]),d=e.push("inline","",0),d.content=h[u]?h[u].trim():"",d.children=[],d=e.push("td_close","td",-1);d=e.push("tr_close","tr",-1)}return d=e.push("tbody_close","tbody",-1),d=e.push("table_close","table",-1),g[1]=b[1]=p,e.line=p,!0}},{"../common/utils":4}],30:[function(e,r,t){"use strict";r.exports=function(e){var r;e.inlineMode?(r=new e.Token("inline","",0),r.content=e.src,r.map=[0,1],r.children=[],e.tokens.push(r)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},{}],31:[function(e,r,t){"use strict";r.exports=function(e){var r,t,n,s=e.tokens;for(t=0,n=s.length;t<n;t++)r=s[t],"inline"===r.type&&e.md.inline.parse(r.content,e.md,e.env,r.children)}},{}],32:[function(e,r,t){"use strict";function n(e){return/^<a[>\s]/i.test(e)}function s(e){return/^<\/a\s*>/i.test(e)}var o=e("../common/utils").arrayReplaceAt;r.exports=function(e){var r,t,i,a,c,l,u,p,h,f,d,m,_,g,b,k,v,y=e.tokens;if(e.md.options.linkify)for(t=0,i=y.length;t<i;t++)if("inline"===y[t].type&&e.md.linkify.pretest(y[t].content))for(a=y[t].children,_=0,r=a.length-1;r>=0;r--)if(l=a[r],"link_close"!==l.type){if("html_inline"===l.type&&(n(l.content)&&_>0&&_--,s(l.content)&&_++),!(_>0)&&"text"===l.type&&e.md.linkify.test(l.content)){for(h=l.content,v=e.md.linkify.match(h),u=[],m=l.level,d=0,p=0;p<v.length;p++)g=v[p].url,b=e.md.normalizeLink(g),e.md.validateLink(b)&&(k=v[p].text,k=v[p].schema?"mailto:"!==v[p].schema||/^mailto:/i.test(k)?e.md.normalizeLinkText(k):e.md.normalizeLinkText("mailto:"+k).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+k).replace(/^http:\/\//,""),f=v[p].index,f>d&&(c=new e.Token("text","",0),c.content=h.slice(d,f),c.level=m,u.push(c)),c=new e.Token("link_open","a",1),c.attrs=[["href",b]],c.level=m++,c.markup="linkify",c.info="auto",u.push(c),c=new e.Token("text","",0),c.content=k,c.level=m,u.push(c),c=new e.Token("link_close","a",-1),c.level=--m,c.markup="linkify",c.info="auto",u.push(c),d=v[p].lastIndex);d<h.length&&(c=new e.Token("text","",0),c.content=h.slice(d),c.level=m,u.push(c)),y[t].children=a=o(a,r,u)}}else for(r--;a[r].level!==l.level&&"link_open"!==a[r].type;)r--}},{"../common/utils":4}],33:[function(e,r,t){"use strict";var n=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,s=/\u0000/g;r.exports=function(e){var r;r=e.src.replace(n,"\n"),r=r.replace(s,"\ufffd"),e.src=r}},{}],34:[function(e,r,t){"use strict";function n(e,r){return l[r.toLowerCase()]}function s(e){var r,t,s=0;for(r=e.length-1;r>=0;r--)t=e[r],"text"!==t.type||s||(t.content=t.content.replace(c,n)),"link_open"===t.type&&"auto"===t.info&&s--,"link_close"===t.type&&"auto"===t.info&&s++}function o(e){var r,t,n=0;for(r=e.length-1;r>=0;r--)t=e[r],"text"!==t.type||n||i.test(t.content)&&(t.content=t.content.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1\u2014$2").replace(/(^|\s)--(\s|$)/gm,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1\u2013$2")),"link_open"===t.type&&"auto"===t.info&&n--,"link_close"===t.type&&"auto"===t.info&&n++}var i=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,a=/\((c|tm|r|p)\)/i,c=/\((c|tm|r|p)\)/gi,l={c:"\xa9",r:"\xae",p:"\xa7",tm:"\u2122"};r.exports=function(e){var r;if(e.md.options.typographer)for(r=e.tokens.length-1;r>=0;r--)"inline"===e.tokens[r].type&&(a.test(e.tokens[r].content)&&s(e.tokens[r].children),i.test(e.tokens[r].content)&&o(e.tokens[r].children))}},{}],35:[function(e,r,t){"use strict";function n(e,r,t){return e.substr(0,r)+t+e.substr(r+1)}function s(e,r){var t,s,c,p,h,f,d,m,_,g,b,k,v,y,x,C,A,w,D,q,E;for(D=[],t=0;t<e.length;t++){for(s=e[t],d=e[t].level,A=D.length-1;A>=0&&!(D[A].level<=d);A--);if(D.length=A+1,"text"===s.type){c=s.content,h=0,f=c.length;e:for(;h<f&&(l.lastIndex=h,p=l.exec(c));){if(x=C=!0,h=p.index+1,w="'"===p[0],_=32,p.index-1>=0)_=c.charCodeAt(p.index-1);else for(A=t-1;A>=0;A--)if("text"===e[A].type){_=e[A].content.charCodeAt(e[A].content.length-1);break}if(g=32,h<f)g=c.charCodeAt(h);else for(A=t+1;A<e.length;A++)if("text"===e[A].type){g=e[A].content.charCodeAt(0);break}if(b=a(_)||i(String.fromCharCode(_)),k=a(g)||i(String.fromCharCode(g)),v=o(_),y=o(g),y?x=!1:k&&(v||b||(x=!1)),v?C=!1:b&&(y||k||(C=!1)),34===g&&'"'===p[0]&&_>=48&&_<=57&&(C=x=!1),x&&C&&(x=!1,C=k),x||C){if(C)for(A=D.length-1;A>=0&&(m=D[A],!(D[A].level<d));A--)if(m.single===w&&D[A].level===d){m=D[A],w?(q=r.md.options.quotes[2],E=r.md.options.quotes[3]):(q=r.md.options.quotes[0],E=r.md.options.quotes[1]),s.content=n(s.content,p.index,E),e[m.token].content=n(e[m.token].content,m.pos,q),h+=E.length-1,m.token===t&&(h+=q.length-1),c=s.content,f=c.length,D.length=A;continue e}x?D.push({token:t,pos:p.index,single:w,level:d}):C&&w&&(s.content=n(s.content,p.index,u))}else w&&(s.content=n(s.content,p.index,u))}}}}var o=e("../common/utils").isWhiteSpace,i=e("../common/utils").isPunctChar,a=e("../common/utils").isMdAsciiPunct,c=/['"]/,l=/['"]/g,u="\u2019";r.exports=function(e){var r;if(e.md.options.typographer)for(r=e.tokens.length-1;r>=0;r--)"inline"===e.tokens[r].type&&c.test(e.tokens[r].content)&&s(e.tokens[r].children,e)}},{"../common/utils":4}],36:[function(e,r,t){"use strict";function n(e,r,t){this.src=e,this.env=t,this.tokens=[],this.inlineMode=!1,this.md=r}var s=e("../token");n.prototype.Token=s,r.exports=n},{"../token":51}],37:[function(e,r,t){"use strict";var n=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,s=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;r.exports=function(e,r){var t,o,i,a,c,l,u=e.pos;return 60===e.src.charCodeAt(u)&&(t=e.src.slice(u),!(t.indexOf(">")<0)&&(s.test(t)?(o=t.match(s),a=o[0].slice(1,-1),c=e.md.normalizeLink(a),!!e.md.validateLink(c)&&(r||(l=e.push("link_open","a",1),l.attrs=[["href",c]],l.markup="autolink",l.info="auto",l=e.push("text","",0),l.content=e.md.normalizeLinkText(a),l=e.push("link_close","a",-1),l.markup="autolink",l.info="auto"),e.pos+=o[0].length,!0)):!!n.test(t)&&(i=t.match(n),a=i[0].slice(1,-1),c=e.md.normalizeLink("mailto:"+a),!!e.md.validateLink(c)&&(r||(l=e.push("link_open","a",1),l.attrs=[["href",c]],l.markup="autolink",l.info="auto",l=e.push("text","",0),l.content=e.md.normalizeLinkText(a),l=e.push("link_close","a",-1),l.markup="autolink",l.info="auto"),e.pos+=i[0].length,!0))))}},{}],38:[function(e,r,t){"use strict";r.exports=function(e,r){var t,n,s,o,i,a,c=e.pos,l=e.src.charCodeAt(c);if(96!==l)return!1;for(t=c,c++,n=e.posMax;c<n&&96===e.src.charCodeAt(c);)c++;for(s=e.src.slice(t,c),o=i=c;(o=e.src.indexOf("`",i))!==-1;){for(i=o+1;i<n&&96===e.src.charCodeAt(i);)i++;if(i-o===s.length)return r||(a=e.push("code_inline","code",0),a.markup=s,a.content=e.src.slice(c,o).replace(/[ \n]+/g," ").trim()),e.pos=i,!0}return r||(e.pending+=s),e.pos+=s.length,!0}},{}],39:[function(e,r,t){"use strict";r.exports=function(e){var r,t,n,s,o=e.delimiters,i=e.delimiters.length;for(r=0;r<i;r++)if(n=o[r],n.close)for(t=r-n.jump-1;t>=0;){if(s=o[t],s.open&&s.marker===n.marker&&s.end<0&&s.level===n.level){var a=(s.close||n.open)&&"undefined"!=typeof s.length&&"undefined"!=typeof n.length&&(s.length+n.length)%3===0;if(!a){n.jump=r-t,n.open=!1,s.end=r,s.jump=0;break}}t-=s.jump+1}}},{}],40:[function(e,r,t){"use strict";r.exports.tokenize=function(e,r){var t,n,s,o=e.pos,i=e.src.charCodeAt(o);if(r)return!1;if(95!==i&&42!==i)return!1;for(n=e.scanDelims(e.pos,42===i),t=0;t<n.length;t++)s=e.push("text","",0),s.content=String.fromCharCode(i),e.delimiters.push({marker:i,length:n.length,jump:t,token:e.tokens.length-1,level:e.level,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},r.exports.postProcess=function(e){var r,t,n,s,o,i,a=e.delimiters,c=e.delimiters.length;for(r=0;r<c;r++)t=a[r],95!==t.marker&&42!==t.marker||t.end!==-1&&(n=a[t.end],i=r+1<c&&a[r+1].end===t.end-1&&a[r+1].token===t.token+1&&a[t.end-1].token===n.token-1&&a[r+1].marker===t.marker,o=String.fromCharCode(t.marker),s=e.tokens[t.token],s.type=i?"strong_open":"em_open",s.tag=i?"strong":"em",s.nesting=1,s.markup=i?o+o:o,s.content="",s=e.tokens[n.token],s.type=i?"strong_close":"em_close",s.tag=i?"strong":"em",s.nesting=-1,s.markup=i?o+o:o,s.content="",i&&(e.tokens[a[r+1].token].content="",e.tokens[a[t.end-1].token].content="",r++))}},{}],41:[function(e,r,t){"use strict";var n=e("../common/entities"),s=e("../common/utils").has,o=e("../common/utils").isValidEntityCode,i=e("../common/utils").fromCodePoint,a=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,c=/^&([a-z][a-z0-9]{1,31});/i;r.exports=function(e,r){var t,l,u,p=e.pos,h=e.posMax;if(38!==e.src.charCodeAt(p))return!1;if(p+1<h)if(t=e.src.charCodeAt(p+1),35===t){if(u=e.src.slice(p).match(a))return r||(l="x"===u[1][0].toLowerCase()?parseInt(u[1].slice(1),16):parseInt(u[1],10),e.pending+=i(o(l)?l:65533)),e.pos+=u[0].length,!0}else if(u=e.src.slice(p).match(c),u&&s(n,u[1]))return r||(e.pending+=n[u[1]]),e.pos+=u[0].length,!0;return r||(e.pending+="&"),e.pos++,!0}},{"../common/entities":1,"../common/utils":4}],42:[function(e,r,t){"use strict";for(var n=e("../common/utils").isSpace,s=[],o=0;o<256;o++)s.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){s[e.charCodeAt(0)]=1}),r.exports=function(e,r){var t,o=e.pos,i=e.posMax;if(92!==e.src.charCodeAt(o))return!1;if(o++,o<i){if(t=e.src.charCodeAt(o),t<256&&0!==s[t])return r||(e.pending+=e.src[o]),e.pos+=2,!0;if(10===t){for(r||e.push("hardbreak","br",0),o++;o<i&&(t=e.src.charCodeAt(o),n(t));)o++;return e.pos=o,!0}}return r||(e.pending+="\\"),e.pos++,!0}},{"../common/utils":4}],43:[function(e,r,t){"use strict";function n(e){var r=32|e;return r>=97&&r<=122}var s=e("../common/html_re").HTML_TAG_RE;r.exports=function(e,r){var t,o,i,a,c=e.pos;return!!e.md.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(c)||c+2>=i)&&(t=e.src.charCodeAt(c+1),!(33!==t&&63!==t&&47!==t&&!n(t))&&(!!(o=e.src.slice(c).match(s))&&(r||(a=e.push("html_inline","",0),a.content=e.src.slice(c,c+o[0].length)),e.pos+=o[0].length,!0))))}},{"../common/html_re":3}],44:[function(e,r,t){"use strict";var n=e("../common/utils").normalizeReference,s=e("../common/utils").isSpace;r.exports=function(e,r){var t,o,i,a,c,l,u,p,h,f,d,m,_,g="",b=e.pos,k=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(l=e.pos+2,c=e.md.helpers.parseLinkLabel(e,e.pos+1,!1),c<0)return!1;if(u=c+1,u<k&&40===e.src.charCodeAt(u)){for(u++;u<k&&(o=e.src.charCodeAt(u),s(o)||10===o);u++);if(u>=k)return!1;for(_=u,h=e.md.helpers.parseLinkDestination(e.src,u,e.posMax),h.ok&&(g=e.md.normalizeLink(h.str),e.md.validateLink(g)?u=h.pos:g=""),_=u;u<k&&(o=e.src.charCodeAt(u),s(o)||10===o);u++);if(h=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<k&&_!==u&&h.ok)for(f=h.str,u=h.pos;u<k&&(o=e.src.charCodeAt(u),s(o)||10===o);u++);else f="";if(u>=k||41!==e.src.charCodeAt(u))return e.pos=b,!1;u++}else{if("undefined"==typeof e.env.references)return!1;if(u<k&&91===e.src.charCodeAt(u)?(_=u+1,u=e.md.helpers.parseLinkLabel(e,u),u>=0?a=e.src.slice(_,u++):u=c+1):u=c+1,a||(a=e.src.slice(l,c)),p=e.env.references[n(a)],!p)return e.pos=b,!1;g=p.href,f=p.title}return r||(i=e.src.slice(l,c),e.md.inline.parse(i,e.md,e.env,m=[]),d=e.push("image","img",0),d.attrs=t=[["src",g],["alt",""]],d.children=m,d.content=i,f&&t.push(["title",f])),e.pos=u,e.posMax=k,!0}},{"../common/utils":4}],45:[function(e,r,t){"use strict";var n=e("../common/utils").normalizeReference,s=e("../common/utils").isSpace;r.exports=function(e,r){var t,o,i,a,c,l,u,p,h,f,d="",m=e.pos,_=e.posMax,g=e.pos;if(91!==e.src.charCodeAt(e.pos))return!1;if(c=e.pos+1,a=e.md.helpers.parseLinkLabel(e,e.pos,!0),a<0)return!1;if(l=a+1,l<_&&40===e.src.charCodeAt(l)){for(l++;l<_&&(o=e.src.charCodeAt(l),s(o)||10===o);l++);if(l>=_)return!1;for(g=l,u=e.md.helpers.parseLinkDestination(e.src,l,e.posMax),u.ok&&(d=e.md.normalizeLink(u.str),e.md.validateLink(d)?l=u.pos:d=""),g=l;l<_&&(o=e.src.charCodeAt(l),s(o)||10===o);l++);if(u=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<_&&g!==l&&u.ok)for(h=u.str,l=u.pos;l<_&&(o=e.src.charCodeAt(l),s(o)||10===o);l++);else h="";if(l>=_||41!==e.src.charCodeAt(l))return e.pos=m,!1;l++}else{if("undefined"==typeof e.env.references)return!1;if(l<_&&91===e.src.charCodeAt(l)?(g=l+1,l=e.md.helpers.parseLinkLabel(e,l),l>=0?i=e.src.slice(g,l++):l=a+1):l=a+1,i||(i=e.src.slice(c,a)),p=e.env.references[n(i)],!p)return e.pos=m,!1;d=p.href,h=p.title}return r||(e.pos=c,e.posMax=a,f=e.push("link_open","a",1),f.attrs=t=[["href",d]],h&&t.push(["title",h]),e.md.inline.tokenize(e),f=e.push("link_close","a",-1)),e.pos=l,e.posMax=_,!0}},{"../common/utils":4}],46:[function(e,r,t){"use strict";r.exports=function(e,r){var t,n,s=e.pos;if(10!==e.src.charCodeAt(s))return!1;for(t=e.pending.length-1,n=e.posMax,r||(t>=0&&32===e.pending.charCodeAt(t)?t>=1&&32===e.pending.charCodeAt(t-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),s++;s<n&&32===e.src.charCodeAt(s);)s++;return e.pos=s,!0}},{}],47:[function(e,r,t){"use strict";function n(e,r,t,n){this.src=e,this.env=t,this.md=r,this.tokens=n,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}var s=e("../token"),o=e("../common/utils").isWhiteSpace,i=e("../common/utils").isPunctChar,a=e("../common/utils").isMdAsciiPunct;n.prototype.pushPending=function(){var e=new s("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},n.prototype.push=function(e,r,t){this.pending&&this.pushPending();var n=new s(e,r,t);return t<0&&this.level--,n.level=this.level,t>0&&this.level++,this.pendingLevel=this.level,this.tokens.push(n),n},n.prototype.scanDelims=function(e,r){var t,n,s,c,l,u,p,h,f,d=e,m=!0,_=!0,g=this.posMax,b=this.src.charCodeAt(e);for(t=e>0?this.src.charCodeAt(e-1):32;d<g&&this.src.charCodeAt(d)===b;)d++;return s=d-e,n=d<g?this.src.charCodeAt(d):32,p=a(t)||i(String.fromCharCode(t)),f=a(n)||i(String.fromCharCode(n)),u=o(t),h=o(n),h?m=!1:f&&(u||p||(m=!1)),u?_=!1:p&&(h||f||(_=!1)),r?(c=m,l=_):(c=m&&(!_||p),l=_&&(!m||f)),{can_open:c,can_close:l,length:s}},n.prototype.Token=s,r.exports=n},{"../common/utils":4,"../token":51}],48:[function(e,r,t){"use strict";r.exports.tokenize=function(e,r){var t,n,s,o,i,a=e.pos,c=e.src.charCodeAt(a);if(r)return!1;if(126!==c)return!1;if(n=e.scanDelims(e.pos,!0),o=n.length,i=String.fromCharCode(c),o<2)return!1;for(o%2&&(s=e.push("text","",0),s.content=i,o--),t=0;t<o;t+=2)s=e.push("text","",0),s.content=i+i,e.delimiters.push({marker:c,jump:t,token:e.tokens.length-1,level:e.level,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},r.exports.postProcess=function(e){var r,t,n,s,o,i=[],a=e.delimiters,c=e.delimiters.length;for(r=0;r<c;r++)n=a[r],126===n.marker&&n.end!==-1&&(s=a[n.end],o=e.tokens[n.token],o.type="s_open",o.tag="s",o.nesting=1,o.markup="~~",o.content="",o=e.tokens[s.token],o.type="s_close",o.tag="s",o.nesting=-1,o.markup="~~",o.content="","text"===e.tokens[s.token-1].type&&"~"===e.tokens[s.token-1].content&&i.push(s.token-1));for(;i.length;){for(r=i.pop(),t=r+1;t<e.tokens.length&&"s_close"===e.tokens[t].type;)t++;t--,r!==t&&(o=e.tokens[t],e.tokens[t]=e.tokens[r],e.tokens[r]=o)}}},{}],49:[function(e,r,t){"use strict";function n(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}r.exports=function(e,r){for(var t=e.pos;t<e.posMax&&!n(e.src.charCodeAt(t));)t++;return t!==e.pos&&(r||(e.pending+=e.src.slice(e.pos,t)),e.pos=t,!0)}},{}],50:[function(e,r,t){"use strict";r.exports=function(e){var r,t,n=0,s=e.tokens,o=e.tokens.length;for(r=t=0;r<o;r++)n+=s[r].nesting,s[r].level=n,"text"===s[r].type&&r+1<o&&"text"===s[r+1].type?s[r+1].content=s[r].content+s[r+1].content:(r!==t&&(s[t]=s[r]),t++);r!==t&&(s.length=t)}},{}],51:[function(e,r,t){"use strict";function n(e,r,t){this.type=e,this.tag=r,this.attrs=null,this.map=null,this.nesting=t,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}n.prototype.attrIndex=function(e){var r,t,n;if(!this.attrs)return-1;for(r=this.attrs,t=0,n=r.length;t<n;t++)if(r[t][0]===e)return t;return-1},n.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},n.prototype.attrSet=function(e,r){var t=this.attrIndex(e),n=[e,r];t<0?this.attrPush(n):this.attrs[t]=n},n.prototype.attrGet=function(e){var r=this.attrIndex(e),t=null;return r>=0&&(t=this.attrs[r][1]),t},n.prototype.attrJoin=function(e,r){var t=this.attrIndex(e);t<0?this.attrPush([e,r]):this.attrs[t][1]=this.attrs[t][1]+" "+r},r.exports=n},{}],52:[function(e,r,t){r.exports={Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\xa6",bscr:"\ud835\udcb7",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",centerdot:"\xb7",CenterDot:"\xb7",cfr:"\ud835\udd20",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\ud835\udd54",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xa9",COPY:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\xca",ecirc:"\xea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\ud835\udcbb",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\ud835\udd25",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\ud835\udd59",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\ud835\udcbd",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",ifr:"\ud835\udd26",Ifr:"\u2111",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105",in:"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba",int:"\u222b",Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",iscr:"\ud835\udcbe",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",
Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",LeftVectorBar:"\u2952",LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\ud835\udcc1",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\xb5",midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\xb7",minusb:"\u229f",minus:"\u2212",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",mscr:"\ud835\udcc2",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nopf:"\ud835\udd5f",Nopf:"\u2115",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",Ocirc:"\xd4",ocirc:"\xf4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",para:"\xb6",parallel:"\u2225",par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\ud835\udd61",Popf:"\u2119",pound:"\xa3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",qopf:"\ud835\udd62",Qopf:"\u211a",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\xae",REG:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\ud835\udd2f",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",RightDownVector:"\u21c2",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\ud835\udd63",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\ud835\udcc7",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\xd7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",yuml:"\xff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\ud835\udd37",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\ud835\udd6b",Zopf:"\u2124",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},{}],53:[function(e,r,t){"use strict";function n(e){var r=Array.prototype.slice.call(arguments,1);return r.forEach(function(r){r&&Object.keys(r).forEach(function(t){e[t]=r[t]})}),e}function s(e){return Object.prototype.toString.call(e)}function o(e){return"[object String]"===s(e)}function i(e){return"[object Object]"===s(e)}function a(e){return"[object RegExp]"===s(e)}function c(e){return"[object Function]"===s(e)}function l(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function u(e){return Object.keys(e||{}).reduce(function(e,r){return e||b.hasOwnProperty(r)},!1)}function p(e){e.__index__=-1,e.__text_cache__=""}function h(e){return function(r,t){var n=r.slice(t);return e.test(n)?n.match(e)[0].length:0}}function f(){return function(e,r){r.normalize(e)}}function d(r){function t(e){return e.replace("%TLDS%",s.src_tlds)}function n(e,r){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+r)}var s=r.re=e("./lib/re")(r.__opts__),u=r.__tlds__.slice();r.onCompile(),r.__tlds_replaced__||u.push(v),u.push(s.src_xn),s.src_tlds=u.join("|"),s.email_fuzzy=RegExp(t(s.tpl_email_fuzzy),"i"),s.link_fuzzy=RegExp(t(s.tpl_link_fuzzy),"i"),s.link_no_ip_fuzzy=RegExp(t(s.tpl_link_no_ip_fuzzy),"i"),s.host_fuzzy_test=RegExp(t(s.tpl_host_fuzzy_test),"i");var d=[];r.__compiled__={},Object.keys(r.__schemas__).forEach(function(e){var t=r.__schemas__[e];if(null!==t){var s={validate:null,link:null};return r.__compiled__[e]=s,i(t)?(a(t.validate)?s.validate=h(t.validate):c(t.validate)?s.validate=t.validate:n(e,t),void(c(t.normalize)?s.normalize=t.normalize:t.normalize?n(e,t):s.normalize=f())):o(t)?void d.push(e):void n(e,t)}}),d.forEach(function(e){r.__compiled__[r.__schemas__[e]]&&(r.__compiled__[e].validate=r.__compiled__[r.__schemas__[e]].validate,r.__compiled__[e].normalize=r.__compiled__[r.__schemas__[e]].normalize)}),r.__compiled__[""]={validate:null,normalize:f()};var m=Object.keys(r.__compiled__).filter(function(e){return e.length>0&&r.__compiled__[e]}).map(l).join("|");r.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+s.src_ZPCc+"))("+m+")","i"),r.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+s.src_ZPCc+"))("+m+")","ig"),r.re.pretest=RegExp("("+r.re.schema_test.source+")|("+r.re.host_fuzzy_test.source+")|@","i"),p(r)}function m(e,r){var t=e.__index__,n=e.__last_index__,s=e.__text_cache__.slice(t,n);this.schema=e.__schema__.toLowerCase(),this.index=t+r,this.lastIndex=n+r,this.raw=s,this.text=s,this.url=s}function _(e,r){var t=new m(e,r);return e.__compiled__[t.schema].normalize(t,e),t}function g(e,r){return this instanceof g?(r||u(e)&&(r=e,e={}),this.__opts__=n({},b,r),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},k,e),this.__compiled__={},this.__tlds__=y,this.__tlds_replaced__=!1,this.re={},void d(this)):new g(e,r)}var b={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},k={"http:":{validate:function(e,r,t){var n=e.slice(r);return t.re.http||(t.re.http=new RegExp("^\\/\\/"+t.re.src_auth+t.re.src_host_port_strict+t.re.src_path,"i")),t.re.http.test(n)?n.match(t.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,r,t){var n=e.slice(r);return t.re.no_http||(t.re.no_http=new RegExp("^"+t.re.src_auth+"(?:localhost|(?:(?:"+t.re.src_domain+")\\.)+"+t.re.src_domain_root+")"+t.re.src_port+t.re.src_host_terminator+t.re.src_path,"i")),t.re.no_http.test(n)?r>=3&&":"===e[r-3]?0:r>=3&&"/"===e[r-3]?0:n.match(t.re.no_http)[0].length:0}},"mailto:":{validate:function(e,r,t){var n=e.slice(r);return t.re.mailto||(t.re.mailto=new RegExp("^"+t.re.src_email_name+"@"+t.re.src_host_strict,"i")),t.re.mailto.test(n)?n.match(t.re.mailto)[0].length:0}}},v="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",y="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");g.prototype.add=function(e,r){return this.__schemas__[e]=r,d(this),this},g.prototype.set=function(e){return this.__opts__=n(this.__opts__,e),this},g.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var r,t,n,s,o,i,a,c,l;if(this.re.schema_test.test(e))for(a=this.re.schema_search,a.lastIndex=0;null!==(r=a.exec(e));)if(s=this.testSchemaAt(e,r[2],a.lastIndex)){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+s;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&null!==(t=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=t.index+t[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=t.index+t[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=e.indexOf("@"),l>=0&&null!==(n=e.match(this.re.email_fuzzy))&&(o=n.index+n[1].length,i=n.index+n[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=i))),this.__index__>=0},g.prototype.pretest=function(e){return this.re.pretest.test(e)},g.prototype.testSchemaAt=function(e,r,t){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(e,t,this):0},g.prototype.match=function(e){var r=0,t=[];this.__index__>=0&&this.__text_cache__===e&&(t.push(_(this,r)),r=this.__last_index__);for(var n=r?e.slice(r):e;this.test(n);)t.push(_(this,r)),n=n.slice(this.__last_index__),r+=this.__last_index__;return t.length?t:null},g.prototype.tlds=function(e,r){return e=Array.isArray(e)?e:[e],r?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,r,t){return e!==t[r-1]}).reverse(),d(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,d(this),this)},g.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},g.prototype.onCompile=function(){},r.exports=g},{"./lib/re":54}],54:[function(e,r,t){"use strict";r.exports=function(r){var t={};return t.src_Any=e("uc.micro/properties/Any/regex").source,t.src_Cc=e("uc.micro/categories/Cc/regex").source,t.src_Z=e("uc.micro/categories/Z/regex").source,t.src_P=e("uc.micro/categories/P/regex").source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|"),t.src_pseudo_letter="(?:(?!>|<|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|>|<|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[()[\\]{}.,\"'?!\\-<>]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(r&&r["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|<|>|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},{"uc.micro/categories/Cc/regex":61,"uc.micro/categories/P/regex":63,"uc.micro/categories/Z/regex":64,"uc.micro/properties/Any/regex":66}],55:[function(e,r,t){"use strict";function n(e){var r,t,n=o[e];if(n)return n;for(n=o[e]=[],r=0;r<128;r++)t=String.fromCharCode(r),n.push(t);for(r=0;r<e.length;r++)t=e.charCodeAt(r),n[t]="%"+("0"+t.toString(16).toUpperCase()).slice(-2);return n}function s(e,r){var t;return"string"!=typeof r&&(r=s.defaultChars),t=n(r),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var r,n,s,o,i,a,c,l="";for(r=0,n=e.length;r<n;r+=3)s=parseInt(e.slice(r+1,r+3),16),s<128?l+=t[s]:192===(224&s)&&r+3<n&&(o=parseInt(e.slice(r+4,r+6),16),
128===(192&o))?(c=s<<6&1984|63&o,l+=c<128?"\ufffd\ufffd":String.fromCharCode(c),r+=3):224===(240&s)&&r+6<n&&(o=parseInt(e.slice(r+4,r+6),16),i=parseInt(e.slice(r+7,r+9),16),128===(192&o)&&128===(192&i))?(c=s<<12&61440|o<<6&4032|63&i,l+=c<2048||c>=55296&&c<=57343?"\ufffd\ufffd\ufffd":String.fromCharCode(c),r+=6):240===(248&s)&&r+9<n&&(o=parseInt(e.slice(r+4,r+6),16),i=parseInt(e.slice(r+7,r+9),16),a=parseInt(e.slice(r+10,r+12),16),128===(192&o)&&128===(192&i)&&128===(192&a))?(c=s<<18&1835008|o<<12&258048|i<<6&4032|63&a,c<65536||c>1114111?l+="\ufffd\ufffd\ufffd\ufffd":(c-=65536,l+=String.fromCharCode(55296+(c>>10),56320+(1023&c))),r+=9):l+="\ufffd";return l})}var o={};s.defaultChars=";/?:@&=+$,#",s.componentChars="",r.exports=s},{}],56:[function(e,r,t){"use strict";function n(e){var r,t,n=o[e];if(n)return n;for(n=o[e]=[],r=0;r<128;r++)t=String.fromCharCode(r),/^[0-9a-z]$/i.test(t)?n.push(t):n.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2));for(r=0;r<e.length;r++)n[e.charCodeAt(r)]=e[r];return n}function s(e,r,t){var o,i,a,c,l,u="";for("string"!=typeof r&&(t=r,r=s.defaultChars),"undefined"==typeof t&&(t=!0),l=n(r),o=0,i=e.length;o<i;o++)if(a=e.charCodeAt(o),t&&37===a&&o+2<i&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))u+=e.slice(o,o+3),o+=2;else if(a<128)u+=l[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&o+1<i&&(c=e.charCodeAt(o+1),c>=56320&&c<=57343)){u+=encodeURIComponent(e[o]+e[o+1]),o++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[o]);return u}var o={};s.defaultChars=";/?:@&=+$,-_.!~*'()#",s.componentChars="-_.!~*'()",r.exports=s},{}],57:[function(e,r,t){"use strict";r.exports=function(e){var r="";return r+=e.protocol||"",r+=e.slashes?"//":"",r+=e.auth?e.auth+"@":"",r+=e.hostname&&e.hostname.indexOf(":")!==-1?"["+e.hostname+"]":e.hostname||"",r+=e.port?":"+e.port:"",r+=e.pathname||"",r+=e.search||"",r+=e.hash||""}},{}],58:[function(e,r,t){"use strict";r.exports.encode=e("./encode"),r.exports.decode=e("./decode"),r.exports.format=e("./format"),r.exports.parse=e("./parse")},{"./decode":55,"./encode":56,"./format":57,"./parse":59}],59:[function(e,r,t){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}function s(e,r){if(e&&e instanceof n)return e;var t=new n;return t.parse(e,r),t}var o=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["<",">",'"',"`"," ","\r","\n","\t"],l=["{","}","|","\\","^","`"].concat(c),u=["'"].concat(l),p=["%","/","?",";","#"].concat(u),h=["/","?","#"],f=255,d=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};n.prototype.parse=function(e,r){var t,n,s,i,c,l=e;if(l=l.trim(),!r&&1===e.split("#").length){var u=a.exec(l);if(u)return this.pathname=u[1],u[2]&&(this.search=u[2]),this}var b=o.exec(l);if(b&&(b=b[0],s=b.toLowerCase(),this.protocol=b,l=l.substr(b.length)),(r||b||l.match(/^\/\/[^@\/]+@[^@\/]+/))&&(c="//"===l.substr(0,2),!c||b&&_[b]||(l=l.substr(2),this.slashes=!0)),!_[b]&&(c||b&&!g[b])){var k=-1;for(t=0;t<h.length;t++)i=l.indexOf(h[t]),i!==-1&&(k===-1||i<k)&&(k=i);var v,y;for(y=k===-1?l.lastIndexOf("@"):l.lastIndexOf("@",k),y!==-1&&(v=l.slice(0,y),l=l.slice(y+1),this.auth=v),k=-1,t=0;t<p.length;t++)i=l.indexOf(p[t]),i!==-1&&(k===-1||i<k)&&(k=i);k===-1&&(k=l.length),":"===l[k-1]&&k--;var x=l.slice(0,k);l=l.slice(k),this.parseHost(x),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C){var A=this.hostname.split(/\./);for(t=0,n=A.length;t<n;t++){var w=A[t];if(w&&!w.match(d)){for(var D="",q=0,E=w.length;q<E;q++)D+=w.charCodeAt(q)>127?"x":w[q];if(!D.match(d)){var S=A.slice(0,t),F=A.slice(t+1),L=w.match(m);L&&(S.push(L[1]),F.unshift(L[2])),F.length&&(l=F.join(".")+l),this.hostname=S.join(".");break}}}}this.hostname.length>f&&(this.hostname=""),C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var z=l.indexOf("#");z!==-1&&(this.hash=l.substr(z),l=l.slice(0,z));var T=l.indexOf("?");return T!==-1&&(this.search=l.substr(T),l=l.slice(0,T)),l&&(this.pathname=l),g[s]&&this.hostname&&!this.pathname&&(this.pathname=""),this},n.prototype.parseHost=function(e){var r=i.exec(e);r&&(r=r[0],":"!==r&&(this.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(this.hostname=e)},r.exports=s},{}],60:[function(r,t,n){(function(r){!function(s){function o(e){throw new RangeError(R[e])}function i(e,r){for(var t=e.length,n=[];t--;)n[t]=r(e[t]);return n}function a(e,r){var t=e.split("@"),n="";t.length>1&&(n=t[0]+"@",e=t[1]),e=e.replace(T,".");var s=e.split("."),o=i(s,r).join(".");return n+o}function c(e){for(var r,t,n=[],s=0,o=e.length;s<o;)r=e.charCodeAt(s++),r>=55296&&r<=56319&&s<o?(t=e.charCodeAt(s++),56320==(64512&t)?n.push(((1023&r)<<10)+(1023&t)+65536):(n.push(r),s--)):n.push(r);return n}function l(e){return i(e,function(e){var r="";return e>65535&&(e-=65536,r+=B(e>>>10&1023|55296),e=56320|1023&e),r+=B(e)}).join("")}function u(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:C}function p(e,r){return e+22+75*(e<26)-((0!=r)<<5)}function h(e,r,t){var n=0;for(e=t?I(e/q):e>>1,e+=I(e/r);e>M*w>>1;n+=C)e=I(e/M);return I(n+(M+1)*e/(e+D))}function f(e){var r,t,n,s,i,a,c,p,f,d,m=[],_=e.length,g=0,b=S,k=E;for(t=e.lastIndexOf(F),t<0&&(t=0),n=0;n<t;++n)e.charCodeAt(n)>=128&&o("not-basic"),m.push(e.charCodeAt(n));for(s=t>0?t+1:0;s<_;){for(i=g,a=1,c=C;s>=_&&o("invalid-input"),p=u(e.charCodeAt(s++)),(p>=C||p>I((x-g)/a))&&o("overflow"),g+=p*a,f=c<=k?A:c>=k+w?w:c-k,!(p<f);c+=C)d=C-f,a>I(x/d)&&o("overflow"),a*=d;r=m.length+1,k=h(g-i,r,0==i),I(g/r)>x-b&&o("overflow"),b+=I(g/r),g%=r,m.splice(g++,0,b)}return l(m)}function d(e){var r,t,n,s,i,a,l,u,f,d,m,_,g,b,k,v=[];for(e=c(e),_=e.length,r=S,t=0,i=E,a=0;a<_;++a)m=e[a],m<128&&v.push(B(m));for(n=s=v.length,s&&v.push(F);n<_;){for(l=x,a=0;a<_;++a)m=e[a],m>=r&&m<l&&(l=m);for(g=n+1,l-r>I((x-t)/g)&&o("overflow"),t+=(l-r)*g,r=l,a=0;a<_;++a)if(m=e[a],m<r&&++t>x&&o("overflow"),m==r){for(u=t,f=C;d=f<=i?A:f>=i+w?w:f-i,!(u<d);f+=C)k=u-d,b=C-d,v.push(B(p(d+k%b,0))),u=I(k/b);v.push(B(p(u,0))),i=h(t,g,n==s),t=0,++n}++t,++r}return v.join("")}function m(e){return a(e,function(e){return L.test(e)?f(e.slice(4).toLowerCase()):e})}function _(e){return a(e,function(e){return z.test(e)?"xn--"+d(e):e})}var g="object"==typeof n&&n&&!n.nodeType&&n,b="object"==typeof t&&t&&!t.nodeType&&t,k="object"==typeof r&&r;k.global!==k&&k.window!==k&&k.self!==k||(s=k);var v,y,x=2147483647,C=36,A=1,w=26,D=38,q=700,E=72,S=128,F="-",L=/^xn--/,z=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=C-A,I=Math.floor,B=String.fromCharCode;if(v={version:"1.4.1",ucs2:{decode:c,encode:l},decode:f,encode:d,toASCII:_,toUnicode:m},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return v});else if(g&&b)if(t.exports==g)b.exports=v;else for(y in v)v.hasOwnProperty(y)&&(g[y]=v[y]);else s.punycode=v}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(e,r,t){r.exports=/[\0-\x1F\x7F-\x9F]/},{}],62:[function(e,r,t){r.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},{}],63:[function(e,r,t){r.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E44\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},{}],64:[function(e,r,t){r.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},{}],65:[function(e,r,t){"use strict";t.Any=e("./properties/Any/regex"),t.Cc=e("./categories/Cc/regex"),t.Cf=e("./categories/Cf/regex"),t.P=e("./categories/P/regex"),t.Z=e("./categories/Z/regex")},{"./categories/Cc/regex":61,"./categories/Cf/regex":62,"./categories/P/regex":63,"./categories/Z/regex":64,"./properties/Any/regex":66}],66:[function(e,r,t){r.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},{}],67:[function(e,r,t){"use strict";r.exports=e("./lib/")},{"./lib/":9}]},{},[67])(67)});

/*! markdown-it-emoji 1.3.0 https://github.com//markdown-it/markdown-it-emoji @license MIT */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define("3rdParty/markdown-it-emoji",[],a);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.markdownitEmoji=a()}}(function(){return function a(e,n,o){function i(_,t){if(!n[_]){if(!e[_]){var s="function"==typeof require&&require;if(!t&&s)return s(_,!0);if(r)return r(_,!0);var l=new Error("Cannot find module '"+_+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[_]={exports:{}};e[_][0].call(c.exports,function(a){var n=e[_][1][a];return i(n?n:a)},c,c.exports,a,e,n,o)}return n[_].exports}for(var r="function"==typeof require&&require,_=0;_<o.length;_++)i(o[_]);return i}({1:[function(a,e,n){e.exports={100:"\ud83d\udcaf",1234:"\ud83d\udd22",grinning:"\ud83d\ude00",grimacing:"\ud83d\ude2c",grin:"\ud83d\ude01",joy:"\ud83d\ude02",smiley:"\ud83d\ude03",smile:"\ud83d\ude04",sweat_smile:"\ud83d\ude05",laughing:"\ud83d\ude06",satisfied:"\ud83d\ude06",innocent:"\ud83d\ude07",wink:"\ud83d\ude09",blush:"\ud83d\ude0a",slightly_smiling_face:"\ud83d\ude42",upside_down_face:"\ud83d\ude43",relaxed:"\u263a\ufe0f",yum:"\ud83d\ude0b",relieved:"\ud83d\ude0c",heart_eyes:"\ud83d\ude0d",kissing_heart:"\ud83d\ude18",kissing:"\ud83d\ude17",kissing_smiling_eyes:"\ud83d\ude19",kissing_closed_eyes:"\ud83d\ude1a",stuck_out_tongue_winking_eye:"\ud83d\ude1c",stuck_out_tongue_closed_eyes:"\ud83d\ude1d",stuck_out_tongue:"\ud83d\ude1b",money_mouth_face:"\ud83e\udd11",nerd_face:"\ud83e\udd13",sunglasses:"\ud83d\ude0e",hugs:"\ud83e\udd17",smirk:"\ud83d\ude0f",no_mouth:"\ud83d\ude36",neutral_face:"\ud83d\ude10",expressionless:"\ud83d\ude11",unamused:"\ud83d\ude12",roll_eyes:"\ud83d\ude44",thinking:"\ud83e\udd14",flushed:"\ud83d\ude33",disappointed:"\ud83d\ude1e",worried:"\ud83d\ude1f",angry:"\ud83d\ude20",rage:"\ud83d\ude21",pout:"\ud83d\ude21",pensive:"\ud83d\ude14",confused:"\ud83d\ude15",slightly_frowning_face:"\ud83d\ude41",frowning_face:"\u2639\ufe0f",persevere:"\ud83d\ude23",confounded:"\ud83d\ude16",tired_face:"\ud83d\ude2b",weary:"\ud83d\ude29",triumph:"\ud83d\ude24",open_mouth:"\ud83d\ude2e",scream:"\ud83d\ude31",fearful:"\ud83d\ude28",cold_sweat:"\ud83d\ude30",hushed:"\ud83d\ude2f",frowning:"\ud83d\ude26",anguished:"\ud83d\ude27",cry:"\ud83d\ude22",disappointed_relieved:"\ud83d\ude25",sleepy:"\ud83d\ude2a",sweat:"\ud83d\ude13",sob:"\ud83d\ude2d",dizzy_face:"\ud83d\ude35",astonished:"\ud83d\ude32",zipper_mouth_face:"\ud83e\udd10",mask:"\ud83d\ude37",face_with_thermometer:"\ud83e\udd12",face_with_head_bandage:"\ud83e\udd15",sleeping:"\ud83d\ude34",zzz:"\ud83d\udca4",hankey:"\ud83d\udca9",poop:"\ud83d\udca9",shit:"\ud83d\udca9",smiling_imp:"\ud83d\ude08",imp:"\ud83d\udc7f",japanese_ogre:"\ud83d\udc79",japanese_goblin:"\ud83d\udc7a",ghost:"\ud83d\udc7b",skull:"\ud83d\udc80",skull_and_crossbones:"\u2620\ufe0f",alien:"\ud83d\udc7d",space_invader:"\ud83d\udc7e",robot:"\ud83e\udd16",smiley_cat:"\ud83d\ude3a",smile_cat:"\ud83d\ude38",joy_cat:"\ud83d\ude39",heart_eyes_cat:"\ud83d\ude3b",smirk_cat:"\ud83d\ude3c",kissing_cat:"\ud83d\ude3d",scream_cat:"\ud83d\ude40",crying_cat_face:"\ud83d\ude3f",pouting_cat:"\ud83d\ude3e",raised_hands:"\ud83d\ude4c",clap:"\ud83d\udc4f","+1":"\ud83d\udc4d",thumbsup:"\ud83d\udc4d","-1":"\ud83d\udc4e",thumbsdown:"\ud83d\udc4e",facepunch:"\ud83d\udc4a",punch:"\ud83d\udc4a",fist:"\u270a",wave:"\ud83d\udc4b",point_left:"\ud83d\udc48",point_right:"\ud83d\udc49",point_up_2:"\ud83d\udc46",point_down:"\ud83d\udc47",ok_hand:"\ud83d\udc4c",point_up:"\u261d\ufe0f",v:"\u270c\ufe0f",hand:"\u270b",raised_hand:"\u270b",raised_hand_with_fingers_splayed:"\ud83d\udd90",open_hands:"\ud83d\udc50",muscle:"\ud83d\udcaa",pray:"\ud83d\ude4f",vulcan_salute:"\ud83d\udd96",metal:"\ud83e\udd18",middle_finger:"\ud83d\udd95",fu:"\ud83d\udd95",writing_hand:"\u270d\ufe0f",nail_care:"\ud83d\udc85",lips:"\ud83d\udc44",tongue:"\ud83d\udc45",ear:"\ud83d\udc42",nose:"\ud83d\udc43",eye:"\ud83d\udc41",eyes:"\ud83d\udc40",speaking_head:"\ud83d\udde3",bust_in_silhouette:"\ud83d\udc64",busts_in_silhouette:"\ud83d\udc65",baby:"\ud83d\udc76",boy:"\ud83d\udc66",girl:"\ud83d\udc67",man:"\ud83d\udc68",woman:"\ud83d\udc69",blonde_woman:"\ud83d\udc71\u200d\u2640\ufe0f",blonde_man:"\ud83d\udc71",person_with_blond_hair:"\ud83d\udc71",older_man:"\ud83d\udc74",older_woman:"\ud83d\udc75",man_with_gua_pi_mao:"\ud83d\udc72",woman_with_turban:"\ud83d\udc73\u200d\u2640\ufe0f",man_with_turban:"\ud83d\udc73",policewoman:"\ud83d\udc6e\u200d\u2640\ufe0f",policeman:"\ud83d\udc6e",cop:"\ud83d\udc6e",construction_worker_woman:"\ud83d\udc77\u200d\u2640\ufe0f",construction_worker_man:"\ud83d\udc77",construction_worker:"\ud83d\udc77",guardswoman:"\ud83d\udc82\u200d\u2640\ufe0f",guardsman:"\ud83d\udc82",female_detective:"\ud83d\udd75\ufe0f\u200d\u2640\ufe0f",male_detective:"\ud83d\udd75\ufe0f",detective:"\ud83d\udd75\ufe0f",santa:"\ud83c\udf85",princess:"\ud83d\udc78",bride_with_veil:"\ud83d\udc70",angel:"\ud83d\udc7c",bowing_woman:"\ud83d\ude47\u200d\u2640\ufe0f",bowing_man:"\ud83d\ude47",bow:"\ud83d\ude47",tipping_hand_woman:"\ud83d\udc81",information_desk_person:"\ud83d\udc81",tipping_hand_man:"\ud83d\udc81\u200d\u2642\ufe0f",no_good_woman:"\ud83d\ude45",no_good:"\ud83d\ude45",ng_woman:"\ud83d\ude45",no_good_man:"\ud83d\ude45\u200d\u2642\ufe0f",ng_man:"\ud83d\ude45\u200d\u2642\ufe0f",ok_woman:"\ud83d\ude46",ok_man:"\ud83d\ude46\u200d\u2642\ufe0f",raising_hand_woman:"\ud83d\ude4b",raising_hand:"\ud83d\ude4b",raising_hand_man:"\ud83d\ude4b\u200d\u2642\ufe0f",pouting_woman:"\ud83d\ude4e",person_with_pouting_face:"\ud83d\ude4e",pouting_man:"\ud83d\ude4e\u200d\u2642\ufe0f",frowning_woman:"\ud83d\ude4d",person_frowning:"\ud83d\ude4d",frowning_man:"\ud83d\ude4d\u200d\u2642\ufe0f",haircut_woman:"\ud83d\udc87",haircut:"\ud83d\udc87",haircut_man:"\ud83d\udc87\u200d\u2642\ufe0f",massage_woman:"\ud83d\udc86",massage:"\ud83d\udc86",massage_man:"\ud83d\udc86\u200d\u2642\ufe0f",dancer:"\ud83d\udc83",dancing_women:"\ud83d\udc6f",dancers:"\ud83d\udc6f",dancing_men:"\ud83d\udc6f\u200d\u2642\ufe0f",walking_woman:"\ud83d\udeb6\u200d\u2640\ufe0f",walking_man:"\ud83d\udeb6",walking:"\ud83d\udeb6",running_woman:"\ud83c\udfc3\u200d\u2640\ufe0f",running_man:"\ud83c\udfc3",runner:"\ud83c\udfc3",running:"\ud83c\udfc3",couple:"\ud83d\udc6b",two_women_holding_hands:"\ud83d\udc6d",two_men_holding_hands:"\ud83d\udc6c",couple_with_heart_woman_man:"\ud83d\udc91",couple_with_heart:"\ud83d\udc91",couple_with_heart_woman_woman:"\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc69",couple_with_heart_man_man:"\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68",couplekiss_man_woman:"\ud83d\udc8f",couplekiss_woman_woman:"\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69",couplekiss_man_man:"\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68",family_man_woman_boy:"\ud83d\udc6a",family:"\ud83d\udc6a",family_man_woman_girl:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67",family_man_woman_girl_boy:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66",family_man_woman_boy_boy:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66",family_man_woman_girl_girl:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67",family_woman_woman_boy:"\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66",family_woman_woman_girl:"\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67",family_woman_woman_girl_boy:"\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66",family_woman_woman_boy_boy:"\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66",family_woman_woman_girl_girl:"\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67",family_man_man_boy:"\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66",family_man_man_girl:"\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67",family_man_man_girl_boy:"\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc66",family_man_man_boy_boy:"\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66",family_man_man_girl_girl:"\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc67",family_woman_boy:"\ud83d\udc69\u200d\ud83d\udc66",family_woman_girl:"\ud83d\udc69\u200d\ud83d\udc67",family_woman_girl_boy:"\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66",family_woman_boy_boy:"\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66",family_woman_girl_girl:"\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67",family_man_boy:"\ud83d\udc68\u200d\ud83d\udc66",family_man_girl:"\ud83d\udc68\u200d\ud83d\udc67",family_man_girl_boy:"\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc66",family_man_boy_boy:"\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66",family_man_girl_girl:"\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc67",womans_clothes:"\ud83d\udc5a",shirt:"\ud83d\udc55",tshirt:"\ud83d\udc55",jeans:"\ud83d\udc56",necktie:"\ud83d\udc54",dress:"\ud83d\udc57",bikini:"\ud83d\udc59",kimono:"\ud83d\udc58",lipstick:"\ud83d\udc84",kiss:"\ud83d\udc8b",footprints:"\ud83d\udc63",high_heel:"\ud83d\udc60",sandal:"\ud83d\udc61",boot:"\ud83d\udc62",mans_shoe:"\ud83d\udc5e",shoe:"\ud83d\udc5e",athletic_shoe:"\ud83d\udc5f",womans_hat:"\ud83d\udc52",tophat:"\ud83c\udfa9",mortar_board:"\ud83c\udf93",crown:"\ud83d\udc51",rescue_worker_helmet:"\u26d1",school_satchel:"\ud83c\udf92",pouch:"\ud83d\udc5d",purse:"\ud83d\udc5b",handbag:"\ud83d\udc5c",briefcase:"\ud83d\udcbc",eyeglasses:"\ud83d\udc53",dark_sunglasses:"\ud83d\udd76",ring:"\ud83d\udc8d",closed_umbrella:"\ud83c\udf02",dog:"\ud83d\udc36",cat:"\ud83d\udc31",mouse:"\ud83d\udc2d",hamster:"\ud83d\udc39",rabbit:"\ud83d\udc30",bear:"\ud83d\udc3b",panda_face:"\ud83d\udc3c",koala:"\ud83d\udc28",tiger:"\ud83d\udc2f",lion:"\ud83e\udd81",cow:"\ud83d\udc2e",pig:"\ud83d\udc37",pig_nose:"\ud83d\udc3d",frog:"\ud83d\udc38",octopus:"\ud83d\udc19",monkey_face:"\ud83d\udc35",see_no_evil:"\ud83d\ude48",hear_no_evil:"\ud83d\ude49",speak_no_evil:"\ud83d\ude4a",monkey:"\ud83d\udc12",chicken:"\ud83d\udc14",penguin:"\ud83d\udc27",bird:"\ud83d\udc26",baby_chick:"\ud83d\udc24",hatching_chick:"\ud83d\udc23",hatched_chick:"\ud83d\udc25",wolf:"\ud83d\udc3a",boar:"\ud83d\udc17",horse:"\ud83d\udc34",unicorn:"\ud83e\udd84",bee:"\ud83d\udc1d",honeybee:"\ud83d\udc1d",bug:"\ud83d\udc1b",snail:"\ud83d\udc0c",beetle:"\ud83d\udc1e",ant:"\ud83d\udc1c",spider:"\ud83d\udd77",scorpion:"\ud83e\udd82",crab:"\ud83e\udd80",snake:"\ud83d\udc0d",turtle:"\ud83d\udc22",tropical_fish:"\ud83d\udc20",fish:"\ud83d\udc1f",blowfish:"\ud83d\udc21",dolphin:"\ud83d\udc2c",flipper:"\ud83d\udc2c",whale:"\ud83d\udc33",whale2:"\ud83d\udc0b",crocodile:"\ud83d\udc0a",leopard:"\ud83d\udc06",tiger2:"\ud83d\udc05",water_buffalo:"\ud83d\udc03",ox:"\ud83d\udc02",cow2:"\ud83d\udc04",dromedary_camel:"\ud83d\udc2a",camel:"\ud83d\udc2b",elephant:"\ud83d\udc18",goat:"\ud83d\udc10",ram:"\ud83d\udc0f",sheep:"\ud83d\udc11",racehorse:"\ud83d\udc0e",pig2:"\ud83d\udc16",rat:"\ud83d\udc00",mouse2:"\ud83d\udc01",rooster:"\ud83d\udc13",turkey:"\ud83e\udd83",dove:"\ud83d\udd4a",dog2:"\ud83d\udc15",poodle:"\ud83d\udc29",cat2:"\ud83d\udc08",rabbit2:"\ud83d\udc07",chipmunk:"\ud83d\udc3f",feet:"\ud83d\udc3e",paw_prints:"\ud83d\udc3e",dragon:"\ud83d\udc09",dragon_face:"\ud83d\udc32",cactus:"\ud83c\udf35",christmas_tree:"\ud83c\udf84",evergreen_tree:"\ud83c\udf32",deciduous_tree:"\ud83c\udf33",palm_tree:"\ud83c\udf34",seedling:"\ud83c\udf31",herb:"\ud83c\udf3f",shamrock:"\u2618",four_leaf_clover:"\ud83c\udf40",bamboo:"\ud83c\udf8d",tanabata_tree:"\ud83c\udf8b",leaves:"\ud83c\udf43",fallen_leaf:"\ud83c\udf42",maple_leaf:"\ud83c\udf41",ear_of_rice:"\ud83c\udf3e",hibiscus:"\ud83c\udf3a",sunflower:"\ud83c\udf3b",rose:"\ud83c\udf39",tulip:"\ud83c\udf37",blossom:"\ud83c\udf3c",cherry_blossom:"\ud83c\udf38",bouquet:"\ud83d\udc90",mushroom:"\ud83c\udf44",chestnut:"\ud83c\udf30",jack_o_lantern:"\ud83c\udf83",shell:"\ud83d\udc1a",spider_web:"\ud83d\udd78",earth_americas:"\ud83c\udf0e",earth_africa:"\ud83c\udf0d",earth_asia:"\ud83c\udf0f",full_moon:"\ud83c\udf15",waning_gibbous_moon:"\ud83c\udf16",last_quarter_moon:"\ud83c\udf17",waning_crescent_moon:"\ud83c\udf18",new_moon:"\ud83c\udf11",waxing_crescent_moon:"\ud83c\udf12",first_quarter_moon:"\ud83c\udf13",moon:"\ud83c\udf14",waxing_gibbous_moon:"\ud83c\udf14",new_moon_with_face:"\ud83c\udf1a",full_moon_with_face:"\ud83c\udf1d",first_quarter_moon_with_face:"\ud83c\udf1b",last_quarter_moon_with_face:"\ud83c\udf1c",sun_with_face:"\ud83c\udf1e",crescent_moon:"\ud83c\udf19",star:"\u2b50\ufe0f",star2:"\ud83c\udf1f",dizzy:"\ud83d\udcab",sparkles:"\u2728",comet:"\u2604\ufe0f",sunny:"\u2600\ufe0f",sun_behind_small_cloud:"\ud83c\udf24",partly_sunny:"\u26c5\ufe0f",sun_behind_large_cloud:"\ud83c\udf25",sun_behind_rain_cloud:"\ud83c\udf26",cloud:"\u2601\ufe0f",cloud_with_rain:"\ud83c\udf27",cloud_with_lightning_and_rain:"\u26c8",cloud_with_lightning:"\ud83c\udf29",zap:"\u26a1\ufe0f",fire:"\ud83d\udd25",boom:"\ud83d\udca5",collision:"\ud83d\udca5",snowflake:"\u2744\ufe0f",cloud_with_snow:"\ud83c\udf28",snowman_with_snow:"\u2603\ufe0f",snowman:"\u26c4\ufe0f",wind_face:"\ud83c\udf2c",dash:"\ud83d\udca8",tornado:"\ud83c\udf2a",fog:"\ud83c\udf2b",open_umbrella:"\u2602\ufe0f",umbrella:"\u2614\ufe0f",droplet:"\ud83d\udca7",sweat_drops:"\ud83d\udca6",ocean:"\ud83c\udf0a",green_apple:"\ud83c\udf4f",apple:"\ud83c\udf4e",pear:"\ud83c\udf50",tangerine:"\ud83c\udf4a",orange:"\ud83c\udf4a",mandarin:"\ud83c\udf4a",lemon:"\ud83c\udf4b",banana:"\ud83c\udf4c",watermelon:"\ud83c\udf49",grapes:"\ud83c\udf47",strawberry:"\ud83c\udf53",melon:"\ud83c\udf48",cherries:"\ud83c\udf52",peach:"\ud83c\udf51",pineapple:"\ud83c\udf4d",tomato:"\ud83c\udf45",eggplant:"\ud83c\udf46",hot_pepper:"\ud83c\udf36",corn:"\ud83c\udf3d",sweet_potato:"\ud83c\udf60",honey_pot:"\ud83c\udf6f",bread:"\ud83c\udf5e",cheese:"\ud83e\uddc0",poultry_leg:"\ud83c\udf57",meat_on_bone:"\ud83c\udf56",fried_shrimp:"\ud83c\udf64",egg:"\ud83c\udf73",hamburger:"\ud83c\udf54",fries:"\ud83c\udf5f",hotdog:"\ud83c\udf2d",pizza:"\ud83c\udf55",spaghetti:"\ud83c\udf5d",taco:"\ud83c\udf2e",burrito:"\ud83c\udf2f",ramen:"\ud83c\udf5c",stew:"\ud83c\udf72",fish_cake:"\ud83c\udf65",sushi:"\ud83c\udf63",bento:"\ud83c\udf71",curry:"\ud83c\udf5b",rice_ball:"\ud83c\udf59",rice:"\ud83c\udf5a",rice_cracker:"\ud83c\udf58",oden:"\ud83c\udf62",dango:"\ud83c\udf61",shaved_ice:"\ud83c\udf67",ice_cream:"\ud83c\udf68",icecream:"\ud83c\udf66",cake:"\ud83c\udf70",birthday:"\ud83c\udf82",custard:"\ud83c\udf6e",candy:"\ud83c\udf6c",lollipop:"\ud83c\udf6d",chocolate_bar:"\ud83c\udf6b",popcorn:"\ud83c\udf7f",doughnut:"\ud83c\udf69",cookie:"\ud83c\udf6a",beer:"\ud83c\udf7a",beers:"\ud83c\udf7b",wine_glass:"\ud83c\udf77",cocktail:"\ud83c\udf78",tropical_drink:"\ud83c\udf79",champagne:"\ud83c\udf7e",sake:"\ud83c\udf76",tea:"\ud83c\udf75",coffee:"\u2615\ufe0f",baby_bottle:"\ud83c\udf7c",fork_and_knife:"\ud83c\udf74",plate_with_cutlery:"\ud83c\udf7d",soccer:"\u26bd\ufe0f",basketball:"\ud83c\udfc0",football:"\ud83c\udfc8",baseball:"\u26be\ufe0f",tennis:"\ud83c\udfbe",volleyball:"\ud83c\udfd0",rugby_football:"\ud83c\udfc9","8ball":"\ud83c\udfb1",ping_pong:"\ud83c\udfd3",badminton:"\ud83c\udff8",ice_hockey:"\ud83c\udfd2",field_hockey:"\ud83c\udfd1",cricket:"\ud83c\udfcf",bow_and_arrow:"\ud83c\udff9",golf:"\u26f3\ufe0f",fishing_pole_and_fish:"\ud83c\udfa3",ice_skate:"\u26f8",ski:"\ud83c\udfbf",skier:"\u26f7",snowboarder:"\ud83c\udfc2",weight_lifting_woman:"\ud83c\udfcb\ufe0f\u200d\u2640\ufe0f",weight_lifting_man:"\ud83c\udfcb\ufe0f",basketball_woman:"\u26f9\ufe0f\u200d\u2640\ufe0f",basketball_man:"\u26f9\ufe0f",golfing_woman:"\ud83c\udfcc\ufe0f\u200d\u2640\ufe0f",golfing_man:"\ud83c\udfcc\ufe0f",surfing_woman:"\ud83c\udfc4\u200d\u2640\ufe0f",surfing_man:"\ud83c\udfc4",surfer:"\ud83c\udfc4",swimming_woman:"\ud83c\udfca\u200d\u2640\ufe0f",swimming_man:"\ud83c\udfca",swimmer:"\ud83c\udfca",rowing_woman:"\ud83d\udea3\u200d\u2640\ufe0f",rowing_man:"\ud83d\udea3",rowboat:"\ud83d\udea3",horse_racing:"\ud83c\udfc7",biking_woman:"\ud83d\udeb4\u200d\u2640\ufe0f",biking_man:"\ud83d\udeb4",bicyclist:"\ud83d\udeb4",mountain_biking_woman:"\ud83d\udeb5\u200d\u2640\ufe0f",mountain_biking_man:"\ud83d\udeb5",mountain_bicyclist:"\ud83d\udeb5",bath:"\ud83d\udec0",business_suit_levitating:"\ud83d\udd74",reminder_ribbon:"\ud83c\udf97",running_shirt_with_sash:"\ud83c\udfbd",medal_sports:"\ud83c\udfc5",medal_military:"\ud83c\udf96",trophy:"\ud83c\udfc6",rosette:"\ud83c\udff5",dart:"\ud83c\udfaf",ticket:"\ud83c\udfab",tickets:"\ud83c\udf9f",performing_arts:"\ud83c\udfad",art:"\ud83c\udfa8",circus_tent:"\ud83c\udfaa",clapper:"\ud83c\udfac",microphone:"\ud83c\udfa4",headphones:"\ud83c\udfa7",musical_score:"\ud83c\udfbc",musical_keyboard:"\ud83c\udfb9",saxophone:"\ud83c\udfb7",trumpet:"\ud83c\udfba",guitar:"\ud83c\udfb8",violin:"\ud83c\udfbb",video_game:"\ud83c\udfae",slot_machine:"\ud83c\udfb0",game_die:"\ud83c\udfb2",bowling:"\ud83c\udfb3",car:"\ud83d\ude97",red_car:"\ud83d\ude97",taxi:"\ud83d\ude95",blue_car:"\ud83d\ude99",bus:"\ud83d\ude8c",trolleybus:"\ud83d\ude8e",racing_car:"\ud83c\udfce",police_car:"\ud83d\ude93",ambulance:"\ud83d\ude91",fire_engine:"\ud83d\ude92",minibus:"\ud83d\ude90",truck:"\ud83d\ude9a",articulated_lorry:"\ud83d\ude9b",tractor:"\ud83d\ude9c",motorcycle:"\ud83c\udfcd",bike:"\ud83d\udeb2",rotating_light:"\ud83d\udea8",oncoming_police_car:"\ud83d\ude94",oncoming_bus:"\ud83d\ude8d",oncoming_automobile:"\ud83d\ude98",oncoming_taxi:"\ud83d\ude96",aerial_tramway:"\ud83d\udea1",mountain_cableway:"\ud83d\udea0",suspension_railway:"\ud83d\ude9f",railway_car:"\ud83d\ude83",train:"\ud83d\ude8b",monorail:"\ud83d\ude9d",bullettrain_side:"\ud83d\ude84",bullettrain_front:"\ud83d\ude85",light_rail:"\ud83d\ude88",mountain_railway:"\ud83d\ude9e",steam_locomotive:"\ud83d\ude82",train2:"\ud83d\ude86",metro:"\ud83d\ude87",tram:"\ud83d\ude8a",station:"\ud83d\ude89",helicopter:"\ud83d\ude81",small_airplane:"\ud83d\udee9",airplane:"\u2708\ufe0f",flight_departure:"\ud83d\udeeb",flight_arrival:"\ud83d\udeec",boat:"\u26f5\ufe0f",sailboat:"\u26f5\ufe0f",motor_boat:"\ud83d\udee5",speedboat:"\ud83d\udea4",ferry:"\u26f4",passenger_ship:"\ud83d\udef3",rocket:"\ud83d\ude80",artificial_satellite:"\ud83d\udef0",seat:"\ud83d\udcba",anchor:"\u2693\ufe0f",construction:"\ud83d\udea7",fuelpump:"\u26fd\ufe0f",busstop:"\ud83d\ude8f",vertical_traffic_light:"\ud83d\udea6",traffic_light:"\ud83d\udea5",world_map:"\ud83d\uddfa",ship:"\ud83d\udea2",ferris_wheel:"\ud83c\udfa1",roller_coaster:"\ud83c\udfa2",carousel_horse:"\ud83c\udfa0",building_construction:"\ud83c\udfd7",foggy:"\ud83c\udf01",tokyo_tower:"\ud83d\uddfc",factory:"\ud83c\udfed",fountain:"\u26f2\ufe0f",rice_scene:"\ud83c\udf91",mountain:"\u26f0",mountain_snow:"\ud83c\udfd4",mount_fuji:"\ud83d\uddfb",volcano:"\ud83c\udf0b",japan:"\ud83d\uddfe",camping:"\ud83c\udfd5",tent:"\u26fa\ufe0f",national_park:"\ud83c\udfde",motorway:"\ud83d\udee3",railway_track:"\ud83d\udee4",sunrise:"\ud83c\udf05",sunrise_over_mountains:"\ud83c\udf04",desert:"\ud83c\udfdc",beach_umbrella:"\ud83c\udfd6",desert_island:"\ud83c\udfdd",city_sunrise:"\ud83c\udf07",city_sunset:"\ud83c\udf06",cityscape:"\ud83c\udfd9",night_with_stars:"\ud83c\udf03",bridge_at_night:"\ud83c\udf09",milky_way:"\ud83c\udf0c",stars:"\ud83c\udf20",sparkler:"\ud83c\udf87",fireworks:"\ud83c\udf86",rainbow:"\ud83c\udf08",houses:"\ud83c\udfd8",european_castle:"\ud83c\udff0",japanese_castle:"\ud83c\udfef",stadium:"\ud83c\udfdf",statue_of_liberty:"\ud83d\uddfd",house:"\ud83c\udfe0",house_with_garden:"\ud83c\udfe1",derelict_house:"\ud83c\udfda",office:"\ud83c\udfe2",department_store:"\ud83c\udfec",post_office:"\ud83c\udfe3",european_post_office:"\ud83c\udfe4",hospital:"\ud83c\udfe5",bank:"\ud83c\udfe6",hotel:"\ud83c\udfe8",convenience_store:"\ud83c\udfea",school:"\ud83c\udfeb",love_hotel:"\ud83c\udfe9",wedding:"\ud83d\udc92",classical_building:"\ud83c\udfdb",church:"\u26ea\ufe0f",mosque:"\ud83d\udd4c",synagogue:"\ud83d\udd4d",kaaba:"\ud83d\udd4b",shinto_shrine:"\u26e9",watch:"\u231a\ufe0f",iphone:"\ud83d\udcf1",calling:"\ud83d\udcf2",computer:"\ud83d\udcbb",keyboard:"\u2328\ufe0f",desktop_computer:"\ud83d\udda5",printer:"\ud83d\udda8",computer_mouse:"\ud83d\uddb1",trackball:"\ud83d\uddb2",joystick:"\ud83d\udd79",clamp:"\ud83d\udddc",minidisc:"\ud83d\udcbd",floppy_disk:"\ud83d\udcbe",cd:"\ud83d\udcbf",dvd:"\ud83d\udcc0",vhs:"\ud83d\udcfc",camera:"\ud83d\udcf7",camera_flash:"\ud83d\udcf8",video_camera:"\ud83d\udcf9",movie_camera:"\ud83c\udfa5",film_projector:"\ud83d\udcfd",film_strip:"\ud83c\udf9e",telephone_receiver:"\ud83d\udcde",phone:"\u260e\ufe0f",telephone:"\u260e\ufe0f",pager:"\ud83d\udcdf",fax:"\ud83d\udce0",tv:"\ud83d\udcfa",radio:"\ud83d\udcfb",studio_microphone:"\ud83c\udf99",level_slider:"\ud83c\udf9a",control_knobs:"\ud83c\udf9b",stopwatch:"\u23f1",timer_clock:"\u23f2",alarm_clock:"\u23f0",mantelpiece_clock:"\ud83d\udd70",hourglass_flowing_sand:"\u23f3",hourglass:"\u231b\ufe0f",satellite:"\ud83d\udce1",battery:"\ud83d\udd0b",electric_plug:"\ud83d\udd0c",bulb:"\ud83d\udca1",flashlight:"\ud83d\udd26",candle:"\ud83d\udd6f",wastebasket:"\ud83d\uddd1",oil_drum:"\ud83d\udee2",money_with_wings:"\ud83d\udcb8",dollar:"\ud83d\udcb5",yen:"\ud83d\udcb4",euro:"\ud83d\udcb6",pound:"\ud83d\udcb7",moneybag:"\ud83d\udcb0",credit_card:"\ud83d\udcb3",gem:"\ud83d\udc8e",balance_scale:"\u2696",wrench:"\ud83d\udd27",hammer:"\ud83d\udd28",hammer_and_pick:"\u2692",hammer_and_wrench:"\ud83d\udee0",pick:"\u26cf",nut_and_bolt:"\ud83d\udd29",gear:"\u2699",chains:"\u26d3",gun:"\ud83d\udd2b",bomb:"\ud83d\udca3",hocho:"\ud83d\udd2a",knife:"\ud83d\udd2a",dagger:"\ud83d\udde1",crossed_swords:"\u2694",shield:"\ud83d\udee1",smoking:"\ud83d\udeac",coffin:"\u26b0",funeral_urn:"\u26b1",amphora:"\ud83c\udffa",crystal_ball:"\ud83d\udd2e",prayer_beads:"\ud83d\udcff",barber:"\ud83d\udc88",alembic:"\u2697",telescope:"\ud83d\udd2d",microscope:"\ud83d\udd2c",hole:"\ud83d\udd73",pill:"\ud83d\udc8a",syringe:"\ud83d\udc89",thermometer:"\ud83c\udf21",toilet:"\ud83d\udebd",shower:"\ud83d\udebf",bathtub:"\ud83d\udec1",bellhop_bell:"\ud83d\udece",key:"\ud83d\udd11",old_key:"\ud83d\udddd",door:"\ud83d\udeaa",couch_and_lamp:"\ud83d\udecb",sleeping_bed:"\ud83d\udecc",bed:"\ud83d\udecf",framed_picture:"\ud83d\uddbc",parasol_on_ground:"\u26f1",moyai:"\ud83d\uddff",shopping:"\ud83d\udecd",gift:"\ud83c\udf81",balloon:"\ud83c\udf88",flags:"\ud83c\udf8f",ribbon:"\ud83c\udf80",confetti_ball:"\ud83c\udf8a",tada:"\ud83c\udf89",wind_chime:"\ud83c\udf90",izakaya_lantern:"\ud83c\udfee",lantern:"\ud83c\udfee",dolls:"\ud83c\udf8e",email:"\u2709\ufe0f",envelope:"\u2709\ufe0f",envelope_with_arrow:"\ud83d\udce9",incoming_envelope:"\ud83d\udce8","e-mail":"\ud83d\udce7",love_letter:"\ud83d\udc8c",inbox_tray:"\ud83d\udce5",outbox_tray:"\ud83d\udce4",package:"\ud83d\udce6",label:"\ud83c\udff7",bookmark:"\ud83d\udd16",mailbox_closed:"\ud83d\udcea",mailbox:"\ud83d\udceb",mailbox_with_mail:"\ud83d\udcec",mailbox_with_no_mail:"\ud83d\udced",postbox:"\ud83d\udcee",postal_horn:"\ud83d\udcef",scroll:"\ud83d\udcdc",page_with_curl:"\ud83d\udcc3",page_facing_up:"\ud83d\udcc4",bookmark_tabs:"\ud83d\udcd1",bar_chart:"\ud83d\udcca",chart_with_upwards_trend:"\ud83d\udcc8",chart_with_downwards_trend:"\ud83d\udcc9",spiral_notepad:"\ud83d\uddd2",spiral_calendar:"\ud83d\uddd3",calendar:"\ud83d\udcc6",date:"\ud83d\udcc5",card_index:"\ud83d\udcc7",card_file_box:"\ud83d\uddc3",ballot_box:"\ud83d\uddf3",file_cabinet:"\ud83d\uddc4",clipboard:"\ud83d\udccb",file_folder:"\ud83d\udcc1",open_file_folder:"\ud83d\udcc2",card_index_dividers:"\ud83d\uddc2",newspaper_roll:"\ud83d\uddde",newspaper:"\ud83d\udcf0",notebook:"\ud83d\udcd3",notebook_with_decorative_cover:"\ud83d\udcd4",ledger:"\ud83d\udcd2",closed_book:"\ud83d\udcd5",green_book:"\ud83d\udcd7",blue_book:"\ud83d\udcd8",orange_book:"\ud83d\udcd9",books:"\ud83d\udcda",book:"\ud83d\udcd6",open_book:"\ud83d\udcd6",link:"\ud83d\udd17",paperclip:"\ud83d\udcce",paperclips:"\ud83d\udd87",triangular_ruler:"\ud83d\udcd0",straight_ruler:"\ud83d\udccf",scissors:"\u2702\ufe0f",pushpin:"\ud83d\udccc",round_pushpin:"\ud83d\udccd",triangular_flag_on_post:"\ud83d\udea9",crossed_flags:"\ud83c\udf8c",white_flag:"\ud83c\udff3\ufe0f",black_flag:"\ud83c\udff4",checkered_flag:"\ud83c\udfc1",rainbow_flag:"\ud83c\udff3\ufe0f\u200d\ud83c\udf08",paintbrush:"\ud83d\udd8c",crayon:"\ud83d\udd8d",pen:"\ud83d\udd8a",fountain_pen:"\ud83d\udd8b",black_nib:"\u2712\ufe0f",memo:"\ud83d\udcdd",pencil:"\ud83d\udcdd",pencil2:"\u270f\ufe0f",lock_with_ink_pen:"\ud83d\udd0f",closed_lock_with_key:"\ud83d\udd10",lock:"\ud83d\udd12",unlock:"\ud83d\udd13",mag:"\ud83d\udd0d",mag_right:"\ud83d\udd0e",heart:"\u2764\ufe0f",yellow_heart:"\ud83d\udc9b",green_heart:"\ud83d\udc9a",blue_heart:"\ud83d\udc99",purple_heart:"\ud83d\udc9c",broken_heart:"\ud83d\udc94",heavy_heart_exclamation:"\u2763\ufe0f",two_hearts:"\ud83d\udc95",revolving_hearts:"\ud83d\udc9e",heartbeat:"\ud83d\udc93",heartpulse:"\ud83d\udc97",sparkling_heart:"\ud83d\udc96",cupid:"\ud83d\udc98",gift_heart:"\ud83d\udc9d",heart_decoration:"\ud83d\udc9f",peace_symbol:"\u262e\ufe0f",latin_cross:"\u271d\ufe0f",star_and_crescent:"\u262a\ufe0f",om:"\ud83d\udd49",wheel_of_dharma:"\u2638\ufe0f",star_of_david:"\u2721\ufe0f",six_pointed_star:"\ud83d\udd2f",menorah:"\ud83d\udd4e",yin_yang:"\u262f\ufe0f",orthodox_cross:"\u2626\ufe0f",place_of_worship:"\ud83d\uded0",ophiuchus:"\u26ce",aries:"\u2648\ufe0f",taurus:"\u2649\ufe0f",gemini:"\u264a\ufe0f",cancer:"\u264b\ufe0f",leo:"\u264c\ufe0f",virgo:"\u264d\ufe0f",libra:"\u264e\ufe0f",scorpius:"\u264f\ufe0f",sagittarius:"\u2650\ufe0f",capricorn:"\u2651\ufe0f",aquarius:"\u2652\ufe0f",pisces:"\u2653\ufe0f",id:"\ud83c\udd94",atom_symbol:"\u269b",radioactive:"\u2622\ufe0f",biohazard:"\u2623\ufe0f",mobile_phone_off:"\ud83d\udcf4",vibration_mode:"\ud83d\udcf3",eight_pointed_black_star:"\u2734\ufe0f",vs:"\ud83c\udd9a",accept:"\ud83c\ude51",white_flower:"\ud83d\udcae",ideograph_advantage:"\ud83c\ude50",secret:"\u3299\ufe0f",congratulations:"\u3297\ufe0f",u6e80:"\ud83c\ude35",a:"\ud83c\udd70\ufe0f",b:"\ud83c\udd71\ufe0f",ab:"\ud83c\udd8e",cl:"\ud83c\udd91",o2:"\ud83c\udd7e\ufe0f",sos:"\ud83c\udd98",no_entry:"\u26d4\ufe0f",name_badge:"\ud83d\udcdb",no_entry_sign:"\ud83d\udeab",x:"\u274c",o:"\u2b55\ufe0f",anger:"\ud83d\udca2",hotsprings:"\u2668\ufe0f",no_pedestrians:"\ud83d\udeb7",do_not_litter:"\ud83d\udeaf",no_bicycles:"\ud83d\udeb3","non-potable_water":"\ud83d\udeb1",underage:"\ud83d\udd1e",no_mobile_phones:"\ud83d\udcf5",exclamation:"\u2757\ufe0f",heavy_exclamation_mark:"\u2757\ufe0f",grey_exclamation:"\u2755",question:"\u2753",grey_question:"\u2754",bangbang:"\u203c\ufe0f",interrobang:"\u2049\ufe0f",low_brightness:"\ud83d\udd05",high_brightness:"\ud83d\udd06",trident:"\ud83d\udd31",fleur_de_lis:"\u269c",part_alternation_mark:"\u303d\ufe0f",warning:"\u26a0\ufe0f",children_crossing:"\ud83d\udeb8",beginner:"\ud83d\udd30",recycle:"\u267b\ufe0f",chart:"\ud83d\udcb9",sparkle:"\u2747\ufe0f",eight_spoked_asterisk:"\u2733\ufe0f",negative_squared_cross_mark:"\u274e",white_check_mark:"\u2705",globe_with_meridians:"\ud83c\udf10",m:"\u24c2\ufe0f",diamond_shape_with_a_dot_inside:"\ud83d\udca0",cyclone:"\ud83c\udf00",loop:"\u27bf",atm:"\ud83c\udfe7",sa:"\ud83c\ude02\ufe0f",passport_control:"\ud83d\udec2",customs:"\ud83d\udec3",baggage_claim:"\ud83d\udec4",left_luggage:"\ud83d\udec5",wheelchair:"\u267f\ufe0f",no_smoking:"\ud83d\udead",wc:"\ud83d\udebe",parking:"\ud83c\udd7f\ufe0f",potable_water:"\ud83d\udeb0",mens:"\ud83d\udeb9",womens:"\ud83d\udeba",baby_symbol:"\ud83d\udebc",restroom:"\ud83d\udebb",put_litter_in_its_place:"\ud83d\udeae",cinema:"\ud83c\udfa6",signal_strength:"\ud83d\udcf6",koko:"\ud83c\ude01",abc:"\ud83d\udd24",abcd:"\ud83d\udd21",capital_abcd:"\ud83d\udd20",symbols:"\ud83d\udd23",information_source:"\u2139\ufe0f",ng:"\ud83c\udd96",ok:"\ud83c\udd97",up:"\ud83c\udd99",cool:"\ud83c\udd92",new:"\ud83c\udd95",free:"\ud83c\udd93",zero:"0\ufe0f\u20e3",one:"1\ufe0f\u20e3",two:"2\ufe0f\u20e3",three:"3\ufe0f\u20e3",four:"4\ufe0f\u20e3",five:"5\ufe0f\u20e3",six:"6\ufe0f\u20e3",seven:"7\ufe0f\u20e3",eight:"8\ufe0f\u20e3",nine:"9\ufe0f\u20e3",keycap_ten:"\ud83d\udd1f",hash:"#\ufe0f\u20e3",asterisk:"*\ufe0f\u20e3",arrow_forward:"\u25b6\ufe0f",pause_button:"\u23f8",play_or_pause_button:"\u23ef",stop_button:"\u23f9",record_button:"\u23fa",next_track_button:"\u23ed",previous_track_button:"\u23ee",fast_forward:"\u23e9",rewind:"\u23ea",arrow_double_up:"\u23eb",arrow_double_down:"\u23ec",arrow_backward:"\u25c0\ufe0f",arrow_up_small:"\ud83d\udd3c",arrow_down_small:"\ud83d\udd3d",arrow_right:"\u27a1\ufe0f",arrow_left:"\u2b05\ufe0f",arrow_up:"\u2b06\ufe0f",arrow_down:"\u2b07\ufe0f",arrow_upper_right:"\u2197\ufe0f",arrow_lower_right:"\u2198\ufe0f",arrow_lower_left:"\u2199\ufe0f",arrow_upper_left:"\u2196\ufe0f",arrow_up_down:"\u2195\ufe0f",left_right_arrow:"\u2194\ufe0f",arrow_right_hook:"\u21aa\ufe0f",leftwards_arrow_with_hook:"\u21a9\ufe0f",arrow_heading_up:"\u2934\ufe0f",arrow_heading_down:"\u2935\ufe0f",twisted_rightwards_arrows:"\ud83d\udd00",repeat:"\ud83d\udd01",repeat_one:"\ud83d\udd02",arrows_counterclockwise:"\ud83d\udd04",arrows_clockwise:"\ud83d\udd03",musical_note:"\ud83c\udfb5",notes:"\ud83c\udfb6",wavy_dash:"\u3030\ufe0f",curly_loop:"\u27b0",heavy_check_mark:"\u2714\ufe0f",heavy_plus_sign:"\u2795",heavy_minus_sign:"\u2796",heavy_division_sign:"\u2797",heavy_multiplication_x:"\u2716\ufe0f",heavy_dollar_sign:"\ud83d\udcb2",currency_exchange:"\ud83d\udcb1",tm:"\u2122\ufe0f",copyright:"\xa9\ufe0f",registered:"\xae\ufe0f",end:"\ud83d\udd1a",back:"\ud83d\udd19",on:"\ud83d\udd1b",top:"\ud83d\udd1d",soon:"\ud83d\udd1c",ballot_box_with_check:"\u2611\ufe0f",radio_button:"\ud83d\udd18",white_circle:"\u26aa\ufe0f",black_circle:"\u26ab\ufe0f",red_circle:"\ud83d\udd34",large_blue_circle:"\ud83d\udd35",small_red_triangle:"\ud83d\udd3a",small_red_triangle_down:"\ud83d\udd3b",small_orange_diamond:"\ud83d\udd38",small_blue_diamond:"\ud83d\udd39",large_orange_diamond:"\ud83d\udd36",large_blue_diamond:"\ud83d\udd37",white_square_button:"\ud83d\udd33",black_square_button:"\ud83d\udd32",black_small_square:"\u25aa\ufe0f",white_small_square:"\u25ab\ufe0f",black_medium_small_square:"\u25fe\ufe0f",white_medium_small_square:"\u25fd\ufe0f",black_medium_square:"\u25fc\ufe0f",white_medium_square:"\u25fb\ufe0f",black_large_square:"\u2b1b\ufe0f",white_large_square:"\u2b1c\ufe0f",mute:"\ud83d\udd07",speaker:"\ud83d\udd08",sound:"\ud83d\udd09",loud_sound:"\ud83d\udd0a",no_bell:"\ud83d\udd15",bell:"\ud83d\udd14",mega:"\ud83d\udce3",loudspeaker:"\ud83d\udce2",eye_speech_bubble:"\ud83d\udc41\u200d\ud83d\udde8",speech_balloon:"\ud83d\udcac",thought_balloon:"\ud83d\udcad",right_anger_bubble:"\ud83d\uddef",black_joker:"\ud83c\udccf",mahjong:"\ud83c\udc04\ufe0f",flower_playing_cards:"\ud83c\udfb4",spades:"\u2660\ufe0f",clubs:"\u2663\ufe0f",hearts:"\u2665\ufe0f",diamonds:"\u2666\ufe0f",clock1:"\ud83d\udd50",clock2:"\ud83d\udd51",clock3:"\ud83d\udd52",clock4:"\ud83d\udd53",clock5:"\ud83d\udd54",clock6:"\ud83d\udd55",clock7:"\ud83d\udd56",clock8:"\ud83d\udd57",clock9:"\ud83d\udd58",clock10:"\ud83d\udd59",clock11:"\ud83d\udd5a",clock12:"\ud83d\udd5b",clock130:"\ud83d\udd5c",clock230:"\ud83d\udd5d",clock330:"\ud83d\udd5e",clock430:"\ud83d\udd5f",clock530:"\ud83d\udd60",clock630:"\ud83d\udd61",clock730:"\ud83d\udd62",clock830:"\ud83d\udd63",clock930:"\ud83d\udd64",clock1030:"\ud83d\udd65",clock1130:"\ud83d\udd66",clock1230:"\ud83d\udd67",afghanistan:"\ud83c\udde6\ud83c\uddeb",aland_islands:"\ud83c\udde6\ud83c\uddfd",albania:"\ud83c\udde6\ud83c\uddf1",algeria:"\ud83c\udde9\ud83c\uddff",american_samoa:"\ud83c\udde6\ud83c\uddf8",andorra:"\ud83c\udde6\ud83c\udde9",angola:"\ud83c\udde6\ud83c\uddf4",anguilla:"\ud83c\udde6\ud83c\uddee",antarctica:"\ud83c\udde6\ud83c\uddf6",antigua_barbuda:"\ud83c\udde6\ud83c\uddec",argentina:"\ud83c\udde6\ud83c\uddf7",armenia:"\ud83c\udde6\ud83c\uddf2",aruba:"\ud83c\udde6\ud83c\uddfc",australia:"\ud83c\udde6\ud83c\uddfa",austria:"\ud83c\udde6\ud83c\uddf9",azerbaijan:"\ud83c\udde6\ud83c\uddff",bahamas:"\ud83c\udde7\ud83c\uddf8",
bahrain:"\ud83c\udde7\ud83c\udded",bangladesh:"\ud83c\udde7\ud83c\udde9",barbados:"\ud83c\udde7\ud83c\udde7",belarus:"\ud83c\udde7\ud83c\uddfe",belgium:"\ud83c\udde7\ud83c\uddea",belize:"\ud83c\udde7\ud83c\uddff",benin:"\ud83c\udde7\ud83c\uddef",bermuda:"\ud83c\udde7\ud83c\uddf2",bhutan:"\ud83c\udde7\ud83c\uddf9",bolivia:"\ud83c\udde7\ud83c\uddf4",caribbean_netherlands:"\ud83c\udde7\ud83c\uddf6",bosnia_herzegovina:"\ud83c\udde7\ud83c\udde6",botswana:"\ud83c\udde7\ud83c\uddfc",brazil:"\ud83c\udde7\ud83c\uddf7",british_indian_ocean_territory:"\ud83c\uddee\ud83c\uddf4",british_virgin_islands:"\ud83c\uddfb\ud83c\uddec",brunei:"\ud83c\udde7\ud83c\uddf3",bulgaria:"\ud83c\udde7\ud83c\uddec",burkina_faso:"\ud83c\udde7\ud83c\uddeb",burundi:"\ud83c\udde7\ud83c\uddee",cape_verde:"\ud83c\udde8\ud83c\uddfb",cambodia:"\ud83c\uddf0\ud83c\udded",cameroon:"\ud83c\udde8\ud83c\uddf2",canada:"\ud83c\udde8\ud83c\udde6",canary_islands:"\ud83c\uddee\ud83c\udde8",cayman_islands:"\ud83c\uddf0\ud83c\uddfe",central_african_republic:"\ud83c\udde8\ud83c\uddeb",chad:"\ud83c\uddf9\ud83c\udde9",chile:"\ud83c\udde8\ud83c\uddf1",cn:"\ud83c\udde8\ud83c\uddf3",christmas_island:"\ud83c\udde8\ud83c\uddfd",cocos_islands:"\ud83c\udde8\ud83c\udde8",colombia:"\ud83c\udde8\ud83c\uddf4",comoros:"\ud83c\uddf0\ud83c\uddf2",congo_brazzaville:"\ud83c\udde8\ud83c\uddec",congo_kinshasa:"\ud83c\udde8\ud83c\udde9",cook_islands:"\ud83c\udde8\ud83c\uddf0",costa_rica:"\ud83c\udde8\ud83c\uddf7",croatia:"\ud83c\udded\ud83c\uddf7",cuba:"\ud83c\udde8\ud83c\uddfa",curacao:"\ud83c\udde8\ud83c\uddfc",cyprus:"\ud83c\udde8\ud83c\uddfe",czech_republic:"\ud83c\udde8\ud83c\uddff",denmark:"\ud83c\udde9\ud83c\uddf0",djibouti:"\ud83c\udde9\ud83c\uddef",dominica:"\ud83c\udde9\ud83c\uddf2",dominican_republic:"\ud83c\udde9\ud83c\uddf4",ecuador:"\ud83c\uddea\ud83c\udde8",egypt:"\ud83c\uddea\ud83c\uddec",el_salvador:"\ud83c\uddf8\ud83c\uddfb",equatorial_guinea:"\ud83c\uddec\ud83c\uddf6",eritrea:"\ud83c\uddea\ud83c\uddf7",estonia:"\ud83c\uddea\ud83c\uddea",ethiopia:"\ud83c\uddea\ud83c\uddf9",eu:"\ud83c\uddea\ud83c\uddfa",european_union:"\ud83c\uddea\ud83c\uddfa",falkland_islands:"\ud83c\uddeb\ud83c\uddf0",faroe_islands:"\ud83c\uddeb\ud83c\uddf4",fiji:"\ud83c\uddeb\ud83c\uddef",finland:"\ud83c\uddeb\ud83c\uddee",fr:"\ud83c\uddeb\ud83c\uddf7",french_guiana:"\ud83c\uddec\ud83c\uddeb",french_polynesia:"\ud83c\uddf5\ud83c\uddeb",french_southern_territories:"\ud83c\uddf9\ud83c\uddeb",gabon:"\ud83c\uddec\ud83c\udde6",gambia:"\ud83c\uddec\ud83c\uddf2",georgia:"\ud83c\uddec\ud83c\uddea",de:"\ud83c\udde9\ud83c\uddea",ghana:"\ud83c\uddec\ud83c\udded",gibraltar:"\ud83c\uddec\ud83c\uddee",greece:"\ud83c\uddec\ud83c\uddf7",greenland:"\ud83c\uddec\ud83c\uddf1",grenada:"\ud83c\uddec\ud83c\udde9",guadeloupe:"\ud83c\uddec\ud83c\uddf5",guam:"\ud83c\uddec\ud83c\uddfa",guatemala:"\ud83c\uddec\ud83c\uddf9",guernsey:"\ud83c\uddec\ud83c\uddec",guinea:"\ud83c\uddec\ud83c\uddf3",guinea_bissau:"\ud83c\uddec\ud83c\uddfc",guyana:"\ud83c\uddec\ud83c\uddfe",haiti:"\ud83c\udded\ud83c\uddf9",honduras:"\ud83c\udded\ud83c\uddf3",hong_kong:"\ud83c\udded\ud83c\uddf0",hungary:"\ud83c\udded\ud83c\uddfa",iceland:"\ud83c\uddee\ud83c\uddf8",india:"\ud83c\uddee\ud83c\uddf3",indonesia:"\ud83c\uddee\ud83c\udde9",iran:"\ud83c\uddee\ud83c\uddf7",iraq:"\ud83c\uddee\ud83c\uddf6",ireland:"\ud83c\uddee\ud83c\uddea",isle_of_man:"\ud83c\uddee\ud83c\uddf2",israel:"\ud83c\uddee\ud83c\uddf1",it:"\ud83c\uddee\ud83c\uddf9",cote_divoire:"\ud83c\udde8\ud83c\uddee",jamaica:"\ud83c\uddef\ud83c\uddf2",jp:"\ud83c\uddef\ud83c\uddf5",jersey:"\ud83c\uddef\ud83c\uddea",jordan:"\ud83c\uddef\ud83c\uddf4",kazakhstan:"\ud83c\uddf0\ud83c\uddff",kenya:"\ud83c\uddf0\ud83c\uddea",kiribati:"\ud83c\uddf0\ud83c\uddee",kosovo:"\ud83c\uddfd\ud83c\uddf0",kuwait:"\ud83c\uddf0\ud83c\uddfc",kyrgyzstan:"\ud83c\uddf0\ud83c\uddec",laos:"\ud83c\uddf1\ud83c\udde6",latvia:"\ud83c\uddf1\ud83c\uddfb",lebanon:"\ud83c\uddf1\ud83c\udde7",lesotho:"\ud83c\uddf1\ud83c\uddf8",liberia:"\ud83c\uddf1\ud83c\uddf7",libya:"\ud83c\uddf1\ud83c\uddfe",liechtenstein:"\ud83c\uddf1\ud83c\uddee",lithuania:"\ud83c\uddf1\ud83c\uddf9",luxembourg:"\ud83c\uddf1\ud83c\uddfa",macau:"\ud83c\uddf2\ud83c\uddf4",macedonia:"\ud83c\uddf2\ud83c\uddf0",madagascar:"\ud83c\uddf2\ud83c\uddec",malawi:"\ud83c\uddf2\ud83c\uddfc",malaysia:"\ud83c\uddf2\ud83c\uddfe",maldives:"\ud83c\uddf2\ud83c\uddfb",mali:"\ud83c\uddf2\ud83c\uddf1",malta:"\ud83c\uddf2\ud83c\uddf9",marshall_islands:"\ud83c\uddf2\ud83c\udded",martinique:"\ud83c\uddf2\ud83c\uddf6",mauritania:"\ud83c\uddf2\ud83c\uddf7",mauritius:"\ud83c\uddf2\ud83c\uddfa",mayotte:"\ud83c\uddfe\ud83c\uddf9",mexico:"\ud83c\uddf2\ud83c\uddfd",micronesia:"\ud83c\uddeb\ud83c\uddf2",moldova:"\ud83c\uddf2\ud83c\udde9",monaco:"\ud83c\uddf2\ud83c\udde8",mongolia:"\ud83c\uddf2\ud83c\uddf3",montenegro:"\ud83c\uddf2\ud83c\uddea",montserrat:"\ud83c\uddf2\ud83c\uddf8",morocco:"\ud83c\uddf2\ud83c\udde6",mozambique:"\ud83c\uddf2\ud83c\uddff",myanmar:"\ud83c\uddf2\ud83c\uddf2",namibia:"\ud83c\uddf3\ud83c\udde6",nauru:"\ud83c\uddf3\ud83c\uddf7",nepal:"\ud83c\uddf3\ud83c\uddf5",netherlands:"\ud83c\uddf3\ud83c\uddf1",new_caledonia:"\ud83c\uddf3\ud83c\udde8",new_zealand:"\ud83c\uddf3\ud83c\uddff",nicaragua:"\ud83c\uddf3\ud83c\uddee",niger:"\ud83c\uddf3\ud83c\uddea",nigeria:"\ud83c\uddf3\ud83c\uddec",niue:"\ud83c\uddf3\ud83c\uddfa",norfolk_island:"\ud83c\uddf3\ud83c\uddeb",northern_mariana_islands:"\ud83c\uddf2\ud83c\uddf5",north_korea:"\ud83c\uddf0\ud83c\uddf5",norway:"\ud83c\uddf3\ud83c\uddf4",oman:"\ud83c\uddf4\ud83c\uddf2",pakistan:"\ud83c\uddf5\ud83c\uddf0",palau:"\ud83c\uddf5\ud83c\uddfc",palestinian_territories:"\ud83c\uddf5\ud83c\uddf8",panama:"\ud83c\uddf5\ud83c\udde6",papua_new_guinea:"\ud83c\uddf5\ud83c\uddec",paraguay:"\ud83c\uddf5\ud83c\uddfe",peru:"\ud83c\uddf5\ud83c\uddea",philippines:"\ud83c\uddf5\ud83c\udded",pitcairn_islands:"\ud83c\uddf5\ud83c\uddf3",poland:"\ud83c\uddf5\ud83c\uddf1",portugal:"\ud83c\uddf5\ud83c\uddf9",puerto_rico:"\ud83c\uddf5\ud83c\uddf7",qatar:"\ud83c\uddf6\ud83c\udde6",reunion:"\ud83c\uddf7\ud83c\uddea",romania:"\ud83c\uddf7\ud83c\uddf4",ru:"\ud83c\uddf7\ud83c\uddfa",rwanda:"\ud83c\uddf7\ud83c\uddfc",st_barthelemy:"\ud83c\udde7\ud83c\uddf1",st_helena:"\ud83c\uddf8\ud83c\udded",st_kitts_nevis:"\ud83c\uddf0\ud83c\uddf3",st_lucia:"\ud83c\uddf1\ud83c\udde8",st_pierre_miquelon:"\ud83c\uddf5\ud83c\uddf2",st_vincent_grenadines:"\ud83c\uddfb\ud83c\udde8",samoa:"\ud83c\uddfc\ud83c\uddf8",san_marino:"\ud83c\uddf8\ud83c\uddf2",sao_tome_principe:"\ud83c\uddf8\ud83c\uddf9",saudi_arabia:"\ud83c\uddf8\ud83c\udde6",senegal:"\ud83c\uddf8\ud83c\uddf3",serbia:"\ud83c\uddf7\ud83c\uddf8",seychelles:"\ud83c\uddf8\ud83c\udde8",sierra_leone:"\ud83c\uddf8\ud83c\uddf1",singapore:"\ud83c\uddf8\ud83c\uddec",sint_maarten:"\ud83c\uddf8\ud83c\uddfd",slovakia:"\ud83c\uddf8\ud83c\uddf0",slovenia:"\ud83c\uddf8\ud83c\uddee",solomon_islands:"\ud83c\uddf8\ud83c\udde7",somalia:"\ud83c\uddf8\ud83c\uddf4",south_africa:"\ud83c\uddff\ud83c\udde6",south_georgia_south_sandwich_islands:"\ud83c\uddec\ud83c\uddf8",kr:"\ud83c\uddf0\ud83c\uddf7",south_sudan:"\ud83c\uddf8\ud83c\uddf8",es:"\ud83c\uddea\ud83c\uddf8",sri_lanka:"\ud83c\uddf1\ud83c\uddf0",sudan:"\ud83c\uddf8\ud83c\udde9",suriname:"\ud83c\uddf8\ud83c\uddf7",swaziland:"\ud83c\uddf8\ud83c\uddff",sweden:"\ud83c\uddf8\ud83c\uddea",switzerland:"\ud83c\udde8\ud83c\udded",syria:"\ud83c\uddf8\ud83c\uddfe",taiwan:"\ud83c\uddf9\ud83c\uddfc",tajikistan:"\ud83c\uddf9\ud83c\uddef",tanzania:"\ud83c\uddf9\ud83c\uddff",thailand:"\ud83c\uddf9\ud83c\udded",timor_leste:"\ud83c\uddf9\ud83c\uddf1",togo:"\ud83c\uddf9\ud83c\uddec",tokelau:"\ud83c\uddf9\ud83c\uddf0",tonga:"\ud83c\uddf9\ud83c\uddf4",trinidad_tobago:"\ud83c\uddf9\ud83c\uddf9",tunisia:"\ud83c\uddf9\ud83c\uddf3",tr:"\ud83c\uddf9\ud83c\uddf7",turkmenistan:"\ud83c\uddf9\ud83c\uddf2",turks_caicos_islands:"\ud83c\uddf9\ud83c\udde8",tuvalu:"\ud83c\uddf9\ud83c\uddfb",uganda:"\ud83c\uddfa\ud83c\uddec",ukraine:"\ud83c\uddfa\ud83c\udde6",united_arab_emirates:"\ud83c\udde6\ud83c\uddea",gb:"\ud83c\uddec\ud83c\udde7",uk:"\ud83c\uddec\ud83c\udde7",us:"\ud83c\uddfa\ud83c\uddf8",us_virgin_islands:"\ud83c\uddfb\ud83c\uddee",uruguay:"\ud83c\uddfa\ud83c\uddfe",uzbekistan:"\ud83c\uddfa\ud83c\uddff",vanuatu:"\ud83c\uddfb\ud83c\uddfa",vatican_city:"\ud83c\uddfb\ud83c\udde6",venezuela:"\ud83c\uddfb\ud83c\uddea",vietnam:"\ud83c\uddfb\ud83c\uddf3",wallis_futuna:"\ud83c\uddfc\ud83c\uddeb",western_sahara:"\ud83c\uddea\ud83c\udded",yemen:"\ud83c\uddfe\ud83c\uddea",zambia:"\ud83c\uddff\ud83c\uddf2",zimbabwe:"\ud83c\uddff\ud83c\uddfc"}},{}],2:[function(a,e,n){"use strict";e.exports={angry:[">:(",">:-("],blush:[':")',':-")'],broken_heart:["</3","<\\3"],confused:[":/",":-/"],cry:[":'(",":'-(",":,(",":,-("],frowning:[":(",":-("],heart:["<3"],imp:["]:(","]:-("],innocent:["o:)","O:)","o:-)","O:-)","0:)","0:-)"],joy:[":')",":'-)",":,)",":,-)",":'D",":'-D",":,D",":,-D"],kissing:[":*",":-*"],laughing:["x-)","X-)"],neutral_face:[":|",":-|"],open_mouth:[":o",":-o",":O",":-O"],rage:[":@",":-@"],smile:[":D",":-D"],smiley:[":)",":-)"],smiling_imp:["]:)","]:-)"],sob:[":,'(",":,'-(",";(",";-("],stuck_out_tongue:[":P",":-P"],sunglasses:["8-)","B-)"],sweat:[",:(",",:-("],sweat_smile:[",:)",",:-)"],unamused:[":s",":-S",":z",":-Z",":$",":-$"],wink:[";)",";-)"]}},{}],3:[function(a,e,n){"use strict";function o(a){return a.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}e.exports=function(a){var e,n=a.defs;a.enabled.length&&(n=Object.keys(n).reduce(function(e,o){return a.enabled.indexOf(o)>=0&&(e[o]=n[o]),e},{})),e=Object.keys(a.shortcuts).reduce(function(e,o){return n[o]?Array.isArray(a.shortcuts[o])?(a.shortcuts[o].forEach(function(a){e[a]=o}),e):(e[a.shortcuts[o]]=o,e):e},{});var i=Object.keys(n).map(function(a){return":"+a+":"}).concat(Object.keys(e)).sort().reverse().map(function(a){return o(a)}).join("|"),r=RegExp(i),_=RegExp(i,"g");return{defs:n,shortcuts:e,scanRE:r,replaceRE:_}}},{}],4:[function(a,e,n){"use strict";e.exports=function(a,e){return a[e].content}},{}],5:[function(a,e,n){"use strict";e.exports=function(a,e,n,o,i){function r(a,o,r){var _,t=0,l=[];return a.replace(i,function(o,i,c){var u;if(n.hasOwnProperty(o)){if(u=n[o],i>0&&!s.test(c[i-1]))return;if(i+o.length<c.length&&!s.test(c[i+o.length]))return}else u=o.slice(1,-1);i>t&&(_=new r("text","",0),_.content=a.slice(t,i),l.push(_)),_=new r("emoji","",0),_.markup=u,_.content=e[u],l.push(_),t=i+o.length}),t<a.length&&(_=new r("text","",0),_.content=a.slice(t),l.push(_)),l}var _=a.utils.arrayReplaceAt,t=a.utils.lib.ucmicro,s=new RegExp([t.Z.source,t.P.source,t.Cc.source].join("|"));return function(a){var e,n,i,t,s,l=a.tokens,c=0;for(n=0,i=l.length;n<i;n++)if("inline"===l[n].type)for(t=l[n].children,e=t.length-1;e>=0;e--)s=t[e],"link_open"!==s.type&&"link_close"!==s.type||"auto"===s.info&&(c-=s.nesting),"text"===s.type&&o.test(s.content)&&0===c&&(l[n].children=t=_(t,e,r(s.content,s.level,a.Token)))}}},{}],6:[function(a,e,n){"use strict";var o=a("./lib/data/full.json"),i=a("./lib/data/shortcuts"),r=a("./lib/render"),_=a("./lib/replace"),t=a("./lib/normalize_opts");e.exports=function(a,e){var n={defs:o,shortcuts:i,enabled:[]},s=t(a.utils.assign({},n,e||{}));a.renderer.rules.emoji=r,a.core.ruler.push("emoji",_(a,s.defs,s.shortcuts,s.scanRE,s.replaceRE))}},{"./lib/data/full.json":1,"./lib/data/shortcuts":2,"./lib/normalize_opts":3,"./lib/render":4,"./lib/replace":5}]},{},[6])(6)});

(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define("3rdParty/markdown-it-imsize",factory);else if(typeof exports==="object")exports["markdown-it-imsize.js"]=factory();else root["markdown-it-imsize.js"]=factory()})(this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";var sizeOf=__webpack_require__(2);var parseImageSize=__webpack_require__(1);function image_with_size(md,options){return function(state,silent){var attrs,code,label,labelEnd,labelStart,pos,ref,res,title,width="",height="",token,tokens,start,href="",oldPos=state.pos,max=state.posMax;if(state.src.charCodeAt(state.pos)!==33){return false}if(state.src.charCodeAt(state.pos+1)!==91){return false}labelStart=state.pos+2;labelEnd=md.helpers.parseLinkLabel(state,state.pos+1,false);if(labelEnd<0){return false}pos=labelEnd+1;if(pos<max&&state.src.charCodeAt(pos)===40){pos++;for(;pos<max;pos++){code=state.src.charCodeAt(pos);if(code!==32&&code!==10){break}}if(pos>=max){return false}start=pos;res=md.helpers.parseLinkDestination(state.src,pos,state.posMax);if(res.ok){href=state.md.normalizeLink(res.str);if(state.md.validateLink(href)){pos=res.pos}else{href=""}}start=pos;for(;pos<max;pos++){code=state.src.charCodeAt(pos);if(code!==32&&code!==10){break}}res=md.helpers.parseLinkTitle(state.src,pos,state.posMax);if(pos<max&&start!==pos&&res.ok){title=res.str;pos=res.pos;for(;pos<max;pos++){code=state.src.charCodeAt(pos);if(code!==32&&code!==10){break}}}else{title=""}if(pos-1>=0){code=state.src.charCodeAt(pos-1);if(code===32){res=parseImageSize(state.src,pos,state.posMax);if(res.ok){width=res.width;height=res.height;pos=res.pos;for(;pos<max;pos++){code=state.src.charCodeAt(pos);if(code!==32&&code!==10){break}}}}}if(pos>=max||state.src.charCodeAt(pos)!==41){state.pos=oldPos;return false}pos++}else{if(typeof state.env.references==="undefined"){return false}for(;pos<max;pos++){code=state.src.charCodeAt(pos);if(code!==32&&code!==10){break}}if(pos<max&&state.src.charCodeAt(pos)===91){start=pos+1;pos=md.helpers.parseLinkLabel(state,pos);if(pos>=0){label=state.src.slice(start,pos++)}else{pos=labelEnd+1}}else{pos=labelEnd+1}if(!label){label=state.src.slice(labelStart,labelEnd)}ref=state.env.references[md.utils.normalizeReference(label)];if(!ref){state.pos=oldPos;return false}href=ref.href;title=ref.title}if(!silent){state.pos=labelStart;state.posMax=labelEnd;var newState=new state.md.inline.State(state.src.slice(labelStart,labelEnd),state.md,state.env,tokens=[]);newState.md.inline.tokenize(newState);if(options){if(options.autofill&&width===""&&height===""){try{var dimensions=sizeOf(href);width=dimensions.width;height=dimensions.height}catch(e){}}}token=state.push("image","img",0);token.attrs=attrs=[["src",href],["alt",""]];token.children=tokens;if(title){attrs.push(["title",title])}if(width!==""){attrs.push(["width",width])}if(height!==""){attrs.push(["height",height])}}state.pos=pos;state.posMax=max;return true}}module.exports=function imsize_plugin(md,options){md.inline.ruler.before("emphasis","image",image_with_size(md,options))}},function(module,exports,__webpack_require__){"use strict";function parseNextNumber(str,pos,max){var code,start=pos,result={ok:false,pos:pos,value:""};code=str.charCodeAt(pos);while(pos<max&&(code>=48&&code<=57)||code===37){code=str.charCodeAt(++pos)}result.ok=true;result.pos=pos;result.value=str.slice(start,pos);return result}module.exports=function parseImageSize(str,pos,max){var code,result={ok:false,pos:0,width:"",height:""};if(pos>=max){return result}code=str.charCodeAt(pos);if(code!==61){return result}pos++;code=str.charCodeAt(pos);if(code!==120&&(code<48||code>57)){return result}var resultW=parseNextNumber(str,pos,max);pos=resultW.pos;code=str.charCodeAt(pos);if(code!==120){return result}pos++;var resultH=parseNextNumber(str,pos,max);pos=resultH.pos;result.width=resultW.value;result.height=resultH.value;result.pos=pos;result.ok=true;return result}},function(module,exports,__webpack_require__){(function(Buffer){"use strict";var fs=__webpack_require__(16);var path=__webpack_require__(6);var detector=__webpack_require__(3);var handlers={};var types=__webpack_require__(5);types.forEach(function(type){handlers[type]=__webpack_require__(4)("./"+type)});var MaxBufferSize=128*1024;function lookup(buffer,filepath){var type=detector(buffer,filepath);if(type in handlers){var size=handlers[type].calculate(buffer,filepath);if(size!==false){size.type=type;return size}}throw new TypeError("Unsupported file type")}function asyncFileToBuffer(filepath,callback){fs.open(filepath,"r",function(err0,descriptor){if(err0){return callback(err0)}var size=fs.fstatSync(descriptor).size;var bufferSize=Math.min(size,MaxBufferSize);var buffer=new Buffer(bufferSize);fs.read(descriptor,buffer,0,bufferSize,0,function(err1){if(err1){return callback(err1)}fs.close(descriptor,function(err2){callback(err2,buffer)})})})}function syncFileToBuffer(filepath){var descriptor=fs.openSync(filepath,"r");var size=fs.fstatSync(descriptor).size;var bufferSize=Math.min(size,MaxBufferSize);var buffer=new Buffer(bufferSize);fs.readSync(descriptor,buffer,0,bufferSize,0);fs.closeSync(descriptor);return buffer}module.exports=function(input,callback){if(typeof input!=="string"){throw new TypeError("Input must be file name")}var filepath=path.resolve(input);if(typeof callback==="function"){asyncFileToBuffer(filepath,function(err,buffer){if(err){return callback(err)}var dimensions;try{dimensions=lookup(buffer,filepath)}catch(e){err=e}callback(err,dimensions)})}else{var buffer=syncFileToBuffer(filepath);return lookup(buffer,filepath)}}}).call(exports,__webpack_require__(7).Buffer)},function(module,exports,__webpack_require__){"use strict";var typeMap={};var types=__webpack_require__(5);types.forEach(function(type){typeMap[type]=__webpack_require__(4)("./"+type).detect});module.exports=function(buffer,filepath){var type,result;for(type in typeMap){if(type in typeMap){result=typeMap[type](buffer,filepath);if(result){return type}}}throw new TypeError("Unsupported type")}},function(module,exports,__webpack_require__){var map={"./bmp":8,"./bmp.js":8,"./gif":9,"./gif.js":9,"./jpg":10,"./jpg.js":10,"./png":11,"./png.js":11,"./psd":12,"./psd.js":12,"./svg":13,"./svg.js":13,"./tiff":14,"./tiff.js":14,"./webp":15,"./webp.js":15};function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){return map[req]||function(){throw new Error("Cannot find module '"+req+"'.")}()}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)};webpackContext.resolve=webpackContextResolve;module.exports=webpackContext;webpackContext.id=4},function(module,exports,__webpack_require__){"use strict";module.exports=["bmp","gif","jpg","png","tiff"]},function(module,exports,__webpack_require__){(function(process){function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=substr(path,-1)==="/";path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path};exports.isAbsolute=function(path){return path.charAt(0)==="/"};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if(typeof p!=="string"){throw new TypeError("Arguments to path.join must be strings")}return p}).join("/"))};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")};exports.sep="/";exports.delimiter=":";exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir};exports.basename=function(path,ext){var f=splitPath(path)[2];if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};exports.extname=function(path){return splitPath(path)[3]};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i])}return res}var substr="ab".substr(-1)==="b"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len)}}).call(exports,__webpack_require__(18))},function(module,exports,__webpack_require__){(function(Buffer){var base64=__webpack_require__(21);var ieee754=__webpack_require__(19);var isArray=__webpack_require__(20);exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;Buffer.poolSize=8192;var kMaxLength=1073741823;var rootParent={};Buffer.TYPED_ARRAY_SUPPORT=function(){try{var buf=new ArrayBuffer(0);var arr=new Uint8Array(buf);arr.foo=function(){return 42};return arr.foo()===42&&typeof arr.subarray==="function"&&new Uint8Array(1).subarray(1,1).byteLength===0}catch(e){return false}}();function Buffer(subject,encoding){var self=this;if(!(self instanceof Buffer))return new Buffer(subject,encoding);var type=typeof subject;var length;if(type==="number"){length=+subject}else if(type==="string"){length=Buffer.byteLength(subject,encoding)}else if(type==="object"&&subject!==null){if(subject.type==="Buffer"&&isArray(subject.data))subject=subject.data;length=+subject.length}else{throw new TypeError("must start with number, buffer, array or string")}if(length>kMaxLength){throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength.toString(16)+" bytes")}if(length<0)length=0;else length>>>=0;if(Buffer.TYPED_ARRAY_SUPPORT){self=Buffer._augment(new Uint8Array(length))}else{self.length=length;self._isBuffer=true}var i;if(Buffer.TYPED_ARRAY_SUPPORT&&typeof subject.byteLength==="number"){self._set(subject)}else if(isArrayish(subject)){if(Buffer.isBuffer(subject)){for(i=0;i<length;i++){self[i]=subject.readUInt8(i)}}else{for(i=0;i<length;i++){self[i]=(subject[i]%256+256)%256}}}else if(type==="string"){self.write(subject,0,encoding)}else if(type==="number"&&!Buffer.TYPED_ARRAY_SUPPORT){for(i=0;i<length;i++){self[i]=0}}if(length>0&&length<=Buffer.poolSize)self.parent=rootParent;return self}function SlowBuffer(subject,encoding){if(!(this instanceof SlowBuffer))return new SlowBuffer(subject,encoding);var buf=new Buffer(subject,encoding);delete buf.parent;return buf}Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)};Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError("Arguments must be Buffers")}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len&&a[i]===b[i];i++){}if(i!==len){x=a[i];y=b[i]}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,totalLength){if(!isArray(list))throw new TypeError("list argument must be an Array of Buffers.");if(list.length===0){return new Buffer(0)}else if(list.length===1){return list[0]}var i;if(totalLength===undefined){totalLength=0;for(i=0;i<list.length;i++){totalLength+=list[i].length}}var buf=new Buffer(totalLength);var pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos);pos+=item.length}return buf};Buffer.byteLength=function byteLength(str,encoding){var ret;str=str+"";switch(encoding||"utf8"){case"ascii":case"binary":case"raw":ret=str.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=str.length*2;break;case"hex":ret=str.length>>>1;break;case"utf8":case"utf-8":ret=utf8ToBytes(str).length;break;case"base64":ret=base64ToBytes(str).length;break;default:ret=str.length}return ret};Buffer.prototype.length=undefined;Buffer.prototype.parent=undefined;Buffer.prototype.toString=function toString(encoding,start,end){var loweredCase=false;start=start>>>0;end=end===undefined||end===Infinity?this.length:end>>>0;if(!encoding)encoding="utf8";if(start<0)start=0;if(end>this.length)end=this.length;if(end<=start)return"";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"binary":return binarySlice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}};Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;if(this.length>0){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return 0;return Buffer.compare(this,b)};Buffer.prototype.indexOf=function indexOf(val,byteOffset){if(byteOffset>2147483647)byteOffset=2147483647;else if(byteOffset<-2147483648)byteOffset=-2147483648;byteOffset>>=0;if(this.length===0)return-1;if(byteOffset>=this.length)return-1;if(byteOffset<0)byteOffset=Math.max(this.length+byteOffset,0);if(typeof val==="string"){if(val.length===0)return-1;return String.prototype.indexOf.call(this,val,byteOffset)}if(Buffer.isBuffer(val)){return arrayIndexOf(this,val,byteOffset)}if(typeof val==="number"){if(Buffer.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"){return Uint8Array.prototype.indexOf.call(this,val,byteOffset)}return arrayIndexOf(this,[val],byteOffset)}function arrayIndexOf(arr,val,byteOffset){var foundIndex=-1;for(var i=0;byteOffset+i<arr.length;i++){if(arr[byteOffset+i]===val[foundIndex===-1?0:i-foundIndex]){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===val.length)return byteOffset+foundIndex}else{foundIndex=-1}}return-1}throw new TypeError("val must be string, number or Buffer")};Buffer.prototype.get=function get(offset){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(offset)};Buffer.prototype.set=function set(v,offset){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(v,offset)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2!==0)throw new Error("Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0;i<length;i++){var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))throw new Error("Invalid hex string");buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){var charsWritten=blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length);return charsWritten}function asciiWrite(buf,string,offset,length){var charsWritten=blitBuffer(asciiToBytes(string),buf,offset,length);return charsWritten}function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){var charsWritten=blitBuffer(base64ToBytes(string),buf,offset,length);return charsWritten}function utf16leWrite(buf,string,offset,length){var charsWritten=blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length);return charsWritten}Buffer.prototype.write=function write(string,offset,length,encoding){if(isFinite(offset)){if(!isFinite(length)){encoding=length;length=undefined}}else{var swap=encoding;encoding=offset;offset=length;length=swap}offset=Number(offset)||0;if(length<0||offset<0||offset>this.length){throw new RangeError("attempt to write outside buffer bounds")}var remaining=this.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}encoding=String(encoding||"utf8").toLowerCase();var ret;switch(encoding){case"hex":ret=hexWrite(this,string,offset,length);break;case"utf8":case"utf-8":ret=utf8Write(this,string,offset,length);break;case"ascii":ret=asciiWrite(this,string,offset,length);break;case"binary":ret=binaryWrite(this,string,offset,length);break;case"base64":ret=base64Write(this,string,offset,length);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=utf16leWrite(this,string,offset,length);break;default:throw new TypeError("Unknown encoding: "+encoding)}return ret};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){var res="";var tmp="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){if(buf[i]<=127){res+=decodeUtf8Char(tmp)+String.fromCharCode(buf[i]);tmp=""}else{tmp+="%"+buf[i].toString(16)}}return res+decodeUtf8Char(tmp)}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i]&127)}return ret}function binarySlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;i++){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=Buffer._augment(this.subarray(start,end))}else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,undefined);for(var i=0;i<sliceLen;i++){newBuf[i]=this[i+start]}}if(newBuf.length)newBuf.parent=this.parent||this;return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError("buffer must be a Buffer instance");if(value>max||value<min)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul>>>0&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul>>>0&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,255,0);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=65535+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;i++){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}}Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value}else{objectWriteUInt16(this,value,offset,false)}return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=4294967295+value+1;for(var i=0,j=Math.min(buf.length-offset,4);i<j;i++){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}}Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value}else{objectWriteUInt32(this,value,offset,false)}return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength-1)-1,-Math.pow(2,8*byteLength-1))}var i=0;var mul=1;var sub=value<0?1:0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength-1)-1,-Math.pow(2,8*byteLength-1))}var i=byteLength-1;var mul=1;var sub=value<0?1:0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=255+value+1;this[offset]=value;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value}else{objectWriteUInt16(this,value,offset,false)}return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value}else{objectWriteUInt32(this,value,offset,false)}return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(value>max||value<min)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range");if(offset<0)throw new RangeError("index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,target_start,start,end){if(!start)start=0;if(!end&&end!==0)end=this.length;if(target_start>=target.length)target_start=target.length;if(!target_start)target_start=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(target_start<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-target_start<end-start){end=target.length-target_start+start}var len=end-start;if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<len;i++){target[i+target_start]=this[i+start]}}else{target._set(this.subarray(start,start+len),target_start)}return len};Buffer.prototype.fill=function fill(value,start,end){if(!value)value=0;if(!start)start=0;if(!end)end=this.length;if(end<start)throw new RangeError("end < start");if(end===start)return;if(this.length===0)return;if(start<0||start>=this.length)throw new RangeError("start out of bounds");
if(end<0||end>this.length)throw new RangeError("end out of bounds");var i;if(typeof value==="number"){for(i=start;i<end;i++){this[i]=value}}else{var bytes=utf8ToBytes(value.toString());var len=bytes.length;for(i=start;i<end;i++){this[i]=bytes[i%len]}}return this};Buffer.prototype.toArrayBuffer=function toArrayBuffer(){if(typeof Uint8Array!=="undefined"){if(Buffer.TYPED_ARRAY_SUPPORT){return new Buffer(this).buffer}else{var buf=new Uint8Array(this.length);for(var i=0,len=buf.length;i<len;i+=1){buf[i]=this[i]}return buf.buffer}}else{throw new TypeError("Buffer.toArrayBuffer not supported in this browser")}};var BP=Buffer.prototype;Buffer._augment=function _augment(arr){arr.constructor=Buffer;arr._isBuffer=true;arr._set=arr.set;arr.get=BP.get;arr.set=BP.set;arr.write=BP.write;arr.toString=BP.toString;arr.toLocaleString=BP.toString;arr.toJSON=BP.toJSON;arr.equals=BP.equals;arr.compare=BP.compare;arr.indexOf=BP.indexOf;arr.copy=BP.copy;arr.slice=BP.slice;arr.readUIntLE=BP.readUIntLE;arr.readUIntBE=BP.readUIntBE;arr.readUInt8=BP.readUInt8;arr.readUInt16LE=BP.readUInt16LE;arr.readUInt16BE=BP.readUInt16BE;arr.readUInt32LE=BP.readUInt32LE;arr.readUInt32BE=BP.readUInt32BE;arr.readIntLE=BP.readIntLE;arr.readIntBE=BP.readIntBE;arr.readInt8=BP.readInt8;arr.readInt16LE=BP.readInt16LE;arr.readInt16BE=BP.readInt16BE;arr.readInt32LE=BP.readInt32LE;arr.readInt32BE=BP.readInt32BE;arr.readFloatLE=BP.readFloatLE;arr.readFloatBE=BP.readFloatBE;arr.readDoubleLE=BP.readDoubleLE;arr.readDoubleBE=BP.readDoubleBE;arr.writeUInt8=BP.writeUInt8;arr.writeUIntLE=BP.writeUIntLE;arr.writeUIntBE=BP.writeUIntBE;arr.writeUInt16LE=BP.writeUInt16LE;arr.writeUInt16BE=BP.writeUInt16BE;arr.writeUInt32LE=BP.writeUInt32LE;arr.writeUInt32BE=BP.writeUInt32BE;arr.writeIntLE=BP.writeIntLE;arr.writeIntBE=BP.writeIntBE;arr.writeInt8=BP.writeInt8;arr.writeInt16LE=BP.writeInt16LE;arr.writeInt16BE=BP.writeInt16BE;arr.writeInt32LE=BP.writeInt32LE;arr.writeInt32BE=BP.writeInt32BE;arr.writeFloatLE=BP.writeFloatLE;arr.writeFloatBE=BP.writeFloatBE;arr.writeDoubleLE=BP.writeDoubleLE;arr.writeDoubleBE=BP.writeDoubleBE;arr.fill=BP.fill;arr.inspect=BP.inspect;arr.toArrayBuffer=BP.toArrayBuffer;return arr};var INVALID_BASE64_RE=/[^+\/0-9A-z\-]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function isArrayish(subject){return isArray(subject)||Buffer.isBuffer(subject)||subject&&typeof subject==="object"&&typeof subject.length==="number"}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];var i=0;for(;i<length;i++){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(leadSurrogate){if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}else{codePoint=leadSurrogate-55296<<10|codePoint-56320|65536;leadSurrogate=null}}else{if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}else{leadSurrogate=codePoint;continue}}}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=null}if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<2097152){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;i++){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;i++){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function decodeUtf8Char(str){try{return decodeURIComponent(str)}catch(err){return String.fromCharCode(65533)}}}).call(exports,__webpack_require__(7).Buffer)},function(module,exports,__webpack_require__){"use strict";function isBMP(buffer){return"BM"===buffer.toString("ascii",0,2)}function calculate(buffer){return{width:buffer.readUInt32LE(18),height:buffer.readUInt32LE(22)}}module.exports={detect:isBMP,calculate:calculate}},function(module,exports,__webpack_require__){"use strict";var gifRegexp=/^GIF8[7,9]a/;function isGIF(buffer){var signature=buffer.toString("ascii",0,6);return gifRegexp.test(signature)}function calculate(buffer){return{width:buffer.readUInt16LE(6),height:buffer.readUInt16LE(8)}}module.exports={detect:isGIF,calculate:calculate}},function(module,exports,__webpack_require__){"use strict";var validJFIFMarkers={ffdb:"0001010101",ffe0:"4a46494600",ffe1:"4578696600",ffe2:"4943435f50",ffe3:"",ffe8:"5350494646",ffec:"4475636b79",ffed:"50686f746f",ffee:"41646f6265"};var red=["[31m","[39m"];function isJPG(buffer){var SOIMarker=buffer.toString("hex",0,2);var JFIFMarker=buffer.toString("hex",2,4);if("ffd8"!==SOIMarker){return false}var got=buffer.toString("hex",6,11);var expected=JFIFMarker&&validJFIFMarkers[JFIFMarker];if(expected===""){console.warn(red[0]+"this looks like a unrecognised jpeg\n"+"please report the issue here\n"+red[1],"	https://github.com/netroy/image-size/issues/new\n");return false}return got===expected||JFIFMarker==="ffdb"}function extractSize(buffer,i){return{height:buffer.readUInt16BE(i),width:buffer.readUInt16BE(i+2)}}function validateBuffer(buffer,i){if(i>buffer.length){throw new TypeError("Corrupt JPG, exceeded buffer limits")}if(buffer[i]!==255){throw new TypeError("Invalid JPG, marker table corrupted")}}function calculate(buffer){buffer=buffer.slice(4);var i,next;while(buffer.length){i=buffer.readUInt16BE(0);validateBuffer(buffer,i);next=buffer[i+1];if(next===192||next===194){return extractSize(buffer,i+5)}buffer=buffer.slice(i+2)}throw new TypeError("Invalid JPG, no size found")}module.exports={detect:isJPG,calculate:calculate}},function(module,exports,__webpack_require__){"use strict";var pngSignature="PNG\r\n\n";function isPNG(buffer){if(pngSignature===buffer.toString("ascii",1,8)){if("IHDR"!==buffer.toString("ascii",12,16)){throw new TypeError("invalid png")}return true}}function calculate(buffer){return{width:buffer.readUInt32BE(16),height:buffer.readUInt32BE(20)}}module.exports={detect:isPNG,calculate:calculate}},function(module,exports,__webpack_require__){"use strict";function isPSD(buffer){return"8BPS"===buffer.toString("ascii",0,4)}function calculate(buffer){return{width:buffer.readUInt32BE(18),height:buffer.readUInt32BE(14)}}module.exports={detect:isPSD,calculate:calculate}},function(module,exports,__webpack_require__){"use strict";var svgReg=/<svg[^>]+[^>]*>/;function isSVG(buffer){return svgReg.test(buffer)}var extractorRegExps={root:/<svg [^>]+>/,width:/(^|\s)width\s*=\s*"(.+?)"/i,height:/(^|\s)height\s*=\s*"(.+?)"/i,viewbox:/(^|\s)viewbox\s*=\s*"(.+?)"/i};function getRatio(viewbox){var ratio=1;if(viewbox&&viewbox[2]){var dim=viewbox[2].split(/\s/g);if(dim.length===4){dim=dim.map(function(i){return parseInt(i,10)});ratio=(dim[2]-dim[0])/(dim[3]-dim[1])}}return ratio}function parse(buffer){var body=buffer.toString().replace(/[\r\n\s]+/g," ");var section=body.match(extractorRegExps.root);var root=section&&section[0];if(root){var width=root.match(extractorRegExps.width);var height=root.match(extractorRegExps.height);var viewbox=root.match(extractorRegExps.viewbox);var ratio=getRatio(viewbox);return{width:parseInt(width&&width[2],10)||0,height:parseInt(height&&height[2],10)||0,ratio:ratio}}}function calculate(buffer){var parsed=parse(buffer);var width=parsed.width;var height=parsed.height;var ratio=parsed.ratio;if(width&&height){return{width:width,height:height}}else{if(width){return{width:width,height:Math.floor(width/ratio)}}else if(height){return{width:Math.floor(height*ratio),height:height}}else{throw new TypeError("invalid svg")}}}module.exports={detect:isSVG,calculate:calculate}},function(module,exports,__webpack_require__){(function(Buffer){"use strict";var fs=__webpack_require__(16);var readUInt=__webpack_require__(17);function isTIFF(buffer){var hex4=buffer.toString("hex",0,4);return"49492a00"===hex4||"4d4d002a"===hex4}function readIFD(buffer,filepath,isBigEndian){var ifdOffset=readUInt(buffer,32,4,isBigEndian);var bufferSize=1024;var fileSize=fs.statSync(filepath).size;if(ifdOffset+bufferSize>fileSize){bufferSize=fileSize-ifdOffset-10}var endBuffer=new Buffer(bufferSize);var descriptor=fs.openSync(filepath,"r");fs.readSync(descriptor,endBuffer,0,bufferSize,ifdOffset);var ifdBuffer=endBuffer.slice(2);return ifdBuffer}function readValue(buffer,isBigEndian){var low=readUInt(buffer,16,8,isBigEndian);var high=readUInt(buffer,16,10,isBigEndian);return(high<<16)+low}function nextTag(buffer){if(buffer.length>24){return buffer.slice(12)}}function extractTags(buffer,isBigEndian){var tags={};var code,type,length;while(buffer&&buffer.length){code=readUInt(buffer,16,0,isBigEndian);type=readUInt(buffer,16,2,isBigEndian);length=readUInt(buffer,32,4,isBigEndian);if(code===0){break}else{if(length===1&&type===3){tags[code]=readValue(buffer,isBigEndian)}buffer=nextTag(buffer)}}return tags}function determineEndianness(buffer){var signature=buffer.toString("ascii",0,2);if("II"===signature){return"LE"}else if("MM"===signature){return"BE"}}function calculate(buffer,filepath){if(!filepath){throw new TypeError("Tiff doesn't support buffer")}var isBigEndian=determineEndianness(buffer)==="BE";var ifdBuffer=readIFD(buffer,filepath,isBigEndian);var tags=extractTags(ifdBuffer,isBigEndian);var width=tags[256];var height=tags[257];if(!width||!height){throw new TypeError("Invalid Tiff, missing tags")}return{width:width,height:height}}module.exports={detect:isTIFF,calculate:calculate}}).call(exports,__webpack_require__(7).Buffer)},function(module,exports,__webpack_require__){"use strict";function isWebP(buffer){var riffHeader="RIFF"===buffer.toString("ascii",0,4);var webpHeader="WEBP"===buffer.toString("ascii",8,12);var vp8Header="VP8"===buffer.toString("ascii",12,15);return riffHeader&&webpHeader&&vp8Header}function calculate(buffer){var chunkHeader=buffer.toString("ascii",12,16);buffer=buffer.slice(20,30);if(chunkHeader==="VP8 "&&buffer[0]!==47){return calculateLossy(buffer)}var signature=buffer.toString("hex",3,6);if(chunkHeader==="VP8L"&&signature!=="9d012a"){return calculateLossless(buffer)}return false}function calculateLossless(buffer){return{width:1+((buffer[2]&63)<<8|buffer[1]),height:1+((buffer[4]&15)<<10|buffer[3]<<2|(buffer[2]&192)>>6)}}function calculateLossy(buffer){return{width:buffer.readInt16LE(6)&16383,height:buffer.readInt16LE(8)&16383}}module.exports={detect:isWebP,calculate:calculate}},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){"use strict";module.exports=function(buffer,bits,offset,isBigEndian){offset=offset||0;var endian=!!isBigEndian?"BE":"LE";var method=buffer["readUInt"+bits+endian];return method.call(buffer,offset)}},function(module,exports,__webpack_require__){var process=module.exports={};var queue=[];var draining=false;function drainQueue(){if(draining){return}draining=true;var currentQueue;var len=queue.length;while(len){currentQueue=queue;queue=[];var i=-1;while(++i<len){currentQueue[i]()}len=queue.length}draining=false}process.nextTick=function(fun){queue.push(fun);if(!draining){setTimeout(drainQueue,0)}};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},function(module,exports,__webpack_require__){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8);m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8);if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8);e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=s*128}},function(module,exports,__webpack_require__){var isArray=Array.isArray;var str=Object.prototype.toString;module.exports=isArray||function(val){return!!val&&"[object Array]"==str.call(val)}},function(module,exports,__webpack_require__){var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(exports){"use strict";var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var PLUS="+".charCodeAt(0);var SLASH="/".charCodeAt(0);var NUMBER="0".charCodeAt(0);var LOWER="a".charCodeAt(0);var UPPER="A".charCodeAt(0);var PLUS_URL_SAFE="-".charCodeAt(0);var SLASH_URL_SAFE="_".charCodeAt(0);function decode(elt){var code=elt.charCodeAt(0);if(code===PLUS||code===PLUS_URL_SAFE)return 62;if(code===SLASH||code===SLASH_URL_SAFE)return 63;if(code<NUMBER)return-1;if(code<NUMBER+10)return code-NUMBER+26+26;if(code<UPPER+26)return code-UPPER;if(code<LOWER+26)return code-LOWER+26}function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var len=b64.length;placeHolders="="===b64.charAt(len-2)?2:"="===b64.charAt(len-1)?1:0;arr=new Arr(b64.length*3/4-placeHolders);l=placeHolders>0?b64.length-4:b64.length;var L=0;function push(v){arr[L++]=v}for(i=0,j=0;i<l;i+=4,j+=3){tmp=decode(b64.charAt(i))<<18|decode(b64.charAt(i+1))<<12|decode(b64.charAt(i+2))<<6|decode(b64.charAt(i+3));push((tmp&16711680)>>16);push((tmp&65280)>>8);push(tmp&255)}if(placeHolders===2){tmp=decode(b64.charAt(i))<<2|decode(b64.charAt(i+1))>>4;push(tmp&255)}else if(placeHolders===1){tmp=decode(b64.charAt(i))<<10|decode(b64.charAt(i+1))<<4|decode(b64.charAt(i+2))>>2;push(tmp>>8&255);push(tmp&255)}return arr}function uint8ToBase64(uint8){var i,extraBytes=uint8.length%3,output="",temp,length;function encode(num){return lookup.charAt(num)}function tripletToBase64(num){return encode(num>>18&63)+encode(num>>12&63)+encode(num>>6&63)+encode(num&63)}for(i=0,length=uint8.length-extraBytes;i<length;i+=3){temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output+=tripletToBase64(temp)}switch(extraBytes){case 1:temp=uint8[uint8.length-1];output+=encode(temp>>2);output+=encode(temp<<4&63);output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1];output+=encode(temp>>10);output+=encode(temp>>4&63);output+=encode(temp<<2&63);output+="=";break}return output}exports.toByteArray=b64ToByteArray;exports.fromByteArray=uint8ToBase64})(false?this.base64js={}:exports)}])});

/*! markdown-it-task-lists 1.4.0 https://github.com/revin/markdown-it-task-lists#readme by  @license {ISC} */
!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define("3rdParty/markdown-it-task-lists",[],n);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.markdownitTaskLists=n()}}(function(){return function n(e,t,i){function r(c,f){if(!t[c]){if(!e[c]){var u="function"==typeof require&&require;if(!f&&u)return u(c,!0);if(o)return o(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var s=t[c]={exports:{}};e[c][0].call(s.exports,function(n){var t=e[c][1][n];return r(t?t:n)},s,s.exports,n,e,t,i)}return t[c].exports}for(var o="function"==typeof require&&require,c=0;c<i.length;c++)r(i[c]);return r}({1:[function(n,e,t){function i(n,e,t){var i=n.attrIndex(e),r=[e,t];0>i?n.attrPush(r):n.attrs[i]=r}function r(n,e){for(var t=n[e].level-1,i=e-1;i>=0;i--)if(n[i].level===t)return i;return-1}function o(n,e){return s(n[e])&&a(n[e-1])&&d(n[e-2])&&p(n[e])}function c(n,e){n.children.unshift(f(n,e)),n.children[1].content=n.children[1].content.slice(3),n.content=n.content.slice(3),x&&(n.children.unshift(u(e)),n.children.push(l(e)))}function f(n,e){var t=new e("html_inline","",0),i=h?' disabled="" ':"";return 0===n.content.indexOf("[ ]")?t.content='<input class="task-list-item-checkbox"'+i+'type="checkbox">':(0===n.content.indexOf("[x]")||0===n.content.indexOf("[X]"))&&(t.content='<input class="task-list-item-checkbox" checked=""'+i+'type="checkbox">'),t}function u(n){var e=new n("html_inline","",0);return e.content="<label>",e}function l(n){var e=new n("html_inline","",0);return e.content="</label>",e}function s(n){return"inline"===n.type}function a(n){return"paragraph_open"===n.type}function d(n){return"list_item_open"===n.type}function p(n){return 0===n.content.indexOf("[ ]")||0===n.content.indexOf("[x]")||0===n.content.indexOf("[X]")}var h=!0,x=!1;e.exports=function(n,e){e&&(h=!e.enabled,x=!!e.label),n.core.ruler.after("inline","github-task-lists",function(n){for(var e=n.tokens,t=2;t<e.length;t++)o(e,t)&&(c(e[t],n.Token),i(e[t-2],"class","task-list-item"),i(e[r(e,t-2)],"class","task-list"))})}},{}]},{},[1])(1)});

/*! markdown-it-container 2.0.0 https://github.com//markdown-it/markdown-it-container @license MIT */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("3rdParty/markdown-it-container",[],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.markdownitContainer=e()}}(function(){return function e(r,n,t){function o(f,a){if(!n[f]){if(!r[f]){var u="function"==typeof require&&require;if(!a&&u)return u(f,!0);if(i)return i(f,!0);var c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c}var s=n[f]={exports:{}};r[f][0].call(s.exports,function(e){var n=r[f][1][e];return o(n?n:e)},s,s.exports,e,r,n,t)}return n[f].exports}for(var i="function"==typeof require&&require,f=0;f<t.length;f++)o(t[f]);return o}({1:[function(e,r,n){"use strict";r.exports=function(e,r,n){function t(e){return e.trim().split(" ",2)[0]===r}function o(e,n,t,o,i){return 1===e[n].nesting&&e[n].attrPush(["class",r]),i.renderToken(e,n,t,o,i)}function i(e,n,t,o){var i,l,d,p,k,h,b,m,v=!1,y=e.bMarks[n]+e.tShift[n],_=e.eMarks[n];if(u!==e.src.charCodeAt(y))return!1;for(i=y+1;_>=i&&a[(i-y)%c]===e.src[i];i++);if(d=Math.floor((i-y)/c),f>d)return!1;if(i-=(i-y)%c,p=e.src.slice(y,i),k=e.src.slice(i,_),!s(k))return!1;if(o)return!0;for(l=n;(l++,!(l>=t))&&(y=e.bMarks[l]+e.tShift[l],_=e.eMarks[l],!(_>y&&e.sCount[l]<e.blkIndent));)if(u===e.src.charCodeAt(y)&&!(e.sCount[l]-e.blkIndent>=4)){for(i=y+1;_>=i&&a[(i-y)%c]===e.src[i];i++);if(!(Math.floor((i-y)/c)<d||(i-=(i-y)%c,i=e.skipSpaces(i),_>i))){v=!0;break}}return b=e.parentType,m=e.lineMax,e.parentType="container",e.lineMax=l,h=e.push("container_"+r+"_open","div",1),h.markup=p,h.block=!0,h.info=k,h.map=[n,l],e.md.block.tokenize(e,n+1,l),h=e.push("container_"+r+"_close","div",-1),h.markup=e.src.slice(y,i),h.block=!0,e.parentType=b,e.lineMax=m,e.line=l+(v?1:0),!0}n=n||{};var f=3,a=n.marker||":",u=a.charCodeAt(0),c=a.length,s=n.validate||t,l=n.render||o;e.block.ruler.before("fence","container_"+r,i,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules["container_"+r+"_open"]=l,e.renderer.rules["container_"+r+"_close"]=l}},{}]},{},[1])(1)});

/* Version used in VSTS : 0.3.6 */

define("3rdParty/markdown-it-table-of-contents",function (require, exports, module) {
    "use strict";
    var string = require("string");
    var assign = require("lodash.assign");
    var defaults = {
        includeLevel: [1, 2],
        containerClass: "table-of-contents",
        slugify: function (str) {
            return string(str).slugify().toString();
        },
        markerPattern: /^\[\[toc\]\]/im,
        listType: "ul",
        format: undefined,
        forceFullToc: false,
        containerHeaderHtml: undefined,
        containerFooterHtml: undefined,
    };

    module.exports = function (md, options) {
        var options = assign({}, defaults, options);
        var tocRegexp = options.markerPattern;
        var gstate;

        function toc(state, silent) {
            var token;
            var match;

            // Reject if the token does not start with [
            if (state.src.charCodeAt(state.pos) !== 0x5B /* [ */) {
                return false;
            }
            // Don't run any pairs in validation mode
            if (silent) {
                return false;
            }

            // Detect TOC markdown
            match = tocRegexp.exec(state.src);
            match = !match ? [] : match.filter(function (m) { return m; });
            if (match.length < 1) {
                return false;
            }

            // Check the index of match is same as pos
            // This we do because we push tokens as state.pos only, so the match has to be in that index
            if (state.pos !== state.src.indexOf(match[0])) {
                return false;
            }

            // Build content
            token = state.push("toc_open", "toc", 1);
            token.markup = "[[toc]]";
            token = state.push("toc_body", "", 0);
            token = state.push("toc_close", "toc", -1);

            // Update pos so the parser can continue
            var newline = state.src.indexOf("\n", state.pos);
            if (newline !== -1) {
                state.pos = newline;
            } else {
                state.pos = state.pos + state.posMax + 1;
            }

            return true;
        }

        md.renderer.rules.toc_open = function (tokens, index) {
            var tocOpenHtml = '<div class="' + options.containerClass + '">';

            if (options.containerHeaderHtml) {
                tocOpenHtml += options.containerHeaderHtml;
            }

            return tocOpenHtml;
        };

        md.renderer.rules.toc_close = function (tokens, index) {
            var tocFooterHtml = "";

            if (options.containerFooterHtml) {
                tocFooterHtml = options.containerFooterHtml;
            }

            return tocFooterHtml + "</div>";
        };

        md.renderer.rules.toc_body = function (tokens, index) {
            if (options.forceFullToc) {
                /*
                
                Renders full TOC even if the hierarchy of headers contains
                a header greater than the first appearing header
                
                ## heading 2
                ### heading 3
                # heading 1
                
                Result TOC:
                - heading 2
                   - heading 3
                - heading 1 
          
                */
                var tocBody = "";
                var pos = 0;
                var tokenLength = gstate && gstate.tokens && gstate.tokens.length;

                while (pos < tokenLength) {
                    var tocHierarchy = renderChildsTokens(pos, gstate.tokens);
                    pos = tocHierarchy[0];
                    tocBody += tocHierarchy[1];
                }

                return tocBody;
            } else {
                return renderChildsTokens(0, gstate.tokens)[1];
            }
        };

        function renderChildsTokens(pos, tokens) {
            var headings = [],
                buffer = '',
                currentLevel,
                subHeadings,
                size = tokens.length,
                i = pos;
            while (i < size) {
                var token = tokens[i];
                var heading = tokens[i - 1];
                var level = token.tag && parseInt(token.tag.substr(1, 1));
                if (token.type !== "heading_close" || options.includeLevel.indexOf(level) == -1 || heading.type !== "inline") {
                    i++; continue; // Skip if not matching criteria
                }
                if (!currentLevel) {
                    currentLevel = level;// We init with the first found level
                } else {
                    if (level > currentLevel) {
                        subHeadings = renderChildsTokens(i, tokens);
                        buffer += subHeadings[1];
                        i = subHeadings[0];
                        continue;
                    }
                    if (level < currentLevel) {
                        // Finishing the sub headings
                        buffer += "</li>";
                        headings.push(buffer);
                        return [i, "<" + options.listType + ">" + headings.join("") + "</" + options.listType + ">"];
                    }
                    if (level == currentLevel) {
                        // Finishing the sub headings
                        buffer += "</li>";
                        headings.push(buffer);
                    }
                }
                buffer = "<li><a href=\"#" + options.slugify(heading.content) + "\">";
                buffer += typeof options.format === "function" ? options.format(heading.content) : heading.content;
                buffer += "</a>";
                i++;
            }
            buffer += buffer === "" ? "" : "</li>";
            headings.push(buffer);
            return [i, "<" + options.listType + ">" + headings.join("") + "</" + options.listType + ">"];
        }

        // Catch all the tokens for iteration later
        md.core.ruler.push("grab_state", function (state) {
            gstate = state;
        });

        // Insert TOC
        md.inline.ruler.after("emphasis", "toc", toc);
    };
});

define("3rdParty/remove-markdown",function (require, exports, module) {
  module.exports = function(md, options) {
    options = options || {};
    options.listUnicodeChar = options.hasOwnProperty('listUnicodeChar') ? options.listUnicodeChar : false;
    options.stripListLeaders = options.hasOwnProperty('stripListLeaders') ? options.stripListLeaders : true;
    options.gfm = options.hasOwnProperty('gfm') ? options.gfm : true;
    options.useImgAltText = options.hasOwnProperty('useImgAltText') ? options.useImgAltText : true;
  
    var output = md || '';
  
    // Remove horizontal rules (stripListHeaders conflict with this rule, which is why it has been moved to the top)
    output = output.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*$/gm, '');
  
    try {
      if (options.stripListLeaders) {
        if (options.listUnicodeChar)
          output = output.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm, options.listUnicodeChar + ' $1');
        else
          output = output.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm, '$1');
      }
      if (options.gfm) {
        output = output
          // Header
          .replace(/\n={2,}/g, '\n')
          // Fenced codeblocks
          .replace(/~{3}.*\n/g, '')
          // Strikethrough
          .replace(/~~/g, '')
          // Fenced codeblocks
          .replace(/`{3}.*\n/g, '');
      }
      output = output
        // Remove HTML tags
        .replace(/<[^>]*>/g, '')
        // Remove setext-style headers
        .replace(/^[=\-]{2,}\s*$/g, '')
        // Remove footnotes?
        .replace(/\[\^.+?\](\: .*?$)?/g, '')
        .replace(/\s{0,2}\[.*?\]: .*?$/g, '')
        // Remove images
        .replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g, options.useImgAltText ? '$1' : '')
        // Remove inline links
        .replace(/\[(.*?)\][\[\(].*?[\]\)]/g, '$1')
        // Remove blockquotes
        .replace(/^\s{0,3}>\s?/g, '')
        // Remove reference-style links?
        .replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g, '')
        // Remove atx-style headers
        .replace(/^(\n)?\s{0,}#{1,6}\s+| {0,}(\n)?\s{0,}#{0,} {0,}(\n)?\s{0,}$/gm, '$1$2$3')
        // Remove emphasis (repeat the line to remove double emphasis)
        .replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g, '$2')
        .replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g, '$2')
        // Remove code blocks
        .replace(/(`{3,})(.*?)\1/gm, '$2')
        // Remove inline code
        .replace(/`(.+?)`/g, '$1')
        // Replace two or more newlines with exactly two? Not entirely sure this belongs here...
        .replace(/\n{2,}/g, '\n\n');
    } catch(e) {
      console.error(e);
      return md;
    }
    return output;
  };
});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Utils/Html",["require","exports","VSS/Diag","VSS/Utils/Array","VSS/Utils/String","VSS/Utils/Url"],function(n,t,i,r,u,f){var e,c,a,p;Object.defineProperty(t,"__esModule",{value:!0}),function(n){function h(n,t){var i,r,u,f,e;if(t){if(Array.isArray(t)){for(i=0;i<t.length;i++)n[t[i].toUpperCase()]=0;return}for(r=0,u=Object.keys(t);r<u.length;r++)f=u[r],e=t[f],n[f.toUpperCase()]=e?e:0}}function c(n){h(e,n)}function t(n,t,i,u){var f={attributes:{},eolBefore:t,eolAfter:i};r[n.toUpperCase()]=f;h(f.attributes,u)}function v(n){(n||[]).forEach(function(n){return t(n,!1,!1)})}function nt(n){(n||[]).forEach(function(n){return l[n.toUpperCase()]=0})}function y(){r||(r={},t("a",!1,!1,{charset:0,href:0,hreflang:0,name:0,rel:0,rev:0,shape:0,tabindex:0,target:{_BLANK:0},type:0}),t("blockquote",!0,!0,["cite"]),t("br",!1,!0,["clear"]),t("caption",!0,!0,["align"]),t("col",!0,!0,["align","char","charoff","span","valign","width"]),t("colgroup",!0,!0,["align","char","charoff","span","valign","width"]),t("del",!1,!1,["cite","datetime"]),t("dir",!0,!0,["compact"]),t("div",!0,!0,["align"]),t("dl",!0,!0,["compact"]),t("font",!1,!1,["color","face","size"]),t("h1",!0,!0,["align"]),t("h2",!0,!0,["align"]),t("h3",!0,!0,["align"]),t("h4",!0,!0,["align"]),t("h5",!0,!0,["align"]),t("h6",!0,!0,["align"]),t("hr",!0,!0,["align","size","width"]),t("img",!1,!1,["align","alt","border","height","hspace","ismap","longdesc","name","src","usemap","vspace","width","alt2","src2"]),t("video",!0,!0,["border","height","src","width","controls","poster","muted","loop"]),t("ins",!1,!1,["cite","datetime"]),t("li",!0,!0,["type","value"]),t("map",!1,!1,["name"]),t("menu",!0,!0,["compact"]),t("input",!0,!0,{checked:0,disabled:0,type:{CHECKBOX:0,TEXT:0}}),t("ol",!0,!0,["compact","start","type"]),t("p",!0,!0,["align"]),t("pre",!0,!0,["width"]),t("q",!1,!1,["cite"]),t("table",!0,!0,["align","border","cellpadding","cellspacing","frame","rules","summary","width","caption"]),t("tbody",!1,!1,["align","char","charoff","valign"]),t("td",!0,!0,["abbr","align","axis","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]),t("tfoot",!0,!0,["align","char","charoff","valign"]),t("th",!0,!0,["abbr","align","axis","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]),t("thead",!0,!0,["align","char","charoff","valign"]),t("tr",!0,!0,["align","char","charoff","valign"]),t("ul",!0,!0,["compact","type"]),t("dd",!0,!0,[]),t("dt",!0,!0,[]),v(["abbr","acronym","address","b","bdo","big","center","cite","code","dfn","em","i"]),v(["kbd","s","samp","small","span","strike","strong","sub","sup","tt","u","var"]),v(["annotation","math","mfrac","mi","mn","mo","mover","mrel","mrow","mspace","msqrt","mstyle","msub","msubsup","msup","mtext","semantics"]))}function p(){var i,r,n,t,f,e;if(!u){for(u={},i=["b","i","u","em","small","strong","sub","sup","ins","del","mark","font","code","pre","h1","h2","h3","h4","h5","h6","strike","ul","ol","dl","table","tbody","colgroup","col","tfoot","thead"],r={li:{tagToReplace:"p"},dt:{tagToReplace:"p"},dd:{tagToReplace:"p"},tr:{tagToReplace:"div"},th:{tagToReplace:"span",afterTagText:" "},td:{tagToReplace:"span",afterTagText:" "}},n=0;n<i.length;n++)u[i[n].toUpperCase()]={tagToReplace:""};for(t=0,f=Object.keys(r);t<f.length;t++)e=f[t],u[e.toUpperCase()]=r[e]}}function tt(){l||(l={},nt(["script","style","option","select","textarea"]))}function it(){e||(e={},c(["dir","lang","title","style","id","class","contenteditable"]),c({role:{BUTTON:0,CHECKBOX:0,CELL:0,COLUMNHEADER:0,COMBOBOX:0,GRID:0,GRIDCELL:0,HEADING:0,LINK:0,LISTBOX:0,MENU:0,MENUBAR:0,MENUITEM:0,MENUITEMCHECKBOX:0,MENUITEMRADIO:0,OPTION:0,RADIO:0,RADIOGROUP:0,ROW:0,ROWGROUP:0,ROWHEADER:0,SWITCH:0,TAB:0,TABLIST:0,TOOLTIP:0,TREE:0,TREEGRID:0,TREEITEM:0}}),c(["aria-label","aria-labelledby","aria-describedby"]),c({"aria-hidden":{TRUE:0,FALSE:0}}),c({"aria-disabled":{TRUE:0,FALSE:0}}))}function rt(){o||(o={},h(o,["src","href","cite","longdesc"]),h(o,["background-image","list-style-image"]))}function ut(){if(!s){s={};var n=function(n,t){return n&&n.toUpperCase()==="IMG"&&t&&t.toUpperCase()==="SRC"};s.BLOB=function(t,i,r){if(!n(t,i))return!1;var e=r.indexOf(":"),u=r.substr(e+1);return u.indexOf(":")>=0?f.isSafeProtocol(u):!0};s.DATA=function(t,i,r){return n(t,i)?r.toUpperCase().search("DATA:IMAGE/\\w+;")===0:!1}}}function ft(){a||(a={},h(a,["background","background-attachment","background-color","background-image","background-position","background-repeat","border","border-bottom","border-bottom-color","border-bottom-style","border-bottom-width","border-collapse","border-color","border-left","border-left-color","border-left-style","border-left-width","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-style","border-top-width","border-width","caption-side","clear","color","float","font","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","padding","padding-bottom","padding-left","padding-right","padding-top","table-layout","text-align","text-decoration","text-indent","text-transform","vertical-align","white-space","width","word-spacing"]))}function et(n,t){return n&&t?n.toUpperCase()===t.toUpperCase():!1}function ot(n){return n?(y(),n.toUpperCase()in r):!1}function st(n){return w(n,!0)}function ht(n){return w(n,!1)}function w(n,t){if(n){y();var i=n.toUpperCase();if(i in r)return t?r[i].eolBefore:r[i].eolAfter}return!1}function ct(n){if(n){p();var t=u[n.toUpperCase()];if(t!==undefined&&t.tagToReplace!=null&&t.tagToReplace.length===0)return!0}return!1}function lt(n){if(n){p();var t=u[n.toUpperCase()];if(t&&t.tagToReplace&&t.tagToReplace.length>0)return t}return null}function at(n){return n?(tt(),n.toUpperCase()in l):!1}function vt(n,t,i){var s;if(t){it();var u=t.toUpperCase(),f=i.invalidAttributes,o=i.validAttributes;if(f&&o&&u in f&&u in o)throw new Error(u+" is specified in additionalInvalidAttributes and additionalValidAttributes. Attributes may only appear in either the whitelist or blacklist.");if(o&&u in o)return!0;if(u in e)return f&&u in f?!1:!0;if(n&&(y(),s=r[n.toUpperCase()],s))return u in s.attributes}return!1}function yt(n,t,i){var f=t.toUpperCase(),u=r[n.toUpperCase()].attributes[f];return u?i.toUpperCase()in u:(u=e[f],u)?i.toUpperCase()in u:!0}function b(n){return n&&(rt(),n.toUpperCase()in o)?!0:!1}function k(n,t,i,r){var u,e,o;return(e=i.indexOf(":"),e<0||f.isSafeProtocol(i))?!0:(o=i.substr(0,e),r.invalidProtocols&&o.toUpperCase()in r.invalidProtocols)?!1:(ut(),u=s[o.toUpperCase()],$.isFunction(u)&&u(n,t,i)===!0)?!0:!1}function pt(n,t){if(n){if(ft(),n=n.toUpperCase(),t.invalidStyles&&n in t.invalidStyles)return!1;if(t.validStyles&&n in t.validStyles||n in a)return!0}return!1}function d(n){var t=n;return t?(t=t.replace(/&/g,"&amp;"),t=t.replace(/"/g,"&quot;"),t=t.replace(/>/g,"&gt;"),t.replace(/</g,"&lt;")):""}function g(n,t,i){i=i||'"';var r=$("<div bogusAttribute="+i+t+i+">");return r.attr("bogusAttribute")}function wt(n,t,i){var u=[],r;return(t.split(";")||[]).forEach(function(t){if(t=(t||"").trim(),t){var f=t.split(":",2),r=(f[0]||"").trim(),e=r.toUpperCase();f.length===2&&pt(r,i)&&(!b(r)||k(n,r,(f[1]||"").trim(),i))&&u.push(t)}}),r=u.join(";"),r?'style="'+d(r)+'"':""}function bt(n,t){if(n&&t)try{var r=g(n,t,""),u=f.Uri.parse(r).absoluteUri;return n.replace(t,d(u))}catch(e){return n.replace(t,"Invalid uri value")}return n}function kt(n,t,i,r,u,f,e,o){var s=i.substr(r,u);if(b(t)){if(k(n,t,$.trim(g(t,s,f)),e))return bt(i,s)}else{if(t.toUpperCase()==="STYLE")return wt(n,s,e);if(yt(n,t,s))return o&&"A"===n.toUpperCase()&&"TARGET"===t.toUpperCase()&&"_BLANK"===s.toUpperCase()&&o.updateAttribute("rel","noopener noreferrer"),i}return""}var r,l,e,o,s,a,u;n.areTagsEqual=et;n.isAllowedTag=ot;n.shouldAddEolBeforeTag=st;n.shouldAddEolAfterTag=ht;n.isFormattingRemovalTag=ct;n.getFormattingReplacementTag=lt;n.isSpecialTag=at;n.isAllowedAttribute=vt;n.cleanAttribute=kt}(e||(e={})),function(n){function s(n){return n>="0"&&n<="9"||n>="A"&&n<="Z"||n>="a"&&n<="z"?!0:!1}function i(n,t){u.lastIndex=t;var i=u.exec(n);return i?i.index:n.length}function h(n,t){f.lastIndex=t;var i=f.exec(n);return i?i.index:n.length}function t(n,t,i){var r=n.indexOf(i,t);return r>=0?r+i.length:n.length}function r(n,t){o.lastIndex=t;var i=o.exec(n);return i?{offset:i.index,name:n.substr(t,i.index-t)}:{offset:n.length,name:n.substr(t,n.length-t)}}function c(n,u,f){for(var c=n.length,o=0,p,l,w,g,b,a,v,it,nt,k,tt,d,y;o<c;){if(l=o,o=n.indexOf("<",o),o<0&&(o=c),o>l){u.writeText(n,l,o-l);continue}if(l=o++,p=n.charAt(o),o<c&&p==="!"){if(o++,o+1<c&&n.substr(o,2)==="--"){o+=2;o=t(n,o,"-->");continue}if(o+6<c&&n.substr(o,7)==="[CDATA["){o+=7;o=t(n,o,"]\]>");continue}o=t(n,o,">");continue}if(o<c&&p==="?"){o++;o=t(n,o,">");continue}if(b=!1,o<c&&p==="/"&&(b=!0,o++),o=i(n,o),a=r(n,o),o=a.offset,v=a.name,e.isSpecialTag(v)){for(o=t(n,o,">");o<c;)if(o=t(n,o,"<"),o+2<c&&n.substr(o,3)==="!--")o=t(n,o,"-->");else if(o<c&&n.charAt(o)==="/"){if(o++,o=i(n,o),a=r(n,o),o=a.offset,it=a.name,e.areTagsEqual(v,it)){o=t(n,o,">");break}}else o<c&&o++;continue}if(!e.isAllowedTag(v)||f.removeFormatting&&e.isFormattingRemovalTag(v))if(f.encodeUnknownText){u.writeEncodedText(n,l,o-l);continue}else{o=t(n,o,">");continue}if(d=v,y=null,f.removeFormatting&&(y=e.getFormattingReplacementTag(v),y&&y.tagToReplace.length!==0)){d=y.tagToReplace;o=t(n,o,">");u.writeTag(n,l,d,b);b&&y.afterTagText!=null&&y.afterTagText.length>0&&u.writeText(y.afterTagText,0,y.afterTagText.length);continue}for(u.writeTag(n,l,d,b);o<c;){if(l=o,o=i(n,o),o<c&&n.charAt(o)==="/"&&o++,o<c&&n.charAt(o)===">"){o++;u.writeEndOfTag(n,l,o-l,d);break}if(o<c&&s(n.charAt(o))){if(a=r(n,o),o=a.offset,nt=a.name,o=i(n,o),w=0,g=0,o<c&&n.charAt(o)==="=")if(o++,o=i(n,o),w=o,p=n.charAt(o),k=null,o<c&&(p==="'"||p==='"')){for(k=p,o++,w=o;o<c&&n.charAt(o)!==k;)o++;g=o;o<c&&n.charAt(o)===k&&o++}else o=h(n,o),g=o;e.isAllowedAttribute(v,nt,f)&&(tt=e.cleanAttribute(v,nt,n.substr(l,o-l),w-l,g-w,k,f,u),tt&&u.writeAttribute(tt));continue}o<c&&n.charAt(o)!==">"&&o++}}}var u=/\S/g,f=/[\s|>]/g,o=/[^\w\:\-]/g;n.parse=c}(c||(c={}));var s=function(){function n(n){this.text=n}return n.prototype.render=function(n){n.append(this.text)},n}(),o=function(){function n(n,t){this.tag=n.toUpperCase();this.root=t===!0}return n._getEmptyTags=function(){if(!n._emptyTags){var t={};t.AREA=!0;t.BASE=!0;t.BASEFONT=!0;t.BGSOUND=!0;t.BR=!0;t.COL=!0;t.EMBED=!0;t.FRAME=!0;t.HR=!0;t.IMG=!0;t.INPUT=!0;t.ISINDEX=!0;t.LINK=!0;t.META=!0;t.PARAM=!0;t.WBR=!0;t.IFRAME=!1;t.MARQUEE=!1;n._emptyTags=t}return n._emptyTags},n.hasEndTag=function(n){var t=this._getEmptyTags(),i=!0;return n in t&&(i=!t[n]),i},n.canTagHaveChild=function(n){var t=this._getEmptyTags();return!(n in t)},n.prototype.getChildren=function(){return this._children||(this._children=[]),this._children},n.prototype.getAttributes=function(){return this._attributes||(this._attributes=[]),this._attributes},n.prototype.getHasClosingTag=function(){return this.empty===!0?!1:n.hasEndTag(this.tag)},n.prototype.getCanHaveChildren=function(){return this.tagClosed===!0?!1:n.canTagHaveChild(this.tag)},n.prototype.render=function(n){var t,i,u,r,f=!1;if(this.tag)for(n.append("<"),n.append(this.tag),u=this.getAttributes(),t=0,i=u.length;t<i;t++)n.append(" "),n.append($.trim(u[t]));if(r=this.getChildren(),r.length>0)for(f=!0,this.tag&&n.append(">"),t=0,i=r.length;t<i;t++)r[t].render(n);this.tag&&(f?(n.append("<\/"),n.append(this.tag),n.append(">")):this.getHasClosingTag()?(n.append("><\/"),n.append(this.tag),n.append(">")):n.append("/>"))},n}(),v=function(){function n(){this._strings=[]}return n.prototype.append=function(n){var t=this._strings;return n&&(t[t.length]=n),this},n.prototype.clear=function(){return this._strings=[],this},n.prototype.toString=function(){return this._strings.join("")},n}(),y=function(){function n(){this._textAccumulator="";this._lastWriteWasEol=!0}return n.prototype.writeText=function(n,t,i){this._textAccumulator+=n.substr(t,i);this._lastWriteWasEol=!1},n.prototype.writeEncodedText=function(n,t,i){this._textAccumulator+=u.htmlEncode(n.substr(t,i));this._lastWriteWasEol=!1},n.prototype.writeTag=function(n,t,i,r){var u=i.toUpperCase();(r?e.shouldAddEolAfterTag(i):e.shouldAddEolBeforeTag(i))&&this._writeEols()},n.prototype.writeEndOfTag=function(){},n.prototype.writeAttribute=function(){},n.prototype.updateAttribute=function(){},n.prototype.finish=function(){},n.prototype.toString=function(){return this._textAccumulator.replace("\u00a0\r\n","\r\n").trim()},n.prototype._writeEols=function(){this._lastWriteWasEol||(this._textAccumulator+="\r\n",this._lastWriteWasEol=!0)},n}(),h=function(){function n(){this.root=new o("",!0);this.elements=[]}return n.prototype.writeText=function(n,t,i){var r=this.elements;r[r.length]=new s(n.substr(t,i))},n.prototype.writeEncodedText=function(n,t,i){var r=this.elements;r[r.length]=new s(u.htmlEncode(n.substr(t,i)))},n.prototype.writeTag=function(n,t,i,r){var u,h,c=this.elements,e,f,l=i.toUpperCase();if(r===!0){for(f=[];c.length>0;)if(h=c.pop(),h instanceof s)f[f.length]=h;else if(u=h,u.tag!==l||u.tagClosed){if(u.getCanHaveChildren())for(e=h.getChildren();f.length>0;)e[e.length]=f.pop();f[f.length]=u;u=null}else break;for(u||(u=new o(i)),e=u.getChildren();f.length>0;)e[e.length]=f.pop()}else u=new o(i);u.tagClosed=r;c[c.length]=u},n.prototype.writeEndOfTag=function(n,t,i,r){var u,f,e=this.elements,s=r.toUpperCase();i>1&&(f=n.substr(t,i),f.charAt(f.length-2)==="/"&&e.length>0&&(u=e[e.length-1],u instanceof o&&u.tag===s&&(u.empty=!0,u.tagClosed=!0)))},n.prototype.writeAttribute=function(n){var t,i=this.elements;i.length>0&&(t=i[i.length-1],t instanceof o&&t.getAttributes().push(n))},n.prototype.updateAttribute=function(n,t){var f=this.elements,e=f[f.length-1];if(e instanceof o){var i=e.getAttributes(),s=r.findIndex(i,function(t){return u.startsWith(t.trim().toUpperCase(),n.toUpperCase())}),h=" "+n+'="'+t+'"';s===-1?i.push(h):i[s]=h}},n.prototype.finish=function(){for(var t,u=this.elements,f=this.root,n=[],i,r;u.length>0;)if(t=u.pop(),t instanceof s)n[n.length]=t;else{if(t.getCanHaveChildren())for(i=t.getChildren();n.length>0;)i[i.length]=n.pop();n[n.length]=t}for(r=f.getChildren();n.length>0;)r[r.length]=n.pop()},n.prototype.toString=function(){var n=new v;return this.root.render(n),n.toString()},n}(),l;(function(n){function t(n){var i=null,t,r,u;if(n)for(i={},t=0,r=n;t<r.length;t++)u=r[t],i[u.toUpperCase()]=0;return i}function i(n){return n===void 0&&(n={}),{invalidAttributes:t(n.additionalInvalidAttributes),validAttributes:t(n.additionalValidAttributes),invalidStyles:t(n.additionalInvalidStyles),validStyles:t(n.additionalValidStyles),removeFormatting:n.removeFormatting||!1,encodeUnknownText:n.encodeUnknownText||!1,invalidProtocols:t(n.additionalInvalidProtocols)}}function u(n){var t=new h;return r(n,t,i())}function f(n,t,u,f,e,o,s){var c=new h;return r(n,c,i({additionalInvalidAttributes:t,additionalValidAttributes:u,additionalInvalidStyles:f,additionalValidStyles:e,encodeUnknownText:o,additionalInvalidProtocols:s}))}function e(n){var t=new h;return r(n,t,i({additionalInvalidAttributes:["CLASS","STYLE"],removeFormatting:!0}))}function o(n){var t=new h;return r(n,t,i({encodeUnknownText:!0}))}function s(n){var t=new y;return r(n,t,i({encodeUnknownText:!0}))}function r(n,t,i){return c.parse(n,t,i),t.finish(),t.toString()}n.normalize=u;n.normalizeStripAttributes=f;n.removeFormatting=e;n.sanitize=o;n.convertToPlainText=s})(l=t.HtmlNormalizer||(t.HtmlNormalizer={}));a=function(){function n(){}return n._replaceSimpleTemplateTokens=function(t,i){for(var r=t,e=/\$\{([^\$\}]+)\}/ig,u,o,f;(u=e.exec(r))!==null;)o=u[1],f=n._getEncodedTextPropertyValue(i,o),r=n._replaceMatch(r,u,f),e.lastIndex=u.index+f.length;return r},n._replaceUnencodedTemplateTokens=function(t,i){for(var r=t,e=/\{\{html ([^\$\}]+)\}\}/ig,u,o,f;(u=e.exec(r))!==null;)o=u[1],f=n._getTextPropertyValue(i,o),r=n._replaceMatch(r,u,f),e.lastIndex=u.index+f.length;return r},n._replaceForEachTemplateTokens=function(t,i){for(var f=t,a=/\{\{each \s*([^ \}]+)\}\}((?:.|\r|\n)*)\{\{\/each\}\}/ig,c=/\$\{\$value(?:\.([^\}]+))?\}/ig,r,v,y,e,o,s,p,l,u,h,w;(r=a.exec(f))!==null;){if(v=r[1],y=r[2],e="",o=n._getPropertyValue(i,v),$.isArray(o))for(h=0,w=o.length;h<w;h+=1){for(u=y,c.lastIndex=0;(s=c.exec(u))!==null;)p=s[1],l=n._getEncodedTextPropertyValue(o[h],p),u=n._replaceMatch(u,s,l),c.lastIndex=s.index+l.length;e+=u}f=n._replaceMatch(f,r,e);a.lastIndex=r.index+e.length}return f},n._replaceMatch=function(n,t,i){return n.substring(0,t.index)+i+n.substring(t.index+t[0].length)},n._getEncodedTextPropertyValue=function(t,i){var r=n._getPropertyValue(t,i);return r===undefined?"":u.htmlEncode(r.toString())},n._getTextPropertyValue=function(t,i){var r=n._getPropertyValue(t,i);return r===undefined?"":r.toString()},n._getPropertyValue=function(n,t){if(t===undefined||t.length===0)return n;for(var r=t.split("."),i=n;r.length>0&&i!==undefined;)i=i[r.shift()];return i},n.tmpl=function(t,i){var r=t;return r=n._replaceSimpleTemplateTokens(r,i),r=n._replaceUnencodedTemplateTokens(r,i),n._replaceForEachTemplateTokens(r,i)},n}();t.TemplateEngine=a,function(n){function t(t){if(t===null||t===undefined)return!0;if(t.length>=n.ISEMPTY_MINIMAL_CONTENT_LENGTH)return!1;var i=l.removeFormatting(t);return i===""||i==="<BR>"||i==="<BR/>"||i==="<P>&nbsp;<\/P>"||i==="<P><\/P>"||i==="<P><BR/><\/P>"||i==="<BR>\r\n"||i==="<BR>\r\n"||i==="<DIV><BR/><\/DIV>"||i==="<DIV><DIV><BR/><\/DIV><\/DIV>"}n.ISEMPTY_MINIMAL_CONTENT_LENGTH=500;n.isEmpty=t}(p=t.Utils||(t.Utils={}))});

define("ContentRendering/MarkdownConstants",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){}return n.TOCDefaultMarker="[[_TOC_]]",n.NoTOCDefaultMarker="[[_NOTOC_]]",n.TOCDefaultMarkerPattern=/^\[\[_TOC_\]\][\s]*$/m,n.MaskedTokenType="container_token",n}();t.MarkdownConstants=i});

var __decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("ContentRendering/MarkdownItPlugins",["require","exports","OfficeFabric/Utilities","ContentRendering/MarkdownConstants","VSS/Utils/String","VSS/Utils/Url"],function(n,t,i,r,u,f){function e(n,t){return encodeURIComponent(a(n,t))}function a(n,t){var i=new RegExp(n.utils.lib.ucmicro.Z.source,"g");return t.replace(i,"-").toLowerCase()}var o,s,h,c,l;Object.defineProperty(t,"__esModule",{value:!0});o=function(){function n(n,t){var i=this;n.core.ruler.push("external_links",function(n){return i.linkTokensTransformer(n)});t&&t.hideExternalImageIcon||(n.renderer.rules.link_close=function(n,t){return i.externalLinkIcon(n,t)});this.options=t||{}}return n.prototype.externalLinkIcon=function(n,t){for(var u,r,e=!1,i=t-1;i>=0;i--){if(n[i].type==="image"){e=!0;continue}if(n[i].type==="link_open"){!e&&t-i>1&&(r=n[i]);break}}return u=r&&r.attrGet("href"),u&&f.isExternalUrl(u)?"<\/a> <span class='bowtie-icon bowtie-navigate-external' > <\/span>":"<\/a>"},n.prototype.linkTokensTransformer=function(n){function t(n){var i,e;if(n.children&&n.children.map(t,this),n.type==="link_open"){if(i=n.attrGet("href"),this.options&&this.options.linkTransformer&&(i=this.options.linkTransformer(i),n.attrSet("href",i)),this.options&&this.options.linkCustomStyleAppender){var r=n.attrGet("class"),o=this.options.linkCustomStyleAppender(i,r),u=o?o.join(" "):"";r&&(u=u.concat(" "+r));n.attrSet("class",u)}f.isExternalUrl(i)&&(n.attrSet("target","_blank"),n.attrSet("rel","noopener noreferrer"));this.options&&this.options.linkCustomTitleProvider&&(e=this.options.linkCustomTitleProvider(n),e&&n.attrSet("title",e))}}n.tokens.map(t,this)},n}();t.LinkTransformerPlugin=o;s=function(){function n(n,t){var i=this;t&&t.imageUrlTransformer&&n.core.ruler.push("image_links",function(n){return i.linkTransformer(n)});this.options=t}return n.prototype.linkTransformer=function(n){function t(n){if(n.children&&n.children.map(t,this),n.type==="image"){var i=n.attrGet("src"),r=this.options.imageUrlTransformer(i);n.attrSet("src",r)}}n.tokens.map(t,this)},n}();t.ImageTransformerPlugin=s;h=function(){function n(n,t,i){n.core.ruler.after("block","markdown_toc",this.contentTransformer);this._tocMarker=t||r.MarkdownConstants.TOCDefaultMarker;this._noTocMarker=i||r.MarkdownConstants.NoTOCDefaultMarker}return n.prototype.contentTransformer=function(n){for(var r,e,o,s,u=0,f=-1,i=-1,t=0;t<n.tokens.length-2;t++)n.tokens[t].type==="paragraph_open"&&n.tokens[t+1].type==="inline"?(n.tokens[t+1].content.indexOf(this._noTocMarker)!==-1&&(f=t+1,n.tokens[t+1].content=this.replaceAll(n.tokens[t+1].content,this._noTocMarker,"")),n.tokens[t+1].content.indexOf(this._tocMarker)!==-1&&(i===-1?i=t+1:n.tokens[t+1].content=this.replaceAll(n.tokens[t+1].content,this._tocMarker,""))):n.tokens[t].type==="heading_open"&&n.tokens[t+1].type==="inline"&&u++;i>=0&&(r=n.tokens[i].content.indexOf(this._tocMarker),e=n.tokens[i].content.lastIndexOf(this._tocMarker),f>=0||u===0?n.tokens[i].content=n.tokens[i].content.split(this._tocMarker).join(""):r!==e&&(o=n.tokens[i].content.substr(0,r+1),s=this.replaceAll(n.tokens[i].content.substr(r+1),this._tocMarker,""),n.tokens[i].content=o+s))},n.prototype.replaceAll=function(n,t,i){return n.split(t).join(i)},__decorate([i.autobind],n.prototype,"contentTransformer",null),n}();t.TableOfContentsPlugin=h;c=function(){function n(n,t){t===void 0&&(t=!1);var i=this;this.mdInstance=n;n.core.ruler.push("header_anchor",function(n){return i.headerTransformer(n,t)})}return n.prototype.headerTransformer=function(t,i){for(var o,h,s,y,r=0;r<t.tokens.length-2;r++)if(t.tokens[r].type==="heading_open"&&t.tokens[r+1].type==="inline"&&(o=t.tokens[r+1],o.content)){if(h=n.anchorNamePrefix+e(this.mdInstance,o.content),t.tokens[r].attrPush(["id",h]),i){var p=e(this.mdInstance,o.content),v=window.location.href,c="",l=f.Uri.parse(v),w=l.getQueryParam("anchor");w!==undefined?(l.addQueryParam("anchor",a(this.mdInstance,o.content),!0),c=l.absoluteUri):c=u.format("{0}&anchor={1}",v,p);s=new t.Token("link_open","a",1);s.attrSet("href",c);s.attrSet("class",n.shareHeaderAnchorClassName);s.attrSet("aria-labelledby",h);y=new t.Token("link_close","a",-1);t.tokens[r+1].children.push(s,y)}r+=2}},n.anchorNamePrefix="user-content-",n.shareHeaderAnchorClassName="shareHeaderAnchor",n}();t.AnchoredHeadersPlugin=c;l=function(){function n(n){var t=this;n.block.ruler.at("heading",function(n,i,r,u){return t.headerTransformer(n,i,r,u)},{alt:["paragraph","reference","blockquote"]})}return n.prototype.headerTransformer=function(n,t,i,r){var u=n.bMarks[t]+n.tShift[t],e=n.eMarks[t],s=n.src.charCodeAt(u),c=35,o,h,l,f;if(s!==c||u>=e)return!1;for(o=1,u++,s=n.src.charCodeAt(u);u<e&&o<=6&&s===c;)o++,u++,s=n.src.charCodeAt(u);return o>6?!1:r?!0:(e=n.skipCharsBack(e,32,u),h=n.skipCharsBack(e,c,u),h>u&&n.src.charCodeAt(h-1)===32&&(e=h),n.line=t+1,l=Array(o+1).join("#"),f=n.push("heading_open","h"+o.toString(),1),f.map=[t,n.line],f.markup=l,f=n.push("inline","",0),f.map=[t,n.line],f.content=n.src.slice(u,e).trim(),f.children=[],f=n.push("heading_close","h"+o.toString(),-1),f.markup=l,!0)},n}();t.LazyHeadersPlugin=l;t.getEncodedTitle=e});

/* js-yaml 3.6.1 https://github.com/nodeca/js-yaml */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("3rdParty/js-yaml",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.jsyaml=e()}}(function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return r(n?n:e)},l,l.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";function i(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}var r=e("./js-yaml/loader"),o=e("./js-yaml/dumper");t.exports.Type=e("./js-yaml/type"),t.exports.Schema=e("./js-yaml/schema"),t.exports.FAILSAFE_SCHEMA=e("./js-yaml/schema/failsafe"),t.exports.JSON_SCHEMA=e("./js-yaml/schema/json"),t.exports.CORE_SCHEMA=e("./js-yaml/schema/core"),t.exports.DEFAULT_SAFE_SCHEMA=e("./js-yaml/schema/default_safe"),t.exports.DEFAULT_FULL_SCHEMA=e("./js-yaml/schema/default_full"),t.exports.load=r.load,t.exports.loadAll=r.loadAll,t.exports.safeLoad=r.safeLoad,t.exports.safeLoadAll=r.safeLoadAll,t.exports.dump=o.dump,t.exports.safeDump=o.safeDump,t.exports.YAMLException=e("./js-yaml/exception"),t.exports.MINIMAL_SCHEMA=e("./js-yaml/schema/failsafe"),t.exports.SAFE_SCHEMA=e("./js-yaml/schema/default_safe"),t.exports.DEFAULT_SCHEMA=e("./js-yaml/schema/default_full"),t.exports.scan=i("scan"),t.exports.parse=i("parse"),t.exports.compose=i("compose"),t.exports.addConstructor=i("addConstructor")},{"./js-yaml/dumper":3,"./js-yaml/exception":4,"./js-yaml/loader":5,"./js-yaml/schema":7,"./js-yaml/schema/core":8,"./js-yaml/schema/default_full":9,"./js-yaml/schema/default_safe":10,"./js-yaml/schema/failsafe":11,"./js-yaml/schema/json":12,"./js-yaml/type":13}],2:[function(e,t,n){"use strict";function i(e){return"undefined"==typeof e||null===e}function r(e){return"object"==typeof e&&null!==e}function o(e){return Array.isArray(e)?e:i(e)?[]:[e]}function a(e,t){var n,i,r,o;if(t)for(o=Object.keys(t),n=0,i=o.length;i>n;n+=1)r=o[n],e[r]=t[r];return e}function s(e,t){var n,i="";for(n=0;t>n;n+=1)i+=e;return i}function c(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e}t.exports.isNothing=i,t.exports.isObject=r,t.exports.toArray=o,t.exports.repeat=s,t.exports.isNegativeZero=c,t.exports.extend=a},{}],3:[function(e,t,n){"use strict";function i(e,t){var n,i,r,o,a,s,c;if(null===t)return{};for(n={},i=Object.keys(t),r=0,o=i.length;o>r;r+=1)a=i[r],s=String(t[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),c=e.compiledTypeMap[a],c&&L.call(c.styleAliases,s)&&(s=c.styleAliases[s]),n[a]=s;return n}function r(e){var t,n,i;if(t=e.toString(16).toUpperCase(),255>=e)n="x",i=2;else if(65535>=e)n="u",i=4;else{if(!(4294967295>=e))throw new N("code point within a string may not be greater than 0xFFFFFFFF");n="U",i=8}return"\\"+n+F.repeat("0",i-t.length)+t}function o(e){this.schema=e.schema||M,this.indent=Math.max(1,e.indent||2),this.skipInvalid=e.skipInvalid||!1,this.flowLevel=F.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=i(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function a(e,t){for(var n,i=F.repeat(" ",t),r=0,o=-1,a="",s=e.length;s>r;)o=e.indexOf("\n",r),-1===o?(n=e.slice(r),r=s):(n=e.slice(r,o+1),r=o+1),n.length&&"\n"!==n&&(a+=i),a+=n;return a}function s(e,t){return"\n"+F.repeat(" ",e.indent*t)}function c(e,t){var n,i,r;for(n=0,i=e.implicitTypes.length;i>n;n+=1)if(r=e.implicitTypes[n],r.resolve(t))return!0;return!1}function u(e){return e===q||e===D}function l(e){return e>=32&&126>=e||e>=161&&55295>=e&&8232!==e&&8233!==e||e>=57344&&65533>=e&&65279!==e||e>=65536&&1114111>=e}function p(e){return l(e)&&65279!==e&&e!==H&&e!==Q&&e!==X&&e!==te&&e!==ie&&e!==V&&e!==B}function f(e){return l(e)&&65279!==e&&!u(e)&&e!==G&&e!==z&&e!==V&&e!==H&&e!==Q&&e!==X&&e!==te&&e!==ie&&e!==B&&e!==W&&e!==$&&e!==Y&&e!==ne&&e!==Z&&e!==K&&e!==R&&e!==P&&e!==J&&e!==ee}function d(e,t,n,i,r){var o,a,s=!1,c=!1,d=-1!==i,h=-1,m=f(e.charCodeAt(0))&&!u(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(a=e.charCodeAt(o),!l(a))return le;m=m&&p(a)}else{for(o=0;o<e.length;o++){if(a=e.charCodeAt(o),a===U)s=!0,d&&(c=c||o-h-1>i&&" "!==e[h+1],h=o);else if(!l(a))return le;m=m&&p(a)}c=c||d&&o-h-1>i&&" "!==e[h+1]}return s||c?" "===e[0]&&n>9?le:c?ue:ce:m&&!r(e)?ae:se}function h(e,t,n,i){e.dump=function(){function r(t){return c(e,t)}if(0===t.length)return"''";if(!e.noCompatMode&&-1!==oe.indexOf(t))return"'"+t+"'";var o=e.indent*Math.max(1,n),s=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),u=i||e.flowLevel>-1&&n>=e.flowLevel;switch(d(t,u,e.indent,s,r)){case ae:return t;case se:return"'"+t.replace(/'/g,"''")+"'";case ce:return"|"+m(t,e.indent)+g(a(t,o));case ue:return">"+m(t,e.indent)+g(a(y(t,s),o));case le:return'"'+v(t,s)+'"';default:throw new N("impossible error: invalid scalar style")}}()}function m(e,t){var n=" "===e[0]?String(t):"",i="\n"===e[e.length-1],r=i&&("\n"===e[e.length-2]||"\n"===e),o=r?"+":i?"":"-";return n+o+"\n"}function g(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function y(e,t){for(var n,i,r=/(\n+)([^\n]*)/g,o=function(){var n=e.indexOf("\n");return n=-1!==n?n:e.length,r.lastIndex=n,x(e.slice(0,n),t)}(),a="\n"===e[0]||" "===e[0];i=r.exec(e);){var s=i[1],c=i[2];n=" "===c[0],o+=s+(a||n||""===c?"":"\n")+x(c,t),a=n}return o}function x(e,t){if(""===e||" "===e[0])return e;for(var n,i,r=/ [^ ]/g,o=0,a=0,s=0,c="";n=r.exec(e);)s=n.index,s-o>t&&(i=a>o?a:s,c+="\n"+e.slice(o,i),o=i+1),a=s;return c+="\n",c+=e.length-o>t&&a>o?e.slice(o,a)+"\n"+e.slice(a+1):e.slice(o),c.slice(1)}function v(e){for(var t,n,i="",o=0;o<e.length;o++)t=e.charCodeAt(o),n=re[t],i+=!n&&l(t)?e[o]:n||r(t);return i}function A(e,t,n){var i,r,o="",a=e.tag;for(i=0,r=n.length;r>i;i+=1)j(e,t,n[i],!1,!1)&&(0!==i&&(o+=", "),o+=e.dump);e.tag=a,e.dump="["+o+"]"}function b(e,t,n,i){var r,o,a="",c=e.tag;for(r=0,o=n.length;o>r;r+=1)j(e,t+1,n[r],!0,!0)&&(i&&0===r||(a+=s(e,t)),a+="- "+e.dump);e.tag=c,e.dump=a||"[]"}function w(e,t,n){var i,r,o,a,s,c="",u=e.tag,l=Object.keys(n);for(i=0,r=l.length;r>i;i+=1)s="",0!==i&&(s+=", "),o=l[i],a=n[o],j(e,t,o,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+": ",j(e,t,a,!1,!1)&&(s+=e.dump,c+=s));e.tag=u,e.dump="{"+c+"}"}function C(e,t,n,i){var r,o,a,c,u,l,p="",f=e.tag,d=Object.keys(n);if(e.sortKeys===!0)d.sort();else if("function"==typeof e.sortKeys)d.sort(e.sortKeys);else if(e.sortKeys)throw new N("sortKeys must be a boolean or a function");for(r=0,o=d.length;o>r;r+=1)l="",i&&0===r||(l+=s(e,t)),a=d[r],c=n[a],j(e,t+1,a,!0,!0,!0)&&(u=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024,u&&(l+=e.dump&&U===e.dump.charCodeAt(0)?"?":"? "),l+=e.dump,u&&(l+=s(e,t)),j(e,t+1,c,!0,u)&&(l+=e.dump&&U===e.dump.charCodeAt(0)?":":": ",l+=e.dump,p+=l));e.tag=f,e.dump=p||"{}"}function k(e,t,n){var i,r,o,a,s,c;for(r=n?e.explicitTypes:e.implicitTypes,o=0,a=r.length;a>o;o+=1)if(s=r[o],(s.instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof t&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(e.tag=n?s.tag:"?",s.represent){if(c=e.styleMap[s.tag]||s.defaultStyle,"[object Function]"===T.call(s.represent))i=s.represent(t,c);else{if(!L.call(s.represent,c))throw new N("!<"+s.tag+'> tag resolver accepts not "'+c+'" style');i=s.represent[c](t,c)}e.dump=i}return!0}return!1}function j(e,t,n,i,r,o){e.tag=null,e.dump=n,k(e,n,!1)||k(e,n,!0);var a=T.call(e.dump);i&&(i=e.flowLevel<0||e.flowLevel>t);var s,c,u="[object Object]"===a||"[object Array]"===a;if(u&&(s=e.duplicates.indexOf(n),c=-1!==s),(null!==e.tag&&"?"!==e.tag||c||2!==e.indent&&t>0)&&(r=!1),c&&e.usedDuplicates[s])e.dump="*ref_"+s;else{if(u&&c&&!e.usedDuplicates[s]&&(e.usedDuplicates[s]=!0),"[object Object]"===a)i&&0!==Object.keys(e.dump).length?(C(e,t,e.dump,r),c&&(e.dump="&ref_"+s+e.dump)):(w(e,t,e.dump),c&&(e.dump="&ref_"+s+" "+e.dump));else if("[object Array]"===a)i&&0!==e.dump.length?(b(e,t,e.dump,r),c&&(e.dump="&ref_"+s+e.dump)):(A(e,t,e.dump),c&&(e.dump="&ref_"+s+" "+e.dump));else{if("[object String]"!==a){if(e.skipInvalid)return!1;throw new N("unacceptable kind of an object to dump "+a)}"?"!==e.tag&&h(e,e.dump,t,o)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function I(e,t){var n,i,r=[],o=[];for(S(e,r,o),n=0,i=o.length;i>n;n+=1)t.duplicates.push(r[o[n]]);t.usedDuplicates=new Array(i)}function S(e,t,n){var i,r,o;if(null!==e&&"object"==typeof e)if(r=t.indexOf(e),-1!==r)-1===n.indexOf(r)&&n.push(r);else if(t.push(e),Array.isArray(e))for(r=0,o=e.length;o>r;r+=1)S(e[r],t,n);else for(i=Object.keys(e),r=0,o=i.length;o>r;r+=1)S(e[i[r]],t,n)}function O(e,t){t=t||{};var n=new o(t);return n.noRefs||I(e,n),j(n,0,e,!0,!0)?n.dump+"\n":""}function E(e,t){return O(e,F.extend({schema:_},t))}var F=e("./common"),N=e("./exception"),M=e("./schema/default_full"),_=e("./schema/default_safe"),T=Object.prototype.toString,L=Object.prototype.hasOwnProperty,D=9,U=10,q=32,Y=33,R=34,B=35,P=37,W=38,K=39,$=42,H=44,G=45,V=58,Z=62,z=63,J=64,Q=91,X=93,ee=96,te=123,ne=124,ie=125,re={};re[0]="\\0",re[7]="\\a",re[8]="\\b",re[9]="\\t",re[10]="\\n",re[11]="\\v",re[12]="\\f",re[13]="\\r",re[27]="\\e",re[34]='\\"',re[92]="\\\\",re[133]="\\N",re[160]="\\_",re[8232]="\\L",re[8233]="\\P";var oe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ae=1,se=2,ce=3,ue=4,le=5;t.exports.dump=O,t.exports.safeDump=E},{"./common":2,"./exception":4,"./schema/default_full":9,"./schema/default_safe":10}],4:[function(e,t,n){"use strict";function i(e,t){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():"")}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t},t.exports=i},{}],5:[function(e,t,n){"use strict";function i(e){return 10===e||13===e}function r(e){return 9===e||32===e}function o(e){return 9===e||32===e||10===e||13===e}function a(e){return 44===e||91===e||93===e||123===e||125===e}function s(e){var t;return e>=48&&57>=e?e-48:(t=32|e,t>=97&&102>=t?t-97+10:-1)}function c(e){return 120===e?2:117===e?4:85===e?8:0}function u(e){return e>=48&&57>=e?e-48:-1}function l(e){return 48===e?"\x00":97===e?"":98===e?"\b":116===e?"	":9===e?"	":110===e?"\n":118===e?"\x0B":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function p(e){return 65535>=e?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function f(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||K,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function d(e,t){return new B(t,new P(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function h(e,t){throw d(e,t)}function m(e,t){e.onWarning&&e.onWarning.call(null,d(e,t))}function g(e,t,n,i){var r,o,a,s;if(n>t){if(s=e.input.slice(t,n),i)for(r=0,o=s.length;o>r;r+=1)a=s.charCodeAt(r),9===a||a>=32&&1114111>=a||h(e,"expected valid JSON character");else X.test(s)&&h(e,"the stream contains non-printable characters");e.result+=s}}function y(e,t,n,i){var r,o,a,s;for(R.isObject(n)||h(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),a=0,s=r.length;s>a;a+=1)o=r[a],$.call(t,o)||(t[o]=n[o],i[o]=!0)}function x(e,t,n,i,r,o){var a,s;if(r=String(r),null===t&&(t={}),"tag:yaml.org,2002:merge"===i)if(Array.isArray(o))for(a=0,s=o.length;s>a;a+=1)y(e,t,o[a],n);else y(e,t,o,n);else e.json||$.call(n,r)||!$.call(t,r)||h(e,"duplicated mapping key"),t[r]=o,delete n[r];return t}function v(e){var t;t=e.input.charCodeAt(e.position),10===t?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):h(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function A(e,t,n){for(var o=0,a=e.input.charCodeAt(e.position);0!==a;){for(;r(a);)a=e.input.charCodeAt(++e.position);if(t&&35===a)do a=e.input.charCodeAt(++e.position);while(10!==a&&13!==a&&0!==a);if(!i(a))break;for(v(e),a=e.input.charCodeAt(e.position),o++,e.lineIndent=0;32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position)}return-1!==n&&0!==o&&e.lineIndent<n&&m(e,"deficient indentation"),o}function b(e){var t,n=e.position;return t=e.input.charCodeAt(n),(45===t||46===t)&&t===e.input.charCodeAt(n+1)&&t===e.input.charCodeAt(n+2)&&(n+=3,t=e.input.charCodeAt(n),0===t||o(t))}function w(e,t){1===t?e.result+=" ":t>1&&(e.result+=R.repeat("\n",t-1))}function C(e,t,n){var s,c,u,l,p,f,d,h,m,y=e.kind,x=e.result;if(m=e.input.charCodeAt(e.position),o(m)||a(m)||35===m||38===m||42===m||33===m||124===m||62===m||39===m||34===m||37===m||64===m||96===m)return!1;if((63===m||45===m)&&(c=e.input.charCodeAt(e.position+1),o(c)||n&&a(c)))return!1;for(e.kind="scalar",e.result="",u=l=e.position,p=!1;0!==m;){if(58===m){if(c=e.input.charCodeAt(e.position+1),o(c)||n&&a(c))break}else if(35===m){if(s=e.input.charCodeAt(e.position-1),o(s))break}else{if(e.position===e.lineStart&&b(e)||n&&a(m))break;if(i(m)){if(f=e.line,d=e.lineStart,h=e.lineIndent,A(e,!1,-1),e.lineIndent>=t){p=!0,m=e.input.charCodeAt(e.position);continue}e.position=l,e.line=f,e.lineStart=d,e.lineIndent=h;break}}p&&(g(e,u,l,!1),w(e,e.line-f),u=l=e.position,p=!1),r(m)||(l=e.position+1),m=e.input.charCodeAt(++e.position)}return g(e,u,l,!1),e.result?!0:(e.kind=y,e.result=x,!1)}function k(e,t){var n,r,o;if(n=e.input.charCodeAt(e.position),39!==n)return!1;for(e.kind="scalar",e.result="",e.position++,r=o=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(g(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),39!==n)return!0;r=o=e.position,e.position++}else i(n)?(g(e,r,o,!0),w(e,A(e,!1,t)),r=o=e.position):e.position===e.lineStart&&b(e)?h(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);h(e,"unexpected end of the stream within a single quoted scalar")}function j(e,t){var n,r,o,a,u,l;if(l=e.input.charCodeAt(e.position),34!==l)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(l=e.input.charCodeAt(e.position));){if(34===l)return g(e,n,e.position,!0),e.position++,!0;if(92===l){if(g(e,n,e.position,!0),l=e.input.charCodeAt(++e.position),i(l))A(e,!1,t);else if(256>l&&re[l])e.result+=oe[l],e.position++;else if((u=c(l))>0){for(o=u,a=0;o>0;o--)l=e.input.charCodeAt(++e.position),(u=s(l))>=0?a=(a<<4)+u:h(e,"expected hexadecimal character");e.result+=p(a),e.position++}else h(e,"unknown escape sequence");n=r=e.position}else i(l)?(g(e,n,r,!0),w(e,A(e,!1,t)),n=r=e.position):e.position===e.lineStart&&b(e)?h(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}h(e,"unexpected end of the stream within a double quoted scalar")}function I(e,t){var n,i,r,a,s,c,u,l,p,f,d,m=!0,g=e.tag,y=e.anchor,v={};if(d=e.input.charCodeAt(e.position),91===d)a=93,u=!1,i=[];else{if(123!==d)return!1;a=125,u=!0,i={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=i),d=e.input.charCodeAt(++e.position);0!==d;){if(A(e,!0,t),d=e.input.charCodeAt(e.position),d===a)return e.position++,e.tag=g,e.anchor=y,e.kind=u?"mapping":"sequence",e.result=i,!0;m||h(e,"missed comma between flow collection entries"),p=l=f=null,s=c=!1,63===d&&(r=e.input.charCodeAt(e.position+1),o(r)&&(s=c=!0,e.position++,A(e,!0,t))),n=e.line,_(e,t,H,!1,!0),p=e.tag,l=e.result,A(e,!0,t),d=e.input.charCodeAt(e.position),!c&&e.line!==n||58!==d||(s=!0,d=e.input.charCodeAt(++e.position),A(e,!0,t),_(e,t,H,!1,!0),f=e.result),u?x(e,i,v,p,l,f):s?i.push(x(e,null,v,p,l,f)):i.push(l),A(e,!0,t),d=e.input.charCodeAt(e.position),44===d?(m=!0,d=e.input.charCodeAt(++e.position)):m=!1}h(e,"unexpected end of the stream within a flow collection")}function S(e,t){var n,o,a,s,c=z,l=!1,p=!1,f=t,d=0,m=!1;if(s=e.input.charCodeAt(e.position),124===s)o=!1;else{if(62!==s)return!1;o=!0}for(e.kind="scalar",e.result="";0!==s;)if(s=e.input.charCodeAt(++e.position),43===s||45===s)z===c?c=43===s?Q:J:h(e,"repeat of a chomping mode identifier");else{if(!((a=u(s))>=0))break;0===a?h(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):p?h(e,"repeat of an indentation width identifier"):(f=t+a-1,p=!0)}if(r(s)){do s=e.input.charCodeAt(++e.position);while(r(s));if(35===s)do s=e.input.charCodeAt(++e.position);while(!i(s)&&0!==s)}for(;0!==s;){for(v(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!p||e.lineIndent<f)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!p&&e.lineIndent>f&&(f=e.lineIndent),i(s))d++;else{if(e.lineIndent<f){c===Q?e.result+=R.repeat("\n",l?1+d:d):c===z&&l&&(e.result+="\n");break}for(o?r(s)?(m=!0,e.result+=R.repeat("\n",l?1+d:d)):m?(m=!1,e.result+=R.repeat("\n",d+1)):0===d?l&&(e.result+=" "):e.result+=R.repeat("\n",d):e.result+=R.repeat("\n",l?1+d:d),l=!0,p=!0,d=0,n=e.position;!i(s)&&0!==s;)s=e.input.charCodeAt(++e.position);g(e,n,e.position,!1)}}return!0}function O(e,t){var n,i,r,a=e.tag,s=e.anchor,c=[],u=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=c),r=e.input.charCodeAt(e.position);0!==r&&45===r&&(i=e.input.charCodeAt(e.position+1),o(i));)if(u=!0,e.position++,A(e,!0,-1)&&e.lineIndent<=t)c.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,_(e,t,V,!1,!0),c.push(e.result),A(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)h(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return u?(e.tag=a,e.anchor=s,e.kind="sequence",e.result=c,!0):!1}function E(e,t,n){var i,a,s,c,u=e.tag,l=e.anchor,p={},f={},d=null,m=null,g=null,y=!1,v=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=p),c=e.input.charCodeAt(e.position);0!==c;){if(i=e.input.charCodeAt(e.position+1),s=e.line,63!==c&&58!==c||!o(i)){if(!_(e,n,G,!1,!0))break;if(e.line===s){for(c=e.input.charCodeAt(e.position);r(c);)c=e.input.charCodeAt(++e.position);if(58===c)c=e.input.charCodeAt(++e.position),o(c)||h(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(x(e,p,f,d,m,null),d=m=g=null),v=!0,y=!1,a=!1,d=e.tag,m=e.result;else{if(!v)return e.tag=u,e.anchor=l,!0;h(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return e.tag=u,e.anchor=l,!0;h(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===c?(y&&(x(e,p,f,d,m,null),d=m=g=null),v=!0,y=!0,a=!0):y?(y=!1,a=!0):h(e,"incomplete explicit mapping pair; a key node is missed"),e.position+=1,c=i;if((e.line===s||e.lineIndent>t)&&(_(e,t,Z,!0,a)&&(y?m=e.result:g=e.result),y||(x(e,p,f,d,m,g),d=m=g=null),A(e,!0,-1),c=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==c)h(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&x(e,p,f,d,m,null),v&&(e.tag=u,e.anchor=l,e.kind="mapping",e.result=p),v}function F(e){var t,n,i,r,a=!1,s=!1;if(r=e.input.charCodeAt(e.position),33!==r)return!1;if(null!==e.tag&&h(e,"duplication of a tag property"),r=e.input.charCodeAt(++e.position),60===r?(a=!0,r=e.input.charCodeAt(++e.position)):33===r?(s=!0,n="!!",r=e.input.charCodeAt(++e.position)):n="!",t=e.position,a){do r=e.input.charCodeAt(++e.position);while(0!==r&&62!==r);e.position<e.length?(i=e.input.slice(t,e.position),r=e.input.charCodeAt(++e.position)):h(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==r&&!o(r);)33===r&&(s?h(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),ne.test(n)||h(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),r=e.input.charCodeAt(++e.position);i=e.input.slice(t,e.position),te.test(i)&&h(e,"tag suffix cannot contain flow indicator characters")}return i&&!ie.test(i)&&h(e,"tag name cannot contain such characters: "+i),a?e.tag=i:$.call(e.tagMap,n)?e.tag=e.tagMap[n]+i:"!"===n?e.tag="!"+i:"!!"===n?e.tag="tag:yaml.org,2002:"+i:h(e,'undeclared tag handle "'+n+'"'),!0}function N(e){var t,n;if(n=e.input.charCodeAt(e.position),38!==n)return!1;for(null!==e.anchor&&h(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!o(n)&&!a(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&h(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function M(e){var t,n,i;if(i=e.input.charCodeAt(e.position),42!==i)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!o(i)&&!a(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&h(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(n)||h(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],A(e,!0,-1),!0}function _(e,t,n,i,r){var o,a,s,c,u,l,p,f,d=1,m=!1,g=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=s=Z===n||V===n,i&&A(e,!0,-1)&&(m=!0,e.lineIndent>t?d=1:e.lineIndent===t?d=0:e.lineIndent<t&&(d=-1)),1===d)for(;F(e)||N(e);)A(e,!0,-1)?(m=!0,s=o,e.lineIndent>t?d=1:e.lineIndent===t?d=0:e.lineIndent<t&&(d=-1)):s=!1;if(s&&(s=m||r),1!==d&&Z!==n||(p=H===n||G===n?t:t+1,f=e.position-e.lineStart,1===d?s&&(O(e,f)||E(e,f,p))||I(e,p)?g=!0:(a&&S(e,p)||k(e,p)||j(e,p)?g=!0:M(e)?(g=!0,null===e.tag&&null===e.anchor||h(e,"alias node should not have any properties")):C(e,p,H===n)&&(g=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===d&&(g=s&&O(e,f))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(c=0,u=e.implicitTypes.length;u>c;c+=1)if(l=e.implicitTypes[c],l.resolve(e.result)){e.result=l.construct(e.result),e.tag=l.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else $.call(e.typeMap,e.tag)?(l=e.typeMap[e.tag],null!==e.result&&l.kind!==e.kind&&h(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+l.kind+'", not "'+e.kind+'"'),l.resolve(e.result)?(e.result=l.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):h(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):h(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||g}function T(e){var t,n,a,s,c=e.position,u=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(s=e.input.charCodeAt(e.position))&&(A(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==s));){for(u=!0,s=e.input.charCodeAt(++e.position),t=e.position;0!==s&&!o(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(t,e.position),a=[],n.length<1&&h(e,"directive name must not be less than one character in length");0!==s;){for(;r(s);)s=e.input.charCodeAt(++e.position);if(35===s){do s=e.input.charCodeAt(++e.position);while(0!==s&&!i(s));break}if(i(s))break;for(t=e.position;0!==s&&!o(s);)s=e.input.charCodeAt(++e.position);a.push(e.input.slice(t,e.position))}0!==s&&v(e),$.call(se,n)?se[n](e,n,a):m(e,'unknown document directive "'+n+'"')}return A(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,A(e,!0,-1)):u&&h(e,"directives end mark is expected"),_(e,e.lineIndent-1,Z,!1,!0),A(e,!0,-1),e.checkLineBreaks&&ee.test(e.input.slice(c,e.position))&&m(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&b(e)?void(46===e.input.charCodeAt(e.position)&&(e.position+=3,A(e,!0,-1))):void(e.position<e.length-1&&h(e,"end of the stream or a document separator is expected"))}function L(e,t){e=String(e),t=t||{},0!==e.length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new f(e,t);for(n.input+="\x00";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)T(n);return n.documents}function D(e,t,n){var i,r,o=L(e,n);for(i=0,r=o.length;r>i;i+=1)t(o[i])}function U(e,t){var n=L(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new B("expected a single document in the stream, but found more")}}function q(e,t,n){D(e,t,R.extend({schema:W},n))}function Y(e,t){return U(e,R.extend({schema:W},t))}for(var R=e("./common"),B=e("./exception"),P=e("./mark"),W=e("./schema/default_safe"),K=e("./schema/default_full"),$=Object.prototype.hasOwnProperty,H=1,G=2,V=3,Z=4,z=1,J=2,Q=3,X=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ee=/[\x85\u2028\u2029]/,te=/[,\[\]\{\}]/,ne=/^(?:!|!!|![a-z\-]+!)$/i,ie=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,re=new Array(256),oe=new Array(256),ae=0;256>ae;ae++)re[ae]=l(ae)?1:0,oe[ae]=l(ae);var se={YAML:function(e,t,n){var i,r,o;null!==e.version&&h(e,"duplication of %YAML directive"),1!==n.length&&h(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),null===i&&h(e,"ill-formed argument of the YAML directive"),r=parseInt(i[1],10),o=parseInt(i[2],10),1!==r&&h(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=2>o,1!==o&&2!==o&&m(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var i,r;2!==n.length&&h(e,"TAG directive accepts exactly two arguments"),i=n[0],r=n[1],ne.test(i)||h(e,"ill-formed tag handle (first argument) of the TAG directive"),$.call(e.tagMap,i)&&h(e,'there is a previously declared suffix for "'+i+'" tag handle'),ie.test(r)||h(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[i]=r}};t.exports.loadAll=D,t.exports.load=U,t.exports.safeLoadAll=q,t.exports.safeLoad=Y},{"./common":2,"./exception":4,"./mark":6,"./schema/default_full":9,"./schema/default_safe":10}],6:[function(e,t,n){"use strict";function i(e,t,n,i,r){this.name=e,this.buffer=t,this.position=n,this.line=i,this.column=r}var r=e("./common");i.prototype.getSnippet=function(e,t){var n,i,o,a,s;if(!this.buffer)return null;for(e=e||4,t=t||75,n="",i=this.position;i>0&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>t/2-1){n=" ... ",i+=5;break}for(o="",a=this.position;a<this.buffer.length&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(a));)if(a+=1,a-this.position>t/2-1){o=" ... ",a-=5;break}return s=this.buffer.slice(i,a),r.repeat(" ",e)+n+s+o+"\n"+r.repeat(" ",e+this.position-i+n.length)+"^"},i.prototype.toString=function(e){var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet(),t&&(n+=":\n"+t)),n},t.exports=i},{"./common":2}],7:[function(e,t,n){"use strict";function i(e,t,n){var r=[];return e.include.forEach(function(e){n=i(e,t,n)}),e[t].forEach(function(e){n.forEach(function(t,n){t.tag===e.tag&&r.push(n)}),n.push(e)}),n.filter(function(e,t){return-1===r.indexOf(t)})}function r(){function e(e){i[e.tag]=e}var t,n,i={};for(t=0,n=arguments.length;n>t;t+=1)arguments[t].forEach(e);return i}function o(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new s("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=i(this,"implicit",[]),this.compiledExplicit=i(this,"explicit",[]),this.compiledTypeMap=r(this.compiledImplicit,this.compiledExplicit)}var a=e("./common"),s=e("./exception"),c=e("./type");o.DEFAULT=null,o.create=function(){var e,t;switch(arguments.length){case 1:e=o.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new s("Wrong number of arguments for Schema.create function")}if(e=a.toArray(e),t=a.toArray(t),!e.every(function(e){return e instanceof o}))throw new s("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every(function(e){return e instanceof c}))throw new s("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new o({include:e,explicit:t})},t.exports=o},{"./common":2,"./exception":4,"./type":13}],8:[function(e,t,n){"use strict";var i=e("../schema");t.exports=new i({include:[e("./json")]})},{"../schema":7,"./json":12}],9:[function(e,t,n){"use strict";var i=e("../schema");t.exports=i.DEFAULT=new i({include:[e("./default_safe")],explicit:[e("../type/js/undefined"),e("../type/js/regexp"),e("../type/js/function")]})},{"../schema":7,"../type/js/function":18,"../type/js/regexp":19,"../type/js/undefined":20,"./default_safe":10}],10:[function(e,t,n){"use strict";var i=e("../schema");t.exports=new i({include:[e("./core")],implicit:[e("../type/timestamp"),e("../type/merge")],explicit:[e("../type/binary"),e("../type/omap"),e("../type/pairs"),e("../type/set")]})},{"../schema":7,"../type/binary":14,"../type/merge":22,"../type/omap":24,"../type/pairs":25,"../type/set":27,"../type/timestamp":29,"./core":8}],11:[function(e,t,n){"use strict";var i=e("../schema");t.exports=new i({explicit:[e("../type/str"),e("../type/seq"),e("../type/map")]})},{"../schema":7,"../type/map":21,"../type/seq":26,"../type/str":28}],12:[function(e,t,n){"use strict";var i=e("../schema");t.exports=new i({include:[e("./failsafe")],implicit:[e("../type/null"),e("../type/bool"),e("../type/int"),e("../type/float")]})},{"../schema":7,"../type/bool":15,"../type/float":16,"../type/int":17,"../type/null":23,"./failsafe":11}],13:[function(e,t,n){"use strict";function i(e){var t={};return null!==e&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})}),t}function r(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(-1===a.indexOf(t))throw new o('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=i(t.styleAliases||null),-1===s.indexOf(this.kind))throw new o('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var o=e("./exception"),a=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],s=["scalar","sequence","mapping"];t.exports=r},{"./exception":4}],14:[function(e,t,n){"use strict";function i(e){if(null===e)return!1;var t,n,i=0,r=e.length,o=p;for(n=0;r>n;n++)if(t=o.indexOf(e.charAt(n)),!(t>64)){if(0>t)return!1;i+=6}return i%8===0}function r(e){var t,n,i=e.replace(/[\r\n=]/g,""),r=i.length,o=p,a=0,c=[];for(t=0;r>t;t++)t%4===0&&t&&(c.push(a>>16&255),c.push(a>>8&255),c.push(255&a)),a=a<<6|o.indexOf(i.charAt(t));return n=r%4*6,0===n?(c.push(a>>16&255),c.push(a>>8&255),c.push(255&a)):18===n?(c.push(a>>10&255),c.push(a>>2&255)):12===n&&c.push(a>>4&255),s?new s(c):c}function o(e){var t,n,i="",r=0,o=e.length,a=p;for(t=0;o>t;t++)t%3===0&&t&&(i+=a[r>>18&63],i+=a[r>>12&63],i+=a[r>>6&63],i+=a[63&r]),r=(r<<8)+e[t];return n=o%3,0===n?(i+=a[r>>18&63],i+=a[r>>12&63],i+=a[r>>6&63],i+=a[63&r]):2===n?(i+=a[r>>10&63],i+=a[r>>4&63],i+=a[r<<2&63],i+=a[64]):1===n&&(i+=a[r>>2&63],i+=a[r<<4&63],i+=a[64],i+=a[64]),i}function a(e){return s&&s.isBuffer(e)}var s;try{var c=e;s=c("buffer").Buffer;
}catch(u){}var l=e("../type"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";t.exports=new l("tag:yaml.org,2002:binary",{kind:"scalar",resolve:i,construct:r,predicate:a,represent:o})},{"../type":13}],15:[function(e,t,n){"use strict";function i(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)}function r(e){return"true"===e||"True"===e||"TRUE"===e}function o(e){return"[object Boolean]"===Object.prototype.toString.call(e)}var a=e("../type");t.exports=new a("tag:yaml.org,2002:bool",{kind:"scalar",resolve:i,construct:r,predicate:o,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},{"../type":13}],16:[function(e,t,n){"use strict";function i(e){return null===e?!1:!!u.test(e)}function r(e){var t,n,i,r;return t=e.replace(/_/g,"").toLowerCase(),n="-"===t[0]?-1:1,r=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:t.indexOf(":")>=0?(t.split(":").forEach(function(e){r.unshift(parseFloat(e,10))}),t=0,i=1,r.forEach(function(e){t+=e*i,i*=60}),n*t):n*parseFloat(t,10)}function o(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(s.isNegativeZero(e))return"-0.0";return n=e.toString(10),l.test(n)?n.replace("e",".e"):n}function a(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!==0||s.isNegativeZero(e))}var s=e("../common"),c=e("../type"),u=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),l=/^[-+]?[0-9]+e/;t.exports=new c("tag:yaml.org,2002:float",{kind:"scalar",resolve:i,construct:r,predicate:a,represent:o,defaultStyle:"lowercase"})},{"../common":2,"../type":13}],17:[function(e,t,n){"use strict";function i(e){return e>=48&&57>=e||e>=65&&70>=e||e>=97&&102>=e}function r(e){return e>=48&&55>=e}function o(e){return e>=48&&57>=e}function a(e){if(null===e)return!1;var t,n=e.length,a=0,s=!1;if(!n)return!1;if(t=e[a],"-"!==t&&"+"!==t||(t=e[++a]),"0"===t){if(a+1===n)return!0;if(t=e[++a],"b"===t){for(a++;n>a;a++)if(t=e[a],"_"!==t){if("0"!==t&&"1"!==t)return!1;s=!0}return s}if("x"===t){for(a++;n>a;a++)if(t=e[a],"_"!==t){if(!i(e.charCodeAt(a)))return!1;s=!0}return s}for(;n>a;a++)if(t=e[a],"_"!==t){if(!r(e.charCodeAt(a)))return!1;s=!0}return s}for(;n>a;a++)if(t=e[a],"_"!==t){if(":"===t)break;if(!o(e.charCodeAt(a)))return!1;s=!0}return s?":"!==t?!0:/^(:[0-5]?[0-9])+$/.test(e.slice(a)):!1}function s(e){var t,n,i=e,r=1,o=[];return-1!==i.indexOf("_")&&(i=i.replace(/_/g,"")),t=i[0],"-"!==t&&"+"!==t||("-"===t&&(r=-1),i=i.slice(1),t=i[0]),"0"===i?0:"0"===t?"b"===i[1]?r*parseInt(i.slice(2),2):"x"===i[1]?r*parseInt(i,16):r*parseInt(i,8):-1!==i.indexOf(":")?(i.split(":").forEach(function(e){o.unshift(parseInt(e,10))}),i=0,n=1,o.forEach(function(e){i+=e*n,n*=60}),r*i):r*parseInt(i,10)}function c(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1===0&&!u.isNegativeZero(e)}var u=e("../common"),l=e("../type");t.exports=new l("tag:yaml.org,2002:int",{kind:"scalar",resolve:a,construct:s,predicate:c,represent:{binary:function(e){return"0b"+e.toString(2)},octal:function(e){return"0"+e.toString(8)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return"0x"+e.toString(16).toUpperCase()}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":2,"../type":13}],18:[function(e,t,n){"use strict";function i(e){if(null===e)return!1;try{var t="("+e+")",n=s.parse(t,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&"FunctionExpression"===n.body[0].expression.type}catch(i){return!1}}function r(e){var t,n="("+e+")",i=s.parse(n,{range:!0}),r=[];if("Program"!==i.type||1!==i.body.length||"ExpressionStatement"!==i.body[0].type||"FunctionExpression"!==i.body[0].expression.type)throw new Error("Failed to resolve function");return i.body[0].expression.params.forEach(function(e){r.push(e.name)}),t=i.body[0].expression.body.range,new Function(r,n.slice(t[0]+1,t[1]-1))}function o(e){return e.toString()}function a(e){return"[object Function]"===Object.prototype.toString.call(e)}var s;try{var c=e;s=c("esprima")}catch(u){"undefined"!=typeof window&&(s=window.esprima)}var l=e("../../type");t.exports=new l("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:i,construct:r,predicate:a,represent:o})},{"../../type":13}],19:[function(e,t,n){"use strict";function i(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,n=/\/([gim]*)$/.exec(e),i="";if("/"===t[0]){if(n&&(i=n[1]),i.length>3)return!1;if("/"!==t[t.length-i.length-1])return!1}return!0}function r(e){var t=e,n=/\/([gim]*)$/.exec(e),i="";return"/"===t[0]&&(n&&(i=n[1]),t=t.slice(1,t.length-i.length-1)),new RegExp(t,i)}function o(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}function a(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var s=e("../../type");t.exports=new s("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:i,construct:r,predicate:a,represent:o})},{"../../type":13}],20:[function(e,t,n){"use strict";function i(){return!0}function r(){}function o(){return""}function a(e){return"undefined"==typeof e}var s=e("../../type");t.exports=new s("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:i,construct:r,predicate:a,represent:o})},{"../../type":13}],21:[function(e,t,n){"use strict";var i=e("../type");t.exports=new i("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},{"../type":13}],22:[function(e,t,n){"use strict";function i(e){return"<<"===e||null===e}var r=e("../type");t.exports=new r("tag:yaml.org,2002:merge",{kind:"scalar",resolve:i})},{"../type":13}],23:[function(e,t,n){"use strict";function i(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)}function r(){return null}function o(e){return null===e}var a=e("../type");t.exports=new a("tag:yaml.org,2002:null",{kind:"scalar",resolve:i,construct:r,predicate:o,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":13}],24:[function(e,t,n){"use strict";function i(e){if(null===e)return!0;var t,n,i,r,o,c=[],u=e;for(t=0,n=u.length;n>t;t+=1){if(i=u[t],o=!1,"[object Object]"!==s.call(i))return!1;for(r in i)if(a.call(i,r)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==c.indexOf(r))return!1;c.push(r)}return!0}function r(e){return null!==e?e:[]}var o=e("../type"),a=Object.prototype.hasOwnProperty,s=Object.prototype.toString;t.exports=new o("tag:yaml.org,2002:omap",{kind:"sequence",resolve:i,construct:r})},{"../type":13}],25:[function(e,t,n){"use strict";function i(e){if(null===e)return!0;var t,n,i,r,o,s=e;for(o=new Array(s.length),t=0,n=s.length;n>t;t+=1){if(i=s[t],"[object Object]"!==a.call(i))return!1;if(r=Object.keys(i),1!==r.length)return!1;o[t]=[r[0],i[r[0]]]}return!0}function r(e){if(null===e)return[];var t,n,i,r,o,a=e;for(o=new Array(a.length),t=0,n=a.length;n>t;t+=1)i=a[t],r=Object.keys(i),o[t]=[r[0],i[r[0]]];return o}var o=e("../type"),a=Object.prototype.toString;t.exports=new o("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:i,construct:r})},{"../type":13}],26:[function(e,t,n){"use strict";var i=e("../type");t.exports=new i("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},{"../type":13}],27:[function(e,t,n){"use strict";function i(e){if(null===e)return!0;var t,n=e;for(t in n)if(a.call(n,t)&&null!==n[t])return!1;return!0}function r(e){return null!==e?e:{}}var o=e("../type"),a=Object.prototype.hasOwnProperty;t.exports=new o("tag:yaml.org,2002:set",{kind:"mapping",resolve:i,construct:r})},{"../type":13}],28:[function(e,t,n){"use strict";var i=e("../type");t.exports=new i("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},{"../type":13}],29:[function(e,t,n){"use strict";function i(e){return null===e?!1:null!==s.exec(e)?!0:null!==c.exec(e)}function r(e){var t,n,i,r,o,a,u,l,p,f,d=0,h=null;if(t=s.exec(e),null===t&&(t=c.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(n,i,r));if(o=+t[4],a=+t[5],u=+t[6],t[7]){for(d=t[7].slice(0,3);d.length<3;)d+="0";d=+d}return t[9]&&(l=+t[10],p=+(t[11]||0),h=6e4*(60*l+p),"-"===t[9]&&(h=-h)),f=new Date(Date.UTC(n,i,r,o,a,u,d)),h&&f.setTime(f.getTime()-h),f}function o(e){return e.toISOString()}var a=e("../type"),s=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),c=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");t.exports=new a("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:i,construct:r,instanceOf:Date,represent:o})},{"../type":13}],"/":[function(e,t,n){"use strict";var i=e("./lib/js-yaml.js");t.exports=i},{"./lib/js-yaml.js":1}]},{},[])("/")});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("ContentRendering/MarkdownMetadataPlugin",["require","exports","3rdParty/js-yaml","OfficeFabric/Utilities","VSS/Utils/Date"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function n(n){this.yamlMetadata=new RegExp("((^-{3}\\s*$)((\n|.)*?)(^-{3}\\s*$))?","m");this.FULL_MATCH_GROUP_INDEX=0;this.YAML_TEXT_GROUP_INDEX=3;this.MAX_NESTING=2;n.block.ruler.before("table","meta",this.parseMetadata,{})}return n.prototype.parseMetadata=function(n,t){if(t==0&&n){var r=this._extractYaml(n),i=void 0;if(r&&(i=this._getJsonFromYaml(r)),i)return this._generateTokens(n,i),!0}return n.line=t,!1},n.prototype._extractYaml=function(n){var i=this.yamlMetadata.exec(n.src),r,t;if(i===null||i.length===0)return null;for(r=this._getGroup(i,this.FULL_MATCH_GROUP_INDEX).length,t=0;t<n.eMarks.length;t++)if(r<=n.eMarks[t])break;return n.line=t+1,this._getGroup(i,this.YAML_TEXT_GROUP_INDEX)},n.prototype._getJsonFromYaml=function(n){try{return i.load(n)}catch(t){return null}},n.prototype._getGroup=function(n,t){return n&&n.length>t&&n[t]},n.prototype._generateTokens=function(n,t){Array.isArray(t)?this._generateListTokens(n,t):t&&typeof t=="object"&&this._generateObjectTokens(n,t)},n.prototype._generateObjectTokens=function(n,t,i){var r,e,f,o,u,s;if(i===void 0&&(i=0),i>this.MAX_NESTING){this._createInlineToken(n,JSON.stringify(t));return}for(this._applyAtttibutes(n.push("table_open","table",1)),n.push("thead_open","thead",1),n.push("tr_open","tr",1),r=0,e=Object.keys(t);r<e.length;r++)u=e[r],this._generateTokenForKey(u,n);for(n.push("tr_close","tr",-1),n.push("thead_close","thead",-1),n.push("tbody_open","tbody",1),n.push("tr_open","tr",1),f=0,o=Object.keys(t);f<o.length;f++)u=o[f],s=t[u],this._generateTokensForValue(s,n,i+1);n.push("tr_close","tr",-1);n.push("tbody_close","tbody",-1);n.push("table_close","table",-1)},n.prototype._generateListTokens=function(n,t,i){var r,u,f;if(i===void 0&&(i=0),i>this.MAX_NESTING){this._createInlineToken(n,JSON.stringify(t));return}for(this._applyAtttibutes(n.push("table_open","table",1)),n.push("tr_open","tr",1),r=0,u=t;r<u.length;r++)f=u[r],this._generateTokensForValue(f,n,i+1);n.push("tr_close","tr",-1);n.push("table_close","table",-1)},n.prototype._generateTokensForValue=function(n,t,i){t.push("td_open","td",1);Array.isArray(n)?this._generateListTokens(t,n,i):n&&Object.prototype.toString.call(n)==="[object Date]"?this._createInlineToken(t,u.localeFormat(n,"g")):n&&typeof n=="object"?this._generateObjectTokens(t,n,i):this._createInlineToken(t,new String(n));t.push("td_close","td",-1)},n.prototype._generateTokenForKey=function(n,t){t.push("th_open","th",1);var i=t.push("inline","",0);i.content=new String(n);i.children=[];t.push("th_close","th",-1)},n.prototype._applyAtttibutes=function(n){(n.attrs=n.attrs||[]).push(["class","metadata-yaml-table"])},n.prototype._createInlineToken=function(n,t){var i=n.push("inline","",0);i.content=t;i.children=[]},__decorate([r.autobind],n.prototype,"parseMetadata",null),n}();t.MarkdownMetadataPlugin=f});

define("ContentRendering/Markdown",["require","exports","3rdParty/markdown-it","3rdParty/markdown-it-emoji","3rdParty/markdown-it-imsize","3rdParty/markdown-it-task-lists","3rdParty/markdown-it-container","3rdParty/markdown-it-table-of-contents","3rdParty/remove-markdown","VSS/Utils/Html","ContentRendering/MarkdownItPlugins","ContentRendering/MarkdownConstants","ContentRendering/MarkdownMetadataPlugin"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){var v,y;Object.defineProperty(t,"__esModule",{value:!0});v=function(){function t(n){var t=this;this.renderHtml=function(n){var i=t.renderer.render(n),u,r;return t.options&&t.options.html&&(t.options.katex?(u=["top"],r=["DATA"],i=h.HtmlNormalizer.normalizeStripAttributes(i,null,null,null,u,!0,r)):(r=["DATA"],i=h.HtmlNormalizer.normalizeStripAttributes(i,null,null,null,null,!0,r))),i};this.parse=function(n){return t.renderer.parse(n,{})};this.options=n;this.renderer=this.getRenderer()}return t.prototype.getRenderer=function(){var v=this,h,y,p;return this.options?(h=i(this.options),h.use(function(n){return new c.LazyHeadersPlugin(n)}),h.use(function(n){return new c.AnchoredHeadersPlugin(n,v.options.enableHeaderAnchorSharing)}),h.use(function(n){return new c.LinkTransformerPlugin(n,v.options)}),h.use(function(n){return new c.ImageTransformerPlugin(n,v.options)}),h.use(f,{enabled:this.options.clickableTaskList}),this.options.emoji&&h.use(r),this.options.imageSize&&h.use(u),this.options.containerOptions&&(this.options.containerOptions.forEach(function(n){h.use(e,n.name,n)}),y=function(){return""},h.renderer.rules[l.MarkdownConstants.MaskedTokenType]=y),this.options.linkifyTlds&&h.linkify.tlds(this.options.linkifyTlds,!1),this.options.validateLink&&(h.validateLink=this.options.validateLink),this.options.katex&&(p=new Promise(function(t){n(["require","3rdParty/katex","VSS/LoaderPlugins/Css!ContentRendering/Katex/katex","3rdParty/markdown-it-katex"],function(n){var i=n("3rdParty/markdown-it-katex");h.use(i);t()})}),p.then(function(){this.options.onKatexLoad&&this.options.onKatexLoad()}.bind(this))),this.options.disableToc||(h.use(function(n){return new c.TableOfContentsPlugin(n,l.MarkdownConstants.TOCDefaultMarker,l.MarkdownConstants.NoTOCDefaultMarker)}),h.use(o,{includeLevel:[1,2,3,4,5,6],containerClass:"toc-container",markerPattern:l.MarkdownConstants.TOCDefaultMarkerPattern,forceFullToc:!0,slugify:function(n){return c.getEncodedTitle(h,n)},format:function(n){return n=s(n,{stripListLeaders:!1}),v.renderer.utils.unescapeMd(n)},containerHeaderHtml:'<div class="toc-container-header">Contents<\/div>'})),this.options.enableYaml&&h.use(function(n){return new a.MarkdownMetadataPlugin(n)})):(t.defaultRenderer||(t.defaultRenderer=i(this.options),t.defaultRenderer.use(function(n){return new c.LazyHeadersPlugin(n)}),t.defaultRenderer.use(function(n){return new c.AnchoredHeadersPlugin(n)}),t.defaultRenderer.use(function(n){return new c.LinkTransformerPlugin(n)}),t.defaultRenderer.use(function(n){return new c.ImageTransformerPlugin(n)}),t.defaultRenderer.use(f)),h=t.defaultRenderer),h},t.prototype.resetCache=function(){t.defaultRenderer=null},t}();t.MarkdownRenderer=v;y=function(){function n(){}return n.convertAnchorName=function(n){return c.AnchoredHeadersPlugin.anchorNamePrefix+n},n.scroll=function(t,i){var f=i,r,e,u;return f.attributes.href&&(r=f.attributes.href.value,r&&r.length>1&&r.substr(0,1)==="#"&&(r=r.substr(1).toLowerCase(),e=n.convertAnchorName(r),u=document.getElementById(e),u))?(u.scrollIntoView(),!1):!0},n.attach=function(t){var e,o,i,u,r,f;if(t)for(e=t.getElementsByTagName("a"),o=[].slice.call(e,0),i=0,u=o;i<u.length;i++)r=u[i],r.attributes.href&&(f=r.attributes.href.value,f.length>1&&f.substr(0,1)==="#"&&(r.onclick=function(){return n.scroll(t,this)}))},n.attached=!1,n.initialHash="",n}();t.UserContentAnchorHelper=y});

define("Presentation/Scripts/TFS/TFS.MarkdownExtension.Common",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i;(function(n){n[n.Full=0]="Full";n[n.Edit=1]="Edit"})(i=t.ViewMode||(t.ViewMode={}))});

define("Presentation/Scripts/TFS/MarkdownSyntaxExtensionProvider",["require","exports","OfficeFabric/Utilities","Presentation/Scripts/TFS/TFS.Core.Utils","Presentation/Scripts/TFS/TFS.MarkdownExtension.Common","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Locations","VSS/Service","ContentRendering/MarkdownConstants"],function(n,t,i,r,u,f,e,o,s,h){function c(n){var t=n.split(/(\s+)/).filter(function(n){return n.trim().length>0});return t.length>0?t[0]:null}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function n(n,t){this._viewModeObj=n;this._className=t;this.name="markdownExtension";this._elementInstanceMap=new Map;this._keywordContributionMap=new Map;this._seenKeywordsSet=new Set}return n.prototype.createContributionsHosts=function(){this._seenKeywordsSet.forEach(this._createContributionHosts)},n.prototype.fetchMarkdownSyntaxContributors=function(){var n=s.getService(e.ExtensionService).getContributionsForTarget("ms.vss-tfs-web.markdown-extension-syntax");return n.then(this._onContributionsLoad),n},n.prototype.render=function(n,t){if(n[t].nesting===1)return this._curentKeyWord=c(n[t].info),this._seenKeywordsSet.add(this._curentKeyWord),this._currentElementId=r.GUIDUtils.newGuid(),this._currentTokenIndex=t,n=this._modifyContainerTokens(n,t),"<DIV class="+this._curentKeyWord+" id="+this._currentElementId+">";var i=this._extractContent(n,this._currentTokenIndex,t),e=this._keywordContributionMap.get(this._curentKeyWord),f=this._elementInstanceMap.get(this._currentElementId);return(f?f.data=i:this._elementInstanceMap.set(this._currentElementId,{data:i}),this._viewModeObj.getViewMode()===u.ViewMode.Edit)?this._getPreview(e.properties.previewSrc)+"<\/DIV>":"<\/DIV>"},n.prototype._modifyContainerTokens=function(n,t){for(var i=t+1;n[t].level!==n[i].level||n[i].type!=="container_"+this.name+"_close";i++)n[i].type=h.MarkdownConstants.MaskedTokenType;return n},n.prototype._extractContent=function(n,t,i){for(var u="",r=t+1;r<i;r++)u+=n[r].content;return u},n.prototype._getPreview=function(n){return'<img src="'+o.urlHelper.getVersionedContentUrl(n)+'"><\/img>'},n.prototype.validate=function(n){var t=c(n);return t?this._keywordContributionMap.has(t):!1},n.prototype._buildContributionsMap=function(n){var t=this;n.forEach(function(n){t._keywordContributionMap.set(n.properties.keyword,n)})},n.prototype._createContributionHosts=function(n){var t=this,i=this._keywordContributionMap.get(n),r=$("."+n,$(this._className));r.each(function(n,r){var e=t._elementInstanceMap.get(r.id);(t._elementInstanceMap.delete(r.id),e&&!e.instance)&&f.createContributedControl($(r),i).then(function(n){e.instance=n;n.sendContent(e.data,t._viewModeObj.getViewMode()===u.ViewMode.Edit)})})},n.prototype._onContributionsLoad=function(n){this._buildContributionsMap(n)},__decorate([i.autobind],n.prototype,"render",null),__decorate([i.autobind],n.prototype,"validate",null),__decorate([i.autobind],n.prototype,"_createContributionHosts",null),__decorate([i.autobind],n.prototype,"_onContributionsLoad",null),n}();t.MarkdownSyntaxExtensionProvider=l});

/**
 * marked - a markdown parser
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 */
(function(){var block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:noop,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:noop,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};block.bullet=/(?:[*+-]|\d+\.)/;block.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;block.item=replace(block.item,"gm")(/bull/g,block.bullet)();block.list=replace(block.list)(/bull/g,block.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+block.def.source+")")();block.blockquote=replace(block.blockquote)("def",block.def)();block._tag="(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code"+"|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo"+"|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";block.html=replace(block.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,block._tag)();block.paragraph=replace(block.paragraph)("hr",block.hr)("heading",block.heading)("lheading",block.lheading)("blockquote",block.blockquote)("tag","<"+block._tag)("def",block.def)();block.normal=merge({},block);block.gfm=merge({},block.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/});block.gfm.paragraph=replace(block.paragraph)("(?!","(?!"+block.gfm.fences.source.replace("\\1","\\2")+"|"+block.list.source.replace("\\1","\\3")+"|")();block.tables=merge({},block.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});function Lexer(options){this.tokens=[];this.tokens.links={};this.options=options||marked.defaults;this.rules=block.normal;if(this.options.gfm){if(this.options.tables){this.rules=block.tables}else{this.rules=block.gfm}}}Lexer.rules=block;Lexer.lex=function(src,options){var lexer=new Lexer(options);return lexer.lex(src)};Lexer.prototype.lex=function(src){src=src.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(src,true)};Lexer.prototype.token=function(src,top,bq){var src=src.replace(/^ +$/gm,""),next,loose,cap,bull,b,item,space,i,l;while(src){if(cap=this.rules.newline.exec(src)){src=src.substring(cap[0].length);if(cap[0].length>1){this.tokens.push({type:"space"})}}if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length);cap=cap[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:!this.options.pedantic?cap.replace(/\n+$/,""):cap});continue}if(cap=this.rules.fences.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"code",lang:cap[2],text:cap[3]});continue}if(cap=this.rules.heading.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"heading",depth:cap[1].length,text:cap[2]});continue}if(top&&(cap=this.rules.nptable.exec(src))){src=src.substring(cap[0].length);item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/\n$/,"").split("\n")};for(i=0;i<item.align.length;i++){if(/^ *-+: *$/.test(item.align[i])){item.align[i]="right"}else if(/^ *:-+: *$/.test(item.align[i])){item.align[i]="center"}else if(/^ *:-+ *$/.test(item.align[i])){item.align[i]="left"}else{item.align[i]=null}}for(i=0;i<item.cells.length;i++){item.cells[i]=item.cells[i].split(/ *\| */)}this.tokens.push(item);continue}if(cap=this.rules.lheading.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"heading",depth:cap[2]==="="?1:2,text:cap[1]});continue}if(cap=this.rules.hr.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"hr"});continue}if(cap=this.rules.blockquote.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"blockquote_start"});cap=cap[0].replace(/^ *> ?/gm,"");this.token(cap,top,true);this.tokens.push({type:"blockquote_end"});continue}if(cap=this.rules.list.exec(src)){src=src.substring(cap[0].length);bull=cap[2];this.tokens.push({type:"list_start",ordered:bull.length>1});cap=cap[0].match(this.rules.item);next=false;l=cap.length;i=0;for(;i<l;i++){item=cap[i];space=item.length;item=item.replace(/^ *([*+-]|\d+\.) +/,"");if(~item.indexOf("\n ")){space-=item.length;item=!this.options.pedantic?item.replace(new RegExp("^ {1,"+space+"}","gm"),""):item.replace(/^ {1,4}/gm,"")}if(this.options.smartLists&&i!==l-1){b=block.bullet.exec(cap[i+1])[0];if(bull!==b&&!(bull.length>1&&b.length>1)){src=cap.slice(i+1).join("\n")+src;i=l-1}}loose=next||/\n\n(?!\s*$)/.test(item);if(i!==l-1){next=item.charAt(item.length-1)==="\n";if(!loose)loose=next}this.tokens.push({type:loose?"loose_item_start":"list_item_start"});this.token(item,false,bq);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}if(cap=this.rules.html.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:cap[1]==="pre"||cap[1]==="script"||cap[1]==="style",text:cap[0]});continue}if(!bq&&top&&(cap=this.rules.def.exec(src))){src=src.substring(cap[0].length);this.tokens.links[cap[1].toLowerCase()]={href:cap[2],title:cap[3]};continue}if(top&&(cap=this.rules.table.exec(src))){src=src.substring(cap[0].length);item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(i=0;i<item.align.length;i++){if(/^ *-+: *$/.test(item.align[i])){item.align[i]="right"}else if(/^ *:-+: *$/.test(item.align[i])){item.align[i]="center"}else if(/^ *:-+ *$/.test(item.align[i])){item.align[i]="left"}else{item.align[i]=null}}for(i=0;i<item.cells.length;i++){item.cells[i]=item.cells[i].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)}this.tokens.push(item);continue}if(top&&(cap=this.rules.paragraph.exec(src))){src=src.substring(cap[0].length);this.tokens.push({type:"paragraph",text:cap[1].charAt(cap[1].length-1)==="\n"?cap[1].slice(0,-1):cap[1]});continue}if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"text",text:cap[0]});continue}if(src){throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}}return this.tokens};var inline={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:noop,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:noop,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};inline._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/;inline._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;inline.link=replace(inline.link)("inside",inline._inside)("href",inline._href)();inline.reflink=replace(inline.reflink)("inside",inline._inside)();inline.normal=merge({},inline);inline.pedantic=merge({},inline.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});inline.gfm=merge({},inline.normal,{escape:replace(inline.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:replace(inline.text)("]|","~]|")("|","|https?://|")()});inline.breaks=merge({},inline.gfm,{br:replace(inline.br)("{2,}","*")(),text:replace(inline.gfm.text)("{2,}","*")()});function InlineLexer(links,options){this.options=options||marked.defaults;this.links=links;this.rules=inline.normal;this.renderer=this.options.renderer||new Renderer;this.renderer.options=this.options;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.gfm){if(this.options.breaks){this.rules=inline.breaks}else{this.rules=inline.gfm}}else if(this.options.pedantic){this.rules=inline.pedantic}}InlineLexer.rules=inline;InlineLexer.output=function(src,links,options){var inline=new InlineLexer(links,options);return inline.output(src)};InlineLexer.prototype.output=function(src){var out="",link,text,href,cap;while(src){if(cap=this.rules.escape.exec(src)){src=src.substring(cap[0].length);out+=cap[1];continue}if(cap=this.rules.autolink.exec(src)){src=src.substring(cap[0].length);if(cap[2]==="@"){text=cap[1].charAt(6)===":"?this.mangle(cap[1].substring(7)):this.mangle(cap[1]);href=this.mangle("mailto:")+text}else{text=escape(cap[1]);href=text}out+=this.renderer.link(href,null,text);continue}if(!this.inLink&&(cap=this.rules.url.exec(src))){src=src.substring(cap[0].length);text=escape(cap[1]);href=text;out+=this.renderer.link(href,null,text);continue}if(cap=this.rules.tag.exec(src)){if(!this.inLink&&/^<a /i.test(cap[0])){this.inLink=true}else if(this.inLink&&/^<\/a>/i.test(cap[0])){this.inLink=false}src=src.substring(cap[0].length);out+=this.options.sanitize?escape(cap[0]):cap[0];continue}if(cap=this.rules.link.exec(src)){src=src.substring(cap[0].length);this.inLink=true;out+=this.outputLink(cap,{href:cap[2],title:cap[3]});this.inLink=false;continue}if((cap=this.rules.reflink.exec(src))||(cap=this.rules.nolink.exec(src))){src=src.substring(cap[0].length);link=(cap[2]||cap[1]).replace(/\s+/g," ");link=this.links[link.toLowerCase()];if(!link||!link.href){out+=cap[0].charAt(0);src=cap[0].substring(1)+src;continue}this.inLink=true;out+=this.outputLink(cap,link);this.inLink=false;continue}if(cap=this.rules.strong.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.strong(this.output(cap[2]||cap[1]));continue}if(cap=this.rules.em.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.em(this.output(cap[2]||cap[1]));continue}if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.codespan(escape(cap[2],true));continue}if(cap=this.rules.br.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.br();continue}if(cap=this.rules.del.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.del(this.output(cap[1]));continue}if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length);out+=escape(this.smartypants(cap[0]));continue}if(src){throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}}return out};InlineLexer.prototype.outputLink=function(cap,link){var href=escape(link.href),title=link.title?escape(link.title):null;return cap[0].charAt(0)!=="!"?this.renderer.link(href,title,this.output(cap[1])):this.renderer.image(href,title,escape(cap[1]))};InlineLexer.prototype.smartypants=function(text){if(!this.options.smartypants)return text;return text.replace(/--/g,"—").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")};InlineLexer.prototype.mangle=function(text){var out="",l=text.length,i=0,ch;for(;i<l;i++){ch=text.charCodeAt(i);if(Math.random()>.5){ch="x"+ch.toString(16)}out+="&#"+ch+";"}return out};function Renderer(options){this.options=options||{};this.badUrlRegex=/^(data|file|javascript|vbscript):/;this.exemptUrlRegex=/^data:image\/(gif|jpeg|png|webp);/;}Renderer.prototype.isSafeHref=function(href){if(!href){return true;}var hrefTest=href.trim().toLowerCase();return this.badUrlRegex.test(hrefTest)?(this.exemptUrlRegex.test(hrefTest)?true:false):true;};Renderer.prototype.code=function(code,lang,escaped){if(this.options.highlight){var out=this.options.highlight(code,lang);if(out!=null&&out!==code){escaped=true;code=out}}if(!lang){return"<pre><code>"+(escaped?code:escape(code,true))+"\n</code></pre>"}return'<pre><code class="'+this.options.langPrefix+escape(lang,true)+'">'+(escaped?code:escape(code,true))+"\n</code></pre>\n"};Renderer.prototype.blockquote=function(quote){return"<blockquote>\n"+quote+"</blockquote>\n"};Renderer.prototype.html=function(html){return html};Renderer.prototype.heading=function(text,level,raw){return"<h"+level+' id="'+this.options.headerPrefix+raw.toLowerCase().replace(/[^\w]+/g,"-")+'">'+text+"</h"+level+">\n"};Renderer.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};Renderer.prototype.list=function(body,ordered){var type=ordered?"ol":"ul";return"<"+type+">\n"+body+"</"+type+">\n"};Renderer.prototype.listitem=function(text){return"<li>"+text+"</li>\n"};Renderer.prototype.paragraph=function(text){return"<p>"+text+"</p>\n"};Renderer.prototype.table=function(header,body){return"<table>\n"+"<thead>\n"+header+"</thead>\n"+"<tbody>\n"+body+"</tbody>\n"+"</table>\n"};Renderer.prototype.tablerow=function(content){return"<tr>\n"+content+"</tr>\n"};Renderer.prototype.tablecell=function(content,flags){var type=flags.header?"th":"td";var tag=flags.align?"<"+type+' style="text-align:'+flags.align+'">':"<"+type+">";return tag+content+"</"+type+">\n"};Renderer.prototype.strong=function(text){return"<strong>"+text+"</strong>"};Renderer.prototype.em=function(text){return"<em>"+text+"</em>"};Renderer.prototype.codespan=function(text){return"<code>"+text+"</code>"};Renderer.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};Renderer.prototype.del=function(text){return"<del>"+text+"</del>"};Renderer.prototype.link=function(href,title,text){if(this.options.sanitize){try{var prot=decodeURIComponent(unescape(href)).replace(/[^\w:]/g,'').toLowerCase();}catch(e){return '';}if(prot.indexOf('javascript:')===0){return '';}}var out;if(this.isSafeHref(href)){out='<a href="'+href+'"';if(title){out+=' title="'+title+'"';}out+='>'+text+'</a>';}else{out=this.safeOutput(href,title,text,false);}return out;};Renderer.prototype.image=function(href,title,text){if(this.isSafeHref(href)){var out='<img src="'+href+'" alt="'+text+'"';if(title){out+=' title="'+title+'"';}out+=this.options.xhtml ? '/>' : '>';}else{out=this.safeOutput(href,title,text,true);}return out;};Renderer.prototype.safeOutput=function(href,title,text,isImage){var out='<span>';if(title){out='<span title="'+title+'">';}if(isImage){out+="!";}out+='['+text+']('+href+')</span>';return out;};function Parser(options){this.tokens=[];this.token=null;this.options=options||marked.defaults;this.options.renderer=this.options.renderer||new Renderer;this.renderer=this.options.renderer;this.renderer.options=this.options}Parser.parse=function(src,options,renderer){var parser=new Parser(options,renderer);return parser.parse(src)};Parser.prototype.parse=function(src){this.inline=new InlineLexer(src.links,this.options,this.renderer);this.tokens=src.reverse();var out="";while(this.next()){out+=this.tok()}return out};Parser.prototype.next=function(){return this.token=this.tokens.pop()};Parser.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};Parser.prototype.parseText=function(){var body=this.token.text;while(this.peek().type==="text"){body+="\n"+this.next().text}return this.inline.output(body)};Parser.prototype.tok=function(){switch(this.token.type){case"space":{return""}case"hr":{return this.renderer.hr()}case"heading":{return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text)}case"code":{return this.renderer.code(this.token.text,this.token.lang,this.token.escaped)}case"table":{var header="",body="",i,row,cell,flags,j;cell="";for(i=0;i<this.token.header.length;i++){flags={header:true,align:this.token.align[i]};cell+=this.renderer.tablecell(this.inline.output(this.token.header[i]),{header:true,align:this.token.align[i]})}header+=this.renderer.tablerow(cell);for(i=0;i<this.token.cells.length;i++){row=this.token.cells[i];cell="";for(j=0;j<row.length;j++){cell+=this.renderer.tablecell(this.inline.output(row[j]),{header:false,align:this.token.align[j]})}body+=this.renderer.tablerow(cell)}return this.renderer.table(header,body)}case"blockquote_start":{var body="";while(this.next().type!=="blockquote_end"){body+=this.tok()}return this.renderer.blockquote(body)}case"list_start":{var body="",ordered=this.token.ordered;while(this.next().type!=="list_end"){body+=this.tok()}return this.renderer.list(body,ordered)}case"list_item_start":{var body="";while(this.next().type!=="list_item_end"){body+=this.token.type==="text"?this.parseText():this.tok()}return this.renderer.listitem(body)}case"loose_item_start":{var body="";while(this.next().type!=="list_item_end"){body+=this.tok()}return this.renderer.listitem(body)}case"html":{var html=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;return this.renderer.html(html)}case"paragraph":{return this.renderer.paragraph(this.inline.output(this.token.text))}case"text":{return this.renderer.paragraph(this.parseText())}}};function escape(html,encode){return html.replace(!encode?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function unescape(html){return html.replace(/&([#\w]+);/g,function(_,n){n=n.toLowerCase();if(n==="colon")return":";if(n.charAt(0)==="#"){return n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1))}return""})}function replace(regex,opt){regex=regex.source;opt=opt||"";return function self(name,val){if(!name)return new RegExp(regex,opt);val=val.source||val;val=val.replace(/(^|[^\[])\^/g,"$1");regex=regex.replace(name,val);return self}}function noop(){}noop.exec=noop;function merge(obj){var i=1,target,key;for(;i<arguments.length;i++){target=arguments[i];for(key in target){if(Object.prototype.hasOwnProperty.call(target,key)){obj[key]=target[key]}}}return obj}function marked(src,opt,callback){if(callback||typeof opt==="function"){if(!callback){callback=opt;opt=null}opt=merge({},marked.defaults,opt||{});var highlight=opt.highlight,tokens,pending,i=0;try{tokens=Lexer.lex(src,opt)}catch(e){return callback(e)}pending=tokens.length;var done=function(err){if(err){opt.highlight=highlight;return callback(err)}var out;try{out=Parser.parse(tokens,opt)}catch(e){err=e}opt.highlight=highlight;return err?callback(err):callback(null,out)};if(!highlight||highlight.length<3){return done()}delete opt.highlight;if(!pending)return done();for(;i<tokens.length;i++){(function(token){if(token.type!=="code"){return--pending||done()}return highlight(token.text,token.lang,function(err,code){if(err)return done(err);if(code==null||code===token.text){return--pending||done()}token.text=code;token.escaped=true;--pending||done()})})(tokens[i])}return}try{if(opt)opt=merge({},marked.defaults,opt);return Parser.parse(Lexer.lex(src,opt),opt)}catch(e){e.message+="\nPlease report this to https://github.com/chjj/marked.";if((opt||marked.defaults).silent){return"<p>An error occured:</p><pre>"+escape(e.message+"",true)+"</pre>"}throw e}}marked.options=marked.setOptions=function(opt){merge(marked.defaults,opt);return marked};marked.defaults={gfm:true,tables:true,breaks:false,pedantic:false,sanitize:false,smartLists:false,silent:false,highlight:null,langPrefix:"lang-",smartypants:false,headerPrefix:"",renderer:new Renderer,xhtml:false};marked.Parser=Parser;marked.parser=Parser.parse;marked.Renderer=Renderer;marked.Lexer=Lexer;marked.lexer=Lexer.lex;marked.InlineLexer=InlineLexer;marked.inlineLexer=InlineLexer.output;marked.parse=marked;if(typeof module!=="undefined"&&typeof exports==="object"){module.exports=marked}else if(typeof define==="function"&&define.amd){define("Presentation/Scripts/marked",function(){return marked})}else{this.marked=marked}}).call(function(){return this||(typeof window!=="undefined"?window:global)}());

// Copyright (C) Microsoft Corporation. All rights reserved.
var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("Presentation/Scripts/TFS/Components/MarkdownRendererAsync",["require","exports","q","react","react-dom","OfficeFabric/Utilities","ContentRendering/Markdown","VSS/Diag","VSS/Performance","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","VSS/LoaderPlugins/Css!Presentation/Components/MarkdownRendererAsync"],function(n,t,i,r,u,f,e,o,s,h,c,l){function b(n,t){u.render(r.createElement(a,__assign({},t)),n)}function y(n){return/\$[^\$]+\$/.test(n)}function w(n){var t=n.trim().toLowerCase();return!p.test(t)}var a,v,p;Object.defineProperty(t,"__esModule",{value:!0});a=function(n){function t(t){var i=n.call(this,t)||this;return i._syntaxBasedOptions={},i._isMounted=!1,i._scenario=s.getScenarioManager().startScenario("Presentation","RenderMarkdownAsync"),i._renderer=i._createMarkdownRenderer(t.options),i._customSyntaxProcessor=new v(i.props.customSyntaxProcessor,i.reconfigWithAdditionalOptions),i.state={renderedHtml:i._renderer.renderHtml(t.rawContent)},i}return __extends(t,n),t._fallbackHtmlForCodeBlock=function(n){return h.format(t._htmlFormatStringForCodeBlock,c.htmlEncode(n))},t.prototype.componentDidMount=function(){this._isMounted=!0;this._attachLinkClickHandler();this.props.onInitialRender&&this.props.onInitialRender();this._renderHtml(this.props.rawContent)},t.prototype.componentDidUpdate=function(){this._attachLinkClickHandler();this.props.injectExtensionMarkup&&this.props.injectExtensionMarkup()},t.prototype.componentWillReceiveProps=function(n){if(this.props.options!==n.options){this._renderer=this._createMarkdownRenderer(n.options);this._renderHtml(n.rawContent);return}(this.props.rawContent!==n.rawContent||this.props.loadedContributionsCount!==n.loadedContributionsCount||this.props.previewMode!==n.previewMode)&&this._renderHtml(n.rawContent)},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.render=function(){return r.createElement("div",{className:f.css("markdown-renderer-async",this.props.className),dangerouslySetInnerHTML:{__html:this.state.renderedHtml},ref:this._setMarkdownContainer})},Object.defineProperty(t.prototype,"getRenderedContent",{get:function(){return this._markdownContainer.innerHTML},enumerable:!0,configurable:!0}),t.prototype.reconfigWithAdditionalOptions=function(n){var t=this;n.katex&&(this._syntaxBasedOptions={katex:!0,onKatexLoad:function(){return t._renderHtml(t.props.rawContent)}});this._renderer=this._createMarkdownRenderer(this.props.options)},t.prototype._attachLinkClickHandler=function(){var i,n,t;if(this._markdownContainer)for(i=this._markdownContainer.getElementsByTagName("a"),n=0;n<i.length;n++)t=i[n],h.endsWith(t.href,"Invalid uri value")?t.href="#":t.onclick=this.props.linkClickHandler},t.prototype._createMarkdownRenderer=function(n){var t=__assign({emoji:!0,highlight:this._highlight,imageSize:!0,linkify:!0,linkifyTlds:["biz","com","edu","gov","net","org","pro","web","aero","asia","coop","info","museum","name","shop","\u0440\u0444","io"],typographer:!1,validateLink:w},n,this._syntaxBasedOptions);return new e.MarkdownRenderer(t)},t.prototype._highlight=function(n,i){var r=this,u;if(!i)return t._fallbackHtmlForCodeBlock(n);if(this._highlightjs)return this._tryHighlight(n,i);u="ContentRendering/References/highlight.pack";l.using([u],function(t){if(r._highlightjs)return r._tryHighlight(n,i);r._highlightjs=t;r._scenario.addSplitTiming("HighlightJsDownloaded");r._renderHtml(r.props.rawContent);r._scenario.isActive()&&r._scenario.end()},function(){return requirejs.undef(u)})},t.prototype._postProcessRenderedHtml=function(n){var t=this._renderer.renderHtml(n);this._customSyntaxProcessor&&(t=this._customSyntaxProcessor.postProcess(t),this._scenario.isActive()&&this._scenario.end());this.setState({renderedHtml:t})},t.prototype._renderHtml=function(n){var t=this;if(this._customSyntaxProcessor){this._customSyntaxProcessor.preProcess(n).then(function(n){t._isMounted&&(t._postProcessRenderedHtml(n),t._scenario.addSplitTiming("CustomSyntaxProcessed"))});return}this._postProcessRenderedHtml(n)},t.prototype._setMarkdownContainer=function(n){this._markdownContainer=n},t.prototype._tryHighlight=function(n,i){try{var r=' class="'+i+'"';return h.format(t._htmlFormatStringForCodeBlock,this._highlightjs.highlight(i,n,!0).value,r)}catch(u){return t._fallbackHtmlForCodeBlock(n)}},t._htmlFormatStringForCodeBlock='<pre class="hljs"><code{1}>{0}<\/code><\/pre>',__decorate([f.autobind],t.prototype,"reconfigWithAdditionalOptions",null),__decorate([f.autobind],t.prototype,"_highlight",null),__decorate([f.autobind],t.prototype,"_setMarkdownContainer",null),t}(r.PureComponent);t.MarkdownRendererAsync=a;v=function(){function n(n,t){this._onAdditionalSyntax=null;this._baseSyntaxProcessor=null;this._mathPluginEnabled=!1;this._onAdditionalSyntax=t;this._baseSyntaxProcessor=n}return n.prototype.preProcess=function(n){var t=i.defer(),r;return this._baseSyntaxProcessor?(r=this._baseSyntaxProcessor.preProcess(n),r.then(function(n){t.resolve(n)})):t.resolve(n),t.promise},n.prototype.postProcess=function(n){var t=this._baseSyntaxProcessor?this._baseSyntaxProcessor.postProcess(n):n;return this._enableMathIfNeeded(n),t},n.prototype._enableMathIfNeeded=function(n){if(!this._mathPluginEnabled&&y(n))this._onAdditionalSyntax({katex:!0}),this._mathPluginEnabled=!0},n}();t.renderInto=b;t.contentHasMathBlock=y;p=/^(vbscript|javascript|file|data):/;t.validateLinkProtocol=w});

/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.14.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
(function(n,t){"use strict";typeof exports=="object"?module.exports=t():typeof define=="function"&&define.amd?define("Presentation/Scripts/IPv6",t):n.IPv6=t(n)})(this,function(n){"use strict";function i(n){var y=n.toLowerCase(),t=y.split(":"),r=t.length,s=8,u,h,i,c,o;for(t[0]===""&&t[1]===""&&t[2]===""?(t.shift(),t.shift()):t[0]===""&&t[1]===""?t.shift():t[r-1]===""&&t[r-2]===""&&t.pop(),r=t.length,t[r-1].indexOf(".")!==-1&&(s=7),u=0;u<r;u++)if(t[u]==="")break;if(u<s){for(t.splice(u,1,"0000");t.length<s;)t.splice(u,0,"0000");r=t.length}for(i=0;i<s;i++){for(h=t[i].split(""),c=0;c<3;c++)if(h[0]==="0"&&h.length>1)h.splice(0,1);else break;t[i]=h.join("")}var l=-1,f=0,e=0,a=-1,v=!1;for(i=0;i<s;i++)v?t[i]==="0"?e+=1:(v=!1,e>f&&(l=a,f=e)):t[i]==="0"&&(v=!0,a=i,e=1);for(e>f&&(l=a,f=e),f>1&&t.splice(l,f,""),r=t.length,o="",t[0]===""&&(o=":"),i=0;i<r;i++){if(o+=t[i],i===r-1)break;o+=":"}return t[r-1]===""&&(o+=":"),o}function r(){return n.IPv6===this&&(n.IPv6=t),this}var t=n&&n.IPv6;return{best:i,noConflict:r}});

/*! http://mths.be/punycode v1.2.3 by @mathias */
/*
Copyright Mathias Bynens <https://mathiasbynens.be/>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
(function(n){function u(n){throw RangeError(ht[n]);}function b(n,t){for(var i=n.length;i--;)n[i]=t(n[i]);return n}function k(n,t){return b(n.split(st),t).join(".")}function d(n){for(var r=[],i=0,f=n.length,t,u;i<f;)t=n.charCodeAt(i++),t>=55296&&t<=56319&&i<f?(u=n.charCodeAt(i++),(u&64512)==56320?r.push(((t&1023)<<10)+(u&1023)+65536):(r.push(t),i--)):r.push(t);return r}function g(n){return b(n,function(n){var t="";return n>65535&&(n-=65536,t+=s(n>>>10&1023|55296),n=56320|n&1023),t+s(n)}).join("")}function ct(n){return n-48<10?n-22:n-65<26?n-65:n-97<26?n-97:t}function nt(n,t){return n+22+75*(n<26)-((t!=0)<<5)}function tt(n,r,u){var f=0;for(n=u?i(n/ft):n>>1,n+=i(n/r);n>a*o>>1;f+=t)n=i(n/a);return i(f+(a+1)*n/(n+ut))}function it(n){var b=[],ft=n.length,s,r=0,nt=p,k=y,e,h,d,it,c,a,v,rt,ut;for(e=n.lastIndexOf(w),e<0&&(e=0),h=0;h<e;++h)n.charCodeAt(h)>=128&&u("not-basic"),b.push(n.charCodeAt(h));for(d=e>0?e+1:0;d<ft;){for(it=r,c=1,a=t;;a+=t){if(d>=ft&&u("invalid-input"),v=ct(n.charCodeAt(d++)),(v>=t||v>i((f-r)/c))&&u("overflow"),r+=v*c,rt=a<=k?l:a>=k+o?o:a-k,v<rt)break;ut=t-rt;c>i(f/ut)&&u("overflow");c*=ut}s=b.length+1;k=tt(r-it,s,it==0);i(r/s)>f-nt&&u("overflow");nt+=i(r/s);r%=s;b.splice(r++,0,nt)}return g(b)}function rt(n){var h,c,b,et,k,r,a,g,it,rt,e,v=[],ut,ft,ot,st;for(n=d(n),ut=n.length,h=p,c=0,k=y,r=0;r<ut;++r)e=n[r],e<128&&v.push(s(e));for(b=et=v.length,et&&v.push(w);b<ut;){for(a=f,r=0;r<ut;++r)e=n[r],e>=h&&e<a&&(a=e);for(ft=b+1,a-h>i((f-c)/ft)&&u("overflow"),c+=(a-h)*ft,h=a,r=0;r<ut;++r)if(e=n[r],e<h&&++c>f&&u("overflow"),e==h){for(g=c,it=t;;it+=t){if(rt=it<=k?l:it>=k+o?o:it-k,g<rt)break;st=g-rt;ot=t-rt;v.push(s(nt(rt+st%ot,0)));g=i(st/ot)}v.push(s(nt(g,0)));k=tt(c,ft,b==et);c=0;++b}++c;++h}return v.join("")}function lt(n){return k(n,function(n){return et.test(n)?it(n.slice(4).toLowerCase()):n})}function at(n){return k(n,function(n){return ot.test(n)?"xn--"+rt(n):n})}var h=typeof exports=="object"&&exports,v=typeof module=="object"&&module&&module.exports==h&&module,e=typeof global=="object"&&global;(e.global===e||e.window===e)&&(n=e);var r,f=2147483647,t=36,l=1,o=26,ut=38,ft=700,y=72,p=128,w="-",et=/^xn--/,ot=/[^ -~]/,st=/\x2E|\u3002|\uFF0E|\uFF61/g,ht={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},a=t-l,i=Math.floor,s=String.fromCharCode,c;if(r={version:"1.2.3",ucs2:{decode:d,encode:g},decode:it,encode:rt,toASCII:at,toUnicode:lt},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("Presentation/Scripts/punycode",function(){return r});else if(h&&!h.nodeType)if(v)v.exports=r;else for(c in r)r.hasOwnProperty(c)&&(h[c]=r[c]);else n.punycode=r})(this);

/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.14.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
(function(n,t){"use strict";typeof exports=="object"?module.exports=t():typeof define=="function"&&define.amd?define("Presentation/Scripts/SecondLevelDomains",t):n.SecondLevelDomains=t(n)})(this,function(n){"use strict";var i=n&&n.SecondLevelDomains,t={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ","do":" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ","in":" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(n){var i=n.lastIndexOf("."),r,u;return i<=0||i>=n.length-1?!1:(r=n.lastIndexOf(".",i-1),r<=0||r>=i-1)?!1:(u=t.list[n.slice(i+1)],!u)?!1:u.indexOf(" "+n.slice(r+1,i)+" ")>=0},is:function(n){var i=n.lastIndexOf("."),u,r;return i<=0||i>=n.length-1?!1:(u=n.lastIndexOf(".",i-1),u>=0)?!1:(r=t.list[n.slice(i+1)],!r)?!1:r.indexOf(" "+n.slice(0,i)+" ")>=0},get:function(n){var i=n.lastIndexOf("."),r,u;return i<=0||i>=n.length-1?null:(r=n.lastIndexOf(".",i-1),r<=0||r>=i-1)?null:(u=t.list[n.slice(i+1)],!u)?null:u.indexOf(" "+n.slice(r+1,i)+" ")<0?null:n.slice(r+1)},noConflict:function(){return n.SecondLevelDomains===this&&(n.SecondLevelDomains=i),this}};return t});

/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.14.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*
The MIT License (MIT)

Copyright (c) 2011 Rodney Rehm

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/
/*
The MIT License (MIT)

Copyright (c) 2014 the UMD contributors.

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the ""Software""), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/

(function (n, t) { "use strict"; typeof exports == "object" ? module.exports = t(require("Presentation/Scripts/punycode"), require("Presentation/Scripts/IPv6"), require("Presentation/Scripts/SecondLevelDomains")) : typeof define == "function" && define.amd ? define("Presentation/Scripts/URI",["Presentation/Scripts/IPv6", "Presentation/Scripts/punycode", "Presentation/Scripts/SecondLevelDomains"], t) : n.URI = t(n.punycode, n.IPv6, n.SecondLevelDomains, n) })(this, function (n, t, i, r) { "use strict"; function u(n, t) { return (this instanceof u) ? (n === undefined && (n = typeof location != "undefined" ? location.href + "" : ""), this.href(n), t !== undefined) ? this.absoluteTo(t) : this : new u(n, t) } function s(n) { return n.replace(/([.*+?^=!:${}()|[\]\/\\])/g, "\\$1") } function l(n) { return n === undefined ? "Undefined" : String(Object.prototype.toString.call(n)).slice(8, -1) } function e(n) { return l(n) === "Array" } function g(n, t) { var u = {}, i, r; if (e(t)) for (i = 0, r = t.length; i < r; i++) u[t[i]] = !0; else u[t] = !0; for (i = 0, r = n.length; i < r; i++) u[n[i]] !== undefined && (n.splice(i, 1), r--, i--); return n } function c(n, t) { var i, r, u; if (e(t)) { for (i = 0, r = t.length; i < r; i++) if (!c(n, t[i])) return !1; return !0 } for (u = l(t), i = 0, r = n.length; i < r; i++) if (u === "RegExp") { if (typeof n[i] == "string" && n[i].match(t)) return !0 } else if (n[i] === t) return !0; return !1 } function w(n, t) { if (!e(n) || !e(t) || n.length !== t.length) return !1; n.sort(); t.sort(); for (var i = 0, r = n.length; i < r; i++) if (n[i] !== t[i]) return !1; return !0 } function nt(n) { return escape(n) } function a(n) { return encodeURIComponent(n).replace(/[!'()*]/g, nt).replace(/\*/g, "%2A") } function h(n) { return function (t, i) { return t === undefined ? this._parts[n] || "" : (this._parts[n] = t || null, this.build(!i), this) } } function b(n, t) { return function (i, r) { return i === undefined ? this._parts[n] || "" : (i !== null && (i = i + "", i.charAt(0) === t && (i = i.substring(1))), this._parts[n] = i, this.build(!r), this) } } var d = r && r.URI, f, o, v, y, p, k; u.version = "1.14.1"; f = u.prototype; o = Object.prototype.hasOwnProperty; u._parts = function () { return { protocol: null, username: null, password: null, hostname: null, urn: null, port: null, path: null, query: null, fragment: null, duplicateQueryParameters: u.duplicateQueryParameters, escapeQuerySpace: u.escapeQuerySpace } }; u.duplicateQueryParameters = !1; u.escapeQuerySpace = !0; u.protocol_expression = /^[a-z][a-z0-9.+-]*$/i; u.idn_expression = /[^a-z0-9\.-]/i; u.punycode_expression = /(xn--)/i; u.ip4_expression = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/; u.ip6_expression = /^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/; u.find_uri_expression = /\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/ig; u.findUri = { start: /\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi, end: /[\s\r\n]|$/, trim: /[`!()\[\]{};:'".,<>?«»“”„‘’]+$/ }; u.defaultPorts = { http: "80", https: "443", ftp: "21", gopher: "70", ws: "80", wss: "443" }; u.invalid_hostname_characters = /[^a-zA-Z0-9\.-]/; u.domAttributes = { a: "href", blockquote: "cite", link: "href", base: "href", script: "src", form: "action", img: "src", area: "href", iframe: "src", embed: "src", source: "src", track: "src", input: "src", audio: "src", video: "src" }; u.getDomAttribute = function (n) { if (!n || !n.nodeName) return undefined; var t = n.nodeName.toLowerCase(); return t === "input" && n.type !== "image" ? undefined : u.domAttributes[t] }; u.encode = a; u.decode = decodeURIComponent; u.iso8859 = function () { u.encode = escape; u.decode = unescape }; u.unicode = function () { u.encode = a; u.decode = decodeURIComponent }; u.characters = { pathname: { encode: { expression: /%(24|26|2B|2C|3B|3D|3A|40)/ig, map: { "%24": "$", "%26": "&", "%2B": "+", "%2C": ",", "%3B": ";", "%3D": "=", "%3A": ":", "%40": "@" } }, decode: { expression: /[\/\?#]/g, map: { "/": "%2F", "?": "%3F", "#": "%23" } } }, reserved: { encode: { expression: /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig, map: { "%3A": ":", "%2F": "/", "%3F": "?", "%23": "#", "%5B": "[", "%5D": "]", "%40": "@", "%21": "!", "%24": "$", "%26": "&", "%27": "'", "%28": "(", "%29": ")", "%2A": "*", "%2B": "+", "%2C": ",", "%3B": ";", "%3D": "=" } } } }; u.encodeQuery = function (n, t) { var i = u.encode(n + ""); return t === undefined && (t = u.escapeQuerySpace), t ? i.replace(/%20/g, "+") : i }; u.decodeQuery = function (n, t) { n += ""; t === undefined && (t = u.escapeQuerySpace); try { return u.decode(t ? n.replace(/\+/g, "%20") : n) } catch (i) { return n } }; u.recodePath = function (n) { for (var t = (n + "").split("/"), i = 0, r = t.length; i < r; i++) t[i] = u.encodePathSegment(u.decode(t[i])); return t.join("/") }; u.decodePath = function (n) { for (var t = (n + "").split("/"), i = 0, r = t.length; i < r; i++) t[i] = u.decodePathSegment(t[i]); return t.join("/") }; v = { encode: "encode", decode: "decode" }; p = function (n, t) { return function (i) { try { return u[t](i + "").replace(u.characters[n][t].expression, function (i) { return u.characters[n][t].map[i] }) } catch (r) { return i } } }; for (y in v) u[y + "PathSegment"] = p("pathname", v[y]); u.encodeReserved = p("reserved", "encode"); u.parse = function (n, t) { var i; return t || (t = {}), i = n.indexOf("#"), i > -1 && (t.fragment = n.substring(i + 1) || null, n = n.substring(0, i)), i = n.indexOf("?"), i > -1 && (t.query = n.substring(i + 1) || null, n = n.substring(0, i)), n.substring(0, 2) === "//" ? (t.protocol = null, n = n.substring(2), n = u.parseAuthority(n, t)) : (i = n.indexOf(":"), i > -1 && (t.protocol = n.substring(0, i) || null, t.protocol && !t.protocol.match(u.protocol_expression) ? t.protocol = undefined : n.substring(i + 1, i + 3) === "//" ? (n = n.substring(i + 3), n = u.parseAuthority(n, t)) : (n = n.substring(i + 1), t.urn = !0))), t.path = n, t }; u.parseHost = function (n, t) { var i = n.indexOf("/"), r, u; return i === -1 && (i = n.length), n.charAt(0) === "[" ? (r = n.indexOf("]"), t.hostname = n.substring(1, r) || null, t.port = n.substring(r + 2, i) || null, t.port === "/" && (t.port = null)) : n.indexOf(":") !== n.lastIndexOf(":") ? (t.hostname = n.substring(0, i) || null, t.port = null) : (u = n.substring(0, i).split(":"), t.hostname = u[0] || null, t.port = u[1] || null), t.hostname && n.substring(i).charAt(0) !== "/" && (i++, n = "/" + n), n.substring(i) || "/" }; u.parseAuthority = function (n, t) { return n = u.parseUserinfo(n, t), u.parseHost(n, t) }; u.parseUserinfo = function (n, t) { var r = n.indexOf("/"), f = n.lastIndexOf("@", r > -1 ? r : n.length - 1), i; return f > -1 && (r === -1 || f < r) ? (i = n.substring(0, f).split(":"), t.username = i[0] ? u.decode(i[0]) : null, i.shift(), t.password = i[0] ? u.decode(i.join(":")) : null, n = n.substring(f + 1)) : (t.username = null, t.password = null), n }; u.parseQuery = function (n, t) { var e; if (!n) return {}; if (n = n.replace(/&+/g, "&").replace(/^\?*&*|&+$/g, ""), !n) return {}; var i = {}, h = n.split("&"), c = h.length, f, r, s; for (e = 0; e < c; e++) f = h[e].split("="), r = u.decodeQuery(f.shift(), t), s = f.length ? u.decodeQuery(f.join("="), t) : null, o.call(i, r) ? (typeof i[r] == "string" && (i[r] = [i[r]]), i[r].push(s)) : i[r] = s; return i }; u.build = function (n) { var t = ""; return n.protocol && (t += n.protocol + ":"), !n.urn && (t || n.hostname) && (t += "//"), t += u.buildAuthority(n) || "", typeof n.path == "string" && (n.path.charAt(0) !== "/" && typeof n.hostname == "string" && (t += "/"), t += n.path), typeof n.query == "string" && n.query && (t += "?" + n.query), typeof n.fragment == "string" && n.fragment && (t += "#" + n.fragment), t }; u.buildHost = function (n) { var t = ""; if (n.hostname) t += u.ip6_expression.test(n.hostname) ? "[" + n.hostname + "]" : n.hostname; else return ""; return n.port && (t += ":" + n.port), t }; u.buildAuthority = function (n) { return u.buildUserinfo(n) + u.buildHost(n) }; u.buildUserinfo = function (n) { var t = ""; return n.username && (t += u.encode(n.username), n.password && (t += ":" + u.encode(n.password)), t += "@"), t }; u.buildQuery = function (n, t, i) { var s = "", h, r, f, c; for (r in n) if (o.call(n, r) && r) if (e(n[r])) for (h = {}, f = 0, c = n[r].length; f < c; f++) n[r][f] !== undefined && h[n[r][f] + ""] === undefined && (s += "&" + u.buildQueryParameter(r, n[r][f], i), t !== !0 && (h[n[r][f] + ""] = !0)); else n[r] !== undefined && (s += "&" + u.buildQueryParameter(r, n[r], i)); return s.substring(1) }; u.buildQueryParameter = function (n, t, i) { return u.encodeQuery(n, i) + (t !== null ? "=" + u.encodeQuery(t, i) : "") }; u.addQuery = function (n, t, i) { if (typeof t == "object") for (var r in t) o.call(t, r) && u.addQuery(n, r, t[r]); else if (typeof t == "string") { if (n[t] === undefined) { n[t] = i; return } typeof n[t] == "string" && (n[t] = [n[t]]); e(i) || (i = [i]); n[t] = (n[t] || []).concat(i) } else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter"); }; u.removeQuery = function (n, t, i) { var r, s, f; if (e(t)) for (r = 0, s = t.length; r < s; r++) n[t[r]] = undefined; else if (typeof t == "object") for (f in t) o.call(t, f) && u.removeQuery(n, f, t[f]); else if (typeof t == "string") i !== undefined ? n[t] === i ? n[t] = undefined : e(n[t]) && (n[t] = g(n[t], i)) : n[t] = undefined; else throw new TypeError("URI.addQuery() accepts an object, string as the first parameter"); }; u.hasQuery = function (n, t, i, r) { var f, s, h; if (typeof t == "object") { for (f in t) if (o.call(t, f) && !u.hasQuery(n, f, t[f])) return !1; return !0 } if (typeof t != "string") throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter"); switch (l(i)) { case "Undefined": return t in n; case "Boolean": return s = Boolean(e(n[t]) ? n[t].length : n[t]), i === s; case "Function": return !!i(n[t], t, n); case "Array": return e(n[t]) ? (h = r ? c : w, h(n[t], i)) : !1; case "RegExp": return e(n[t]) ? r ? c(n[t], i) : !1 : Boolean(n[t] && n[t].match(i)); case "Number": i = String(i); case "String": return e(n[t]) ? r ? c(n[t], i) : !1 : n[t] === i; default: throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter"); } }; u.commonPath = function (n, t) { for (var r = Math.min(n.length, t.length), i = 0; i < r; i++) if (n.charAt(i) !== t.charAt(i)) { i--; break } return i < 1 ? n.charAt(0) === t.charAt(0) && n.charAt(0) === "/" ? "/" : "" : ((n.charAt(i) !== "/" || t.charAt(i) !== "/") && (i = n.substring(0, i).lastIndexOf("/")), n.substring(0, i + 1)) }; u.withinString = function (n, t, i) { var s, r, h, f, o, c; i || (i = {}); var e = i.start || u.findUri.start, l = i.end || u.findUri.end, a = i.trim || u.findUri.trim; for (e.lastIndex = 0; ;) { if (s = e.exec(n), !s) break; (r = s.index, i.ignoreHtml && (h = n.slice(Math.max(r - 3, 0), r), h && /[a-z0-9-]=["']?$/i.test(h))) || (f = r + n.slice(r).search(l), o = n.slice(r, f).replace(a, ""), i.ignore && i.ignore.test(o)) || (f = r + o.length, c = t(o, r, f, n), n = n.slice(0, r) + c + n.slice(f), e.lastIndex = r + c.length) } return e.lastIndex = 0, n }; u.ensureValidHostname = function (t) { if (t.match(u.invalid_hostname_characters)) { if (!n) throw new TypeError('Hostname "' + t + '" contains characters other than [A-Z0-9.-] and Punycode.js is not available'); if (n.toASCII(t).match(u.invalid_hostname_characters)) throw new TypeError('Hostname "' + t + '" contains characters other than [A-Z0-9.-]'); } }; u.noConflict = function (n) { if (n) { var t = { URI: this.noConflict() }; return r.URITemplate && typeof r.URITemplate.noConflict == "function" && (t.URITemplate = r.URITemplate.noConflict()), r.IPv6 && typeof r.IPv6.noConflict == "function" && (t.IPv6 = r.IPv6.noConflict()), r.SecondLevelDomains && typeof r.SecondLevelDomains.noConflict == "function" && (t.SecondLevelDomains = r.SecondLevelDomains.noConflict()), t } return r.URI === this && (r.URI = d), this }; f.build = function (n) { return n === !0 ? this._deferred_build = !0 : (n === undefined || this._deferred_build) && (this._string = u.build(this._parts), this._deferred_build = !1), this }; f.clone = function () { return new u(this) }; f.valueOf = f.toString = function () { return this.build(!1)._string }; f.protocol = h("protocol"); f.username = h("username"); f.password = h("password"); f.hostname = h("hostname"); f.port = h("port"); f.query = b("query", "?"); f.fragment = b("fragment", "#"); f.search = function (n, t) { var i = this.query(n, t); return typeof i == "string" && i.length ? "?" + i : i }; f.hash = function (n, t) { var i = this.fragment(n, t); return typeof i == "string" && i.length ? "#" + i : i }; f.pathname = function (n, t) { if (n === undefined || n === !0) { var i = this._parts.path || (this._parts.hostname ? "/" : ""); return n ? u.decodePath(i) : i } return this._parts.path = n ? u.recodePath(n) : "/", this.build(!t), this }; f.path = f.pathname; f.href = function (n, t) { var i, r, f, s, e; if (n === undefined) return this.toString(); if (this._string = "", this._parts = u._parts(), r = n instanceof u, f = typeof n == "object" && (n.hostname || n.path || n.pathname), n.nodeName && (s = u.getDomAttribute(n), n = n[s] || "", f = !1), !r && f && n.pathname !== undefined && (n = n.toString()), typeof n == "string" || n instanceof String) this._parts = u.parse(String(n), this._parts); else if (r || f) { e = r ? n._parts : n; for (i in e) o.call(this._parts, i) && (this._parts[i] = e[i]) } else throw new TypeError("invalid input"); return this.build(!t), this }; f.is = function (n) { var r = !1, f = !1, e = !1, t = !1, s = !1, h = !1, c = !1, o = !this._parts.urn; this._parts.hostname && (o = !1, f = u.ip4_expression.test(this._parts.hostname), e = u.ip6_expression.test(this._parts.hostname), r = f || e, t = !r, s = t && i && i.has(this._parts.hostname), h = t && u.idn_expression.test(this._parts.hostname), c = t && u.punycode_expression.test(this._parts.hostname)); switch (n.toLowerCase()) { case "relative": return o; case "absolute": return !o; case "domain": case "name": return t; case "sld": return s; case "ip": return r; case "ip4": case "ipv4": case "inet4": return f; case "ip6": case "ipv6": case "inet6": return e; case "idn": return h; case "url": return !this._parts.urn; case "urn": return !!this._parts.urn; case "punycode": return c } return null }; var tt = f.protocol, it = f.port, rt = f.hostname; return f.protocol = function (n, t) { if (n !== undefined && n && (n = n.replace(/:(\/\/)?$/, ""), !n.match(u.protocol_expression))) throw new TypeError('Protocol "' + n + "\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]"); return tt.call(this, n, t) }, f.scheme = f.protocol, f.port = function (n, t) { if (this._parts.urn) return n === undefined ? "" : this; if (n !== undefined && (n === 0 && (n = null), n && (n += "", n.charAt(0) === ":" && (n = n.substring(1)), n.match(/[^0-9]/)))) throw new TypeError('Port "' + n + '" contains characters other than [0-9]'); return it.call(this, n, t) }, f.hostname = function (n, t) { if (this._parts.urn) return n === undefined ? "" : this; if (n !== undefined) { var i = {}; u.parseHost(n, i); n = i.hostname } return rt.call(this, n, t) }, f.host = function (n, t) { return this._parts.urn ? n === undefined ? "" : this : n === undefined ? this._parts.hostname ? u.buildHost(this._parts) : "" : (u.parseHost(n, this._parts), this.build(!t), this) }, f.authority = function (n, t) { return this._parts.urn ? n === undefined ? "" : this : n === undefined ? this._parts.hostname ? u.buildAuthority(this._parts) : "" : (u.parseAuthority(n, this._parts), this.build(!t), this) }, f.userinfo = function (n, t) { if (this._parts.urn) return n === undefined ? "" : this; if (n === undefined) { if (!this._parts.username) return ""; var i = u.buildUserinfo(this._parts); return i.substring(0, i.length - 1) } return n[n.length - 1] !== "@" && (n += "@"), u.parseUserinfo(n, this._parts), this.build(!t), this }, f.resource = function (n, t) { var i; return n === undefined ? this.path() + this.search() + this.hash() : (i = u.parse(n), this._parts.path = i.path, this._parts.query = i.query, this._parts.fragment = i.fragment, this.build(!t), this) }, f.subdomain = function (n, t) { var i; if (this._parts.urn) return n === undefined ? "" : this; if (n === undefined) return !this._parts.hostname || this.is("IP") ? "" : (i = this._parts.hostname.length - this.domain().length - 1, this._parts.hostname.substring(0, i) || ""); var r = this._parts.hostname.length - this.domain().length, f = this._parts.hostname.substring(0, r), e = new RegExp("^" + s(f)); return n && n.charAt(n.length - 1) !== "." && (n += "."), n && u.ensureValidHostname(n), this._parts.hostname = this._parts.hostname.replace(e, n), this.build(!t), this }, f.domain = function (n, t) { var r, i, f; if (this._parts.urn) return n === undefined ? "" : this; if (typeof n == "boolean" && (t = n, n = undefined), n === undefined) return !this._parts.hostname || this.is("IP") ? "" : (r = this._parts.hostname.match(/\./g), r && r.length < 2) ? this._parts.hostname : (i = this._parts.hostname.length - this.tld(t).length - 1, i = this._parts.hostname.lastIndexOf(".", i - 1) + 1, this._parts.hostname.substring(i) || ""); if (!n) throw new TypeError("cannot set domain empty"); return u.ensureValidHostname(n), !this._parts.hostname || this.is("IP") ? this._parts.hostname = n : (f = new RegExp(s(this.domain()) + "$"), this._parts.hostname = this._parts.hostname.replace(f, n)), this.build(!t), this }, f.tld = function (n, t) { var f, r, u; if (this._parts.urn) return n === undefined ? "" : this; if (typeof n == "boolean" && (t = n, n = undefined), n === undefined) return !this._parts.hostname || this.is("IP") ? "" : (f = this._parts.hostname.lastIndexOf("."), r = this._parts.hostname.substring(f + 1), t !== !0 && i && i.list[r.toLowerCase()]) ? i.get(this._parts.hostname) || r : r; if (n) if (n.match(/[^a-zA-Z0-9-]/)) if (i && i.is(n)) u = new RegExp(s(this.tld()) + "$"), this._parts.hostname = this._parts.hostname.replace(u, n); else throw new TypeError('TLD "' + n + '" contains characters other than [A-Z0-9]'); else if (!this._parts.hostname || this.is("IP")) throw new ReferenceError("cannot set TLD on non-domain host"); else u = new RegExp(s(this.tld()) + "$"), this._parts.hostname = this._parts.hostname.replace(u, n); else throw new TypeError("cannot set TLD empty"); return this.build(!t), this }, f.directory = function (n, t) { var r, i; if (this._parts.urn) return n === undefined ? "" : this; if (n === undefined || n === !0) return !this._parts.path && !this._parts.hostname ? "" : this._parts.path === "/" ? "/" : (r = this._parts.path.length - this.filename().length - 1, i = this._parts.path.substring(0, r) || (this._parts.hostname ? "/" : ""), n ? u.decodePath(i) : i); var f = this._parts.path.length - this.filename().length, e = this._parts.path.substring(0, f), o = new RegExp("^" + s(e)); return this.is("relative") || (n || (n = "/"), n.charAt(0) !== "/" && (n = "/" + n)), n && n.charAt(n.length - 1) !== "/" && (n += "/"), n = u.recodePath(n), this._parts.path = this._parts.path.replace(o, n), this.build(!t), this }, f.filename = function (n, t) { var f, i, r, e; return this._parts.urn ? n === undefined ? "" : this : n === undefined || n === !0 ? !this._parts.path || this._parts.path === "/" ? "" : (f = this._parts.path.lastIndexOf("/"), i = this._parts.path.substring(f + 1), n ? u.decodePathSegment(i) : i) : (r = !1, n.charAt(0) === "/" && (n = n.substring(1)), n.match(/\.?\//) && (r = !0), e = new RegExp(s(this.filename()) + "$"), n = u.recodePath(n), this._parts.path = this._parts.path.replace(e, n), r ? this.normalizePath(t) : this.build(!t), this) }, f.suffix = function (n, t) { var r, f, e, o, i, h; if (this._parts.urn) return n === undefined ? "" : this; if (n === undefined || n === !0) return !this._parts.path || this._parts.path === "/" ? "" : (r = this.filename(), f = r.lastIndexOf("."), f === -1) ? "" : (e = r.substring(f + 1), o = /^[a-z0-9%]+$/i.test(e) ? e : "", n ? u.decodePathSegment(o) : o); if (n.charAt(0) === "." && (n = n.substring(1)), i = this.suffix(), i) h = n ? new RegExp(s(i) + "$") : new RegExp(s("." + i) + "$"); else { if (!n) return this; this._parts.path += "." + u.recodePath(n) } return h && (n = u.recodePath(n), this._parts.path = this._parts.path.replace(h, n)), this.build(!t), this }, f.segment = function (n, t, i) { var f = this._parts.urn ? ":" : "/", o = this.path(), s = o.substring(0, 1) === "/", r = o.split(f), u, h; if (n !== undefined && typeof n != "number" && (i = t, t = n, n = undefined), n !== undefined && typeof n != "number") throw new Error('Bad segment "' + n + '", must be 0-based integer'); if (s && r.shift(), n < 0 && (n = Math.max(r.length + n, 0)), t === undefined) return n === undefined ? r : r[n]; if (n === null || r[n] === undefined) if (e(t)) for (r = [], u = 0, h = t.length; u < h; u++) (t[u].length || r.length && r[r.length - 1].length) && (r.length && !r[r.length - 1].length && r.pop(), r.push(t[u])); else (t || typeof t == "string") && (r[r.length - 1] === "" ? r[r.length - 1] = t : r.push(t)); else t ? r[n] = t : r.splice(n, 1); return s && r.unshift(""), this.path(r.join(f), i) }, f.segmentCoded = function (n, t, i) { var f, r, o; if (typeof n != "number" && (i = t, t = n, n = undefined), t === undefined) { if (f = this.segment(n, t, i), e(f)) for (r = 0, o = f.length; r < o; r++) f[r] = u.decode(f[r]); else f = f !== undefined ? u.decode(f) : undefined; return f } if (e(t)) for (r = 0, o = t.length; r < o; r++) t[r] = u.decode(t[r]); else t = typeof t == "string" || t instanceof String ? u.encode(t) : t; return this.segment(n, t, i) }, k = f.query, f.query = function (n, t) { if (n === !0) return u.parseQuery(this._parts.query, this._parts.escapeQuerySpace); if (typeof n == "function") { var i = u.parseQuery(this._parts.query, this._parts.escapeQuerySpace), r = n.call(this, i); return this._parts.query = u.buildQuery(r || i, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), this.build(!t), this } return n !== undefined && typeof n != "string" ? (this._parts.query = u.buildQuery(n, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), this.build(!t), this) : k.call(this, n, t) }, f.setQuery = function (n, t, i) { var f = u.parseQuery(this._parts.query, this._parts.escapeQuerySpace), r; if (typeof n == "string" || n instanceof String) f[n] = t !== undefined ? t : null; else if (typeof n == "object") for (r in n) o.call(n, r) && (f[r] = n[r]); else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter"); return this._parts.query = u.buildQuery(f, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), typeof n != "string" && (i = t), this.build(!i), this }, f.addQuery = function (n, t, i) { var r = u.parseQuery(this._parts.query, this._parts.escapeQuerySpace); return u.addQuery(r, n, t === undefined ? null : t), this._parts.query = u.buildQuery(r, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), typeof n != "string" && (i = t), this.build(!i), this }, f.removeQuery = function (n, t, i) { var r = u.parseQuery(this._parts.query, this._parts.escapeQuerySpace); return u.removeQuery(r, n, t), this._parts.query = u.buildQuery(r, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), typeof n != "string" && (i = t), this.build(!i), this }, f.hasQuery = function (n, t, i) { var r = u.parseQuery(this._parts.query, this._parts.escapeQuerySpace); return u.hasQuery(r, n, t, i) }, f.setSearch = f.setQuery, f.addSearch = f.addQuery, f.removeSearch = f.removeQuery, f.hasSearch = f.hasQuery, f.normalize = function () { return this._parts.urn ? this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build() : this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build() }, f.normalizeProtocol = function (n) { return typeof this._parts.protocol == "string" && (this._parts.protocol = this._parts.protocol.toLowerCase(), this.build(!n)), this }, f.normalizeHostname = function (i) { return this._parts.hostname && (this.is("IDN") && n ? this._parts.hostname = n.toASCII(this._parts.hostname) : this.is("IPv6") && t && (this._parts.hostname = t.best(this._parts.hostname)), this._parts.hostname = this._parts.hostname.toLowerCase(), this.build(!i)), this }, f.normalizePort = function (n) { return typeof this._parts.protocol == "string" && this._parts.port === u.defaultPorts[this._parts.protocol] && (this._parts.port = null, this.build(!n)), this }, f.normalizePath = function (n) { if (this._parts.urn || !this._parts.path || this._parts.path === "/") return this; var e, t = this._parts.path, r = "", i, f; for (t.charAt(0) !== "/" && (e = !0, t = "/" + t), t = t.replace(/(\/(\.\/)+)|(\/\.$)/g, "/").replace(/\/{2,}/g, "/"), e && (r = t.substring(1).match(/^(\.\.\/)+/) || "", r && (r = r[0])) ; ;) { if (i = t.indexOf("/.."), i === -1) break; else if (i === 0) { t = t.substring(3); continue } f = t.substring(0, i).lastIndexOf("/"); f === -1 && (f = i); t = t.substring(0, f) + t.substring(i + 3) } return e && this.is("relative") && (t = r + t.substring(1)), t = u.recodePath(t), this._parts.path = t, this.build(!n), this }, f.normalizePathname = f.normalizePath, f.normalizeQuery = function (n) { return typeof this._parts.query == "string" && (this._parts.query.length ? this.query(u.parseQuery(this._parts.query, this._parts.escapeQuerySpace)) : this._parts.query = null, this.build(!n)), this }, f.normalizeFragment = function (n) { return this._parts.fragment || (this._parts.fragment = null, this.build(!n)), this }, f.normalizeSearch = f.normalizeQuery, f.normalizeHash = f.normalizeFragment, f.iso8859 = function () { var n = u.encode, t = u.decode; return u.encode = escape, u.decode = decodeURIComponent, this.normalize(), u.encode = n, u.decode = t, this }, f.unicode = function () { var n = u.encode, t = u.decode; return u.encode = a, u.decode = unescape, this.normalize(), u.encode = n, u.decode = t, this }, f.readable = function () { var t = this.clone(), i, r, f; if (t.username("").password("").normalize(), i = "", t._parts.protocol && (i += t._parts.protocol + "://"), t._parts.hostname && (t.is("punycode") && n ? (i += n.toUnicode(t._parts.hostname), t._parts.port && (i += ":" + t._parts.port)) : i += t.host()), t._parts.hostname && t._parts.path && t._parts.path.charAt(0) !== "/" && (i += "/"), i += t.path(!0), t._parts.query) { r = ""; for (var e = 0, o = t._parts.query.split("&"), s = o.length; e < s; e++) f = (o[e] || "").split("="), r += "&" + u.decodeQuery(f[0], this._parts.escapeQuerySpace).replace(/&/g, "%26"), f[1] !== undefined && (r += "=" + u.decodeQuery(f[1], this._parts.escapeQuerySpace).replace(/&/g, "%26")); i += "?" + r.substring(1) } return i + u.decodeQuery(t.hash(), !0) }, f.absoluteTo = function (n) { var t = this.clone(), e = ["protocol", "username", "password", "hostname", "port"], i, r, f; if (this._parts.urn) throw new Error("URNs do not have any generally defined hierarchical components"); if (n instanceof u || (n = new u(n)), t._parts.protocol || (t._parts.protocol = n._parts.protocol), this._parts.hostname) return t; for (r = 0; f = e[r]; r++) t._parts[f] = n._parts[f]; return t._parts.path ? t._parts.path.substring(-2) === ".." && (t._parts.path += "/") : (t._parts.path = n._parts.path, t._parts.query || (t._parts.query = n._parts.query)), t.path().charAt(0) !== "/" && (i = n.directory(), t._parts.path = (i ? i + "/" : "") + t._parts.path, t.normalizePath()), t.build(), t }, f.relativeTo = function (n) { var i = this.clone().normalize(), t, r, f, e, o, s; if (i._parts.urn) throw new Error("URNs do not have any generally defined hierarchical components"); if (n = new u(n).normalize(), t = i._parts, r = n._parts, e = i.path(), o = n.path(), e.charAt(0) !== "/") throw new Error("URI is already relative"); if (o.charAt(0) !== "/") throw new Error("Cannot calculate a URI relative to another relative URI"); if ((t.protocol === r.protocol && (t.protocol = null), t.username !== r.username || t.password !== r.password) || t.protocol !== null || t.username !== null || t.password !== null) return i.build(); if (t.hostname === r.hostname && t.port === r.port) t.hostname = null, t.port = null; else return i.build(); return e === o ? (t.path = "", i.build()) : (f = u.commonPath(i.path(), n.path()), !f) ? i.build() : (s = r.path.substring(f.length).replace(/[^\/]*$/, "").replace(/.*?\//g, "../"), t.path = s + t.path.substring(f.length), i.build()) }, f.equals = function (n) { var r = this.clone(), f = new u(n), i = {}, s = {}, l = {}, h, c, t; if (r.normalize(), f.normalize(), r.toString() === f.toString()) return !0; if ((h = r.query(), c = f.query(), r.query(""), f.query(""), r.toString() !== f.toString()) || h.length !== c.length) return !1; i = u.parseQuery(h, this._parts.escapeQuerySpace); s = u.parseQuery(c, this._parts.escapeQuerySpace); for (t in i) if (o.call(i, t)) { if (e(i[t])) { if (!w(i[t], s[t])) return !1 } else if (i[t] !== s[t]) return !1; l[t] = !0 } for (t in s) if (o.call(s, t) && !l[t]) return !1; return !0 }, f.duplicateQueryParameters = function (n) { return this._parts.duplicateQueryParameters = !!n, this }, f.escapeQuerySpace = function (n) { return this._parts.escapeQuerySpace = !!n, this }, u });

// Copyright (C) Microsoft Corporation. All rights reserved.
define("Presentation/Scripts/TFS/marked-tfs-extensions",["require","exports","VSS/VSS","Presentation/Scripts/marked","Presentation/Scripts/URI","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation"],function(n,t,i,r,u,f){function o(n){var t=e.getWindow(),i=new u(n),r=i.hostname()?i.hostname():t.location.hostname;return r!==t.location.hostname}Object.defineProperty(t,"__esModule",{value:!0}),function(){var t=r.Renderer.prototype.link,n;r.Renderer.prototype.link=function(n,i,r){var h=t.call(this,n,i,r),u=$(h),c="",e,s,l;return u.length===1&&u.is("a")?(e=u.attr("href"),u.attr("data-original-href",e),this.options.transformLink&&(e=this.options.transformLink(e),u.attr("href",e)),o(e)&&(u.attr("target","_blank"),this.options.hideExternalImageIcon||(s=$("<span class='bowtie-icon bowtie-navigate-external'><\/span>"),l=f.MarkdownExternalLinkTooltip,s.attr("title",l),c=s[0].outerHTML)),u[0].outerHTML+c):h};n=r.Renderer.prototype.image;r.Renderer.prototype.image=function(t,i,r){var e=n.call(this,t,i,r),u=$(e),f;return u.length===1&&u.is("img")?(this.options.transformImage&&(f=u.attr("src"),f=this.options.transformImage(f),u.attr("src",f)),u[0].outerHTML):e}}();var e;(function(n){function t(){return window}n.getWindow=t})(e=t.Helper||(t.Helper={}));i.tfsModuleLoaded("marked-tfs-extensions",t)});

define("Presentation/Scripts/TFS/TFS.ContentRendering",["require","exports","ContentRendering/Markdown","VSS/Common/Constants/Platform","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/FeatureAvailability/Services","VSS/Service","VSS/Utils/Html","VSS/Utils/String","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/MarkdownSyntaxExtensionProvider","Presentation/Scripts/TFS/TFS.MarkdownExtension.Common","Presentation/Scripts/marked","Presentation/Scripts/TFS/Components/MarkdownRendererAsync","Presentation/Scripts/TFS/marked-tfs-extensions"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p,w,b,k,d;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.ShowRawText=1]="ShowRawText";n[n.ShowRenderedContent=2]="ShowRenderedContent"}(p=t.ContentRenderingDefaultBehavior||(t.ContentRenderingDefaultBehavior={})),function(n){function s(n,i,r){$.isArray(i)&&$.each(i,function(i,r){t[r.toLowerCase()]=n});$.isArray(r)&&$.each(r,function(t,i){u[i.toLowerCase()]=n})}function h(n){return r().then(function(){return t[n.toLowerCase()]})}function c(n){if(!e)throw new Error("getRendererForExtensionSync can only be called after ensureContributedRenderersLoaded resolves.");return t[n.toLowerCase()]}function l(n){return r().then(function(){return u[n.toLowerCase()]})}function r(){return i||(i=o.getService(f.ExtensionService).getContributionsForTarget("ms.vss-code-web.content-renderer-collection").then(function(n){for(var i,t=0,r=n;t<r.length;t++)i=r[t],s(new b(i),i.properties.fileExtensions,i.properties.mimeTypes);e=!0})),i}var t={},u={},i,e=!1;n.registerRenderer=s;n.getRendererForExtension=h;n.getRendererForExtensionSync=c;n.getRendererForMimeType=l;n.ensureContributedRenderersLoaded=r}(w=t.ContentRendererFactory||(t.ContentRendererFactory={}));b=function(){function n(n){this._contribution=n;this._setDefaultBehavior()}return n.prototype._setDefaultBehavior=function(){this.defaultBehavior=h.equals("ShowRenderedContent",this._contribution.properties.defaultBehavior,!0)?p.ShowRenderedContent:p.ShowRawText},n.prototype.renderContent=function(n,t,i){u.createContributedControl(t,this._contribution,i,null,this._contribution.properties.registeredObjectId||this._contribution.id).then(function(r){t.find(".external-content-host").css("height","100%");r.renderContent(n,i)})},n}();t.ContributedRenderer=b;k=function(){function n(){this.defaultBehavior=p.ShowRawText}return n.prototype.renderContent=function(n,t){t.addClass("hide-overflow");var i=$("<iframe />").css("height","100%").css("width","100%").css("border","none");i.one("load",function(){var r=i.contents().find("html"),t=s.HtmlNormalizer.normalizeStripAttributes(n,null,null,null,null,!1,["DATA"]);t&&r.html(t)});i.appendTo(t)},n}();t.HtmlContentRenderer=k;d=function(){function n(){this.defaultBehavior=p.ShowRenderedContent}return n.prototype.renderContent=function(n,t,u,f){var p=this,o,h,w,b,k,s;if(t.find(".rendered-markdown").remove(),o=$("<div />").addClass("rendered-markdown").appendTo(t),e.FeatureAvailabilityService.isFeatureEnabled(r.WebPlatformFeatureFlags.MarkdownRendering)){if(u&&u.async){w=this.extensionContributionPromise?function(){p._markdownSyntaxExtensionProvider.createContributionsHosts()}:null;b=this.extensionContributionPromise?[this._markdownSyntaxExtensionProvider]:null;f&&!this.extensionContributionPromise&&e.FeatureAvailabilityService.isFeatureEnabled(c.FeatureAvailabilityFlags.WebAccessMarkdownTrustedExtensionSupport,!1)&&(this._markdownSyntaxExtensionProvider=new l.MarkdownSyntaxExtensionProvider({getViewMode:function(){return a.ViewMode.Full}},".vc-preview-content-container .rendered-markdown"),this.extensionContributionPromise=this._markdownSyntaxExtensionProvider.fetchMarkdownSyntaxContributors(),this.extensionContributionPromise.then(function(i){i.length&&p.renderContent(n,t,u,f)}));y.renderInto(o.get()[0],{rawContent:n,customSyntaxProcessor:u.customSyntaxProcessor,options:{hideExternalImageIcon:u.hideExternalImageIcon,html:u.html,imageUrlTransformer:u.imageTransformer?function(n){return u.imageTransformer.transformImage(n)}:null,linkTransformer:u.linkTransformer?function(n){return u.linkTransformer.transformLink(n)}:null,enableYaml:u.enableYaml,containerOptions:b},linkClickHandler:u.linkClickHandler,injectExtensionMarkup:w});return}k=new i.MarkdownRenderer({hideExternalImageIcon:u?u.hideExternalImageIcon:null,linkTransformer:u&&u.linkTransformer?function(n){return u.linkTransformer.transformLink(n)}:null,imageUrlTransformer:u&&u.imageTransformer?function(n){return u.imageTransformer.transformImage(n)}:null});h=k.renderHtml(n)}else v.setOptions({gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!0,smartLists:!0,smartypants:!1}),s={},u&&(u.linkTransformer&&(s.transformLink=function(n){return u.linkTransformer.transformLink(n)}),u.imageTransformer&&(s.transformImage=function(n){return u.imageTransformer.transformImage(n)}),u.hideExternalImageIcon&&(s.hideExternalImageIcon=u.hideExternalImageIcon)),h=v(n,s);$(h).appendTo(o);u&&u.linkClickHandler&&o.find("a").click(u.linkClickHandler);o.find("a").attr("rel","noopener")},n}();t.MarkdownContentRenderer=d;w.registerRenderer(new k,["html","htm"],["text/html"]);w.registerRenderer(new d,["md"],["text/x-markdown"])});

define("VersionControl/Scenarios/Explorer/Bridges/KnownItemsUtils",["require","exports","VersionControl/Scripts/VersionControlPath"],function(n,t,i){function u(n,t){var e=n,u,f;do{if(u=e,f=r(u,t),f)return f.isFolder?undefined:f.serverItem;e=i.getFolderName(u)}while(e!==u)}function f(n,t){for(var u=i.getFolderName(n),e=r(u,t),f;!e;){if(f=i.getFolderName(u),f===u)return!1;u=f;e=r(f,t)}return e.childItems&&!r(n,t)}function r(n,t){var i=t.knownItems,r=t.lowerCaseKnownItems;return i[n]||r[n.toLowerCase()]}function e(n,t){while(o(n,t)){var r=i.getFolderName(n);if(r===n)return n;n=r}return n}function o(n,t){var i=t.creatingItemPaths;return i&&i.indexOf(n)>=0}Object.defineProperty(t,"__esModule",{value:!0});t.checkPathContainsFileUsedAsFolder=u;t.isKnownNonexistent=f;t.getKnownItem=r;t.getDeepestExistingFolder=e});

define("VSS/Flux/Store",["require","exports","VSS/Events/Handlers"],function(n,t,i){var r,u,f;Object.defineProperty(t,"__esModule",{value:!0});r=function(){function n(){this._changedHandlers=new i.EventHandlerList;this._namedEventCollection=new i.NamedEventCollection}return n.prototype.addChangedListener=function(n){this._changedHandlers.subscribe(n)},n.prototype.removeChangedListener=function(n){this._changedHandlers.unsubscribe(n)},n.prototype.emitChanged=function(){this._changedHandlers.invokeHandlers(this)},n.prototype.emit=function(n,t,i){this._namedEventCollection.invokeHandlers(n,t,i)},n.prototype.addListener=function(n,t){this._namedEventCollection.subscribe(n,t)},n.prototype.removeListener=function(n,t){this._namedEventCollection.unsubscribe(n,t)},n}();t.Store=r;u=function(n){function t(){var t=n.call(this)||this,i=t.getAction();return i!==null&&i.addListener(t.onChange,t),t}return __extends(t,n),t.prototype.getAction=function(){return null},t.prototype.onChange=function(n){this._value=n;this.emitChanged()},t.prototype.getValue=function(){return this._value},t}(r);t.DefaultStore=u;f=function(n){function t(){var t=n.call(this)||this;return t._loading=!0,t._error=null,t}return __extends(t,n),t.prototype.isLoading=function(){return this._loading},t.prototype.hasError=function(){return this._error!==null},t.prototype.getError=function(){return this._error},t.prototype.onError=function(n){this._error=n;this.emitChanged()},t}(r);t.RemoteStore=f});

define("VersionControl/Scenarios/Explorer/Stores/VersionStore",["require","exports","VSS/Flux/Store","VersionControl/Scripts/TFS.VersionControl.VersionSpecs"],function(n,t,i,r){function u(n){var t=n.filter(function(n){return n&&n.commitId})[0];return t&&new r.GitCommitVersionSpec(t.commitId.full)}Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={isBranchSelectorOpened:!1},t.changeRepository=function(n){t.state.isGit=n.isGit;t.state.userLastVisitedVersionSpec=n.userLastVisitedVersionSpec;t.state.defaultGitBranchName=n.defaultGitBranchName;t.state.allowEditing=n.allowEditing;t.emitChanged()},t.selectVersion=function(n){t.state.versionSpec&&t.state.versionSpec.toVersionString()===n.toVersionString()||(t.setVersionSpec(n),t.emitChanged())},t.selectRealVersion=function(n){if(n.allRetrievedItems&&n.allRetrievedItems.length){var i=t.state.isGit?u(n.allRetrievedItems):undefined;i&&(!t.state.realVersionSpec||t.state.realVersionSpec.toVersionString()!==i.toVersionString())&&(t.state.realVersionSpec=i,t.emitChanged())}},t.commit=function(n){t.state.realVersionSpec=n.newRealVersionSpec;n.newBranchVersionSpec&&t.setVersionSpec(n.newBranchVersionSpec);t.emitChanged()},t.toggleBranchSelector=function(n){t.state.isBranchSelectorOpened!==n&&(t.state.isBranchSelectorOpened=n,t.emitChanged())},t}return __extends(t,n),t.prototype.setVersionSpec=function(n){this.state.versionSpec=n;var t=n&&n.branchName;this.state.isDefaultBranch=t===this.state.defaultGitBranchName},t}(i.Store);t.VersionStore=f;t.getLatestGitVersionSpec=u});

var __assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};define("VersionControl/Scenarios/Explorer/Bridges/EditingBridge",["require","exports","q","VSS/Diag","VSS/Utils/Array","VSS/Utils/File","VSS/Utils/String","Presentation/Scripts/TFS/TFS.ContentRendering","TFS/VersionControl/Contracts","VersionControl/Scenarios/Explorer/Bridges/KnownItemsUtils","VersionControl/Scenarios/Explorer/Stores/VersionStore","VersionControl/Scripts/Controls/ControlsCommon","VersionControl/Scripts/DeferredJobQueue","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/TFS.VersionControl.VersionSpecs","VersionControl/Scripts/VersionControlPath"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){function w(n){return n&&new y.GitBranchVersionSpec(n)}function g(n){return n.branchName}function b(n,t){return n.length>=t.length?!1:(n=f.ensureTrailingSeparator(n),n===t.substring(0,n.length))}function nt(n,t,i){var r=p.getFolderName(n);if(i)while(r!=="/"&&!tt(t[r]))r=p.getFolderName(r);return r}function tt(n){return n&&n.childItems&&n.childItems.length>1}function it(n,t){var i=t.match(d);return i?n.filter(function(n){return i.indexOf("#"+n)<0}):n}function rt(n){return function(t){return n(),t}}function ut(n,t){var i=p.getFileExtension(n);return{serverItem:n,version:t,isFolder:!1,contentMetadata:{extension:i}}}function ft(n){return{serverItem:n,isFolder:!0,childItems:[]}}function et(n,t){return u.first(n,function(n){return n&&e.ignoreCaseComparer(n.serverItem,t)===0})}var k,d;Object.defineProperty(t,"__esModule",{value:!0});k=function(){function n(n,t,i,r,u,f,e){var o=this;this.actionsHub=n;this.repositorySource=t;this.committingSource=i;this.pageSource=r;this.getItemAndFetchExtraData=u;this.getItem=f;this.getAggregateState=e;this.addNewFile=function(n,t,i,r){r===void 0&&(r=[]);a.queueModulePreload("VersionControl/Scenarios/Shared/Committing/CommitDialog");n=o.normalizeCasingToExistingParent(n,r);var u=ut(n,t);o.actionsHub.newFileAdded.invoke(__assign({newFileItem:u,allRetrievedItems:r,newFolders:o.createNewFolderItems(n,r)},o.getFilePreviewAvailability(n,u)));o.fetchInitialContent(u,i)}}return n.prototype.promptAddNewFile=function(n,t,i){i===void 0&&(i=!1);this.discardIfEditingFile(t);this.actionsHub.newFileAsked.invoke(__assign({},this.getChildrenOfFolder(n),{folderPath:n,uiSource:t,isCreatingFolder:i}))},n.prototype.normalizeCasingToExistingParent=function(n,t){var i=this.getDeepestExistingParentItem(n,t);return i.serverItem+n.substring(i.serverItem.length)},n.prototype.createNewFolderItems=function(n,t){for(var r,u=[],i=0,f=p.getParentPaths(n);i<f.length;i++){if(r=f[i],this.getKnownOrRetrievedItem(r,t))break;u.push(ft(r))}return u},n.prototype.getDeepestExistingParentItem=function(n,t){for(var f,u,i=0,r=p.getParentPaths(n);i<r.length;i++)if(f=r[i],u=this.getKnownOrRetrievedItem(f,t),u)return u},n.prototype.getKnownOrRetrievedItem=function(n,t){return this.getKnownItem(n)||et(t,n)},n.prototype.fetchInitialContent=function(n,t){var i=this;this.repositorySource.getInitialContent(n,t).then(function(n){return i.actionsHub.initialContentRetrieved.invoke(n)})},n.prototype.promptAddNewFolder=function(n,t){var i=!0;this.getAggregateState().isGit?this.promptAddNewFile(n,t,i):(this.discardIfEditingFile(t),this.actionsHub.commitPrompted.invoke(__assign({},this.getChildrenOfFolder(n),{path:n,changeType:s.VersionControlChangeType.Add,isCreatingFolder:i,uiSource:t})))},n.prototype.changeAddNewTargetFolder=function(n){var t=this.getAggregateState(),r=t.addNewFilePromptState.folderPath,u=t.knownItemsState,i=p.combinePaths(r,n);this.actionsHub.newFileTargetFolderChanged.invoke(__assign({},this.getChildrenOfFolder(i),{newSubfolder:n,fileUsedAsFolder:h.checkPathContainsFileUsedAsFolder(i,u)}))},n.prototype.editFile=function(n,t){var r=this;this.discardIfEditingFile(t);a.queueModulePreload("VersionControl/Scenarios/Shared/Committing/CommitDialog");var u=this.getKnownItem(n),f=u&&(u.contentMetadata||u.isFolder),o=f?i.resolve([u]):this.repositorySource.getItems([{path:n,version:this.getAggregateState().version}],!0);o.then(function(i){var u=i[0],o=!u.isFolder&&!u.contentMetadata.isBinary,s,f;o?(s=n!==r.getAggregateState().path,r.actionsHub.editFileStarted.invoke(__assign({fileItem:u,uiSource:t},r.getFilePreviewAvailability(n,u)))):(f=e.format(v.EditFileNotEditable,n),r.actionsHub.itemRetrievalFailed.invoke({resumableError:new Error(f),allRetrievedItems:i}))})},n.prototype.getFilePreviewAvailability=function(n,t){if(!t||!t.isFolder){var r=p.getFileExtension(n),i=this.repositorySource.getRendererForExtensionSync(r);return{isPreviewAvailable:Boolean(i),isPreviewDefault:i&&i.defaultBehavior===o.ContentRenderingDefaultBehavior.ShowRenderedContent}}},n.prototype.promptSaveEditingFile=function(n){var t=this.getAggregateState(),i=t.pathState,o=i.isDirty,u=i.path,f=t.fileContentState.isNewFile,e=t.knownItemsState.creatingItemPaths;r.Debug.assert(o||f,"If content has not changed, this method must not be available.");this.actionsHub.commitPrompted.invoke({path:u,newSubfolder:e?p.calculateNewSubfolderPath(u,e):"",changeType:f?s.VersionControlChangeType.Add:s.VersionControlChangeType.Edit,uiSource:n});this.fetchExistingBranches()},n.prototype.saveEditingFile=function(n){var r=this,t=this.getAggregateState(),u=t.path,o=t.versionSpec,i=t.itemContentState.item,f=t.fileContentState,e=f.isNewFile,h=f.editingContent,c=t.repositoryContext;this.commit(u,n,function(t){return r.committingSource.commitEditingFile(i,o,t,e,h,n.comment,i.contentMetadata&&i.contentMetadata.encoding,c,w(n.newBranchName))},function(n){return r.actionsHub.commitSaved.invoke(__assign({path:u,changeType:e?s.VersionControlChangeType.Add:s.VersionControlChangeType.Edit,isFolder:!1,navigatePath:undefined},n))})},n.prototype.addNewFolder=function(n,t){var r=this,f=this.getKnownItem(n),i=p.combinePaths(n,t.newItemName),u=this.getAggregateState(),e=u.versionSpec,o=u.repositoryContext;this.commit(i,t,function(n){return r.committingSource.commitEmptyFolder(f,i,e,n,t.comment,o,w(t.newBranchName))},function(n){return r.actionsHub.commitSaved.invoke(__assign({path:i,changeType:s.VersionControlChangeType.Add,isFolder:!0,navigatePath:i},n))})},n.prototype.promptUploadFiles=function(n,t,i){this.actionsHub.commitPrompted.invoke({path:n,changeType:s.VersionControlChangeType.Add,isUploading:!0,initialDrop:t,existingFileList:this.getChildrenOfFolder(n).childItems,uiSource:i});this.fetchExistingBranches()},n.prototype.uploadFiles=function(n,t,i){var r=this,u=this.getAggregateState(),f=u.versionSpec,e=u.repositoryContext;this.commit(n,t,function(u){return r.committingSource.commitUploadFiles(n,f,u,t.comment,t.filesToBeUploaded,i,e,w(t.newBranchName))},function(i){return r.actionsHub.filesUploaded.invoke(__assign({newPaths:t.filesToBeUploaded.map(function(t){return p.combinePaths(n,t.name)})},i))})},n.prototype.discardEditingFile=function(n,t,i,r){var u=this.getAggregateState(),e=u.tab,o=u.path,a=u.versionSpec,s=u.knownItemsState,v=u.repositoryContext;t=h.getDeepestExistingFolder(t||o,s);var c=i&&y.VersionSpec.parse(i),p=c||a,f=this.getItemAndFetchExtraData(e,t,p,{createIfNew:r&&r.createIfNew});this.actionsHub.editingFileDiscarded.invoke(__assign({path:o,coercedTab:e===l.VersionControlActionIds.HighlightChanges?l.VersionControlActionIds.Contents:undefined,creatingItemPaths:s.creatingItemPaths,navigatePath:t,navigateVersionSpec:c,navigateVersionAllowEditing:i&&this.committingSource.allowEditingVersion(i,v),navigateItemInfo:{item:f.item,readMeItem:f.readMeItem,areFolderLatestChangesRequested:f.areFolderLatestChangesRequested},uiSource:n},this.getFilePreviewAvailability(t,f.item)))},n.prototype.promptRenameItem=function(n,t){this.discardIfEditingFile(t);this.actionsHub.commitPrompted.invoke(__assign({},this.getChildrenOfFolder(p.getFolderName(n)),{path:n,changeType:s.VersionControlChangeType.Rename,uiSource:t}));this.fetchExistingBranches()},n.prototype.renameItem=function(n,t){var u=this,r=this.getAggregateState(),f=r.path,o=r.versionState.versionSpec,h=r.repositoryContext,e=this.getKnownItem(n),i=p.combinePaths(p.getFolderName(n),t.newItemName),c=n===f||b(n,f),l=c?i:undefined;this.commit(i,t,function(n){return u.committingSource.commitRenameItem(e,i,o,n,t.comment,h,w(t.newBranchName))},function(t){return u.actionsHub.commitSaved.invoke(__assign({path:n,changeType:s.VersionControlChangeType.Rename,newPath:i,isFolder:e.isFolder,navigatePath:l},t))})},n.prototype.promptDeleteItem=function(n,t){this.discardIfEditingFile(t);this.actionsHub.commitPrompted.invoke({path:n,changeType:s.VersionControlChangeType.Delete,uiSource:t});this.fetchExistingBranches()},n.prototype.deleteItem=function(n,t){var u=this,i=this.getAggregateState(),f=i.path,o=i.versionState.versionSpec,h=i.repositoryContext,e=this.getKnownItem(n),r=this.getPathToNavigateAfterDelete(n),c=r?l.VersionControlActionIds.Contents:undefined,a=r||b(f,n)&&f;this.commit(a,t,function(n){return u.committingSource.commitDeleteItem(e,o,n,t.comment,h,w(t.newBranchName))},function(t){return u.actionsHub.commitSaved.invoke(__assign({path:n,changeType:s.VersionControlChangeType.Delete,isFolder:e.isFolder,navigatePath:r,coercedTab:c},t))})},n.prototype.discardIfEditingFile=function(n){(this.getAggregateState().pathState.isDirty||this.getAggregateState().fileContentState.isNewFile)&&this.discardEditingFile(n)},n.prototype.getPathToNavigateAfterDelete=function(n){var i=this.getAggregateState(),t=i.path,u=i.isGit,f=i.knownItemsState.knownItems,e=n===t||b(n,t),o=b(t,n),r=nt(n,f,u);return e?r:o&&b(r,t)?r:void 0},n.prototype.fetchExistingBranches=function(){var n=this;this.getAggregateState().commitPromptState.existingBranches||this.repositorySource.getExistingBranches().then(function(t){return n.actionsHub.existingBranchesLoaded.invoke(t)})},n.prototype.commit=function(n,t,r,u){var f=this,o,e;this.actionsHub.commitStarted.invoke(undefined);e=i(this.getAggregateState().versionState.realVersionSpec).then(r).then(null,function(n){return f.handleConflict(n,r)}).then(function(n){return t.newBranchName&&f.repositorySource.invalidateBranchesCache(),o={comment:t.comment,isCommentDefault:t.isCommentDefault,newRealVersionSpec:n},n}).then(function(n){return f.linkWorkItemsAndFindPullRequest(n,t)});e=t.hasToCreatePullRequest?e.then(function(n){var i=g(f.getAggregateState().versionSpec);u(n);f.pageSource.navigateToCreatePullRequest(t.newBranchName,i)}):e.then(rt(function(){return n&&f.fetchFreshItem(n,w(t.newBranchName))})).then(u);e.catch(function(n){o?u(__assign({},o,{postCommitError:n})):n.serverError&&n.serverError.isGatedCheckin?f.actionsHub.commitGatedCheckin.invoke(n.serverError):f.actionsHub.commitFailed.invoke(n)})},n.prototype.handleConflict=function(n,t){var o=this,r=this.getAggregateState(),s=r.isGit,h=r.path,l=r.fileContentState.isNewFile,u,f;return s&&e.startsWith(n.message,"TF401028:")?(u="/",f=l?u:h,this.fetchItem(f).then(function(t){return o.checkThisItemChangedByOthers(t)?i.reject(n):t}).then(c.getLatestGitVersionSpec).then(t)):i.reject(n)},n.prototype.fetchItem=function(n){return this.repositorySource.getItems([{path:n,version:this.getAggregateState().version}],!1)},n.prototype.checkThisItemChangedByOthers=function(n){var t,i,r;return this.getAggregateState().fileContentState.isNewFile?!1:(t=!n[0],t)?!0:(i=n[0],r=this.getAggregateState().itemContentState.item,r.objectId.full!==i.objectId.full)},n.prototype.linkWorkItemsAndFindPullRequest=function(n,t){var s=this,f=t.comment,h=t.isCommentDefault,e=t.linkedWorkItemIds,c=t.newBranchName,u=this.getAggregateState(),l=u.repositoryContext,a=u.versionSpec,v=u.isGit,r=w(c),y=r&&this.committingSource.allowEditingVersion(r.toVersionString(),this.getAggregateState().repositoryContext),o=it(e,f);return i.all([v&&!r&&this.repositorySource.getPullRequest(a),o.length>0&&this.committingSource.linkWorkItems(o,n,r,l),]).then(function(t){var i=t[0];return{existingPullRequest:i,hasLinkedWorkitems:e.length>0,newRealVersionSpec:n,comment:f,isCommentDefault:h,userName:s.repositorySource.getCurrentUserName(),newBranchVersionSpec:r,newBranchVersionAllowEditing:y}})},n.prototype.fetchFreshItem=function(n,t){var i=this.getAggregateState(),r=i.tab,u=i.versionSpec;this.getItemAndFetchExtraData(r,n,t||u,{forceFetch:!0})},n.prototype.getChildrenOfFolder=function(n){var i=this.getAggregateState(),r=i.knownItemsState,u=i.versionSpec,t=this.getItem(n,u).item;return{childItems:t&&t.childItems||[],isLoadingChildItems:!t&&!h.isKnownNonexistent(n,r)}},n.prototype.getKnownItem=function(n){return h.getKnownItem(n,this.getAggregateState().knownItemsState)},n}();t.EditingBridge=k;d=/#[\d]+/g});

define("VersionControl/Scripts/TFS.VersionControl.FileDefaultContentProvider.Scenario",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){}return n.MissingFile="MissingFile",n}();t.Scenario=i});

define("VersionControl/Scenarios/Explorer/Bridges/ItemRetrievalBridge",["require","exports","VSS/Utils/String","VersionControl/Scenarios/Explorer/Bridges/KnownItemsUtils","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/TFS.VersionControl.FileDefaultContentProvider.Scenario","VersionControl/Scripts/TFS.VersionControl.VersionSpecs","VersionControl/Scripts/VersionControlPath"],function(n,t,i,r,u,f,e,o){function s(n,t){return n.filter(function(n){return n&&i.ignoreCaseComparer(n.serverItem,t)===0})[0]}function h(n,t){return n&&!!(n.isFolder?n.childItems:n.contentMetadata||!t)}function c(n){return n instanceof e.GitBranchVersionSpec?i.format(u.BranchVersionDisplayText,n.branchName):n.toDisplayText()}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function n(n,t,i){var r=this;this.invokers=n;this.repositorySource=t;this.getAggregateState=i;this.getItem=function(n,t,i){var e,u,f;return i===void 0&&(i={}),e=t.toVersionString(),u=r.getMissingItemDescriptors(n,e,i.needsContentMetadata,i.forceFetch),u.length&&r.repositorySource.getItems(u,i.needsContentMetadata).then(function(u){return r.handleFetchItems(n,t,u,i)},function(t){return r.invokers.itemRetrieved(n,undefined,[],t)}),f=r.getKnownItem(n),{item:f,isKnownNonexistent:!f&&u.length===0}}}return n.prototype.setAddNewFileFunction=function(n){this.addNewFile=n},n.prototype.expandTreeItem=function(n){var t=this.getAggregateState(),i=t.isGit,r=t.rootPath;n=o.normalizePath(n,i,r);this.isPathReadyForDisplay(n,!1)?this.invokers.treeItemExpanded({folderPath:n}):(this.invokers.treeItemExpanding(n),this.fetchAndExpandFolder(n))},n.prototype.fetchAndExpandFolder=function(n){var t=this,r=this.getAggregateState().version,i=this.getMissingItemDescriptors(n,r);i.length&&this.repositorySource.getItems(i,!1).then(function(i){return t.invokers.treeItemExpanded({folderPath:n,allRetrievedItems:i})},function(i){return t.invokers.itemRetrieved(n,undefined,[],i)})},n.prototype.handleFetchItems=function(n,t,r,e){var p=e.createIfNew,w=e.hasChangedPath,l=e.hasChangedVersion,a=this.getAggregateState(),v=t.toVersionString();if(a.version===v){var o=a.path,h=s(r,o)||this.getKnownItem(o),y,b=l&&!w;!h&&n===o&&b&&(h=r.filter(function(n){return n})[0],h&&(y=new Error(i.format(u.ExplorerPathNotFoundInVersion,o,c(t))),o=h.serverItem));!h&&p?this.addNewFile(o,v,f.Scenario.MissingFile,r):(l&&this.repositorySource.changeUserDefaultVersion(t),this.invokers.itemRetrieved(n,h,r,y))}},n.prototype.getMissingItemDescriptors=function(n,t,i,u){var h=this,e,c,f,s,l;return i===void 0&&(i=!1),u===void 0&&(u=!1),e=[n].concat(o.getParentPaths(n)),c=this.getAggregateState().version!==t,u||c?f=e:(f=e.filter(function(t){return!h.isPathReadyForDisplay(t,n===t&&i)}),s=f[f.length-1],s&&r.isKnownNonexistent(s,this.getAggregateState().knownItemsState)&&(f=[])),l="$/",f.filter(function(t){return t!==l||h.repositorySource.isCollectionLevel()||t===n}).map(function(n){return{path:n,version:t}})},n.prototype.isPathReadyForDisplay=function(n,t){return h(this.getKnownItem(n),t)},n.prototype.getKnownItem=function(n){return r.getKnownItem(n,this.getAggregateState().knownItemsState)},n}();t.ItemRetrievalBridge=l;t.findItem=s;t.isItemReadyForDisplay=h;t.getVersionFriendlyName=c});

define("VersionControl/Scenarios/Explorer/Bridges/LatestChangesRetrievalBridge",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(n,t,i){this.actionsHub=n;this.repositorySource=t;this.getAggregateState=i}return n.prototype.fetchFolderLatestChanges=function(n){var t=this,r=n.path,u=n.version,i=u===void 0?this.getAggregateState().version:u,f=n.allowPartial,e=f===void 0?!0:f;this.getAggregateState().isGit?this.repositorySource.getGitLastChangeForChildItems(r,i,e).then(function(n){t.actionsHub.folderLatestChangesRetrieved.invoke({gitLastChanges:n.items,gitCommits:n.commits,lastExploredTime:n.lastExploredTime,changeUrls:t.repositorySource.calculateGitChangeUrls(n.items.map(function(n){return n.commitId}),i)});n.items.length>0&&n.commits.length===0&&t.fetchMissingCommitDetails(n.items)}):this.repositorySource.getChangeListsForChildItems(r,i).then(function(n){return t.actionsHub.folderLatestChangesRetrieved.invoke({changeLists:n,changeUrls:t.repositorySource.calculateTfvcChangeUrls(n)})})},n.prototype.fetchMissingCommitDetails=function(n){for(var i,f=this,t=[],r=0,u=n;r<u.length;r++)i=u[r],!this.getAggregateState().folderContentState.knownCommits[i.commitId]&&t.indexOf(i.commitId)<0&&t.push(i.commitId);t.length&&this.repositorySource.getCommitDetails(t).then(function(n){return f.actionsHub.commitDetailsRetrieved.invoke(n)})},n}();t.LatestChangesRetrievalBridge=i});

define("VersionControl/Scenarios/Explorer/Bridges/ItemExtraDataBridge",["require","exports","VSS/Utils/String","VersionControl/Scenarios/Explorer/Bridges/ItemRetrievalBridge","VersionControl/Scenarios/Explorer/Bridges/KnownItemsUtils","VersionControl/Scenarios/Explorer/Bridges/LatestChangesRetrievalBridge","VersionControl/Scripts/Controls/ControlsCommon","VersionControl/Scripts/VersionControlPath"],function(n,t,i,r,u,f,e,o){function c(n,t){return e.VersionControlActionIds.explorerSupports(n,t.isFolder)?n===e.VersionControlActionIds.Readme&&a(t)===!1?e.VersionControlActionIds.Contents:n===e.VersionControlActionIds.Annotate&&t.contentMetadata&&t.contentMetadata.isBinary?e.VersionControlActionIds.Contents:undefined:e.VersionControlActionIds.Contents}function a(n){return n.childItems?Boolean(l(n)):undefined}function l(n){return n.childItems&&n.childItems.filter(function(n){return i.ignoreCaseComparer(n.serverItem.slice(-s.length),s)===0})[0]}function v(n){return n&&n.isFolder&&(!n.childItems||n.childItems.length>0)}var h,s;Object.defineProperty(t,"__esModule",{value:!0});h=function(){function n(n,t,i,r,h){var l=this;this.actionsHub=n;this.repositorySource=t;this.getItem=i;this.getAggregateState=r;this.fetchHistoryIfNeeded=h;this.getItemAndFetchExtraData=function(n,t,i,r){var f;r===void 0&&(r={});f=!r.hasChangedVersion&&u.getKnownItem(t,l.getAggregateState().knownItemsState);f&&(n=c(n,f)||n);r.needsContentMetadata=n===e.VersionControlActionIds.Contents||n===e.VersionControlActionIds.Preview||n===e.VersionControlActionIds.HighlightChanges||n===e.VersionControlActionIds.Annotate||n===e.VersionControlActionIds.Readme;var h=f&&l.getReadMeItem(f),v=n!==e.VersionControlActionIds.Readme?t:h?h.serverItem:o.combinePaths(t,s),a=l.getItem(v,i,r).isKnownNonexistent,y=!a&&l.fetchExtraDataForItem(n,t,i,f,r);return __assign({item:f,readMeItem:h,tab:n,isKnownNonexistent:a},y)};this.fetchExtraDataForItem=function(n,t,i,r,u){if(u===void 0&&(u={}),n===e.VersionControlActionIds.Contents){var f=l.getAggregateState(),o=u.hasChangedPath||u.hasChangedVersion;if(v(r)&&(o||!f.folderContentState.areFolderLatestChangesRequested))return l.latestChangesRetrievalBridge.fetchFolderLatestChanges({path:r.serverItem}),{areFolderLatestChangesRequested:!0}}else(n===e.VersionControlActionIds.History||n===e.VersionControlActionIds.Compare)&&l.fetchHistoryIfNeeded(t,i,u.historySearchCriteria);return{areFolderLatestChangesRequested:l.getAggregateState().folderContentState.areFolderLatestChangesRequested}};this.latestChangesRetrievalBridge=new f.LatestChangesRetrievalBridge(n,t,r)}return n.prototype.retrieveAllLastChanges=function(n){this.actionsHub.remainderFolderLatestChangesRequested.invoke({triggerFullName:n});var t=this.getAggregateState(),i=t.path,r=t.version;this.latestChangesRetrievalBridge.fetchFolderLatestChanges({path:i,version:r,allowPartial:!1})},n.prototype.findReadMeItem=function(n,t){return r.findItem(t,o.combinePaths(n.serverItem,s))||this.getReadMeItem(n)},n.prototype.getReadMeItem=function(n){var t=l(n),i=this.getAggregateState().knownItemsState;return t&&u.getKnownItem(t.serverItem,i)||t},n}();t.ItemExtraDataBridge=h;t.coerceTabOnItem=c;s="README.md"});

define("VersionControl/Scenarios/Explorer/Bridges/SearchPathBridge",["require","exports","q"],function(n,t,i){function u(n){return n.replace(/^[\/\\]+/,"")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(n,t,i){this.actionsHub=n;this.searchSource=t;this.getAggregateState=i}return n.prototype.startPathEditing=function(){var t=this.getAggregateState().path,i=this.getAggregateState().version,n=t;return this.getAggregateState().isGit&&(n=u(t)),this.actionsHub.pathEditingStarted.invoke(n),this.searchInFolderPaths(n,i,this.getAggregateState().isFolder)},n.prototype.editPathText=function(n){this.actionsHub.pathEdited.invoke(n);var t=this.getAggregateState().version;return i.all([this.searchInFolderPaths(n,t),this.searchGlobalPaths(n,t),])},n.prototype.searchInFolderPaths=function(n,t,i){var r=this;return i===void 0&&(i=!1),this.searchSource?this.searchSource.getInFolderSearchResults(n,t,i).then(function(n){n.searchCancelled||r.actionsHub.inFolderPathSearchResultsLoaded.invoke(n.results)},function(n){return r.handlePathSearchError(n)}):void 0},n.prototype.searchGlobalPaths=function(n,t){var i=this;if(this.searchSource)return this.searchSource.getGlobalSearchResults(n,t).then(function(n){n.searchCancelled||i.actionsHub.globalPathSearchResultsLoaded.invoke(n.results)},function(n){return i.handlePathSearchError(n)})},n.prototype.handlePathSearchError=function(n){this.actionsHub.pathSearchFailed.invoke(n)},n}();t.SearchPathBridge=r});

define("VersionControl/Scenarios/Shared/Notifications/NotificationStore",["require","exports","VSS/Flux/Store","VSS/VSS"],function(n,t,i,r){function o(n){return{type:f.error,message:r.getErrorMessage(n),isDismissable:!0}}function s(n){return{type:f.warning,message:r.getErrorMessage(n),isDismissable:!0}}function h(n){return n.filter(function(n){return n.type!==f.error&&n.type!==f.warning})}function c(n,t){return n.filter(function(n){return n.type!==t})}function l(n,t){return n.filter(function(n){return n.specialType!==t})}var f,u,e;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.success=0]="success";n[n.info=1]="info";n[n.warning=2]="warning";n[n.error=3]="error"}(f=t.NotificationType||(t.NotificationType={})),function(n){n[n.adding=0]="adding";n[n.replacingWarningsAndErrors=1]="replacingWarningsAndErrors";n[n.replacingItsType=2]="replacingItsType";n[n.replacingItsSpecialType=3]="replacingItsSpecialType"}(u=t.AddMode||(t.AddMode={}));e=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={notifications:[],nextKey:1},t.addError=function(n){t.add(o(n))},t.addSoloError=function(n){t.add(o(n),u.replacingWarningsAndErrors)},t.addWarning=function(n){t.add(s(n))},t.addSoloWarning=function(n){t.add(s(n),u.replacingWarningsAndErrors)},t.addSoloSpecialType=function(n){t.add(n,u.replacingItsSpecialType)},t.add=function(n,i){i===void 0&&(i=u.adding);n.key=t.state.nextKey.toString();var r=i===u.replacingWarningsAndErrors?h(t.state.notifications):i===u.replacingItsType?c(t.state.notifications,n.type):i===u.replacingItsSpecialType?l(t.state.notifications,n.specialType):t.state.notifications;t.state.notifications=r.concat([n]);t.state.nextKey++;t.emitChanged()},t.dismiss=function(n){t.state.notifications=t.state.notifications.filter(function(t){return t!==n});t.emitChanged()},t.clearAll=function(){t.state.notifications=[];t.emitChanged()},t.clearErrors=function(){t.state.notifications=h(t.state.notifications);t.emitChanged()},t.clearType=function(n){t.state.notifications=c(t.state.notifications,n);t.emitChanged()},t}return __extends(t,n),t.prototype.clearSpecialType=function(n){this.state.notifications=this.state.notifications.filter(function(t){return t.specialType!==n});this.emitChanged()},t}(i.Store);t.NotificationStore=e});

define("VersionControl/Scenarios/Explorer/Stores/NotificationStore",["require","exports","VersionControl/Scenarios/Shared/Notifications/NotificationStore"],function(n,t,i){var r,u;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.createPullRequestSuggestion="createPullRequestSuggestion";n.commit="commit"}(r=t.NotificationSpecialType||(t.NotificationSpecialType={}));u=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.initializeRepository=function(n){var i=n.deletedUserDefaultBranchMessage,r=n.branchNameReplacingDeleted;t.state.deletedUserDefaultBranchMessage=i;t.state.branchNameReplacingDeleted=r},t.changeItem=function(n){var f=n.versionSpec,u;t.clearErrors();var i=t.state,r=i.deletedUserDefaultBranchMessage,e=i.branchNameReplacingDeleted;r&&(t.state.deletedUserDefaultBranchMessage=undefined,u=f.branchName,u===e&&t.addWarning(new Error(r)))},t.startEditing=function(){t.clearErrorsAndCommits();t.emitChanged()},t.notifyCommit=function(n){t.clearPullRequestNotifications();var u={path:n.newPath||n.path,comment:n.comment,newRealVersionSpec:n.newRealVersionSpec,newBranchVersionSpec:n.newBranchVersionSpec,existingPullRequest:n.existingPullRequest};t.add({type:i.NotificationType.info,specialType:r.commit,specialContent:u,isDismissable:!0},i.AddMode.replacingItsSpecialType);n.postCommitError&&t.addError(n.postCommitError)},t.uploadFiles=function(n){t.clearPullRequestNotifications();var u={path:n.newPaths[0],comment:n.comment,newRealVersionSpec:n.newRealVersionSpec,existingPullRequest:n.existingPullRequest};t.add({type:i.NotificationType.info,specialType:r.commit,specialContent:u,isDismissable:!0},i.AddMode.replacingItsSpecialType)},t}return __extends(t,n),t.prototype.clearPullRequestNotifications=function(){this.state.notifications=this.state.notifications.filter(function(n){return n.specialType!==r.createPullRequestSuggestion})},t.prototype.clearErrorsAndCommits=function(){this.state.notifications=this.state.notifications.filter(function(n){return n.type!==i.NotificationType.error&&n.specialType!==r.commit})},t}(i.NotificationStore);t.NotificationStore=u});

define("VSS/FeatureManagement/Contracts",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;(function(n){n[n.Undefined=-1]="Undefined";n[n.Disabled=0]="Disabled";n[n.Enabled=1]="Enabled"})(i=t.ContributedFeatureEnabledValue||(t.ContributedFeatureEnabledValue={}));t.TypeInfo={ContributedFeatureEnabledValue:{enumValues:{undefined:-1,disabled:0,enabled:1}},ContributedFeatureState:{},ContributedFeatureStateQuery:{}};t.TypeInfo.ContributedFeatureState.fields={state:{enumType:t.TypeInfo.ContributedFeatureEnabledValue}};t.TypeInfo.ContributedFeatureStateQuery.fields={featureStates:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ContributedFeatureState}}});

define("VersionControl/Scripts/DelayAnnounceHelper",["require","exports","VSS/Utils/Accessibility","VSS/Utils/Core"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(){}return n.prototype.startAnnounce=function(n,t){t===void 0&&(t=500);this._announceDelayDelegate||(this._announceDelayDelegate=r.delay(this,t,function(){i.announce(n,!1)}))},n.prototype.stopAndCancelAnnounce=function(n,t){t===void 0&&(t=!1);t||i.announce(n,!1);this._announceDelayDelegate&&(this._announceDelayDelegate.cancel(),this._announceDelayDelegate=null)},n}();t.DelayAnnounceHelper=u});

define("VersionControl/Scripts/Utils/XhrNavigationUtils",["require","exports","VSS/Navigation/HubsService","VSS/Service"],function(n,t,i,r){function f(n,t,i){return n.ctrlKey||n.metaKey||n.button===1?!1:u(n,t,i)}function u(n,t,u){if(!t)return window.location.href=u,!1;var e=r.getLocalService(i.HubsService).getHubNavigateHandler(t,u),f=e(n.nativeEvent);return f||(n.stopPropagation(),n.preventDefault()),f}Object.defineProperty(t,"__esModule",{value:!0});t.onClickNavigationHandler=f;t.onNavigationHandler=u});

define("VersionControl/Scenarios/History/GitHistory/GitGraph/GraphConstants",["require","exports"],function(n,t){var i,r,u;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.GraphRowLimit=1e3;n.EmptyLineLengthLimit=20;n.GraphColumnDefaultWidth=80}(i=t.GraphSettingsConstants||(t.GraphSettingsConstants={})),function(n){n.AuthorFiltered="AuthorFiltered";n.RowLimitReached="RowLimitReached";n.FeatureEnabled="FeatureEnabled";n.RenameHistory="RenameHistory"}(r=t.GraphMessageType||(t.GraphMessageType={})),function(n){n.AuthorFilteredMessageDismissed="AuthorFilteredMessageDismissed";n.RowLimitReachedMessageDismissed="RowLimitReachedMessageDismissed";n.FeatureEnabledMessageDismissed="FeatureEnabledMessageDismissed";n.RenameHistoryMessageDismissed="RenameHistoryMessageDismissed"}(u=t.GraphMessageDismissedKeys||(t.GraphMessageDismissedKeys={}))});

define("Presentation/Scripts/TFS/TFS.OM.Identities",["require","exports","VSS/Utils/String","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Artifacts/Services","VSS/Locations"],function(n,t,i,r,u,f){var c,e,o,s,h;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.All=0]="All";n[n.Users=1]="Users";n[n.Groups=2]="Groups"}(c=t.IdentityFilter||(t.IdentityFilter={})),function(n){n[n.None=0]="None";n[n.ShowGenericImage=1]="ShowGenericImage"}(e=t.IdentityImageMode||(t.IdentityImageMode={})),function(n){n[n.AccountName=0]="AccountName";n[n.DisplayName=1]="DisplayName";n[n.AdministratorsGroup=2]="AdministratorsGroup";n[n.Identifier=3]="Identifier";n[n.MailAddress=4]="MailAddress";n[n.General=5]="General";n[n.Alias=6]="Alias"}(o=t.IdentitySearchFactor||(t.IdentitySearchFactor={})),function(n){n[n.Small=0]="Small";n[n.Medium=1]="Medium";n[n.Large=2]="Large"}(s=t.IdentityImageSize||(t.IdentityImageSize={}));h=function(){function n(){}return n.preProcessIdentities=function(t,i){i===void 0&&(i=!1);$.each(t,function(t,i){i.isTfsGroup=n.isTfsGroup(i)})},n.getIdentityImageUrl=function(n,t,i){t===void 0&&(t=e.None);var u=r.TfsContext.getDefault();return n.isAadIdentity?u.getActionUrl("GetAadUserThumbnail","identity",{project:"",team:"",area:"api",userObjectId:n.id}):((i===undefined||i===null)&&(i=s.Medium),n.id)?u.getIdentityImageUrl(n.id,{size:i}):n.uniqueName?u.getIdentityImageUrl("",{identifier:n.uniqueName,resolveAmbiguous:!1,identifierType:o.AccountName,size:i}):n.isContainer?u.getIdentityImageUrl("",{identifier:n.displayName,resolveAmbiguous:!1,identifierType:o.General,size:i}):t===e.ShowGenericImage?u.configuration.getResourcesFile("notassigned-user.svg"):""},n.getIdentityImageUrlByIdentity=function(t){return t?n.getIdentityImageUrl(t,e.ShowGenericImage,s.Small):f.urlHelper.getVersionedContentUrl("notassigned-user.svg")},n.parseUniquefiedIdentityName=function(t){var a,v;if(!t)return null;var f=t.lastIndexOf(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START),o=t.lastIndexOf(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END),s=!1,y=!1,h=!1,e=t;f>=0&&o>f&&(h=!0,e=e.replace(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START).replace(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END));f=e.lastIndexOf(n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START);o=e.lastIndexOf(n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END);var c=e,l="",u="",p="",r="";return f>=0&&o>f&&(c=$.trim(e.substr(0,f)),h?(r=$.trim(e.substr(f+1,o-f-1)),r.indexOf(n.AAD_IDENTITY_USER_PREFIX)===0?r=r.substr(n.AAD_IDENTITY_USER_PREFIX.length):r.indexOf(n.AAD_IDENTITY_GROUP_PREFIX)===0&&(s=!0,r=r.substr(n.AAD_IDENTITY_GROUP_PREFIX.length)),a=r.lastIndexOf("\\"),a>0&&(u=$.trim(r.substr(a+1)),u.indexOf("@")!==-1?(l=u,r=$.trim(r.substr(0,a))):(c=t,r="",h=!1,s=!1))):(u=$.trim(e.substr(f+1,o-f-1)),v=n.getVsIdFromGroupUniqueName(u),p=n.getDescriptorFromUniqueName(u),u.indexOf("@")!==-1||u.indexOf("\\")!==-1||u.indexOf(n.DESCRIPTOR_PREFIX)!==-1||v||i.isGuid(u)?(l=u,v!=""&&(r=v,s=!0,y=!0,l="")):c=t)),{id:r,displayName:c,uniqueName:p||l,isAadIdentity:h,isContainer:s,isTfsGroup:y}},n.getUniquefiedIdentityName=function(t){if(t.isAadIdentity&&t.displayName&&t.id){var r=t.isContainer?n.AAD_IDENTITY_GROUP_PREFIX:n.AAD_IDENTITY_USER_PREFIX;return t.uniqueName&&!t.isContainer?i.format("{0} {1}{2}{3}\\{4}{5}",t.displayName,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,r,t.id,t.uniqueName,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):i.format("{0} {1}{2}{3}{4}",t.displayName,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,r,t.id,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END)}return!t.isAadIdentity&&t.displayName&&t.isContainer&&t.isTfsGroup?t.id?i.format("{0} {1}{2}{3}{4}",t.displayName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,n.TFS_GROUP_PREFIX,t.id.toUpperCase(),n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):t.displayName:!t.isAadIdentity&&t.displayName&&t.uniqueName?i.format("{0} {1}{2}{3}",t.displayName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,t.uniqueName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):t.displayName||""},n.getFriendlyDistinctDisplayName=function(t){return t.displayName&&t.uniqueName&&!t.isTfsGroup?n.getDistinctDisplayName(t.displayName,t.uniqueName):t.displayName||""},n.getDistinctDisplayName=function(t,r){return t&&r?i.format("{0} {1}{2}{3}",t,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,r,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):""},n.getFriendlyUniqueName=function(t){if(t.isContainer&&t.isTfsGroup&&t.displayName){var i=t.displayName.lastIndexOf(n.IDENTITY_UNIQUENAME_SEPARATOR);if(i!==-1)return t.displayName.substr(i+1)}return t.uniqueName},n.getVsIdFromGroupUniqueName=function(t){var r,u,f,e;return t?(u="",f=t.lastIndexOf(n.IDENTITY_UNIQUENAME_SEPARATOR),r=f===-1?t:t.substr(0,f),i.startsWith(r,n.TFS_GROUP_PREFIX)&&(e=$.trim(r.substr(3)),u=i.isGuid(e)?e:""),u):""},n.isTfsGroup=function(t){if(t.isContainer&&t.uniqueName)return n.getVsIdFromGroupUniqueName(t.uniqueName)!==i.empty||i.startsWith(t.uniqueName,u.LinkingUtilities.VSTFS,i.localeIgnoreCaseComparer)},n.union=function(t,i,r){r===void 0&&(r=!0);var u=t.slice(0),f={},e={},o={};return $.each(u,function(n,t){t.id&&(e[t.id.toLowerCase()]=t);t.uniqueName&&(o[t.uniqueName.toLowerCase()]=t);t.id||t.uniqueName||!t.displayName||(f[t.displayName.toLowerCase()]=t)}),$.each(i,function(n,t){t.id||t.uniqueName?e[(t.id||"").toLowerCase()]||o[(t.uniqueName||"").toLowerCase()]||u.push(t):f[t.displayName.toLowerCase()]||u.push(t)}),r&&n._sortListByName(u),u},n.subtract=function(t,i,r){r===void 0&&(r=!0);var u=t.slice(0);return $.each(i,function(t,i){for(var f=u.length,r=0;r<f;r++)n.areItemsEqual(i,u[r])&&(u.splice(r,1),f--)}),r&&n._sortListByName(u),u},n._sortListByName=function(n){n.sort(function(n,t){if(n.isTfsGroup&&!t.isTfsGroup)return 1;if(!n.isTfsGroup&&t.isTfsGroup)return-1;var r=$.trim(n.displayName.toLowerCase()),u=$.trim(t.displayName.toLowerCase());return i.localeIgnoreCaseComparer(r,u)})},n.areItemsEqual=function(n,t){var r,u;return n.id&&t.id?(r=$.trim(n.id.toLowerCase()),u=$.trim(t.id.toLowerCase())):n.uniqueName&&t.uniqueName?(r=$.trim(n.uniqueName.toLowerCase()),u=$.trim(t.uniqueName.toLowerCase())):(r=$.trim(n.displayName.toLowerCase()),u=$.trim(t.displayName.toLowerCase())),i.localeIgnoreCaseComparer(r,u)===0},n.getDescriptorFromUniqueName=function(t){return t?t.indexOf(n.DESCRIPTOR_PREFIX)!=0?"":t.replace(/desc:/i,""):""},n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START="<",n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END=">",n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START="<<",n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END=">>",n.TFS_GROUP_PREFIX="id:",n.AAD_IDENTITY_USER_PREFIX="user:",n.AAD_IDENTITY_GROUP_PREFIX="group:",n.IDENTITY_UNIQUENAME_SEPARATOR="\\",n.DESCRIPTOR_PREFIX="desc:",n}();t.IdentityHelper=h});

define("VersionControl/Scripts/Utils/SearchCriteriaUtil",["require","exports","Presentation/Scripts/TFS/TFS.OM.Identities","VSS/Utils/String"],function(n,t,i,r){function f(n,t){if(n==null||t==null||(n=n.trim(),n===r.empty))return!1;var e=u(n),i=e.displayName,f=e.alias;return f!==r.empty&&i!==r.empty?r.localeIgnoreCaseComparer(f,t.email)===0&&r.localeIgnoreCaseComparer(i,t.displayName)===0:i!==r.empty?r.localeIgnoreCaseComparer(i,t.displayName)===0||r.localeIgnoreCaseComparer(i,t.email)===0||r.localeIgnoreCaseComparer(i,t.email.substring(0,t.email.indexOf("@")))===0:f!==r.empty?r.localeIgnoreCaseComparer(i,t.email)===0:!1}function e(n){var t=(n.displayName?n.displayName:"")+(n.alias?" "+i.IdentityHelper.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START+n.alias+i.IdentityHelper.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END:"");return t?t:null}function o(n){var t={displayName:null,alias:null},i;return n?(n=n.trim(),n===r.empty)?t:(i=u(n),i.displayName!==r.empty&&(t.displayName=i.displayName),i.alias!==r.empty&&(t.alias=i.alias),t):t}function u(n){var t=n.indexOf(i.IdentityHelper.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START),r,u,f;return t=t===-1?n.length:t,r=n.lastIndexOf(i.IdentityHelper.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END),r=r===-1?n.length:r,u=n.substring(t+1,r).trim(),f=n.substring(0,t).trim(),{displayName:f,alias:u}}Object.defineProperty(t,"__esModule",{value:!0});t.compareUser=f;t.getAuthorfromTFSIdentity=e;t.getTFSIdentityfromAuthor=o});

define("VSS/Flux/Action",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i="DEFAULT_SCOPE",r=function(){function n(n){n===void 0&&(n=i);this._listeners=[];this._scope=n}return n.prototype.invoke=function(t){if(n.executingScopes[this._scope])throw new Error("Cannot invoke an action with scope "+this._scope+" from inside another action with the same scope");n.executingScopes[this._scope]=!0;try{this._listeners.forEach(function(n){n(t)})}finally{delete n.executingScopes[this._scope]}},n.prototype.addListener=function(n,t){var i=t?n.bind(t):n;return this._listeners.push(i),i},n.prototype.removeListener=function(n){var t=this._listeners.indexOf(n);t>=0&&this._listeners.splice(t,1)},n.executingScopes={},n}();t.Action=r});

define("VersionControl/Scenarios/History/GitHistory/Actions/HistoryTabActionsHub",["require","exports","VSS/Flux/Action"],function(n,t,i){var u,f,r;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.dateOrder=0]="dateOrder";n[n.topoOrder=1]="topoOrder"}(u=t.CommitOrder||(t.CommitOrder={})),function(n){n[n.simplified=0]="simplified";n[n.firstParent=1]="firstParent";n[n.fullHistory=2]="fullHistory";n[n.fullHistorySimplifyMerges=3]="fullHistorySimplifyMerges"}(f=t.GitLogHistoryMode||(t.GitLogHistoryMode={}));r=function(){function n(){this.historyItemsLoaded=new i.Action;this.historyArtifactsLoaded=new i.Action;this.historyFullCommentLoaded=new i.Action;this.historyItemsLoadStarted=new i.Action;this.historyItemsLoadErrorRaised=new i.Action;this.errorFlushed=new i.Action;this.historyItemsCleared=new i.Action;this.historyArtifactsLoadStarted=new i.Action;this.historyGraphRowSelected=new i.Action;this.historyGraphRowUnSelected=new i.Action;this.historyGraphMessageDismissed=new i.Action;this.toggleFilterPanelVisibility=new i.Action;this.permissionsUpdated=new i.Action;this.settingsPermissionsUpdated=new i.Action}return n}();t.HistoryTabActionsHub=r});

define("VersionControl/Scenarios/History/GitHistory/Actions/HistoryTabActionCreator",["require","exports","OfficeFabric/Utilities","VSS/Service","VSS/VSS","VSS/FeatureManagement/Contracts","VersionControl/Scripts/DelayAnnounceHelper","VersionControl/Scripts/CodeHubContributionIds","VersionControl/Scripts/CustomerIntelligenceConstants","VersionControl/Scripts/CustomerIntelligenceData","VersionControl/Scripts/Utils/XhrNavigationUtils","VersionControl/Scenarios/History/GitHistory/GitGraph/GraphConstants","VersionControl/Scripts/Utils/SearchCriteriaUtil","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/Generated/TFS.VersionControl.Legacy.Contracts","VersionControl/Scripts/TFS.VersionControl.VersionSpecs","VersionControl/Scripts/TFS.VersionControl","VersionControl/Scenarios/History/GitHistory/Actions/HistoryTabActionsHub","VersionControl/Scenarios/Shared/Permissions/SettingsPermissionsSource"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function n(n,t,i,l,a,y){l===void 0&&(l=function(){return!0});y===void 0&&(y=!1);var p=this;this.actionsHub=n;this.sourcesHub=t;this._getAggregatedState=i;this.shouldReportLoadError=l;this._settingsPermissionSource=a;this.skipInitialUpdatePermissions=y;this.flushErrorNotification=function(){p.actionsHub.errorFlushed.invoke(null)};this.clearHistoryList=function(){p.actionsHub.historyItemsCleared.invoke(null)};this.setGraphColumnDisplay=function(n,t,i,e,o){e===void 0&&(e=!1);o===void 0&&(o=!1);p.actionsHub.historyItemsLoadStarted&&p.actionsHub.historyItemsLoadStarted.invoke(null);u.requireModules(["VSS/FeatureManagement/Contracts","VSS/FeatureManagement/RestClient"]).spread(function(s,h){var c="ms.vss-code-web.version-control-git-graph";r.getClient(h.FeatureManagementHttpClient).setFeatureState({featureId:c,state:n?f.ContributedFeatureEnabledValue.Enabled:f.ContributedFeatureEnabledValue.Disabled,scope:{userScoped:!0,settingScope:null}},c,"me").then(function(){t.top=undefined;t.skip=undefined;p.fetchHistory(t,i,e,o)},function(n){u.handleError(n)})})};this.fetchHistory=function(n,t,i,r,u){i===void 0&&(i=!1);r===void 0&&(r=!1);p.actionsHub.historyItemsLoadStarted&&!i&&p.actionsHub.historyItemsLoadStarted.invoke(null);p._delayAnnounceHelper.startAnnounce(v.FetchingResultsText);var f=p._getDataProviderArguments(n,t,u);p.sourcesHub&&p.sourcesHub.historyCommitsSource&&p.sourcesHub.historyCommitsSource.getCommitsFromDataProvider(f).then(function(f){f&&!f.searchCancelled&&f.commits&&(p._delayAnnounceHelper.stopAndCancelAnnounce(v.ResultsFetchedText),p._invokeHistoryItemsLoadedAction(f,n,t,i,r,u),p._fetchArtifactsIfNecessary(f,n,t,r))},function(t){p._delayAnnounceHelper.stopAndCancelAnnounce(v.ResultsFetchedText,!0);p.shouldReportLoadError(n.itemPath)&&p.actionsHub.historyItemsLoadErrorRaised.invoke(t)})};this.loadHistoryItems=function(n,t){var i,r,u;p.sourcesHub&&p.sourcesHub.historyCommitsSource&&(i=p.sourcesHub.historyCommitsSource.getCommitsFromJsonIsland(),i&&i.commits?(r=p.sourcesHub.historyCommitsSource.getHistoryQueryResults(i),p._truncateToFirstRenameCommit(i,r,n,!1),u={gitHistoryQueryResult:r,searchCriteria:n,dataOptions:t,resultsObjectType:i.resultsObjectType,webClientGraphRows:i.graphRows,isGitGraphFeatureEnabled:i.isGitGraphFeatureEnabled,skipResultsForNextFetch:r.results.length,appendToExistingResults:!1},p.actionsHub.historyItemsLoaded.invoke(u),p.actionsHub.historyArtifactsLoadStarted.invoke(void 0),p._fetchArtifactsIfNecessary(i,n,t)):p.fetchHistory(n,t))};this.dismissGraphMessage=function(n){p.actionsHub.historyGraphMessageDismissed.invoke(n)};this.graphRowSelected=function(n,t){n.select(t);p.actionsHub.historyGraphRowSelected.invoke(n)};this.graphRowUnSelected=function(n){n.unSelect();p.actionsHub.historyGraphRowUnSelected.invoke(n)};this.onHistoryItemclick=function(n,t){var i={};n.type==="click"&&(i={Event:"Click",IsCtrl:n.ctrlKey});p._recordTelemetry(t,s.CHANGELINK_OPENED,!0,i);c.onClickNavigationHandler(n,o.CodeHubContributionIds.historyHub,n.currentTarget.href)};this._recordTelemetry=function(n,t,i,r){var u=new h.CustomerIntelligenceData;n&&(u.area=n.area?n.area:u.area,u.properties=$.extend({},r,n.properties));u.publish(t,!1,null,i)};this._delayAnnounceHelper=new e.DelayAnnounceHelper;this._settingsPermissionSource||(this._settingsPermissionSource=new k.SettingsPermissionsSource);this.initializeFilterPanelVisibility();y||this.updatePermissions()}return n.prototype.fetchRenameHistory=function(n,t,i,r,u){var f="P"+n.changeList.version,e=$.extend({},t,{itemPath:n.serverItem,itemVersion:f,skip:0});this.fetchHistory(e,i,r,u,!0)},n.prototype.fetchMoreItems=function(n,t,i,r,u,f,e){var o,s;n>0||t>0?(o=$.extend({},i,{top:i.top+u}),s=!1):(o=$.extend({},i,{top:u}),o.skip=f,e&&(o.itemVersion=new p.GitCommitVersionSpec(e).toVersionString()),s=!0);this.fetchHistory(o,r,s)},n.prototype.setHistoryCommitsSourcesHub=function(n){this.sourcesHub=n},n.prototype.updatePermissions=function(){var n=this;this.sourcesHub&&this.sourcesHub.permissionsSource&&this.sourcesHub.permissionsSource.queryDefaultGitRepositoryPermissionsAsync().then(function(t){return n._handlePermissionsUpdated(t)}).then(null,this._raiseError);this._settingsPermissionSource.querySettingsPermissionsAsync().then(function(t){n._handleSettingsPermissionsUpdated(t)},this._raiseError)},n.prototype._handlePermissionsUpdated=function(n){this.actionsHub.permissionsUpdated.invoke(n)},n.prototype._handleSettingsPermissionsUpdated=function(n){this.actionsHub.settingsPermissionsUpdated.invoke(n)},n.prototype._raiseError=function(n){this.actionsHub.historyItemsLoadErrorRaised.invoke(n)},n.prototype._fetchArtifactsIfNecessary=function(n,t,i,r){if(r===void 0&&(r=!1),this._shouldFetchArtifacts(i)&&n.commits.length>0){var u=n.commits.map(function(n){return n.commitId}),f=this._getDataProviderArgumentsForArtifacts(t,i,u);this._fetchArtifacts(f)}},n.prototype._fetchArtifacts=function(n){var t=this;this.sourcesHub.historyCommitsSource.getCommitsFromDataProvider(n).then(function(n){n&&n.commits&&t.actionsHub.historyArtifactsLoaded.invoke(t._buildCommitArtifactsMap(n))},function(n){return t.actionsHub.historyItemsLoadErrorRaised.invoke(n)})},n.prototype._invokeHistoryItemsLoadedAction=function(n,t,i,r,u,f){var e=this.sourcesHub.historyCommitsSource.getHistoryQueryResults(n),o,s;this._truncateToFirstRenameCommit(n,e,t,u);o=e.results.length;s={gitHistoryQueryResult:e,searchCriteria:t,dataOptions:i,resultsObjectType:n.resultsObjectType,skipResultsForNextFetch:u?o:o+(t&&t.skip?t.skip:0),appendToExistingResults:r,webClientGraphRows:n.graphRows,isGitGraphFeatureEnabled:n.isGitGraphFeatureEnabled,fetchRenameHistoryCalled:f};this.actionsHub.historyItemsLoaded.invoke(s)},n.prototype._removeInitialSourceRenameFromResults=function(n,t,i){n.results&&i&&n.results[0]&&n.results[0].itemChangeType&&w.ChangeType.isSourceRenameDelete(n.results[0].itemChangeType)&&(n.results.splice(0,1),this._scrubResultsForRename(n,t))},n.prototype._scrubResultsForRename=function(n,t){if(n.results[0]&&(n.results[0].serverItem&&(t.itemPath=n.results[0].serverItem),n.results[0].changeList)){var i=n.results[0].changeList;i&&i.commitId&&(n.startingCommitId=i.commitId.full)}},n.prototype._buildCommitArtifactsMap=function(n){var i=this,t={};return n.pullRequests!=null&&$.each(n.pullRequests,function(n,r){i._getInitializedGitCommitArtifactsEntry(t,n);t[n].pullRequest={id:r.pullRequestId.toString(),title:r.title,url:i.sourcesHub.historyCommitsSource.getPullRequestUrl(r.pullRequestId)}}),n.commits!=null&&$.each(n.commits,function(n,r){i._getInitializedGitCommitArtifactsEntry(t,r.commitId);t[r.commitId].statuses=i.sourcesHub.historyCommitsSource.convertArtifactUriToPublicUrl(r.statuses)}),n.tags!=null&&$.each(n.tags,function(n,r){i._getInitializedGitCommitArtifactsEntry(t,n);t[n].tags=r}),t},n.prototype._getInitializedGitCommitArtifactsEntry=function(n,t){n.hasOwnProperty(t)||(n[t]={})},n.prototype._truncateToFirstRenameCommit=function(n,t,i,r){var u=-1;this._removeInitialSourceRenameFromResults(t,i,r);$.each(t.results,function(n,t){var i=t.changeList;if(w.ChangeType.hasChangeFlag(t.itemChangeType,y.VersionControlChangeType.Rename))return u=n,!1});u>-1&&(t.results=t.results.splice(0,u+1))},n.prototype._getQueryCriteria=function(n){var i=$.extend({},n),t;return i.user=a.getAuthorfromTFSIdentity({alias:n.alias,displayName:n.user}),t=this.sourcesHub.historyCommitsSource.getQueryCriteria(i),this._changeCommitertoAuthor(t),t},n.prototype._getDataProviderArguments=function(n,t,i){var r,u,f,e;return n&&t?(r=this._getQueryCriteria(n),u=b.GitLogHistoryMode.simplified,n&&n.gitLogHistoryMode&&b.GitLogHistoryMode[n.gitLogHistoryMode]&&(u=b.GitLogHistoryMode[n.gitLogHistoryMode]),f=!!r.fromCommitId||!!r.toCommitId,e=!0,f&&(e=!1),{gitCommitLookupArguments:f?this._getGitCommitsLookupArguments(r):null,gitHistoryQueryArguments:e?this._getGitHistoryQueryArguments(r,u):null,gitArtifactsQueryArguments:null,gitGraphQueryArguments:this._getGitGraphQueryArguments(r,t,i)}):null},n.prototype._getDataProviderArgumentsForArtifacts=function(n,t,i){if(i===void 0&&(i=[]),n&&t){var r=this._getQueryCriteria(n);return{gitCommitLookupArguments:null,gitHistoryQueryArguments:null,gitArtifactsQueryArguments:this._getGitArtifactsQueryArguments(r,t,i),gitGraphQueryArguments:null}}return null},n.prototype._getGitGraphQueryArguments=function(n,t,i){var u=n.$skip||0,r=t&&t.fetchGraph;return i===undefined&&(i=this._getAggregatedState().historyListState.fetchRenameHistoryCalled),{fetchGraph:u<l.GraphSettingsConstants.GraphRowLimit&&r&&!i,emptyLineLengthLimit:l.GraphSettingsConstants.EmptyLineLengthLimit,emptyLineLengthMultiplier:!1,order:r?b.CommitOrder.topoOrder:b.CommitOrder.dateOrder}},n.prototype.initializeFilterPanelVisibility=function(){var n,t;try{n=localStorage.getItem(v.GitHistoryTab_Ls_Key_isFilterPanelVisible)}catch(i){n="true"}finally{t=void 0;t=n?n==="true":!0;t&&this.actionsHub.toggleFilterPanelVisibility.invoke(null)}},n.prototype.toggleFilterPanelVisibility=function(){this.actionsHub.toggleFilterPanelVisibility.invoke(null)},n.prototype._getGitCommitsLookupArguments=function(n){return{fromCommitId:n.fromCommitId,toCommitId:n.toCommitId,skip:n.$skip,maxResultCount:n.$top}},n.prototype._getGitArtifactsQueryArguments=function(n,t,i){return{fetchBuildStatuses:t.fetchBuildStatuses,fetchPullRequests:t.fetchPullRequests,fetchTags:t.fetchTags,startFromVersion:n.itemVersion,commitIds:i}},n.prototype._getGitHistoryQueryArguments=function(n,t){t===void 0&&(t=b.GitLogHistoryMode.simplified);return{startFromVersion:n.itemVersion,notInVersion:n.compareVersion,order:b.CommitOrder.dateOrder,path:n.itemPath,historyMode:t,stopAtAdds:!1,fromDate:n.fromDate,toDate:n.toDate,author:n.author,committer:n.user,skip:n.$skip,maxResultCount:n.$top}},n.prototype._changeCommitertoAuthor=function(n){n.author||(n.author=n.user,n.user=null)},n.prototype._shouldFetchArtifacts=function(n){return n&&(!!n.fetchBuildStatuses||!!n.fetchPullRequests||!!n.fetchTags)},__decorate([i.autobind],n.prototype,"_raiseError",null),n}();t.HistoryTabActionCreator=d});

define("VersionControl/Scenarios/History/TfvcHistory/Actions/TfvcHistoryBridge",["require","exports","VersionControl/Scripts/DelayAnnounceHelper","VersionControl/Scripts/Generated/TFS.VersionControl.Legacy.Contracts","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/TFS.VersionControl","VersionControl/Scripts/TFS.VersionControl.VersionSpecs"],function(n,t,i,r,u,f,e){function s(n,t){return n.fromDate==t.fromDate&&n.toDate==t.toDate&&n.userId==t.userId&&n.toVersion==t.toVersion&&n.fromVersion==t.fromVersion}Object.defineProperty(t,"__esModule",{value:!0});var o=50,h=function(){function n(n,t,r){var u=this;this.invokers=n;this.getAggregateState=t;this.tfvcListSource=r;this.updateHistoryFilters=function(n){var t=u.getAggregateState().path;u.changeFilterCriteria(t,n)};this.changeFilterCriteria=function(n,t,i){u.fetchChangesetsIfNeeded(n,i,t);u.invokers.searchCriteriaChanged(__assign({itemPath:n},t))};this.expandChangeSetHistory=function(n){if(n&&n.item&&n.item.changeList){var t=n.item.changeList.changesetId,i=u.getAggregateState().tfvcHistoryListState.knownHistoryItems;if(i&&i[t])u.invokers.historyItemsLoaded({changesetId:t});else return u._fetchExpandedChangesets(n,t)}};this.collapseChangeSetsHistory=function(n){if(n&&n.item&&n.item.changeList){var t=n.item.changeList.changesetId;u.invokers.historyItemCollapsed(t)}};this._delayAnnounceHelper=new i.DelayAnnounceHelper}return n.prototype.fetchChangesetsIfNeeded=function(n,t,i){var r=this.getAggregateState(),u=r.tfvcHistoryFilterState,c=r.tfvcHistoryListState,l=r.path,f=n!==l,e=f,h;i&&u&&(e=!s(i,u)||f);(e||!c.isSetBefore)&&(h=this._calculateSearchCriteria(n,t,i),this.fetchChangesets(h,!1,o))},n.prototype.fetchChangesets=function(n,t,i){var r=this;if(i===void 0&&(i=o),n||(n=this._calculateSearchCriteria()),this.tfvcListSource)return this._delayAnnounceHelper.startAnnounce(u.FetchingResultsText),this.invokers.historyItemsLoadStarted({isLoadMore:t}),i&&(n.top=i),this.tfvcListSource.getChangeSets(n).then(function(n){r._delayAnnounceHelper.stopAndCancelAnnounce(u.ResultsFetchedText);r.invokers.historyItemsLoaded({historyList:n,isLoadMore:t})},function(n){r._delayAnnounceHelper.stopAndCancelAnnounce(u.ResultsFetchedText,!0);r.invokers.historyItemsLoadFailed({error:n})})},n.prototype.fetchMoreChangesets=function(n){if(this.tfvcListSource){var t=this.getAggregateState(),u=t.tfvcHistoryFilterState,f=t.path,e=t.version,i=t.tfvcHistoryListState,r=this._calculateSearchCriteria(f,e,u),o=i.tfvcChangeSetsListItems.length;r.toVersion=(i.tfvcChangeSetsListItems[o-1].item.changeList.changesetId-1).toString();this.fetchChangesets(r,!0,n)}},n.prototype._fetchExpandedChangesets=function(n,t){var i=this,o,s;if(this.tfvcListSource)return o=n&&n.item?n.item.serverItem:null,s=new e.MergeSourceVersionSpec(n.item.changeList.version,f.ChangeType.hasChangeFlag(n.item.itemChangeType,r.VersionControlChangeType.Rename)).toVersionString(),this._delayAnnounceHelper.startAnnounce(u.FetchingResultsText),this.invokers.historyItemsLoadStarted({changesetId:t}),this.tfvcListSource.getChangeSets(this._calculateSearchCriteria(o,s)).then(function(n){if(n&&n.results&&n.results[0]){var r=n.results[0].changeList.changesetId;r===t&&n.results.splice(0,1)}i._delayAnnounceHelper.stopAndCancelAnnounce(u.ResultsFetchedText);i.invokers.historyItemsLoaded({historyList:n,changesetId:t})},function(n){i._delayAnnounceHelper.stopAndCancelAnnounce(u.ResultsFetchedText,!0);i.invokers.historyItemsLoadFailed({error:n,changesetId:t})})},n.prototype._calculateSearchCriteria=function(n,t,i){var f=n||this.getAggregateState().path,r=i||this.getAggregateState().tfvcHistoryFilterState,u=$.extend({},r,{itemPath:f,itemVersion:t});return u.user=r.userId||r.userName,u},n}();t.TfvcHistoryBridge=h;t.isCriteriaEqual=s});

define("VersionControl/Scenarios/Shared/Sources/FocusManager",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){var n=this;this.setPage=function(t){n.page=t};this.setCommandBar=function(t){n.commandBar=t};this.setFocusToCommandBar=function(){n.commandBar&&(n.commandBar.focus(),n.showFocusStyling())}}return n.prototype.showFocusStyling=function(){this.page&&this.page.setState({isFocusVisible:!0})},n}();t.FocusManager=i});

define("VersionControl/Scenarios/Explorer/ActionCreator",["require","exports","q","VSS/Utils/String","VSS/VSS","VersionControl/Scenarios/Explorer/Bridges/EditingBridge","VersionControl/Scenarios/Explorer/Bridges/ItemExtraDataBridge","VersionControl/Scenarios/Explorer/Bridges/ItemRetrievalBridge","VersionControl/Scenarios/Explorer/Bridges/SearchPathBridge","VersionControl/Scenarios/Explorer/Stores/NotificationStore","VersionControl/Scenarios/History/GitHistory/Actions/HistoryTabActionCreator","VersionControl/Scenarios/History/TfvcHistory/Actions/TfvcHistoryBridge","VersionControl/Scenarios/Shared/Notifications/NotificationStore","VersionControl/Scenarios/Shared/Sources/FocusManager","VersionControl/Scripts/Controls/ControlsCommon","VersionControl/Scripts/GitRefUtility","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/TFS.VersionControl.VersionSpecs","VersionControl/Scripts/VersionControlPath"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){function nt(n,t){if(n.length!==t.length)return!1;for(var i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0}function d(n,t){var i=o.getVersionFriendlyName(t),u=r.format(w.ExplorerPathNotFoundInVersion,n,i);return new Error(u)}function tt(n){return!(n instanceof b.TipVersionSpec||n instanceof b.ShelvesetVersionSpec)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function n(n,t,i,p){var it,g=this;this.actionsHub=n;this.sources=t;this.getAggregateState=i;this.telemetryWriter=p;this.changeRepository=function(){var n,t,i,u,f,e;g.sources&&g.sources.repository&&g.sources.repository.getRepositoryContext()&&(n=g.sources.repository.isGit(),n&&(t=g.sources.repository.getHistoryUrl(),i=g.sources.repository.getBranchesUrl(),u=g.sources.repository.getPullRequestsUrl()),n&&g.sources.repository.deletedUserDefaultBranchName&&(e=g.sources.repository.userLastVisitedBranch,f=r.format(w.UserDefaultBranchDeletedErrorMessage_WithoutVersionInUrl,g.sources.repository.deletedUserDefaultBranchName,g.sources.repository.userLastVisitedBranch)),g.actionsHub.currentRepositoryChanged.invoke({isGit:n,rootNodeIconClass:g.sources.repository.getRepositoryContext().getRepositoryClass(),repositoryName:g.sources.repository.getRepositoryName(),rootPath:g.sources.repository.getRepositoryContext().getRootPath(),userLastVisitedVersionSpec:n&&g.sources.repository.userLastVisitedBranch&&new b.GitBranchVersionSpec(g.sources.repository.userLastVisitedBranch),defaultGitBranchName:g.sources.repository.getDefaultGitBranchName(),deletedUserDefaultBranchMessage:f,branchNameReplacingDeleted:e,allowEditing:g.sources.repository.allowEditingFeatures(),historyUrl:t,branchesUrl:i,pullRequestsUrl:u,repositoryContext:g.sources.repository.getRepositoryContext(),pageOptions:g.sources.page.getOptions()}),g.sources.repository.getStats().then(function(n){return g.actionsHub.repositoryStatsLoaded.invoke(n)}),n&&g.sources.repository.getPullRequestSuggestion().then(function(n){return n&&g.actionsHub.notificationRaised.invoke({type:a.NotificationType.info,specialType:h.NotificationSpecialType.createPullRequestSuggestion,specialContent:n,isDismissable:!0})}))};this.goRoot=function(n){return g.changePath(g.sources.repository.getRepositoryContext().getRootPath(),undefined,n)};this.goToDefaultBranch=function(n){var t=g.getAggregateState().versionState.defaultGitBranchName;return g.changeVersion(new b.GitBranchVersionSpec(t),n)};this.goLatestChangeset=function(n){return g.changePath(g.getAggregateState().path,"T",n)};this.goToRealCommit=function(n){var t=g.getAggregateState().versionState.realVersionSpec;t&&t.commitId&&g.changeVersion(t,n)};this.changeVersionFromSelector=function(n){return g.changeVersion(n,"version-selector")};this.changeVersion=function(n,t){return g.changePath(g.getAggregateState().path,n.toVersionString(),t)};this.changePath=function(n,t,i){var r=g.getAggregateState();if(t=t||r.version,n=k.normalizePath(n,r.isGit,r.fileContentState.rootPath),r.path===n&&t===r.version){r.pathState.isEditing&&g.actionsHub.pathEditingCancelled.invoke(null);return}g.changeItem(undefined,n,i,t)};this.changeTab=function(n,t){var i=g.getAggregateState(),u=i.tab,f=i.path,e=i.versionSpec,o=i.pivotTabsState.defaultTab,r;(n=n||o,u!==n)&&(r=g.bridges.itemExtraData.getItemAndFetchExtraData(n,f,e).areFolderLatestChangesRequested,g.actionsHub.tabChanged.invoke({tab:n,areFolderLatestChangesRequested:r,compareOptions:t}))};this.changeItem=function(n,t,i,r,u,f,e){var l,a,o,w,v,nt,s,y,h;if(f===void 0&&(f={}),e===void 0&&(e=!1),l=function(){return g.changeItem(n,t,i,r,u,f,!0)},e||!g.checkChangesToLose(l)){if(a=g.initializingPromise,a){a.then(l);return}if(o=g.getAggregateState(),w=Boolean(n),n=g.normalizeAction(n,u),v=o.isGit,nt=o.fileContentState.rootPath,t=k.normalizePath(t,v,nt),r&&!g.isDeletedUserDefaultBranch(r)?s=b.VersionSpec.parse(r):(s=g.getFallbackVersion(f,v),r=s.toVersionString()),u&&(y=Boolean(u.isFullScreen),o.pivotTabsState.isFullScreen!==y&&g.sources.page.setFullScreen(y)),h=r!==o.version,r&&h&&(g.fetchPermissions(s),g.fetchStatuses(o.projectId,r)),o.fileContentState.isEditing){g.bridges.editing.discardEditingFile(i,t,h&&r,u);return}var c=g.bridges.itemExtraData.getItemAndFetchExtraData(n,t,s,{createIfNew:u&&u.createIfNew,hasChangedPath:t!==o.path,hasChangedVersion:h,historySearchCriteria:u&&u.historySearchCriteria}),p=c.item,tt=c.readMeItem,it=c.tab,rt=c.areFolderLatestChangesRequested,ut=c.isKnownNonexistent;g.actionsHub.itemChanged.invoke(__assign({tab:it,isTabExplicit:w,path:t,versionSpec:s,hasChangedVersion:h,allowEditingVersion:g.sources.committing.allowEditingVersion(r,g.sources.repository.getRepositoryContext()),options:u,compareOptions:f,itemInfo:p&&{item:p,readMeItem:tt,areFolderLatestChangesRequested:rt},notFoundError:ut?d(t,s):undefined,uiSource:i},g.bridges.editing.getFilePreviewAvailability(t,p)))}};this.retrieveAllLastChanges=function(n){g.bridges.itemExtraData.retrieveAllLastChanges(n)};this.promptCreateBranch=function(n){g.sources.dialogs.showCreateBranch(g.getAggregateState().versionSpec,n).then(function(n){return!n.cancelled&&g.changeVersion(new b.GitBranchVersionSpec(n.selectedFriendlyName),"create-branch-dialog")})};this.promptAddNewFile=function(n,t,i){(i===void 0&&(i=!1),i||!g.checkChangesToLose(function(){return g.promptAddNewFile(n,t,!0)}))&&g.checkEditEnabled(n,function(){return g.bridges.editing.promptAddNewFile(n,t)})};this.changeAddNewTargetFolder=function(n){g.bridges.editing.changeAddNewTargetFolder(n)};this.dismissAddNewFileDialog=function(){g.actionsHub.newFileDismissed.invoke(undefined)};this.addNewFile=function(n){g.checkEditEnabled(n,function(){return g.bridges.editing.addNewFile(n,g.getAggregateState().version)})};this.editFile=function(n,t,i){(i===void 0&&(i=!1),i||!g.checkChangesToLose(function(){return g.editFile(n,t,!0)}))&&g.checkEditEnabled(n,function(){return g.bridges.editing.editFile(n,t)})};this.dismissEditDisabledDialog=function(){g.actionsHub.editDisabledDialogDismissed.invoke(undefined)};this.promptSaveEditingFile=function(n){return g.bridges.editing.promptSaveEditingFile(n)};this.saveEditingFile=function(n){g.checkEditEnabled(g.getAggregateState().path,function(){return g.bridges.editing.saveEditingFile(n)})};this.promptAddNewFolder=function(n,t,i){(i===void 0&&(i=!1),i||!g.checkChangesToLose(function(){return g.promptAddNewFolder(n,t,!0)}))&&g.checkEditEnabled(n,function(){return g.bridges.editing.promptAddNewFolder(n,t)})};this.addNewFolder=function(n,t){g.checkEditEnabled(n,function(){return g.bridges.editing.addNewFolder(n,t)})};this.promptUploadFilesFromFolderEmptySpace=function(n){var t=g.getAggregateState().path;g.checkEditEnabled(t,function(){return g.promptUploadFiles(t,"drop-in-grid-empty-space",n)})};this.promptUploadFilesFromFolderInGrid=function(n,t){g.checkEditEnabled(n,function(){return g.promptUploadFiles(n,"drop-in-grid-row",t)})};this.promptUploadFiles=function(n,t,i,r){(r===void 0&&(r=!1),r||!g.checkChangesToLose(function(){return g.promptUploadFiles(n,t,i,!0)}))&&g.checkEditEnabled(n,function(){return g.bridges.editing.promptUploadFiles(n,i,t)})};this.uploadFiles=function(n,t,i){g.checkEditEnabled(n,function(){return g.bridges.editing.uploadFiles(n,t,i)})};this.discardEditingFile=function(n,t){(t===void 0&&(t=!1),t||g.getAggregateState().fileContentState.isNewFile&&!g.getAggregateState().pathState.isDirty||!g.checkChangesToLose(function(){return g.discardEditingFile(n,!0)}))&&g.bridges.editing.discardEditingFile(n)};this.toggleEditingDiffInline=function(){g.actionsHub.diffInlineToggled.invoke(undefined)};this.loadDiffLines=function(n){g.actionsHub.diffLinesLoaded.invoke(n)};this.goToPreviousDiff=function(){g.actionsHub.goToPreviousDiffRequested.invoke(undefined)};this.goToNextDiff=function(){g.actionsHub.goToNextDiffRequested.invoke(undefined)};this.promptRenameItem=function(n,t,i){(i===void 0&&(i=!1),i||!g.checkChangesToLose(function(){return g.promptRenameItem(n,t,!0)}))&&g.checkEditEnabled(n,function(){return g.bridges.editing.promptRenameItem(n,t)})};this.renameItem=function(n,t){g.checkEditEnabled(n,function(){return g.bridges.editing.renameItem(n,t)})};this.promptDeleteItem=function(n,t,i){(i===void 0&&(i=!1),i||!g.checkChangesToLose(function(){return g.promptDeleteItem(n,t,!0)}))&&g.checkEditEnabled(n,function(){return g.bridges.editing.promptDeleteItem(n,t)})};this.deleteItem=function(n,t){g.checkEditEnabled(n,function(){return g.bridges.editing.deleteItem(n,t)})};this.displayInfoNotification=function(n,t){g.actionsHub.notificationRaised.invoke({message:n,type:a.NotificationType.info,specialType:t,isDismissable:!0})};this.dismissNotification=function(n){var t=g.mapToSpecialActionOnDismissNotification[n.specialType];t&&t(n);g.actionsHub.notificationDismissed.invoke(n)};this.selectFolderChildren=function(n){nt(n,g.getAggregateState().folderContentState.selectedItems)||g.actionsHub.folderChildrenSelected.invoke(n)};this.expandTreeItem=function(n){g.bridges.itemRetrieval.expandTreeItem(n)};this.collapseTreeItem=function(n){g.actionsHub.treeItemCollapsed.invoke(n)};this.startPathEditing=function(){g.bridges.searchPath.startPathEditing()};this.editPathText=function(n){g.bridges.searchPath.editPathText(n)};this.cancelPathEditing=function(){g.actionsHub.pathEditingCancelled.invoke(null)};this.selectPathSearchItem=function(n,t){g.actionsHub.pathSearchSelectionChanged.invoke({itemIdentifier:n,newInputText:t})};this.showSetupBuildDialog=function(){g.telemetryWriter.publish("setupBuildClicked");g.sources.statuses.openCreateBuildDefinitionWindow()};this.navigateToReleaseHub=function(n){g.telemetryWriter.publish("setupReleaseClicked");var t=window.open();t.opener=null;t.location.href=n};this.toggleFullScreen=function(n){g.getAggregateState().pivotTabsState.isFullScreen!==n&&(g.sources.page.setFullScreen(n),g.actionsHub.fullScreenChanged.invoke(n))};this.changeOriginalContent=function(n,t){g.actionsHub.fileContentLoaded.invoke({originalContent:n,isTooBigToEdit:t})};this.editFileContent=function(n){var t=n!==g.getAggregateState().fileContentState.originalContent;g.actionsHub.fileContentEdited.invoke({newContent:n,isDirty:t})};this.downloadFile=function(n,t){g.sources.page.download(g.sources.repository.getFileContentUrl(n,g.getAggregateState().version));g.telemetryWriter.publish("downloadFile",{uiSource:t})};this.downloadZippedFolder=function(n,t){g.sources.page.download(g.sources.repository.getZippedFolderUrl(n,g.getAggregateState().version));g.telemetryWriter.publish("downloadZippedFolder",{uiSource:t})};this.openBranchSelector=function(){g.toggleBranchSelector(!0)};this.closeBranchSelector=function(){g.toggleBranchSelector(!1)};this.toggleBranchSelector=function(n){g.getAggregateState().versionState.isBranchSelectorOpened!==n&&g.actionsHub.branchSelectorToggled.invoke(n)};this.goToLatestChangeCommit=function(n){return g.goToCommit(n,"latest-change-commit")};this.goToBlameCommit=function(n){return g.goToCommit(n,"blame-commit")};this.changeVersionToBlame=function(n,t){g.changeItem(undefined,g.getAggregateState().path,"blame-view-before",n,{line:{startLineNumber:t}})};this.dismissLoseChangesDialog=function(){g.actionsHub.loseChangesDialogDismissed.invoke(undefined)};this.dismissCommitDialog=function(){g.actionsHub.commitDialogDismissed.invoke({changeType:g.getAggregateState().commitPromptState.changeType})};this.toggleHistoryGraph=function(n){g.actionsHub.historyItemsReloadStarted.invoke(undefined);g.bridges.gitHistory.setGraphColumnDisplay(n,g.getHistorySearchCriteria(),g.getHistoryDataOptions(),!1,!0)};this.toggleFilterPanelVisibility=function(){g.bridges.gitHistory.toggleFilterPanelVisibility()};this.dismissHistoryGraphInfo=function(){var n=g.getAggregateState().historyListState;g.bridges.gitHistory.dismissGraphMessage(n.gitGraphMessage.key)};this.filterHistory=function(n){g.actionsHub.historyItemsReloadStarted.invoke(n);var t=g.getAggregateState(),i=t.path,r=t.version;g.fetchGitHistoryIfNeeded(i,r,n)};this.expandTfvcHistoryItem=function(n){g.bridges.tfvcHistory.expandChangeSetHistory(n)};this.collapseTfvcHistoryItem=function(n){g.bridges.tfvcHistory.collapseChangeSetsHistory(n)};this.loadMoreTfvcHistory=function(n){g.bridges.tfvcHistory.fetchMoreChangesets(n)};this.updateTfvcHistoryFilters=function(n){g.bridges.tfvcHistory.updateHistoryFilters(n)};this.notifyTreeRendered=function(n){return g.telemetryWriter.initialScenario.notifyTreeRendered(n)};this.notifyContentRendered=function(){return g.telemetryWriter.initialScenario.notifyContentRendered()};this.notifyCommitCopied=function(){return g.telemetryWriter.publish("commitCopied",{uiSource:"latest-change-commit"})};this.notifyColumnSorted=function(n,t){return g.telemetryWriter.publish("folderContentColumnSorted",{columnKey:n,isDescending:t})};this.notifyCompareVersionPicked=function(n,t){return g.telemetryWriter.publish("compareVersionPicked",{isOriginalSide:t})};this.raiseError=function(n){g.actionsHub.notificationRaised.invoke({type:a.NotificationType.error,message:u.getErrorMessage(n),isDismissable:!0})};this.handleRetrievedItems=function(n,t,i,r){var f=g.getAggregateState(),s=f.tab,u=f.path,h=f.versionSpec,l=t&&e.coerceTabOnItem(s,t),a=g.bridges.itemExtraData.fetchExtraDataForItem(l||s,u,h,t).areFolderLatestChangesRequested,c=t&&g.bridges.itemExtraData.findReadMeItem(t,i);s===y.VersionControlActionIds.Readme&&c&&!o.isItemReadyForDisplay(c,!0)&&g.bridges.itemRetrieval.getItem(u,h);t?g.actionsHub.itemRetrieved.invoke({itemInfo:{item:t,readMeItem:c,areFolderLatestChangesRequested:a},allRetrievedItems:i,coercedTab:l,notFoundError:r}):n===u?g.actionsHub.itemRetrievalFailed.invoke({notFoundError:r||d(u,h),allRetrievedItems:i}):g.actionsHub.itemRetrieved.invoke({itemInfo:undefined,allRetrievedItems:i})};this.isItemValidToReportHistoryError=function(n){var t=g.getAggregateState().itemContentState.item;return t&&t.serverItem===n};this.fetchHistoryIfNeeded=function(n,t,i){var r=g.getAggregateState().isGit;r?g.fetchGitHistoryIfNeeded(n,t.toVersionString(),i):g.bridges.tfvcHistory.fetchChangesetsIfNeeded(n,t.toVersionString(),i)};this.fetchGitHistoryIfNeeded=function(n,t,i){var r=g.getAggregateState(),f=r.historyListState,e=r.version,u=f.searchCriteria;(i||!u||u.itemPath!==n||e!==t)&&g.bridges.gitHistory.fetchHistory(g.getHistorySearchCriteria(n,t,i),g.getHistoryDataOptions(),!1,!1,!1)};this.getHistorySearchCriteria=function(n,t,i){var r=g.getAggregateState(),f=n||r.pathState.path,e=t||r.version,u=$.extend({},i||r.historyListState.searchCriteria,{itemPath:f,itemVersion:e});return delete u.top,delete u.skip,u};this.getHistoryDataOptions=function(){return g.getAggregateState().historyListState.dataOptions||{fetchBuildStatuses:!0,fetchGraph:!0,fetchPullRequests:!0,fetchTags:!0}};var ut={itemRetrieved:this.handleRetrievedItems,treeItemExpanded:function(t){return n.treeItemExpanded.invoke(t)},treeItemExpanding:function(t){return n.treeItemExpanding.invoke(t)}},tt=new o.ItemRetrievalBridge(ut,t.repository,i),ft=__assign({},n,{historyItemsLoadStarted:undefined,historyArtifactsLoadStarted:undefined,errorFlushed:undefined,historyItemsCleared:undefined}),et={historyCommitsSource:t.historyCommits,permissionsSource:t.permissions},ot=new c.HistoryTabActionCreator(ft,et,this.getAggregateState,this.isItemValidToReportHistoryError,undefined,!0),st={historyItemsLoadStarted:function(n){return g.actionsHub.tfvcHistoryItemsLoadStarted.invoke(n)},historyItemsLoaded:function(n){return g.actionsHub.tfvcHistoryItemsLoaded.invoke(n)},historyItemsLoadFailed:function(n){return g.actionsHub.historyItemsLoadErrorRaised.invoke(n.error)},historyItemCollapsed:function(n){return g.actionsHub.changeTypeHistoryItemsCollapsed.invoke(n)},searchCriteriaChanged:function(n){return g.actionsHub.tfvcHistoryFilterCriteriaChanged.invoke(n)}},ht=new l.TfvcHistoryBridge(st,this.getAggregateState,t.tfvcHistory),rt=new e.ItemExtraDataBridge(n,t.repository,tt.getItem,i,this.fetchHistoryIfNeeded);this.bridges={itemRetrieval:tt,itemExtraData:rt,editing:new f.EditingBridge(n,t.repository,t.committing,t.page,rt.getItemAndFetchExtraData,tt.getItem,i),searchPath:new s.SearchPathBridge(n,t.search,i),gitHistory:ot,tfvcHistory:ht};tt.setAddNewFileFunction(this.bridges.editing.addNewFile);this.initializingPromise=this.sources.repository.loadContributedRenderers().then(function(){return g.initializingPromise=undefined});this.mapToSpecialActionOnDismissNotification=(it={},it[h.NotificationSpecialType.createPullRequestSuggestion]=function(n){return g.sources.repository.dismissCreatePullRequestSuggestion(n.specialContent)},it);this.focusManager=new v.FocusManager}return n.prototype.getHistoryTabActionCreator=function(){return this.bridges.gitHistory},n.prototype.loadExtension=function(n){this.actionsHub.extensionLoaded.invoke(n)},n.prototype.normalizeAction=function(n,t){return n=n?n.toLowerCase():this.getAggregateState().tab,t&&t.anchor&&n===y.VersionControlActionIds.Contents&&(n=y.VersionControlActionIds.Preview),n},n.prototype.isDeletedUserDefaultBranch=function(n){if(!this.sources.repository.deletedUserDefaultBranchName)return!1;var t=b.VersionSpec.parse(n).branchName;return r.ignoreCaseComparer(t,this.sources.repository.deletedUserDefaultBranchName)===0},n.prototype.getFallbackVersion=function(n,t){if(n&&n.mversion){var i=b.VersionSpec.parse(n.mversion);return tt(i)?i:new b.LatestVersionSpec}if(t){if(t&&this.sources.repository.userLastVisitedBranch)return new b.GitBranchVersionSpec(this.sources.repository.userLastVisitedBranch)}else return new b.LatestVersionSpec},n.prototype.goToCommit=function(n,t){this.telemetryWriter.publish("commitClicked",{uiSource:t});this.sources.page.navigateToHistory(n,this.sources.repository.isGit(),this.sources.repository.isCollectionLevel())},n.prototype.changeCompareVersion=function(n,t,i){var r=this.getAggregateState().compareState;this.actionsHub.compareChanged.invoke({mversion:i?r.mversion:n,mpath:i?r.mpath:t,oversion:i?n:r.oversion,opath:i?t:r.opath});this.notifyCompareVersionPicked(n,i)},n.prototype.changeCompare=function(n){this.actionsHub.compareChanged.invoke(n)},n.prototype.checkChangesToLose=function(n){return this.getAggregateState().pathState.isDirty||this.getAggregateState().fileContentState.isNewFile?(this.actionsHub.loseChangesAsked.invoke({dirtyFileName:this.getAggregateState().pathState.itemName,tentativeAction:n}),!0):!1},n.prototype.checkEditEnabled=function(n,t){var i=this;return this.sources.repository.isEditingEnabled(n).then(function(r){if(r)t();else{var u=i.getAggregateState().isGit?i.sources.repository.getRepositoryName():"$/"+i.sources.repository.getTfvcProjectName(n);i.actionsHub.editDisabledAlerted.invoke({repositoryName:u})}})},n.prototype.fetchPermissions=function(n){var t=this,i=n instanceof b.GitBranchVersionSpec?this.sources.permissions.queryDefaultGitRepositoryWithRefNamePermissionsAsync(p.getFullRefNameFromBranch(n.branchName)):this.sources.permissions.queryDefaultGitRepositoryPermissionsAsync();i.then(function(n){return t.actionsHub.permissionsUpdated.invoke(n)},this.raiseError)},n.prototype.fetchStatuses=function(n,t){var i=this;this.sources.statuses&&this.getAggregateState().isGit&&this.sources.statuses.getBuildStatusForBranch(n,t).then(function(t){if(t=i.sources.statuses.convertArtifactUriToPublicUrl(t),i.actionsHub.buildStatusLoaded.invoke(t),i.sources.statuses.isNewBuildAvailable()){var r=t&&t.length,u=r&&t.filter(function(n){return n.context.genre==="continuous-deployment/release"}).length,f=i.getAggregateState().statusesState.isSetupExperienceVisible;r||f?u||i.fetchReleaseDefinitionsIfNotFetched(n):i.fetchHasBuildDefinitions(n)}})},n.prototype.fetchHasBuildDefinitions=function(n){var t=this;return i.all([this.sources.statuses.getBuildDefinitions(n),this.sources.buildPermissions.queryBuildPermissionsAsync()]).spread(function(i,r){var u=i&&i.length>0,f=i.map(function(n){return n.id});return u&&t.fetchHasReleaseDefinitions(n,f),t.actionsHub.hasBuildDefinitionsLoaded.invoke({hasBuildDefinitions:u,buildDefinitionIds:f,canCreateBuildDefinitions:r.EditBuildDefinition}),!0})},n.prototype.fetchReleaseDefinitionsIfNotFetched=function(n){var i=this,r=this.getAggregateState().statusesState.isSetupReleaseExperienceVisible,t;r||(t=this.getAggregateState().statusesState.fetchedBuildDefinitionIds,t&&t.length>0?this.fetchHasReleaseDefinitions(n,t):this.fetchHasBuildDefinitions(n).then(function(){t=i.getAggregateState().statusesState.fetchedBuildDefinitionIds;t&&t.length>0&&i.fetchHasReleaseDefinitions(n,t)}))},n.prototype.fetchHasReleaseDefinitions=function(n,t){var i=this;this.sources.statuses.getHasReleaseDefinitions(n,t).then(function(n){n||(i.telemetryWriter.publish("setupReleaseDisplayed"),i.sources.statuses.fetchCreateReleaseDefinitionUrl().then(function(n){return i.actionsHub.createReleaseDefinitionUrlFetched.invoke(n)}));i.actionsHub.hasReleaseDefinitionsLoaded.invoke(n)},function(){i.actionsHub.hasReleaseDefinitionsLoaded.invoke(!0)})},n}();t.ActionCreator=g});

define("VersionControl/Scenarios/Explorer/ActionsHub",["require","exports","VSS/Flux/Action"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){this.currentRepositoryChanged=new i.Action;this.itemRetrieved=new i.Action;this.folderLatestChangesRetrieved=new i.Action;this.remainderFolderLatestChangesRequested=new i.Action;this.commitDetailsRetrieved=new i.Action;this.itemRetrievalFailed=new i.Action;this.repositoryStatsLoaded=new i.Action;this.tabChanged=new i.Action;this.itemChanged=new i.Action;this.branchSelectorToggled=new i.Action;this.extensionLoaded=new i.Action;this.newFileAsked=new i.Action;this.newFileTargetFolderChanged=new i.Action;this.newFileAdded=new i.Action;this.newFileDismissed=new i.Action;this.filesUploaded=new i.Action;this.editDisabledAlerted=new i.Action;this.editDisabledDialogDismissed=new i.Action;this.editFileStarted=new i.Action;this.initialContentRetrieved=new i.Action;this.commitPrompted=new i.Action;this.commitStarted=new i.Action;this.commitSaved=new i.Action;this.commitGatedCheckin=new i.Action;this.commitFailed=new i.Action;this.commitDialogDismissed=new i.Action;this.editingFileDiscarded=new i.Action;this.diffInlineToggled=new i.Action;this.existingBranchesLoaded=new i.Action;this.loseChangesAsked=new i.Action;this.loseChangesDialogDismissed=new i.Action;this.folderChildrenSelected=new i.Action;this.treeItemExpanding=new i.Action;this.treeItemExpanded=new i.Action;this.treeItemCollapsed=new i.Action;this.pathEditingStarted=new i.Action;this.pathEdited=new i.Action;this.pathEditingCancelled=new i.Action;this.pathSearchSelectionChanged=new i.Action;this.inFolderPathSearchResultsLoaded=new i.Action;this.globalPathSearchResultsLoaded=new i.Action;this.pathSearchFailed=new i.Action;this.fullScreenChanged=new i.Action;this.fileContentLoaded=new i.Action;this.fileContentEdited=new i.Action;this.hasBuildDefinitionsLoaded=new i.Action;this.hasReleaseDefinitionsLoaded=new i.Action;this.createReleaseDefinitionUrlFetched=new i.Action;this.buildStatusLoaded=new i.Action;this.notificationRaised=new i.Action;this.notificationDismissed=new i.Action;this.historyItemsLoaded=new i.Action;this.historyArtifactsLoaded=new i.Action;this.historyItemsLoadErrorRaised=new i.Action;this.historyFullCommentLoaded=new i.Action;this.historyGraphMessageDismissed=new i.Action;this.historyItemsReloadStarted=new i.Action;this.historyGraphRowSelected=new i.Action;this.historyGraphRowUnSelected=new i.Action;this.toggleFilterPanelVisibility=new i.Action;this.permissionsUpdated=new i.Action;this.settingsPermissionsUpdated=new i.Action;this.tfvcHistoryItemsLoaded=new i.Action;this.changeTypeHistoryItemsCollapsed=new i.Action;this.tfvcHistoryItemsLoadStarted=new i.Action;this.tfvcHistoryFilterCriteriaChanged=new i.Action;this.compareChanged=new i.Action;this.diffLinesLoaded=new i.Action;this.goToPreviousDiffRequested=new i.Action;this.goToNextDiffRequested=new i.Action}return n}();t.ActionsHub=r});

define("VSS/Identities/Picker/Common",["require","exports"],function(n,t){var r,i;Object.defineProperty(t,"__esModule",{value:!0});r=function(){function n(n,t){this.filterByAncestorEntityIds=n||[];this.filterByEntityIds=t||[]}return n.GetHashCode=function(t){var r=i._hashSeed,e,u,f,o;if(t==null)return r;for(e=t.filterByAncestorEntityIds.sort().concat([n._hashSeparator],t.filterByEntityIds.sort()),u=0,f=e;u<f.length;u++)o=f[u],r=r*i._stringListHashPrime+i.GetStringHashCode(o),r=r&r;return r},n.isFilterByScopeEmpty=function(n){return n&&n.filterByAncestorEntityIds.length==0&&n.filterByEntityIds.length==0},n._hashSeparator="@",n}();t.FilterByScope=r;i=function(){function n(){}return n.GetStringHashCode=function(t){var i=n._hashSeed,r;if(t)for(t=t.trim().toLowerCase(),r=0;r<t.length;r++)i=i*n._stringHashPrime+t.charCodeAt(r),i=i&i;return i},n.GetStringListHashCode=function(t){var i=n._hashSeed,r;if(t)for(r in t)i=i*n._stringListHashPrime+n.GetStringHashCode(r),i=i&i;return i},n._hashSeed=0,n._stringListHashPrime=31,n._stringHashPrime=37,n}();t.CommonHelpers=i});

define("VSS/Identities/Picker/Constants",["require","exports"],function(n,t){var i,r,u,f,e;Object.defineProperty(t,"__esModule",{value:!0});i=function(){function n(){}return n.Area="IdentityPicker",n.Scenario_GetMru_Rtt="IdentityPicker_MruService_GetMru_Rtt",n.Scenario_AddMru_Rtt="IdentityPicker_MruService_AddMru_Rtt",n.Scenario_RemoveMru_Rtt="IdentityPicker_MruService_RemoveMru_Rtt",n.Scenario_GetDirectory_Rtt="IdentityPicker_IdentityService_GetDirectory_Rtt",n.Scenario_GetConnections_Rtt="IdentityPicker_IdentityService_GetConnections_Rtt",n.Scenario_GetUserConnections_Rtt="IdentityPicker_IdentityService_GetUserConnections_Rtt",n.Scenario_PagingQuerySplit="IdentityPicker_PagingQuerySplit",n.Feature_DropdownControl="DropdownControl",n.Feature_SearchControl="SearchControl",n.Feature_IdCardDialogControl="IdCardDialogControl",n.Feature_DisplayControl="DisplayControl",n.Feature_TwoLayerCache="TwoLayerCache",n.Feature_RequestCache="RequestCache",n.Feature_Select_Mru_NoPrefix="Select_Mru_NoPrefix",n.Feature_Select_Mru_Prefix="Select_Mru_Prefix",n.Feature_Select_Mru_Dir="Select_Mru_Dir",n.Feature_Select_Dir="Select_Dir",n.Feature_Click_IdCard="Click_IdCard",n.Feature_Click_Remove_Mru="Click_Remove_Mru",n.Feature_ApiExceptions="Api_Exceptions",n}();t.Telemetry=i;r=function(){function n(){}return n.prefixType="p_prefixType",n.prefixLength="p_prefixLength",n.userId="p_userId",n.accountProjectCollectionTeam="p_accountProjectCollectionTeam",n.identityTypes="p_identityTypes",n.operationScopes="p_operationScopes",n.maxResults="p_maxResults",n.minResults="p_minResults",n.consumerId="p_consumerId",n.extensionId="p_extensionId",n.entityId="p_entityId",n.exceptionData="p_exceptionData",n.isMru="p_isMru",n.isNonMaterialized="p_isNonMaterialized",n.isTwoLayerCacheHit="p_isTwoLayerCacheHit",n.isDirSearchUid="p_isDirSearchUid",n}();t.TelemetryProperties=r;u=function(){function n(){}return n.SignInAddress="signInAddress",n.DomainSamAccountName="domainSamAccountName",n.EntityId="entityId",n.Vsid="vsid",n.ScopedPrefix="scopedPrefix",n.StringPrefix="stringPrefix",n}();t.PrefixType=u;f=function(){function n(){}return n.UnknownConsumer="UNKNOWN",n}();t.ConsumerId=f;e=function(){function n(){}return n.Fulfilled="fulfilled",n.Rejected="rejected",n}();t.PromiseResultStatus=e;t.diacriticsRemovalMap={A:"A","\u24b6":"A","\uff21":"A","\u00c0":"A","\u00c1":"A","\u00c2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\u00c3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\u00c4":"A","\u01de":"A","\u1ea2":"A","\u00c5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"A","\ua738":"AV","\ua73a":"AV","\ua73c":"AY",B:"B","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B",C:"C","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u00c7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C",D:"D","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz",E:"E","\u24ba":"E","\uff25":"E","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\u00cb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E",F:"F","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F",G:"G","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G",H:"H","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H",I:"I","\u24be":"I","\uff29":"I","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\u00cf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I",J:"J","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J",K:"K","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K",L:"L","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj",M:"M","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M",N:"N","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\u00d1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj",O:"O","\u24c4":"O","\uff2f":"O","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\u00d5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\u00d6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\u00d8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU",P:"P","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P",Q:"Q","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q",R:"R","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R",S:"S","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S",T:"T","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ",U:"U","\u24ca":"U","\uff35":"U","\u00d9":"U","\u00da":"U","\u00db":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\u00dc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U",V:"V","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY",W:"W","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W",X:"X","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X",Y:"Y","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\u00dd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y",Z:"Z","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z",a:"a","\u24d0":"a","\uff41":"a","\u1e9a":"a","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\u00e3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\u00e4":"a","\u01df":"a","\u1ea3":"a","\u00e5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay",b:"b","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b",c:"c","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c",d:"d","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz",e:"e","\u24d4":"e","\uff45":"e","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\u00eb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e",f:"f","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f",g:"g","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g",h:"h","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv",i:"i","\u24d8":"i","\uff49":"i","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u00ef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i",j:"j","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j",k:"k","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k",l:"l","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj",m:"m","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m",n:"n","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\u00f1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj",o:"o","\u24de":"o","\uff4f":"o","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\u00f5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\u00f6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo",p:"p","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p",q:"q","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q",r:"r","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r",s:"s","\u24e2":"s","\uff53":"s","\u00df":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s",t:"t","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz",u:"u","\u24e4":"u","\uff55":"u","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\u00fc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u",v:"v","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy",w:"w","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w",x:"x","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x",y:"y","\u24e8":"y","\uff59":"y","\u1ef3":"y","\u00fd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\u00ff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y",z:"z","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"}});

define("VSS/Identities/Picker/RestClient",["require","exports","VSS/WebApi/Constants","VSS/WebApi/RestClient"],function(n,t,i,r){var u,f;Object.defineProperty(t,"__esModule",{value:!0});u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.beginGetIdentities=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginGetIdentities"};},t.prototype.beginGetIdentityImageLocation=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginGetImageLocation"};},t.prototype.beginGetConnections=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginGetConnections"};},t.prototype.beginGetIdentityFeatureMru=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginGetMru"};},t.prototype.beginPatchIdentityFeatureMru=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginPatchMru"};},t}(r.VssHttpClient);t.AbstractIdentityPickerHttpClient=u;f=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.beginGetIdentities=function(n){return this._beginRequest({area:i.CommonIdentityPickerResourceIds.ServiceArea,locationId:i.CommonIdentityPickerResourceIds.IdentitiesLocationId,httpMethod:"POST",data:n})},t.prototype.beginGetIdentityImageLocation=function(n){var r=this,u={objectId:n};return t._identityImageLocation||(t._identityImageLocation=this._beginGetLocation(i.CommonIdentityPickerResourceIds.ServiceArea,i.CommonIdentityPickerResourceIds.IdentityAvatarLocationId)),t._identityImageLocation.then(function(n){return r.getRequestUrl(n.routeTemplate,n.area,n.resourceName,u,{})})},t.prototype.beginGetConnections=function(n,t){return this._beginRequest({area:i.CommonIdentityPickerResourceIds.ServiceArea,locationId:i.CommonIdentityPickerResourceIds.IdentityConnectionsLocationId,httpMethod:"GET",routeValues:{objectId:n},data:t})},t.prototype.beginGetIdentityFeatureMru=function(n,t,r){return this._beginRequest({area:i.CommonIdentityPickerResourceIds.ServiceArea,locationId:i.CommonIdentityPickerResourceIds.IdentityFeatureMruLocationId,httpMethod:"GET",routeValues:{objectId:n,featureId:t},data:r})},t.prototype.beginPatchIdentityFeatureMru=function(n,t,r){return this._beginRequest({area:i.CommonIdentityPickerResourceIds.ServiceArea,locationId:i.CommonIdentityPickerResourceIds.IdentityFeatureMruLocationId,httpMethod:"PATCH",routeValues:{objectId:n,featureId:t},data:r})},t._identityImageLocation=null,t}(u);t.CommonIdentityPickerHttpClient=f});

define("VSS/Identities/Picker/Cache",["require","exports","VSS/Utils/Core","VSS/Utils/String","VSS/Identities/Picker/Constants","VSS/Telemetry/Services"],function(n,t,i,r,u,f){var s,e,o,h,c,l;Object.defineProperty(t,"__esModule",{value:!0});s=function(){function n(){}return n.guessQueryTokenType=function(t){return r.isGuid(t)&&!r.isEmptyGuid(t)?e.Guid:n._isValidEmail(t)?e.Email:n._isPotentialEntityId(t)?e.UniqueIdentifier:e.Unknown},n._isPotentialEntityId=function(n){var t=n.split(".");return t.length==6&&r.isGuid(t[5])&&!r.isEmptyGuid(t[5])?!0:!1},n._isValidEmail=function(n){var t=n.split("@");return t.length===2&&t[0].length>=1&&t[1].length>=1?!0:!1},n}(),function(n){n[n.Unknown=0]="Unknown";n[n.UniqueIdentifier=1]="UniqueIdentifier";n[n.Guid=2]="Guid";n[n.Email=3]="Email"}(e=t.CacheableTypes||(t.CacheableTypes={}));o=function(){function n(){this._cache={};this._config={expirationIntervalS:86400}}return n.prototype.get=function(n){if(!n)throw{message:"invalid (null/undefined) key",parameter:"key",source:"HashCache add"};if(!this._cache.hasOwnProperty(n)||!this._cache[n])return null;var t=this._cache[n];return(new Date).getTime()/1e3>t.expiryTimeS?(delete this._cache[n],null):this._cache[n].item},n.prototype.set=function(n,t){if(!n)throw{message:"invalid (null/undefined) key",parameter:"key",source:"HashCache add"};var i={item:t,expiryTimeS:(new Date).getTime()/1e3+this._config.expirationIntervalS};this._cache[n]=i},n.prototype.clear=function(){var n=this._getKeys(),t;if(n&&n.length!=0)for(t in n)delete this._cache[t]},n.prototype.configure=function(n){this._config=n},n.prototype._getKeys=function(){return Object.keys(this._cache)},n}();t.HashCache=o;h=function(){function n(){this._config={delayIntervalMS:n._defaultDelayIntervalMS};this._cache=new o;this._cache.configure({expirationIntervalS:this._config.delayIntervalMS/1e3})}return n.prototype.getPromise=function(n){this._setOrResetTimer();var t=this._cache.get(n);return t?t:null},n.prototype.setPromise=function(n,t){this._setOrResetTimer();this._cache.set(n,t)},n.prototype.configure=function(n){this._config=n;this._cache.configure({expirationIntervalS:this._config.delayIntervalMS/1e3})},n.prototype._setOrResetTimer=function(){var n=this;this._timeoutHandle&&(clearTimeout(this._timeoutHandle),this._timeoutHandle=null);this._timeoutHandle=setTimeout(i.delegate(this,function(){n._cache.clear()}),this._config.delayIntervalMS)},n._defaultDelayIntervalMS=6e4,n}();t.RequestCache=h;c=function(){function n(n){this._redirectors={};this.configure(n);this._objectCache=new o}return n.prototype.configure=function(n){if(!n||!n.getUniqueIdentifier)throw{source:"TwoLayerCache configure",message:"missing config or missing the required getUniqueIdentifier property",parameter:"config"};this._config=n},n.prototype.addRedirector=function(n){if(n===null||n===undefined)throw{source:"TwoLayerCache addRedirector",message:"invalid null/undefined cacheType",parameter:"cacheType"};if(this._redirectors.hasOwnProperty(n.toString()))throw{source:"TwoLayerCache addRedirector",message:"redirector with supplied cacheType already exists: currently at most one redirector supported for a CacheType",parameter:"cacheType"};this._redirectors[n.toString()]=new o},n.prototype.get=function(n,t){return this._queryCache(n,t)},n.prototype.set=function(n,t,i){var u,r,f;if(u=i?i:s.guessQueryTokenType(n).toString(),r=this._config.getUniqueIdentifier(t),!r)throw{source:"TwoLayerCache set",message:"could not retrieve a valid unique identifier from the value"};if(u==e.UniqueIdentifier.toString()||r==n||this._redirectors.hasOwnProperty(u.toString())){if(u==e.UniqueIdentifier.toString()||r==n){this._objectCache.set(n,t);return}f=this._redirectors[u];f.set(n,r);this._objectCache.set(r,t);return}},n.prototype._queryCache=function(n,t){var i,r;return i=t?t:s.guessQueryTokenType(n).toString(),i==e.UniqueIdentifier.toString()?this._objectCache.get(n):this._redirectors.hasOwnProperty(i.toString())?(r=this._redirectors[i].get(n),!r)?null:this._objectCache.get(r):this._objectCache.get(n)},n}();t.TwoLayerCache=c;l=function(){function n(){}return n.traceCacheHit=function(n,t){var r=n!=null,i={};i[u.TelemetryProperties.isTwoLayerCacheHit]=r;f.publishEvent(new f.TelemetryEventData(u.Telemetry.Area,t,i))},n}()});

define("VSS/Identities/Picker/Services",["require","exports","VSS/Context","VSS/Locations","VSS/Performance","VSS/Service","VSS/Telemetry/Services","VSS/User/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Identities/Picker/RestClient","VSS/Identities/Picker/Cache","VSS/Identities/Picker/Common","VSS/Identities/Picker/Constants","q"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var w,p,b,k;Object.defineProperty(t,"__esModule",{value:!0});w=s.delegate;p=function(){function n(){}return n.getOperationScopeList=function(n){var t=[];return n.IMS&&t.push("ims"),n.Source&&t.push("source"),n.AAD&&t.push("aad"),n.AD&&t.push("ad"),n.WMD&&t.push("wmd"),t},n.getQueryTypeHint=function(n){var t=void 0;return n?(n.UID&&(t="uid"),t):t},n.getIdentityTypeList=function(t){var i=[];return t.User&&i.push(n.UserEntity),t.Group&&i.push(n.GroupEntity),i},n.getConnectionTypeList=function(n){var t=[];return n.successors?t.push("successors"):n.successors&&t.push("predecessors"),n.managers&&t.push("managers"),n.directReports&&t.push("directReports"),t},n.getDefaultIdentityImage=function(t){return t.entityType.toLowerCase().trim()==n.GroupEntity?t.originDirectory.toLowerCase().trim()==n.VisualStudioDirectory?n.DefaultVsoGroupImage:n.DefaultRemoteGroupImage:n.DefaultUserImage},n.getDistinct=function(n){return n.filter(function(n,t,i){return i.indexOf(n)==t})},n.isAuthenticatedMember=function(){return o.getService().hasClaim(o.UserClaims.Member)},n.getPrefixTypeForTelemetry=function(n){var t,r;return h.isGuid(n)?v.PrefixType.Vsid:(t=n.indexOf("@"),t&&n.indexOf(".",t))?v.PrefixType.SignInAddress:(r=n.indexOf("\\"),r&&r==n.lastIndexOf("\\"))?i.getPageContext().webAccessConfiguration.isHosted?v.PrefixType.ScopedPrefix:v.PrefixType.DomainSamAccountName:n.startsWith("vss.ds.v1")?v.PrefixType.EntityId:v.PrefixType.StringPrefix},n.addScenarioProperties=function(t,i,r,u,f,e){return u&&(i[v.TelemetryProperties.identityTypes]=n.getIdentityTypeList(u)),r&&(i[v.TelemetryProperties.operationScopes]=n.getOperationScopeList(r)),f&&(i[v.TelemetryProperties.maxResults]=f.maxResults,i[v.TelemetryProperties.minResults]=f.minResults),i[v.TelemetryProperties.consumerId]=e?e.consumerId:v.ConsumerId.UnknownConsumer,i[v.TelemetryProperties.userId]=t&&t.getWebContext()&&t.getWebContext().user?t.getWebContext().user.id:"",i[v.TelemetryProperties.accountProjectCollectionTeam]=n._getHostMetadata(t),i},n._getHostMetadata=function(n){var t="",i="",r="",u="";return n&&n.getWebContext()&&(t=n.getWebContext().account?n.getWebContext().account.name:"",i=n.getWebContext().collection?n.getWebContext().collection.name:"",r=n.getWebContext().project?n.getWebContext().project.name:"",u=n.getWebContext().team?n.getWebContext().team.name:""),"account["+t+"]/collection["+i+"]/project["+r+"]/team["+u+"]"},n._defaultProperties=["DisplayName","IsMru","ScopeName","SamAccountName","Active","SubjectDescriptor"],n._defaultUserProperties=["Department","JobTitle","Mail","MailNickname","PhysicalDeliveryOfficeName","SignInAddress","Surname","Guest","TelephoneNumber"],n._defaultGroupProperties=["Description"],n.DefaultUserImage=r.urlHelper.getVersionedContentUrl("ip-content-user-default.png"),n.DefaultVsoGroupImage=r.urlHelper.getVersionedContentUrl("ip-content-vso-group-default.png"),n.DefaultRemoteGroupImage=r.urlHelper.getVersionedContentUrl("ip-content-aad-group-default.png"),n.VisualStudioDirectory="vsd",n.AzureActiveDirectory="aad",n.ActiveDirectory="ad",n.WindowsMachineDirectory="wmd",n.SourceDirectory="src",n.UserEntity="user",n.GroupEntity="group",n.OptionsMinResultsKey="MinResults",n.OptionsMaxResultsKey="MaxResults",n.ExtensionData_ExtensionIdKey="ExtensionId",n.ExtensionData_ProjectScopeNameKey="ProjectScopeName",n.ExtensionData_CollectionScopeNameKey="CollectionScopeName",n.ExtensionData_ConstraintListKey="Constraints",n.ExtensionData_NoServiceIdentities="NoServiceIdentities",n.GetIdentities_Prefix_Separator=";",n}();t.ServiceHelpers=p;b=function(n){function t(){var t=n.call(this)||this,i={getUniqueIdentifier:function(n){return n&&n.identities&&n.identities.length==1?n.identities[0].entityId:null}};return t._qtrCache=new l.TwoLayerCache(i),t._qtrCache.addRedirector(l.CacheableTypes.Email),t._qtrCache.addRedirector(l.CacheableTypes.Guid),t._qtrRequestAggregator=new l.RequestCache,t._entityImageRequestAggregator=new l.RequestCache,t}return __extends(t,n),t.prototype.getIdentities=function(n,i,r,f,o,s){var it=this,k,b,h,rt,st,vt,ht,g,ct,ut,lt,yt,l,at,tt,et,bt,nt;if(!i){tt={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw tt;}if(!r){tt={source:"IdentityService",parameter:"identityType",message:"identityType null or undefined"};throw tt;}if(k=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_GetDirectory_Rtt),b={},b=p.addScenarioProperties(this,b,i,r,f,s),b[v.TelemetryProperties.prefixType]=p.getPrefixTypeForTelemetry(n),b[v.TelemetryProperties.prefixLength]=n.length,b[v.TelemetryProperties.isDirSearchUid]=Boolean(o&&o.UID),h={},rt={},!n)return rt;l=[];st=n.split(p.GetIdentities_Prefix_Separator);for(vt in st)ht=st[vt].trim(),ht&&l.push(ht);l=p.getDistinct(l);l.forEach(function(n){h[n.toLowerCase()]=y.defer();rt[n.toLowerCase()]=h[n.toLowerCase()].promise});for(g in h){if(ct=t.getUniqueRequestString(g,i,r,f?f.extensionData:null,f?f.getFilterByScope():null),ut=this._qtrCache.get(ct),ut){ut.queryToken=g;h[g].resolve(ut);l=t._removeQueryToken(g,l);continue}if(lt=this._qtrRequestAggregator.getPromise(ct),lt){yt=w(this,function(n){lt.then(w(it,function(t){h&&h[n]&&h[n].resolve(t)}),w(it,function(t){h&&h[n]&&h[n].reject(t)}))});yt(g);l=t._removeQueryToken(g,l);continue}}if(l.length==0)return rt;for(at in l)this._qtrRequestAggregator.setPromise(t.getUniqueRequestString(l[at],i,r,f?f.extensionData:null,f?f.getFilterByScope():null),h[l[at].toLowerCase()].promise);n=l.join(p.GetIdentities_Prefix_Separator);var pt=p.getIdentityTypeList(r),wt=p.getOperationScopeList(i),ft=p.getQueryTypeHint(o);if(pt.length==0||wt.length==0){tt={source:"IdentityService",parameter:"identityType or operationScope",message:"queried identityType or operationScope is/are unsupported"};throw tt;}f&&f.httpClient?et=f.httpClient:(bt=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),et=bt);var kt=pt,dt=wt,d={};f&&f.minResults&&(d[p.OptionsMinResultsKey]=f.minResults);f&&f.maxResults&&(d[p.OptionsMaxResultsKey]=f.maxResults);f&&f.extensionData&&(d[p.ExtensionData_ExtensionIdKey]=f.extensionData.extensionId,d[p.ExtensionData_ProjectScopeNameKey]=f.extensionData.projectScopeName,d[p.ExtensionData_CollectionScopeNameKey]=f.extensionData.collectionScopeName,d[p.ExtensionData_ConstraintListKey]=f.extensionData.constraints);nt=p._defaultProperties;r.User&&(nt=nt.concat(p._defaultUserProperties));r.Group&&(nt=nt.concat(p._defaultGroupProperties));var ni=function(n){if(n.results.length<1)return u;var s=function(n){if(k&&k.addSplitTiming(v.Telemetry.Scenario_PagingQuerySplit+"_End_"+n&&n.results[0]?a.CommonHelpers.GetStringHashCode(n.results[0].queryToken).toString():""),n&&n.results.length!=0){n.results[0].identities.forEach(function(n){n.image||(n.image=p.getDefaultIdentityImage(n))});it._cacheQueryTokenResult(n.results[0],t.getUniqueRequestString(n.results[0].queryToken.trim(),i,r,f?f.extensionData:null,f?f.getFilterByScope():null));var u=n.results[0].queryToken;u&&h[u.toLowerCase().trim()]&&h[u.toLowerCase().trim()].resolve(n.results[0])}},o=function(n){for(var t in h)h[t].reject(n);b[v.TelemetryProperties.exceptionData]=n;e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,b))},u,c=function(n){var e,c,l;n.identities&&n.identities.length==0&&n.pagingToken?(e=f&&f.getFilterByScope(),c={query:n.queryToken,identityTypes:kt,operationScopes:dt,properties:nt,filterByAncestorEntityIds:e?e.filterByAncestorEntityIds:[],filterByEntityIds:e?e.filterByEntityIds:[],pagingToken:n.pagingToken,options:d},ft&&(c.queryTypeHint=ft),k.addSplitTiming(v.Telemetry.Scenario_PagingQuerySplit+"_Start_"+a.CommonHelpers.GetStringHashCode(n.queryToken).toString()),l=et.beginGetIdentities(c).then(s,o),u&&u.push(l)):n.identities&&n.identities.length>=0?(n.identities.forEach(function(n){n.image||(n.image=p.getDefaultIdentityImage(n))}),it._cacheQueryTokenResult(n,t.getUniqueRequestString(n.queryToken.trim(),i,r,f?f.extensionData:null,f?f.getFilterByScope():null)),n.queryToken&&h[n.queryToken.toLowerCase().trim()]&&h[n.queryToken.toLowerCase().trim()].resolve(n)):o()};n.results.forEach(c,it);u&&u.length>0?y.allSettled(u).then(function(){k.addData(b);k.end()},function(){k.addData(b);k.end()}):(k.addData(b),k.end())},ti=function(n){for(var t in h)h[t].reject(n);b[v.TelemetryProperties.exceptionData]=n;e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,b));k.end()},ot=f&&f.getFilterByScope(),gt={query:n,identityTypes:kt,operationScopes:dt,properties:nt,filterByAncestorEntityIds:ot?ot.filterByAncestorEntityIds:[],filterByEntityIds:ot?ot.filterByEntityIds:[],options:d};return ft&&(gt.queryTypeHint=ft),et.beginGetIdentities(gt).then(ni,ti),rt},t.prototype.getIdentityImages=function(n,i){var h=this,l,r,e,o,a,f,s,v,u;if(!n||n.length<=0){l={source:"IdentityService",parameter:"identities",message:"identities null or undefined or empty list"};throw l;}r={};e={};i&&i.httpClient?o=i.httpClient:(a=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),o=a);u=t._getEntityIdsAsQueryTokens(n);u.forEach(function(n){r[n]=y.defer();e[n]=r[n].promise});for(f in r)if(s=this._entityImageRequestAggregator.getPromise(f),s){v=w(this,function(n){s.then(w(h,function(t){r&&r[n]&&r[n].resolve(t)}),w(h,function(t){r&&r[n]&&r[n].reject(t)}))});v(f);u=t._removeQueryToken(f,u);continue}else this._entityImageRequestAggregator.setPromise(f,r[f].promise);return u.length==0?e:(u.forEach(function(n){var t=function(t){var i;t&&t.trim()&&(i={},i[n]=t.trim(),r[n].resolve(i))};o.beginGetIdentityImageLocation(n).then(t)}),e)},t.prototype.getIdentityConnections=function(n,t,i,r,f,o,s){var h,a,l,w,nt,b,tt;if(!p.isAuthenticatedMember())return null;if(!n){h={source:"IdentityService",parameter:"identity",message:"identity null or undefined or empty list"};throw h;}if(!t){h={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw h;}if(!i){h={source:"IdentityService",parameter:"identityType",message:"identityType null or undefined"};throw h;}if(!r){h={source:"IdentityService",parameter:"connectionType",message:"connectionType null or undefined"};throw h;}var it=s?s:1,k=p.getIdentityTypeList(i),d=p.getOperationScopeList(t),g=p.getConnectionTypeList(r);if(k.length==0||d.length==0||g.length==0){h={source:"IdentityService",parameter:"identityType or operationScope or connectionType",message:"queried identityType or operationScope or connectionType is/are unsupported"};throw h;}a=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_GetConnections_Rtt);l={};l=p.addScenarioProperties(this,l,t,i,f,o);l[v.TelemetryProperties.entityId]=n.entityId;w=y.defer();nt=w.promise;f&&f.httpClient?b=f.httpClient:(tt=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),b=tt);var rt=p._defaultProperties.concat(p._defaultUserProperties).concat(p._defaultGroupProperties).concat("Manager"),ut={identityTypes:k,operationScopes:d,connectionTypes:g,depth:it,properties:rt},ft=function(n){n&&n.successors&&n.successors.forEach(function(n){n.image||(n.image=p.getDefaultIdentityImage(n))});a.addData(l);a.end();w.resolve(n)},et=function(n){l[v.TelemetryProperties.exceptionData]=n;a.addData(l);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,l));a.end();w.reject(n)};return b.beginGetConnections(n.entityId,ut).then(ft,et),nt},t._getEntityIdsAsQueryTokens=function(n){var t=[];return n.forEach(function(n){(n.entityType.trim().toLowerCase()==p.UserEntity||n.entityType.trim().toLowerCase()==p.GroupEntity)&&t.push(n.entityId)}),t},t.prototype._cacheQueryTokenResult=function(n,t){n.queryToken&&n.queryToken.trim()&&n.identities&&n.identities.length==1&&t&&this._qtrCache.set(t,n)},t._removeQueryToken=function(n,t){var i=-1;return t.some(function(t,r){if(n==t.toLowerCase())return i=r,!0}),i>=0&&t.splice(i,1),t},t.getUniqueRequestString=function(n,i,r,u,f){var e=p.getIdentityTypeList(r).join(","),o=p.getOperationScopeList(i).join(",");return(n+";"+o+";"+e+";"+t.getExtensionUniqueRequestString(u)+";"+a.FilterByScope.GetHashCode(f).toString()).trim().toLowerCase()},t.getExtensionUniqueRequestString=function(n){return n?a.CommonHelpers.GetStringHashCode(n.collectionScopeName).toString()+a.CommonHelpers.GetStringHashCode(n.projectScopeName).toString()+a.CommonHelpers.GetStringHashCode(n.extensionId).toString()+a.CommonHelpers.GetStringListHashCode(n.constraints).toString():""},t.MIN_RESULTS=40,t.MAX_RESULTS=40,t}(f.VssService);t.IdentityService=b;k=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.getMruIdentities=function(n,i,r,f,o){var l,h,w,s,a,k,b,d;if(!p.isAuthenticatedMember())return null;if(!n){s={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw s;}if(i&&i.trim().toLowerCase()!=t.DEFAULT_IDENTITY_ID){s={source:"IdentityService",parameter:"identityId",message:"identityId can only be 'me'"};throw s;}if(i="me",r&&r.trim().toLowerCase()!=t.DEFAULT_FEATURE_ID){s={source:"IdentityService",parameter:"featureId",message:"featureId can only be 'common'"};throw s;}if(r="common",l=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_GetMru_Rtt),h={},h=p.addScenarioProperties(this,h,null,null,f,o),w=p.getOperationScopeList(n),w.length==0){s={source:"IdentityService",parameter:"operationScope",message:"queried operationScope is unsupported"};throw s;}a=y.defer();k=a.promise;f&&f.httpClient?b=f.httpClient:(d=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),b=d);var g=p._defaultProperties.concat(p._defaultUserProperties).concat(p._defaultGroupProperties),nt={operationScopes:w,properties:g,filterByAncestorEntityIds:f&&f.filterByScope?f.filterByScope.filterByAncestorEntityIds:[],filterByEntityIds:f&&f.filterByScope?f.filterByScope.filterByEntityIds:[]},tt=function(n){l.addData(h);l.end();a.resolve(n.mruIdentities)},it=function(n){h[v.TelemetryProperties.exceptionData]=n;l.addData(h);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,h));l.end();a.reject(n)};return b.beginGetIdentityFeatureMru(i,r,nt).then(tt,it),k},t.prototype.removeMruIdentities=function(n,i,r,f,o,s){var a,l,b,h,w,d,k,g;if(!p.isAuthenticatedMember())return null;if(!n||n.length==0){h={source:"IdentityService",parameter:"objectIds",message:"objectIds null or undefined or empty"};throw h;}if(!i){h={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw h;}if(r&&r.trim().toLowerCase()!=t.DEFAULT_IDENTITY_ID){h={source:"IdentityService",parameter:"identityId",message:"identityId can only be 'me'"};throw h;}if(r="me",f&&f.trim().toLowerCase()!=t.DEFAULT_FEATURE_ID){h={source:"IdentityService",parameter:"featureId",message:"featureId can only be 'common'"};throw h;}if(f="common",a=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_RemoveMru_Rtt),l={},l=p.addScenarioProperties(this,l,null,null,o,s),b=p.getOperationScopeList(i),b.length==0){h={source:"IdentityService",parameter:"operationScope",message:"queried operationScope is unsupported"};throw h;}w=y.defer();d=w.promise;o&&o.httpClient?k=o.httpClient:(g=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),k=g);var nt=[{op:"remove",value:n,operationScopes:b}],tt=function(n){a.addData(l);a.end();w.resolve(n.result)},it=function(n){l[v.TelemetryProperties.exceptionData]=n;a.addData(l);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,l));a.end();w.reject(n)};return k.beginPatchIdentityFeatureMru(r,f,nt).then(tt,it),d},t.prototype.addMruIdentities=function(n,i,r,f,o,s){var b,h,a,l,w,d,k,g;if(!p.isAuthenticatedMember())return null;if(!n||n.length==0){h={source:"IdentityService",parameter:"objectIds",message:"objectIds null or undefined or empty"};throw h;}if(!i){h={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw h;}if(r&&r.trim().toLowerCase()!=t.DEFAULT_IDENTITY_ID){h={source:"IdentityService",parameter:"identityId",message:"identityId can only be 'me'"};throw h;}if(r=t.DEFAULT_IDENTITY_ID,f&&f.trim().toLowerCase()!=t.DEFAULT_FEATURE_ID){h={source:"IdentityService",parameter:"featureId",message:"featureId can only be 'common'"};throw h;}if(f=t.DEFAULT_FEATURE_ID,b=p.getOperationScopeList(i),b.length==0){h={source:"IdentityService",parameter:"operationScope",message:"queried operationScope is unsupported"};throw h;}a=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_AddMru_Rtt);l={};l=p.addScenarioProperties(this,l,null,null,o,s);w=y.defer();d=w.promise;o&&o.httpClient?k=o.httpClient:(g=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),k=g);var nt=[{op:"add",value:n,operationScopes:b}],tt=function(n){a.addData(l);a.end();w.resolve(n.result)},it=function(n){l[v.TelemetryProperties.exceptionData]=n;a.addData(l);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,l));a.end();w.reject(n)};return k.beginPatchIdentityFeatureMru(r,f,nt).then(tt,it),d},t.DEFAULT_IDENTITY_ID="me",t.DEFAULT_FEATURE_ID="common",t}(f.VssService);t.MruService=k});

/*!
 * jQuery UI Button 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/button",["jquery", "./core", "./widget"], n) : n(jQuery) })(function (n) { var t, i = "ui-button ui-widget ui-state-default ui-corner-all", r = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only", f = function () { var t = n(this); setTimeout(function () { t.find(":ui-button").button("refresh") }, 1) }, u = function (t) { var i = t.name, r = t.form, u = n([]); return i && (i = i.replace(/'/g, "\\'"), u = r ? n(r).find("[name='" + i + "'][type=radio]") : n("[name='" + i + "'][type=radio]", t.ownerDocument).filter(function () { return !this.form })), u }; return n.widget("ui.button", { version: "1.11.4", defaultElement: "<button>", options: { disabled: null, text: !0, label: null, icons: { primary: null, secondary: null } }, _create: function () { this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, f); typeof this.options.disabled != "boolean" ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled); this._determineButtonType(); this.hasTitle = !!this.buttonElement.attr("title"); var e = this, r = this.options, o = this.type === "checkbox" || this.type === "radio", s = o ? "" : "ui-state-active"; r.label === null && (r.label = this.type === "input" ? this.buttonElement.val() : this.buttonElement.html()); this._hoverable(this.buttonElement); this.buttonElement.addClass(i).attr("role", "button").bind("mouseenter" + this.eventNamespace, function () { r.disabled || this === t && n(this).addClass("ui-state-active") }).bind("mouseleave" + this.eventNamespace, function () { r.disabled || n(this).removeClass(s) }).bind("click" + this.eventNamespace, function (n) { r.disabled && (n.preventDefault(), n.stopImmediatePropagation()) }); this._on({ focus: function () { this.buttonElement.addClass("ui-state-focus") }, blur: function () { this.buttonElement.removeClass("ui-state-focus") } }); o && this.element.bind("change" + this.eventNamespace, function () { e.refresh() }); this.type === "checkbox" ? this.buttonElement.bind("click" + this.eventNamespace, function () { if (r.disabled) return !1 }) : this.type === "radio" ? this.buttonElement.bind("click" + this.eventNamespace, function () { if (r.disabled) return !1; n(this).addClass("ui-state-active"); e.buttonElement.attr("aria-pressed", "true"); var t = e.element[0]; u(t).not(t).map(function () { return n(this).button("widget")[0] }).removeClass("ui-state-active").attr("aria-pressed", "false") }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function () { if (r.disabled) return !1; n(this).addClass("ui-state-active"); t = this; e.document.one("mouseup", function () { t = null }) }).bind("mouseup" + this.eventNamespace, function () { if (r.disabled) return !1; n(this).removeClass("ui-state-active") }).bind("keydown" + this.eventNamespace, function (t) { if (r.disabled) return !1; (t.keyCode === n.ui.keyCode.SPACE || t.keyCode === n.ui.keyCode.ENTER) && n(this).addClass("ui-state-active") }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function () { n(this).removeClass("ui-state-active") }), this.buttonElement.is("a") && this.buttonElement.keyup(function (t) { t.keyCode === n.ui.keyCode.SPACE && n(this).click() })); this._setOption("disabled", r.disabled); this._resetButton() }, _determineButtonType: function () { var n, t, i; this.type = this.element.is("[type=checkbox]") ? "checkbox" : this.element.is("[type=radio]") ? "radio" : this.element.is("input") ? "input" : "button"; this.type === "checkbox" || this.type === "radio" ? (n = this.element.parents().last(), t = "label[for='" + this.element.attr("id") + "']", this.buttonElement = n.find(t), this.buttonElement.length || (n = n.length ? n.siblings() : this.element.siblings(), this.buttonElement = n.filter(t), this.buttonElement.length || (this.buttonElement = n.find(t))), this.element.addClass("ui-helper-hidden-accessible"), i = this.element.is(":checked"), i && this.buttonElement.addClass("ui-state-active"), this.buttonElement.prop("aria-pressed", i)) : this.buttonElement = this.element }, widget: function () { return this.buttonElement }, _destroy: function () { this.element.removeClass("ui-helper-hidden-accessible"); this.buttonElement.removeClass(i + " ui-state-active " + r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()); this.hasTitle || this.buttonElement.removeAttr("title") }, _setOption: function (n, t) { if (this._super(n, t), n === "disabled") { this.widget().toggleClass("ui-state-disabled", !!t); this.element.prop("disabled", !!t); t && (this.type === "checkbox" || this.type === "radio" ? this.buttonElement.removeClass("ui-state-focus") : this.buttonElement.removeClass("ui-state-focus ui-state-active")); return } this._resetButton() }, refresh: function () { var t = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled"); t !== this.options.disabled && this._setOption("disabled", t); this.type === "radio" ? u(this.element[0]).each(function () { n(this).is(":checked") ? n(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false") }) : this.type === "checkbox" && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false")) }, _resetButton: function () { if (this.type === "input") { this.options.label && this.element.val(this.options.label); return } var i = this.buttonElement.removeClass(r), e = n("<span><\/span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(), t = this.options.icons, f = t.primary && t.secondary, u = []; t.primary || t.secondary ? (this.options.text && u.push("ui-button-text-icon" + (f ? "s" : t.primary ? "-primary" : "-secondary")), t.primary && i.prepend("<span class='ui-button-icon-primary ui-icon " + t.primary + "'><\/span>"), t.secondary && i.append("<span class='ui-button-icon-secondary ui-icon " + t.secondary + "'><\/span>"), this.options.text || (u.push(f ? "ui-button-icons-only" : "ui-button-icon-only"), this.hasTitle || i.attr("title", n.trim(e)))) : u.push("ui-button-text-only"); i.addClass(u.join(" ")) } }), n.widget("ui.buttonset", { version: "1.11.4", options: { items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)" }, _create: function () { this.element.addClass("ui-buttonset") }, _init: function () { this.refresh() }, _setOption: function (n, t) { n === "disabled" && this.buttons.button("option", n, t); this._super(n, t) }, refresh: function () { var i = this.element.css("direction") === "rtl", t = this.element.find(this.options.items), r = t.filter(":ui-button"); t.not(":ui-button").button(); r.button("refresh"); this.buttons = t.map(function () { return n(this).button("widget")[0] }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(i ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(i ? "ui-corner-left" : "ui-corner-right").end().end() }, _destroy: function () { this.element.removeClass("ui-buttonset"); this.buttons.map(function () { return n(this).button("widget")[0] }).removeClass("ui-corner-left ui-corner-right").end().button("destroy") } }), n.ui.button });

/*!
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/mouse",["jquery", "./widget"], n) : n(jQuery) })(function (n) { var t = !1; return n(document).mouseup(function () { t = !1 }), n.widget("ui.mouse", { version: "1.11.4", options: { cancel: "input,textarea,button,select,option", distance: 1, delay: 0 }, _mouseInit: function () { var t = this; this.element.bind("mousedown." + this.widgetName, function (n) { return t._mouseDown(n) }).bind("click." + this.widgetName, function (i) { if (!0 === n.data(i.target, t.widgetName + ".preventClickEvent")) return n.removeData(i.target, t.widgetName + ".preventClickEvent"), i.stopImmediatePropagation(), !1 }); this.started = !1 }, _mouseDestroy: function () { this.element.unbind("." + this.widgetName); this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate) }, _mouseDown: function (i) { if (!t) { this._mouseMoved = !1; this._mouseStarted && this._mouseUp(i); this._mouseDownEvent = i; var r = this, u = i.which === 1, f = typeof this.options.cancel == "string" && i.target.nodeName ? n(i.target).closest(this.options.cancel).length : !1; return !u || f || !this._mouseCapture(i) ? !0 : (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () { r.mouseDelayMet = !0 }, this.options.delay)), this._mouseDistanceMet(i) && this._mouseDelayMet(i) && (this._mouseStarted = this._mouseStart(i) !== !1, !this._mouseStarted)) ? (i.preventDefault(), !0) : (!0 === n.data(i.target, this.widgetName + ".preventClickEvent") && n.removeData(i.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function (n) { return r._mouseMove(n) }, this._mouseUpDelegate = function (n) { return r._mouseUp(n) }, this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), i.preventDefault(), t = !0, !0) } }, _mouseMove: function (t) { return this._mouseMoved && (n.ui.ie && (!document.documentMode || document.documentMode < 9) && !t.button || !t.which) ? this._mouseUp(t) : ((t.which || t.button) && (this._mouseMoved = !0), this._mouseStarted) ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1, this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted) }, _mouseUp: function (i) { return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, i.target === this._mouseDownEvent.target && n.data(i.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(i)), t = !1, !1 }, _mouseDistanceMet: function (n) { return Math.max(Math.abs(this._mouseDownEvent.pageX - n.pageX), Math.abs(this._mouseDownEvent.pageY - n.pageY)) >= this.options.distance }, _mouseDelayMet: function () { return this.mouseDelayMet }, _mouseStart: function () { }, _mouseDrag: function () { }, _mouseStop: function () { }, _mouseCapture: function () { return !0 } }) });

/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/draggable",["jquery", "./core", "./mouse", "./widget"], n) : n(jQuery) })(function (n) { return n.widget("ui.draggable", n.ui.mouse, { version: "1.11.4", widgetEventPrefix: "drag", options: { addClasses: !0, appendTo: "parent", axis: !1, connectToSortable: !1, containment: !1, cursor: "auto", cursorAt: !1, grid: !1, handle: !1, helper: "original", iframeFix: !1, opacity: !1, refreshPositions: !1, revert: !1, revertDuration: 500, scope: "default", scroll: !0, scrollSensitivity: 20, scrollSpeed: 20, snap: !1, snapMode: "both", snapTolerance: 20, stack: !1, zIndex: !1, drag: null, start: null, stop: null }, _create: function () { this.options.helper === "original" && this._setPositionRelative(); this.options.addClasses && this.element.addClass("ui-draggable"); this.options.disabled && this.element.addClass("ui-draggable-disabled"); this._setHandleClassName(); this._mouseInit() }, _setOption: function (n, t) { this._super(n, t); n === "handle" && (this._removeHandleClassName(), this._setHandleClassName()) }, _destroy: function () { if ((this.helper || this.element).is(".ui-draggable-dragging")) { this.destroyOnClear = !0; return } this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"); this._removeHandleClassName(); this._mouseDestroy() }, _mouseCapture: function (t) { var i = this.options; return (this._blurActiveElement(t), this.helper || i.disabled || n(t.target).closest(".ui-resizable-handle").length > 0) ? !1 : (this.handle = this._getHandle(t), !this.handle) ? !1 : (this._blockFrames(i.iframeFix === !0 ? "iframe" : i.iframeFix), !0) }, _blockFrames: function (t) { this.iframeBlocks = this.document.find(t).map(function () { var t = n(this); return n("<div>").css("position", "absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0] }) }, _unblockFrames: function () { this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks) }, _blurActiveElement: function (t) { var i = this.document[0]; if (this.handleElement.is(t.target)) try { i.activeElement && i.activeElement.nodeName.toLowerCase() !== "body" && n(i.activeElement).blur() } catch (r) { } }, _mouseStart: function (t) { var i = this.options; return (this.helper = this._createHelper(t), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), n.ui.ddmanager && (n.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(!0), this.offsetParent = this.helper.offsetParent(), this.hasFixedAncestor = this.helper.parents().filter(function () { return n(this).css("position") === "fixed" }).length > 0, this.positionAbs = this.element.offset(), this._refreshOffsets(t), this.originalPosition = this.position = this._generatePosition(t, !1), this.originalPageX = t.pageX, this.originalPageY = t.pageY, i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt), this._setContainment(), this._trigger("start", t) === !1) ? (this._clear(), !1) : (this._cacheHelperProportions(), n.ui.ddmanager && !i.dropBehaviour && n.ui.ddmanager.prepareOffsets(this, t), this._normalizeRightBottom(), this._mouseDrag(t, !0), n.ui.ddmanager && n.ui.ddmanager.dragStart(this, t), !0) }, _refreshOffsets: function (n) { this.offset = { top: this.positionAbs.top - this.margins.top, left: this.positionAbs.left - this.margins.left, scroll: !1, parent: this._getParentOffset(), relative: this._getRelativeOffset() }; this.offset.click = { left: n.pageX - this.offset.left, top: n.pageY - this.offset.top } }, _mouseDrag: function (t, i) { if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(t, !0), this.positionAbs = this._convertPositionTo("absolute"), !i) { var r = this._uiHash(); if (this._trigger("drag", t, r) === !1) return this._mouseUp({}), !1; this.position = r.position } return this.helper[0].style.left = this.position.left + "px", this.helper[0].style.top = this.position.top + "px", n.ui.ddmanager && n.ui.ddmanager.drag(this, t), !1 }, _mouseStop: function (t) { var r = this, i = !1; return n.ui.ddmanager && !this.options.dropBehaviour && (i = n.ui.ddmanager.drop(this, t)), this.dropped && (i = this.dropped, this.dropped = !1), this.options.revert === "invalid" && !i || this.options.revert === "valid" && i || this.options.revert === !0 || n.isFunction(this.options.revert) && this.options.revert.call(this.element, i) ? n(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () { r._trigger("stop", t) !== !1 && r._clear() }) : this._trigger("stop", t) !== !1 && this._clear(), !1 }, _mouseUp: function (t) { return this._unblockFrames(), n.ui.ddmanager && n.ui.ddmanager.dragStop(this, t), this.handleElement.is(t.target) && this.element.focus(), n.ui.mouse.prototype._mouseUp.call(this, t) }, cancel: function () { return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this }, _getHandle: function (t) { return this.options.handle ? !!n(t.target).closest(this.element.find(this.options.handle)).length : !0 }, _setHandleClassName: function () { this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element; this.handleElement.addClass("ui-draggable-handle") }, _removeHandleClassName: function () { this.handleElement.removeClass("ui-draggable-handle") }, _createHelper: function (t) { var r = this.options, u = n.isFunction(r.helper), i = u ? n(r.helper.apply(this.element[0], [t])) : r.helper === "clone" ? this.element.clone().removeAttr("id") : this.element; return i.parents("body").length || i.appendTo(r.appendTo === "parent" ? this.element[0].parentNode : r.appendTo), u && i[0] === this.element[0] && this._setPositionRelative(), i[0] === this.element[0] || /(fixed|absolute)/.test(i.css("position")) || i.css("position", "absolute"), i }, _setPositionRelative: function () { /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative") }, _adjustOffsetFromHelper: function (t) { typeof t == "string" && (t = t.split(" ")); n.isArray(t) && (t = { left: +t[0], top: +t[1] || 0 }); "left" in t && (this.offset.click.left = t.left + this.margins.left); "right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left); "top" in t && (this.offset.click.top = t.top + this.margins.top); "bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top) }, _isRootNode: function (n) { return /(html|body)/i.test(n.tagName) || n === this.document[0] }, _getParentOffset: function () { var t = this.offsetParent.offset(), i = this.document[0]; return this.cssPosition === "absolute" && this.scrollParent[0] !== i && n.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop()), this._isRootNode(this.offsetParent[0]) && (t = { top: 0, left: 0 }), { top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0), left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0) } }, _getRelativeOffset: function () { if (this.cssPosition !== "relative") return { top: 0, left: 0 }; var n = this.element.position(), t = this._isRootNode(this.scrollParent[0]); return { top: n.top - (parseInt(this.helper.css("top"), 10) || 0) + (t ? 0 : this.scrollParent.scrollTop()), left: n.left - (parseInt(this.helper.css("left"), 10) || 0) + (t ? 0 : this.scrollParent.scrollLeft()) } }, _cacheMargins: function () { this.margins = { left: parseInt(this.element.css("marginLeft"), 10) || 0, top: parseInt(this.element.css("marginTop"), 10) || 0, right: parseInt(this.element.css("marginRight"), 10) || 0, bottom: parseInt(this.element.css("marginBottom"), 10) || 0 } }, _cacheHelperProportions: function () { this.helperProportions = { width: this.helper.outerWidth(), height: this.helper.outerHeight() } }, _setContainment: function () { var f, t, i, r = this.options, u = this.document[0]; if (this.relativeContainer = null, !r.containment) { this.containment = null; return } if (r.containment === "window") { this.containment = [n(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, n(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, n(window).scrollLeft() + n(window).width() - this.helperProportions.width - this.margins.left, n(window).scrollTop() + (n(window).height() || u.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]; return } if (r.containment === "document") { this.containment = [0, 0, n(u).width() - this.helperProportions.width - this.margins.left, (n(u).height() || u.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]; return } if (r.containment.constructor === Array) { this.containment = r.containment; return } (r.containment === "parent" && (r.containment = this.helper[0].parentNode), t = n(r.containment), i = t[0], i) && (f = /(scroll|auto)/.test(t.css("overflow")), this.containment = [(parseInt(t.css("borderLeftWidth"), 10) || 0) + (parseInt(t.css("paddingLeft"), 10) || 0), (parseInt(t.css("borderTopWidth"), 10) || 0) + (parseInt(t.css("paddingTop"), 10) || 0), (f ? Math.max(i.scrollWidth, i.offsetWidth) : i.offsetWidth) - (parseInt(t.css("borderRightWidth"), 10) || 0) - (parseInt(t.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (f ? Math.max(i.scrollHeight, i.offsetHeight) : i.offsetHeight) - (parseInt(t.css("borderBottomWidth"), 10) || 0) - (parseInt(t.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relativeContainer = t) }, _convertPositionTo: function (n, t) { t || (t = this.position); var i = n === "absolute" ? 1 : -1, r = this._isRootNode(this.scrollParent[0]); return { top: t.top + this.offset.relative.top * i + this.offset.parent.top * i - (this.cssPosition === "fixed" ? -this.offset.scroll.top : r ? 0 : this.offset.scroll.top) * i, left: t.left + this.offset.relative.left * i + this.offset.parent.left * i - (this.cssPosition === "fixed" ? -this.offset.scroll.left : r ? 0 : this.offset.scroll.left) * i } }, _generatePosition: function (n, t) { var i, s, u, f, r = this.options, h = this._isRootNode(this.scrollParent[0]), e = n.pageX, o = n.pageY; return h && this.offset.scroll || (this.offset.scroll = { top: this.scrollParent.scrollTop(), left: this.scrollParent.scrollLeft() }), t && (this.containment && (this.relativeContainer ? (s = this.relativeContainer.offset(), i = [this.containment[0] + s.left, this.containment[1] + s.top, this.containment[2] + s.left, this.containment[3] + s.top]) : i = this.containment, n.pageX - this.offset.click.left < i[0] && (e = i[0] + this.offset.click.left), n.pageY - this.offset.click.top < i[1] && (o = i[1] + this.offset.click.top), n.pageX - this.offset.click.left > i[2] && (e = i[2] + this.offset.click.left), n.pageY - this.offset.click.top > i[3] && (o = i[3] + this.offset.click.top)), r.grid && (u = r.grid[1] ? this.originalPageY + Math.round((o - this.originalPageY) / r.grid[1]) * r.grid[1] : this.originalPageY, o = i ? u - this.offset.click.top >= i[1] || u - this.offset.click.top > i[3] ? u : u - this.offset.click.top >= i[1] ? u - r.grid[1] : u + r.grid[1] : u, f = r.grid[0] ? this.originalPageX + Math.round((e - this.originalPageX) / r.grid[0]) * r.grid[0] : this.originalPageX, e = i ? f - this.offset.click.left >= i[0] || f - this.offset.click.left > i[2] ? f : f - this.offset.click.left >= i[0] ? f - r.grid[0] : f + r.grid[0] : f), r.axis === "y" && (e = this.originalPageX), r.axis === "x" && (o = this.originalPageY)), { top: o - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (this.cssPosition === "fixed" ? -this.offset.scroll.top : h ? 0 : this.offset.scroll.top), left: e - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (this.cssPosition === "fixed" ? -this.offset.scroll.left : h ? 0 : this.offset.scroll.left) } }, _clear: function () { this.helper.removeClass("ui-draggable-dragging"); this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(); this.helper = null; this.cancelHelperRemoval = !1; this.destroyOnClear && this.destroy() }, _normalizeRightBottom: function () { this.options.axis !== "y" && this.helper.css("right") !== "auto" && (this.helper.width(this.helper.width()), this.helper.css("right", "auto")); this.options.axis !== "x" && this.helper.css("bottom") !== "auto" && (this.helper.height(this.helper.height()), this.helper.css("bottom", "auto")) }, _trigger: function (t, i, r) { return r = r || this._uiHash(), n.ui.plugin.call(this, t, [i, r, this], !0), /^(drag|start|stop)/.test(t) && (this.positionAbs = this._convertPositionTo("absolute"), r.offset = this.positionAbs), n.Widget.prototype._trigger.call(this, t, i, r) }, plugins: {}, _uiHash: function () { return { helper: this.helper, position: this.position, originalPosition: this.originalPosition, offset: this.positionAbs } } }), n.ui.plugin.add("draggable", "connectToSortable", { start: function (t, i, r) { var u = n.extend({}, i, { item: r.element }); r.sortables = []; n(r.options.connectToSortable).each(function () { var i = n(this).sortable("instance"); i && !i.options.disabled && (r.sortables.push(i), i.refreshPositions(), i._trigger("activate", t, u)) }) }, stop: function (t, i, r) { var u = n.extend({}, i, { item: r.element }); r.cancelHelperRemoval = !1; n.each(r.sortables, function () { var n = this; n.isOver ? (n.isOver = 0, r.cancelHelperRemoval = !0, n.cancelHelperRemoval = !1, n._storedCSS = { position: n.placeholder.css("position"), top: n.placeholder.css("top"), left: n.placeholder.css("left") }, n._mouseStop(t), n.options.helper = n.options._helper) : (n.cancelHelperRemoval = !0, n._trigger("deactivate", t, u)) }) }, drag: function (t, i, r) { n.each(r.sortables, function () { var f = !1, u = this; u.positionAbs = r.positionAbs; u.helperProportions = r.helperProportions; u.offset.click = r.offset.click; u._intersectsWith(u.containerCache) && (f = !0, n.each(r.sortables, function () { return this.positionAbs = r.positionAbs, this.helperProportions = r.helperProportions, this.offset.click = r.offset.click, this !== u && this._intersectsWith(this.containerCache) && n.contains(u.element[0], this.element[0]) && (f = !1), f })); f ? (u.isOver || (u.isOver = 1, r._parent = i.helper.parent(), u.currentItem = i.helper.appendTo(u.element).data("ui-sortable-item", !0), u.options._helper = u.options.helper, u.options.helper = function () { return i.helper[0] }, t.target = u.currentItem[0], u._mouseCapture(t, !0), u._mouseStart(t, !0, !0), u.offset.click.top = r.offset.click.top, u.offset.click.left = r.offset.click.left, u.offset.parent.left -= r.offset.parent.left - u.offset.parent.left, u.offset.parent.top -= r.offset.parent.top - u.offset.parent.top, r._trigger("toSortable", t), r.dropped = u.element, n.each(r.sortables, function () { this.refreshPositions() }), r.currentItem = r.element, u.fromOutside = r), u.currentItem && (u._mouseDrag(t), i.position = u.position)) : u.isOver && (u.isOver = 0, u.cancelHelperRemoval = !0, u.options._revert = u.options.revert, u.options.revert = !1, u._trigger("out", t, u._uiHash(u)), u._mouseStop(t, !0), u.options.revert = u.options._revert, u.options.helper = u.options._helper, u.placeholder && u.placeholder.remove(), i.helper.appendTo(r._parent), r._refreshOffsets(t), i.position = r._generatePosition(t, !0), r._trigger("fromSortable", t), r.dropped = !1, n.each(r.sortables, function () { this.refreshPositions() })) }) } }), n.ui.plugin.add("draggable", "cursor", { start: function (t, i, r) { var u = n("body"), f = r.options; u.css("cursor") && (f._cursor = u.css("cursor")); u.css("cursor", f.cursor) }, stop: function (t, i, r) { var u = r.options; u._cursor && n("body").css("cursor", u._cursor) } }), n.ui.plugin.add("draggable", "opacity", { start: function (t, i, r) { var u = n(i.helper), f = r.options; u.css("opacity") && (f._opacity = u.css("opacity")); u.css("opacity", f.opacity) }, stop: function (t, i, r) { var u = r.options; u._opacity && n(i.helper).css("opacity", u._opacity) } }), n.ui.plugin.add("draggable", "scroll", { start: function (n, t, i) { i.scrollParentNotHidden || (i.scrollParentNotHidden = i.helper.scrollParent(!1)); i.scrollParentNotHidden[0] !== i.document[0] && i.scrollParentNotHidden[0].tagName !== "HTML" && (i.overflowOffset = i.scrollParentNotHidden.offset()) }, drag: function (t, i, r) { var u = r.options, o = !1, e = r.scrollParentNotHidden[0], f = r.document[0]; e !== f && e.tagName !== "HTML" ? (u.axis && u.axis === "x" || (r.overflowOffset.top + e.offsetHeight - t.pageY < u.scrollSensitivity ? e.scrollTop = o = e.scrollTop + u.scrollSpeed : t.pageY - r.overflowOffset.top < u.scrollSensitivity && (e.scrollTop = o = e.scrollTop - u.scrollSpeed)), u.axis && u.axis === "y" || (r.overflowOffset.left + e.offsetWidth - t.pageX < u.scrollSensitivity ? e.scrollLeft = o = e.scrollLeft + u.scrollSpeed : t.pageX - r.overflowOffset.left < u.scrollSensitivity && (e.scrollLeft = o = e.scrollLeft - u.scrollSpeed))) : (u.axis && u.axis === "x" || (t.pageY - n(f).scrollTop() < u.scrollSensitivity ? o = n(f).scrollTop(n(f).scrollTop() - u.scrollSpeed) : n(window).height() - (t.pageY - n(f).scrollTop()) < u.scrollSensitivity && (o = n(f).scrollTop(n(f).scrollTop() + u.scrollSpeed))), u.axis && u.axis === "y" || (t.pageX - n(f).scrollLeft() < u.scrollSensitivity ? o = n(f).scrollLeft(n(f).scrollLeft() - u.scrollSpeed) : n(window).width() - (t.pageX - n(f).scrollLeft()) < u.scrollSensitivity && (o = n(f).scrollLeft(n(f).scrollLeft() + u.scrollSpeed)))); o !== !1 && n.ui.ddmanager && !u.dropBehaviour && n.ui.ddmanager.prepareOffsets(r, t) } }), n.ui.plugin.add("draggable", "snap", { start: function (t, i, r) { var u = r.options; r.snapElements = []; n(u.snap.constructor !== String ? u.snap.items || ":data(ui-draggable)" : u.snap).each(function () { var t = n(this), i = t.offset(); this !== r.element[0] && r.snapElements.push({ item: this, width: t.outerWidth(), height: t.outerHeight(), top: i.top, left: i.left }) }) }, drag: function (t, i, r) { for (var e, o, s, h, c, a, l, v, w, b = r.options, f = b.snapTolerance, y = i.offset.left, k = y + r.helperProportions.width, p = i.offset.top, d = p + r.helperProportions.height, u = r.snapElements.length - 1; u >= 0; u--) { if (c = r.snapElements[u].left - r.margins.left, a = c + r.snapElements[u].width, l = r.snapElements[u].top - r.margins.top, v = l + r.snapElements[u].height, k < c - f || y > a + f || d < l - f || p > v + f || !n.contains(r.snapElements[u].item.ownerDocument, r.snapElements[u].item)) { r.snapElements[u].snapping && r.options.snap.release && r.options.snap.release.call(r.element, t, n.extend(r._uiHash(), { snapItem: r.snapElements[u].item })); r.snapElements[u].snapping = !1; continue } b.snapMode !== "inner" && (e = Math.abs(l - d) <= f, o = Math.abs(v - p) <= f, s = Math.abs(c - k) <= f, h = Math.abs(a - y) <= f, e && (i.position.top = r._convertPositionTo("relative", { top: l - r.helperProportions.height, left: 0 }).top), o && (i.position.top = r._convertPositionTo("relative", { top: v, left: 0 }).top), s && (i.position.left = r._convertPositionTo("relative", { top: 0, left: c - r.helperProportions.width }).left), h && (i.position.left = r._convertPositionTo("relative", { top: 0, left: a }).left)); w = e || o || s || h; b.snapMode !== "outer" && (e = Math.abs(l - p) <= f, o = Math.abs(v - d) <= f, s = Math.abs(c - y) <= f, h = Math.abs(a - k) <= f, e && (i.position.top = r._convertPositionTo("relative", { top: l, left: 0 }).top), o && (i.position.top = r._convertPositionTo("relative", { top: v - r.helperProportions.height, left: 0 }).top), s && (i.position.left = r._convertPositionTo("relative", { top: 0, left: c }).left), h && (i.position.left = r._convertPositionTo("relative", { top: 0, left: a - r.helperProportions.width }).left)); !r.snapElements[u].snapping && (e || o || s || h || w) && r.options.snap.snap && r.options.snap.snap.call(r.element, t, n.extend(r._uiHash(), { snapItem: r.snapElements[u].item })); r.snapElements[u].snapping = e || o || s || h || w } } }), n.ui.plugin.add("draggable", "stack", { start: function (t, i, r) { var f, e = r.options, u = n.makeArray(n(e.stack)).sort(function (t, i) { return (parseInt(n(t).css("zIndex"), 10) || 0) - (parseInt(n(i).css("zIndex"), 10) || 0) }); u.length && (f = parseInt(n(u[0]).css("zIndex"), 10) || 0, n(u).each(function (t) { n(this).css("zIndex", f + t) }), this.css("zIndex", f + u.length)) } }), n.ui.plugin.add("draggable", "zIndex", { start: function (t, i, r) { var u = n(i.helper), f = r.options; u.css("zIndex") && (f._zIndex = u.css("zIndex")); u.css("zIndex", f.zIndex) }, stop: function (t, i, r) { var u = r.options; u._zIndex && n(i.helper).css("zIndex", u._zIndex) } }), n.ui.draggable });

/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(n){typeof define=="function"&&define.amd?define("jQueryUI/position",["jquery"],n):n(jQuery)})(function(n){return function(){function a(n,t,i){return[parseFloat(n[0])*(l.test(n[0])?t/100:1),parseFloat(n[1])*(l.test(n[1])?i/100:1)]}function r(t,i){return parseInt(n.css(t,i),10)||0}function y(t){var i=t[0];return i.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}n.ui=n.ui||{};var u,f,i=Math.max,t=Math.abs,e=Math.round,o=/left|center|right/,s=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,l=/%$/,v=n.fn.position;n.position={scrollbarWidth:function(){if(u!==undefined)return u;var r,i,t=n("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),f=t.children()[0];return n("body").append(t),r=f.offsetWidth,t.css("overflow","scroll"),i=f.offsetWidth,r===i&&(i=t[0].clientWidth),t.remove(),u=r-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),u=i==="scroll"||i==="auto"&&t.width<t.element[0].scrollWidth,f=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:f?n.position.scrollbarWidth():0,height:u?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]),u=!!i[0]&&i[0].nodeType===9;return{element:i,isWindow:r,isDocument:u,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r||u?i.width():i.outerWidth(),height:r||u?i.height():i.outerHeight()}}};n.fn.position=function(u){if(!u||!u.of)return v.apply(this,arguments);u=n.extend({},u);var k,l,p,b,w,g,nt=n(u.of),it=n.position.getWithinInfo(u.within),rt=n.position.getScrollInfo(it),d=(u.collision||"flip").split(" "),tt={};return g=y(nt),nt[0].preventDefault&&(u.at="left top"),l=g.width,p=g.height,b=g.offset,w=n.extend({},b),n.each(["my","at"],function(){var n=(u[this]||"").split(" "),t,i;n.length===1&&(n=o.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]);n[0]=o.test(n[0])?n[0]:"center";n[1]=s.test(n[1])?n[1]:"center";t=h.exec(n[0]);i=h.exec(n[1]);tt[this]=[t?t[0]:0,i?i[0]:0];u[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),d.length===1&&(d[1]=d[0]),u.at[0]==="right"?w.left+=l:u.at[0]==="center"&&(w.left+=l/2),u.at[1]==="bottom"?w.top+=p:u.at[1]==="center"&&(w.top+=p/2),k=a(tt.at,l,p),w.left+=k[0],w.top+=k[1],this.each(function(){var y,g,s=n(this),h=s.outerWidth(),c=s.outerHeight(),ut=r(this,"marginLeft"),ft=r(this,"marginTop"),et=h+ut+r(this,"marginRight")+rt.width,ot=c+ft+r(this,"marginBottom")+rt.height,o=n.extend({},w),v=a(tt.my,s.outerWidth(),s.outerHeight());u.my[0]==="right"?o.left-=h:u.my[0]==="center"&&(o.left-=h/2);u.my[1]==="bottom"?o.top-=c:u.my[1]==="center"&&(o.top-=c/2);o.left+=v[0];o.top+=v[1];f||(o.left=e(o.left),o.top=e(o.top));y={marginLeft:ut,marginTop:ft};n.each(["left","top"],function(t,i){n.ui.position[d[t]]&&n.ui.position[d[t]][i](o,{targetWidth:l,targetHeight:p,elemWidth:h,elemHeight:c,collisionPosition:y,collisionWidth:et,collisionHeight:ot,offset:[k[0]+v[0],k[1]+v[1]],my:u.my,at:u.at,within:it,elem:s})});u.using&&(g=function(n){var r=b.left-o.left,a=r+l-h,f=b.top-o.top,v=f+p-c,e={target:{element:nt,left:b.left,top:b.top,width:l,height:p},element:{element:s,left:o.left,top:o.top,width:h,height:c},horizontal:a<0?"left":r>0?"right":"center",vertical:v<0?"top":f>0?"bottom":"middle"};l<h&&t(r+a)<l&&(e.horizontal="center");p<c&&t(f+v)<p&&(e.vertical="middle");e.important=i(t(r),t(a))>i(t(f),t(v))?"horizontal":"vertical";u.using.call(this,n,e)});s.offset(n.extend(o,{using:g}))})};n.ui.position={fit:{left:function(n,t){var e=t.within,u=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,r=u-s,f=s+t.collisionWidth-o-u,h;t.collisionWidth>o?r>0&&f<=0?(h=n.left+r+t.collisionWidth-o-u,n.left+=r-h):n.left=f>0&&r<=0?u:r>f?u+o-t.collisionWidth:u:r>0?n.left+=r:f>0?n.left-=f:n.left=i(n.left-s,n.left)},top:function(n,t){var o=t.within,u=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,r=u-s,f=s+t.collisionHeight-e-u,h;t.collisionHeight>e?r>0&&f<=0?(h=n.top+r+t.collisionHeight-e-u,n.top+=r-h):n.top=f>0&&r<=0?u:r>f?u+e-t.collisionHeight:u:r>0?n.top+=r:f>0?n.top-=f:n.top=i(n.top-s,n.top)}},flip:{left:function(n,i){var r=i.within,y=r.offset.left+r.scrollLeft,c=r.width,o=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-i.collisionPosition.marginLeft,a=l-o,v=l+i.collisionWidth-c-o,u=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,f=i.at[0]==="left"?i.targetWidth:i.at[0]==="right"?-i.targetWidth:0,e=-2*i.offset[0],s,h;a<0?(s=n.left+u+f+e+i.collisionWidth-c-y,(s<0||s<t(a))&&(n.left+=u+f+e)):v>0&&(h=n.left-i.collisionPosition.marginLeft+u+f+e-o,(h>0||t(h)<v)&&(n.left+=u+f+e))},top:function(n,i){var r=i.within,y=r.offset.top+r.scrollTop,c=r.height,o=r.isWindow?r.scrollTop:r.offset.top,l=n.top-i.collisionPosition.marginTop,a=l-o,v=l+i.collisionHeight-c-o,p=i.my[1]==="top",u=p?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,f=i.at[1]==="top"?i.targetHeight:i.at[1]==="bottom"?-i.targetHeight:0,e=-2*i.offset[1],s,h;a<0?(h=n.top+u+f+e+i.collisionHeight-c-y,(h<0||h<t(a))&&(n.top+=u+f+e)):v>0&&(s=n.top-i.collisionPosition.marginTop+u+f+e-o,(s>0||t(s)<v)&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,r,u,e,o=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(o?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};o&&n.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in r)t.style[e]=r[e];t.appendChild(s);i=o||document.documentElement;i.insertBefore(t,i.firstChild);s.style.cssText="position: absolute; left: 10.7432222px;";u=n(s).offset().left;f=u>10&&u<11;t.innerHTML="";i.removeChild(t)}()}(),n.ui.position});

/*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/resizable",["jquery", "./core", "./mouse", "./widget"], n) : n(jQuery) })(function (n) { return n.widget("ui.resizable", n.ui.mouse, { version: "1.11.4", widgetEventPrefix: "resize", options: { alsoResize: !1, animate: !1, animateDuration: "slow", animateEasing: "swing", aspectRatio: !1, autoHide: !1, containment: !1, ghost: !1, grid: !1, handles: "e,s,se", helper: !1, maxHeight: null, maxWidth: null, minHeight: 10, minWidth: 10, zIndex: 90, resize: null, start: null, stop: null }, _num: function (n) { return parseInt(n, 10) || 0 }, _isNumber: function (n) { return !isNaN(parseInt(n, 10)) }, _hasScroll: function (t, i) { if (n(t).css("overflow") === "hidden") return !1; var r = i && i === "left" ? "scrollLeft" : "scrollTop", u = !1; return t[r] > 0 ? !0 : (t[r] = 1, u = t[r] > 0, t[r] = 0, u) }, _create: function () { var e, f, u, i, o, r = this, t = this.options; if (this.element.addClass("ui-resizable"), n.extend(this, { _aspectRatio: !!t.aspectRatio, aspectRatio: t.aspectRatio, originalElement: this.element, _proportionallyResizeElements: [], _helper: t.helper || t.ghost || t.animate ? t.helper || "ui-resizable-helper" : null }), this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i) && (this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({ position: this.element.css("position"), width: this.element.outerWidth(), height: this.element.outerHeight(), top: this.element.css("top"), left: this.element.css("left") })), this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")), this.elementIsWrapper = !0, this.element.css({ marginLeft: this.originalElement.css("marginLeft"), marginTop: this.originalElement.css("marginTop"), marginRight: this.originalElement.css("marginRight"), marginBottom: this.originalElement.css("marginBottom") }), this.originalElement.css({ marginLeft: 0, marginTop: 0, marginRight: 0, marginBottom: 0 }), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({ position: "static", zoom: 1, display: "block" })), this.originalElement.css({ margin: this.originalElement.css("margin") }), this._proportionallyResize()), this.handles = t.handles || (n(".ui-resizable-handle", this.element).length ? { n: ".ui-resizable-n", e: ".ui-resizable-e", s: ".ui-resizable-s", w: ".ui-resizable-w", se: ".ui-resizable-se", sw: ".ui-resizable-sw", ne: ".ui-resizable-ne", nw: ".ui-resizable-nw" } : "e,s,se"), this._handles = n(), this.handles.constructor === String) for (this.handles === "all" && (this.handles = "n,e,s,w,se,sw,ne,nw"), e = this.handles.split(","), this.handles = {}, f = 0; f < e.length; f++) u = n.trim(e[f]), o = "ui-resizable-" + u, i = n("<div class='ui-resizable-handle " + o + "'><\/div>"), i.css({ zIndex: t.zIndex }), "se" === u && i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"), this.handles[u] = ".ui-resizable-" + u, this.element.append(i); this._renderAxis = function (t) { var i, u, f, e; t = t || this.element; for (i in this.handles) this.handles[i].constructor === String ? this.handles[i] = this.element.children(this.handles[i]).first().show() : (this.handles[i].jquery || this.handles[i].nodeType) && (this.handles[i] = n(this.handles[i]), this._on(this.handles[i], { mousedown: r._mouseDown })), this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i) && (u = n(this.handles[i], this.element), e = /sw|ne|nw|se|n|s/.test(i) ? u.outerHeight() : u.outerWidth(), f = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""), t.css(f, e), this._proportionallyResize()), this._handles = this._handles.add(this.handles[i]) }; this._renderAxis(this.element); this._handles = this._handles.add(this.element.find(".ui-resizable-handle")); this._handles.disableSelection(); this._handles.mouseover(function () { r.resizing || (this.className && (i = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), r.axis = i && i[1] ? i[1] : "se") }); t.autoHide && (this._handles.hide(), n(this.element).addClass("ui-resizable-autohide").mouseenter(function () { t.disabled || (n(this).removeClass("ui-resizable-autohide"), r._handles.show()) }).mouseleave(function () { t.disabled || r.resizing || (n(this).addClass("ui-resizable-autohide"), r._handles.hide()) })); this._mouseInit() }, _destroy: function () { this._mouseDestroy(); var t, i = function (t) { n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove() }; return this.elementIsWrapper && (i(this.element), t = this.element, this.originalElement.css({ position: t.css("position"), width: t.outerWidth(), height: t.outerHeight(), top: t.css("top"), left: t.css("left") }).insertAfter(t), t.remove()), this.originalElement.css("resize", this.originalResizeStyle), i(this.originalElement), this }, _mouseCapture: function (t) { var r, i, u = !1; for (r in this.handles) i = n(this.handles[r])[0], (i === t.target || n.contains(i, t.target)) && (u = !0); return !this.options.disabled && u }, _mouseStart: function (t) { var u, f, e, r = this.options, i = this.element; return this.resizing = !0, this._renderProxy(), u = this._num(this.helper.css("left")), f = this._num(this.helper.css("top")), r.containment && (u += n(r.containment).scrollLeft() || 0, f += n(r.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = { left: u, top: f }, this.size = this._helper ? { width: this.helper.width(), height: this.helper.height() } : { width: i.width(), height: i.height() }, this.originalSize = this._helper ? { width: i.outerWidth(), height: i.outerHeight() } : { width: i.width(), height: i.height() }, this.sizeDiff = { width: i.outerWidth() - i.width(), height: i.outerHeight() - i.height() }, this.originalPosition = { left: u, top: f }, this.originalMousePosition = { left: t.pageX, top: t.pageY }, this.aspectRatio = typeof r.aspectRatio == "number" ? r.aspectRatio : this.originalSize.width / this.originalSize.height || 1, e = n(".ui-resizable-" + this.axis).css("cursor"), n("body").css("cursor", e === "auto" ? this.axis + "-resize" : e), i.addClass("ui-resizable-resizing"), this._propagate("start", t), !0 }, _mouseDrag: function (t) { var i, r, u = this.originalMousePosition, e = this.axis, o = t.pageX - u.left || 0, s = t.pageY - u.top || 0, f = this._change[e]; return (this._updatePrevProperties(), !f) ? !1 : (i = f.apply(this, [t, o, s]), this._updateVirtualBoundaries(t.shiftKey), (this._aspectRatio || t.shiftKey) && (i = this._updateRatio(i, t)), i = this._respectSize(i, t), this._updateCache(i), this._propagate("resize", t), r = this._applyChanges(), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), n.isEmptyObject(r) || (this._updatePrevProperties(), this._trigger("resize", t, this.ui()), this._applyChanges()), !1) }, _mouseStop: function (t) { this.resizing = !1; var r, u, f, e, o, s, h, c = this.options, i = this; return this._helper && (r = this._proportionallyResizeElements, u = r.length && /textarea/i.test(r[0].nodeName), f = u && this._hasScroll(r[0], "left") ? 0 : i.sizeDiff.height, e = u ? 0 : i.sizeDiff.width, o = { width: i.helper.width() - e, height: i.helper.height() - f }, s = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null, h = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null, c.animate || this.element.css(n.extend(o, { top: h, left: s })), i.helper.height(i.size.height), i.helper.width(i.size.width), this._helper && !c.animate && this._proportionallyResize()), n("body").css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", t), this._helper && this.helper.remove(), !1 }, _updatePrevProperties: function () { this.prevPosition = { top: this.position.top, left: this.position.left }; this.prevSize = { width: this.size.width, height: this.size.height } }, _applyChanges: function () { var n = {}; return this.position.top !== this.prevPosition.top && (n.top = this.position.top + "px"), this.position.left !== this.prevPosition.left && (n.left = this.position.left + "px"), this.size.width !== this.prevSize.width && (n.width = this.size.width + "px"), this.size.height !== this.prevSize.height && (n.height = this.size.height + "px"), this.helper.css(n), n }, _updateVirtualBoundaries: function (n) { var r, u, f, e, t, i = this.options; t = { minWidth: this._isNumber(i.minWidth) ? i.minWidth : 0, maxWidth: this._isNumber(i.maxWidth) ? i.maxWidth : Infinity, minHeight: this._isNumber(i.minHeight) ? i.minHeight : 0, maxHeight: this._isNumber(i.maxHeight) ? i.maxHeight : Infinity }; (this._aspectRatio || n) && (r = t.minHeight * this.aspectRatio, f = t.minWidth / this.aspectRatio, u = t.maxHeight * this.aspectRatio, e = t.maxWidth / this.aspectRatio, r > t.minWidth && (t.minWidth = r), f > t.minHeight && (t.minHeight = f), u < t.maxWidth && (t.maxWidth = u), e < t.maxHeight && (t.maxHeight = e)); this._vBoundaries = t }, _updateCache: function (n) { this.offset = this.helper.offset(); this._isNumber(n.left) && (this.position.left = n.left); this._isNumber(n.top) && (this.position.top = n.top); this._isNumber(n.height) && (this.size.height = n.height); this._isNumber(n.width) && (this.size.width = n.width) }, _updateRatio: function (n) { var t = this.position, i = this.size, r = this.axis; return this._isNumber(n.height) ? n.width = n.height * this.aspectRatio : this._isNumber(n.width) && (n.height = n.width / this.aspectRatio), r === "sw" && (n.left = t.left + (i.width - n.width), n.top = null), r === "nw" && (n.top = t.top + (i.height - n.height), n.left = t.left + (i.width - n.width)), n }, _respectSize: function (n) { var t = this._vBoundaries, i = this.axis, r = this._isNumber(n.width) && t.maxWidth && t.maxWidth < n.width, u = this._isNumber(n.height) && t.maxHeight && t.maxHeight < n.height, f = this._isNumber(n.width) && t.minWidth && t.minWidth > n.width, e = this._isNumber(n.height) && t.minHeight && t.minHeight > n.height, o = this.originalPosition.left + this.originalSize.width, s = this.position.top + this.size.height, h = /sw|nw|w/.test(i), c = /nw|ne|n/.test(i); return f && (n.width = t.minWidth), e && (n.height = t.minHeight), r && (n.width = t.maxWidth), u && (n.height = t.maxHeight), f && h && (n.left = o - t.minWidth), r && h && (n.left = o - t.maxWidth), e && c && (n.top = s - t.minHeight), u && c && (n.top = s - t.maxHeight), n.width || n.height || n.left || !n.top ? n.width || n.height || n.top || !n.left || (n.left = null) : n.top = null, n }, _getPaddingPlusBorderDimensions: function (n) { for (var t = 0, i = [], r = [n.css("borderTopWidth"), n.css("borderRightWidth"), n.css("borderBottomWidth"), n.css("borderLeftWidth")], u = [n.css("paddingTop"), n.css("paddingRight"), n.css("paddingBottom"), n.css("paddingLeft")]; t < 4; t++) i[t] = parseInt(r[t], 10) || 0, i[t] += parseInt(u[t], 10) || 0; return { height: i[0] + i[2], width: i[1] + i[3] } }, _proportionallyResize: function () { if (this._proportionallyResizeElements.length) for (var n, t = 0, i = this.helper || this.element; t < this._proportionallyResizeElements.length; t++) n = this._proportionallyResizeElements[t], this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(n)), n.css({ height: i.height() - this.outerDimensions.height || 0, width: i.width() - this.outerDimensions.width || 0 }) }, _renderProxy: function () { var t = this.element, i = this.options; this.elementOffset = t.offset(); this._helper ? (this.helper = this.helper || n("<div style='overflow:hidden;'><\/div>"), this.helper.addClass(this._helper).css({ width: this.element.outerWidth() - 1, height: this.element.outerHeight() - 1, position: "absolute", left: this.elementOffset.left + "px", top: this.elementOffset.top + "px", zIndex: ++i.zIndex }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element }, _change: { e: function (n, t) { return { width: this.originalSize.width + t } }, w: function (n, t) { var i = this.originalSize, r = this.originalPosition; return { left: r.left + t, width: i.width - t } }, n: function (n, t, i) { var r = this.originalSize, u = this.originalPosition; return { top: u.top + i, height: r.height - i } }, s: function (n, t, i) { return { height: this.originalSize.height + i } }, se: function (t, i, r) { return n.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [t, i, r])) }, sw: function (t, i, r) { return n.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [t, i, r])) }, ne: function (t, i, r) { return n.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [t, i, r])) }, nw: function (t, i, r) { return n.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [t, i, r])) } }, _propagate: function (t, i) { n.ui.plugin.call(this, t, [i, this.ui()]); t !== "resize" && this._trigger(t, i, this.ui()) }, plugins: {}, ui: function () { return { originalElement: this.originalElement, element: this.element, helper: this.helper, position: this.position, size: this.size, originalSize: this.originalSize, originalPosition: this.originalPosition } } }), n.ui.plugin.add("resizable", "animate", { stop: function (t) { var i = n(this).resizable("instance"), u = i.options, r = i._proportionallyResizeElements, f = r.length && /textarea/i.test(r[0].nodeName), s = f && i._hasScroll(r[0], "left") ? 0 : i.sizeDiff.height, h = f ? 0 : i.sizeDiff.width, c = { width: i.size.width - h, height: i.size.height - s }, e = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null, o = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null; i.element.animate(n.extend(c, o && e ? { top: o, left: e } : {}), { duration: u.animateDuration, easing: u.animateEasing, step: function () { var u = { width: parseInt(i.element.css("width"), 10), height: parseInt(i.element.css("height"), 10), top: parseInt(i.element.css("top"), 10), left: parseInt(i.element.css("left"), 10) }; r && r.length && n(r[0]).css({ width: u.width, height: u.height }); i._updateCache(u); i._propagate("resize", t) } }) } }), n.ui.plugin.add("resizable", "containment", { start: function () { var r, f, e, o, s, h, c, t = n(this).resizable("instance"), l = t.options, a = t.element, u = l.containment, i = u instanceof n ? u.get(0) : /parent/.test(u) ? a.parent().get(0) : u; i && (t.containerElement = n(i), /document/.test(u) || u === document ? (t.containerOffset = { left: 0, top: 0 }, t.containerPosition = { left: 0, top: 0 }, t.parentData = { element: n(document), left: 0, top: 0, width: n(document).width(), height: n(document).height() || document.body.parentNode.scrollHeight }) : (r = n(i), f = [], n(["Top", "Right", "Left", "Bottom"]).each(function (n, i) { f[n] = t._num(r.css("padding" + i)) }), t.containerOffset = r.offset(), t.containerPosition = r.position(), t.containerSize = { height: r.innerHeight() - f[3], width: r.innerWidth() - f[1] }, e = t.containerOffset, o = t.containerSize.height, s = t.containerSize.width, h = t._hasScroll(i, "left") ? i.scrollWidth : s, c = t._hasScroll(i) ? i.scrollHeight : o, t.parentData = { element: i, left: e.left, top: e.top, width: h, height: c })) }, resize: function (t) { var o, s, h, c, i = n(this).resizable("instance"), v = i.options, r = i.containerOffset, l = i.position, f = i._aspectRatio || t.shiftKey, e = { top: 0, left: 0 }, a = i.containerElement, u = !0; a[0] !== document && /static/.test(a.css("position")) && (e = r); l.left < (i._helper ? r.left : 0) && (i.size.width = i.size.width + (i._helper ? i.position.left - r.left : i.position.left - e.left), f && (i.size.height = i.size.width / i.aspectRatio, u = !1), i.position.left = v.helper ? r.left : 0); l.top < (i._helper ? r.top : 0) && (i.size.height = i.size.height + (i._helper ? i.position.top - r.top : i.position.top), f && (i.size.width = i.size.height * i.aspectRatio, u = !1), i.position.top = i._helper ? r.top : 0); h = i.containerElement.get(0) === i.element.parent().get(0); c = /relative|absolute/.test(i.containerElement.css("position")); h && c ? (i.offset.left = i.parentData.left + i.position.left, i.offset.top = i.parentData.top + i.position.top) : (i.offset.left = i.element.offset().left, i.offset.top = i.element.offset().top); o = Math.abs(i.sizeDiff.width + (i._helper ? i.offset.left - e.left : i.offset.left - r.left)); s = Math.abs(i.sizeDiff.height + (i._helper ? i.offset.top - e.top : i.offset.top - r.top)); o + i.size.width >= i.parentData.width && (i.size.width = i.parentData.width - o, f && (i.size.height = i.size.width / i.aspectRatio, u = !1)); s + i.size.height >= i.parentData.height && (i.size.height = i.parentData.height - s, f && (i.size.width = i.size.height * i.aspectRatio, u = !1)); u || (i.position.left = i.prevPosition.left, i.position.top = i.prevPosition.top, i.size.width = i.prevSize.width, i.size.height = i.prevSize.height) }, stop: function () { var t = n(this).resizable("instance"), r = t.options, u = t.containerOffset, f = t.containerPosition, e = t.containerElement, i = n(t.helper), o = i.offset(), s = i.outerWidth() - t.sizeDiff.width, h = i.outerHeight() - t.sizeDiff.height; t._helper && !r.animate && /relative/.test(e.css("position")) && n(this).css({ left: o.left - f.left - u.left, width: s, height: h }); t._helper && !r.animate && /static/.test(e.css("position")) && n(this).css({ left: o.left - f.left - u.left, width: s, height: h }) } }), n.ui.plugin.add("resizable", "alsoResize", { start: function () { var t = n(this).resizable("instance"), i = t.options; n(i.alsoResize).each(function () { var t = n(this); t.data("ui-resizable-alsoresize", { width: parseInt(t.width(), 10), height: parseInt(t.height(), 10), left: parseInt(t.css("left"), 10), top: parseInt(t.css("top"), 10) }) }) }, resize: function (t, i) { var r = n(this).resizable("instance"), e = r.options, u = r.originalSize, f = r.originalPosition, o = { height: r.size.height - u.height || 0, width: r.size.width - u.width || 0, top: r.position.top - f.top || 0, left: r.position.left - f.left || 0 }; n(e.alsoResize).each(function () { var t = n(this), u = n(this).data("ui-resizable-alsoresize"), r = {}, f = t.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"]; n.each(f, function (n, t) { var i = (u[t] || 0) + (o[t] || 0); i && i >= 0 && (r[t] = i || null) }); t.css(r) }) }, stop: function () { n(this).removeData("resizable-alsoresize") } }), n.ui.plugin.add("resizable", "ghost", { start: function () { var t = n(this).resizable("instance"), i = t.options, r = t.size; t.ghost = t.originalElement.clone(); t.ghost.css({ opacity: .25, display: "block", position: "relative", height: r.height, width: r.width, margin: 0, left: 0, top: 0 }).addClass("ui-resizable-ghost").addClass(typeof i.ghost == "string" ? i.ghost : ""); t.ghost.appendTo(t.helper) }, resize: function () { var t = n(this).resizable("instance"); t.ghost && t.ghost.css({ position: "relative", height: t.size.height, width: t.size.width }) }, stop: function () { var t = n(this).resizable("instance"); t.ghost && t.helper && t.helper.get(0).removeChild(t.ghost.get(0)) } }), n.ui.plugin.add("resizable", "grid", { resize: function () { var h, t = n(this).resizable("instance"), i = t.options, y = t.size, o = t.originalSize, s = t.originalPosition, c = t.axis, l = typeof i.grid == "number" ? [i.grid, i.grid] : i.grid, f = l[0] || 1, e = l[1] || 1, a = Math.round((y.width - o.width) / f) * f, v = Math.round((y.height - o.height) / e) * e, r = o.width + a, u = o.height + v, p = i.maxWidth && i.maxWidth < r, w = i.maxHeight && i.maxHeight < u, b = i.minWidth && i.minWidth > r, k = i.minHeight && i.minHeight > u; i.grid = l; b && (r += f); k && (u += e); p && (r -= f); w && (u -= e); /^(se|s|e)$/.test(c) ? (t.size.width = r, t.size.height = u) : /^(ne)$/.test(c) ? (t.size.width = r, t.size.height = u, t.position.top = s.top - v) : /^(sw)$/.test(c) ? (t.size.width = r, t.size.height = u, t.position.left = s.left - a) : ((u - e <= 0 || r - f <= 0) && (h = t._getPaddingPlusBorderDimensions(this)), u - e > 0 ? (t.size.height = u, t.position.top = s.top - v) : (u = e - h.height, t.size.height = u, t.position.top = s.top + o.height - u), r - f > 0 ? (t.size.width = r, t.position.left = s.left - a) : (r = f - h.width, t.size.width = r, t.position.left = s.left + o.width - r)) } }), n.ui.resizable });

/*!
 * jQuery UI Dialog 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/dialog",["jquery", "./core", "./widget", "./button", "./draggable", "./mouse", "./position", "./resizable"], n) : n(jQuery) })(function (n) { return n.widget("ui.dialog", { version: "1.11.4", options: { appendTo: "body", autoOpen: !0, buttons: [], closeOnEscape: !0, closeText: "Close", dialogClass: "", draggable: !0, hide: null, height: "auto", maxHeight: null, maxWidth: null, minHeight: 150, minWidth: 150, modal: !1, position: { my: "center", at: "center", of: window, collision: "fit", using: function (t) { var i = n(this).css(t).offset().top; i < 0 && n(this).css("top", t.top - i) } }, resizable: !0, show: null, title: null, width: 300, beforeClose: null, close: null, drag: null, dragStart: null, dragStop: null, focus: null, open: null, resize: null, resizeStart: null, resizeStop: null }, sizeRelatedOptions: { buttons: !0, height: !0, maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0, width: !0 }, resizableRelatedOptions: { maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0 }, _create: function () { this.originalCss = { display: this.element[0].style.display, width: this.element[0].style.width, minHeight: this.element[0].style.minHeight, maxHeight: this.element[0].style.maxHeight, height: this.element[0].style.height }; this.originalPosition = { parent: this.element.parent(), index: this.element.parent().children().index(this.element) }; this.originalTitle = this.element.attr("title"); this.options.title = this.options.title || this.originalTitle; this._createWrapper(); this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog); this._createTitlebar(); this._createButtonPane(); this.options.draggable && n.fn.draggable && this._makeDraggable(); this.options.resizable && n.fn.resizable && this._makeResizable(); this._isOpen = !1; this._trackFocus() }, _init: function () { this.options.autoOpen && this.open() }, _appendTo: function () { var t = this.options.appendTo; return t && (t.jquery || t.nodeType) ? n(t) : this.document.find(t || "body").eq(0) }, _destroy: function () { var n, t = this.originalPosition; this._untrackInstance(); this._destroyOverlay(); this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(); this.uiDialog.stop(!0, !0).remove(); this.originalTitle && this.element.attr("title", this.originalTitle); n = t.parent.children().eq(t.index); n.length && n[0] !== this.element[0] ? n.before(this.element) : t.parent.append(this.element) }, widget: function () { return this.uiDialog }, disable: n.noop, enable: n.noop, close: function (t) { var i, r = this; if (this._isOpen && this._trigger("beforeClose", t) !== !1) { if (this._isOpen = !1, this._focusedElement = null, this._destroyOverlay(), this._untrackInstance(), !this.opener.filter(":focusable").focus().length) try { i = this.document[0].activeElement; i && i.nodeName.toLowerCase() !== "body" && n(i).blur() } catch (u) { } this._hide(this.uiDialog, this.options.hide, function () { r._trigger("close", t) }) } }, isOpen: function () { return this._isOpen }, moveToTop: function () { this._moveToTop() }, _moveToTop: function (t, i) { var r = !1, f = this.uiDialog.siblings(".ui-front:visible").map(function () { return +n(this).css("z-index") }).get(), u = Math.max.apply(null, f); return u >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", u + 1), r = !0), r && !i && this._trigger("focus", t), r }, open: function () { var t = this; if (this._isOpen) { this._moveToTop() && this._focusTabbable(); return } this._isOpen = !0; this.opener = n(this.document[0].activeElement); this._size(); this._position(); this._createOverlay(); this._moveToTop(null, !0); this.overlay && this.overlay.css("z-index", this.uiDialog.css("z-index") - 1); this._show(this.uiDialog, this.options.show, function () { t._focusTabbable(); t._trigger("focus") }); this._makeFocusTarget(); this._trigger("open") }, _focusTabbable: function () { var n = this._focusedElement; n || (n = this.element.find("[autofocus]")); n.length || (n = this.element.find(":tabbable")); n.length || (n = this.uiDialogButtonPane.find(":tabbable")); n.length || (n = this.uiDialogTitlebarClose.filter(":tabbable")); n.length || (n = this.uiDialog); n.eq(0).focus() }, _keepFocus: function (t) { function i() { var t = this.document[0].activeElement, i = this.uiDialog[0] === t || n.contains(this.uiDialog[0], t); i || this._focusTabbable() } t.preventDefault(); i.call(this); this._delay(i) }, _createWrapper: function () { this.uiDialog = n("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({ tabIndex: -1, role: "dialog" }).appendTo(this._appendTo()); this._on(this.uiDialog, { keydown: function (t) { if (this.options.closeOnEscape && !t.isDefaultPrevented() && t.keyCode && t.keyCode === n.ui.keyCode.ESCAPE) { t.preventDefault(); this.close(t); return } if (t.keyCode === n.ui.keyCode.TAB && !t.isDefaultPrevented()) { var i = this.uiDialog.find(":tabbable"), r = i.filter(":first"), u = i.filter(":last"); t.target !== u[0] && t.target !== this.uiDialog[0] || t.shiftKey ? (t.target === r[0] || t.target === this.uiDialog[0]) && t.shiftKey && (this._delay(function () { u.focus() }), t.preventDefault()) : (this._delay(function () { r.focus() }), t.preventDefault()) } }, mousedown: function (n) { this._moveToTop(n) && this._focusTabbable() } }); this.element.find("[aria-describedby]").length || this.uiDialog.attr({ "aria-describedby": this.element.uniqueId().attr("id") }) }, _createTitlebar: function () { var t; this.uiDialogTitlebar = n("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog); this._on(this.uiDialogTitlebar, { mousedown: function (t) { n(t.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus() } }); this.uiDialogTitlebarClose = n("<button type='button'><\/button>").button({ label: this.options.closeText, icons: { primary: "ui-icon-closethick" }, text: !1 }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar); this._on(this.uiDialogTitlebarClose, { click: function (n) { n.preventDefault(); this.close(n) } }); t = n("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar); this._title(t); this.uiDialog.attr({ "aria-labelledby": t.attr("id") }) }, _title: function (n) { this.options.title || n.html("&#160;"); n.text(this.options.title) }, _createButtonPane: function () { this.uiDialogButtonPane = n("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"); this.uiButtonSet = n("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane); this._createButtons() }, _createButtons: function () { var i = this, t = this.options.buttons; if (this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), n.isEmptyObject(t) || n.isArray(t) && !t.length) { this.uiDialog.removeClass("ui-dialog-buttons"); return } n.each(t, function (t, r) { var u, f; r = n.isFunction(r) ? { click: r, text: t } : r; r = n.extend({ type: "button" }, r); u = r.click; r.click = function () { u.apply(i.element[0], arguments) }; f = { icons: r.icons, text: r.showText }; delete r.icons; delete r.showText; n("<button><\/button>", r).button(f).appendTo(i.uiButtonSet) }); this.uiDialog.addClass("ui-dialog-buttons"); this.uiDialogButtonPane.appendTo(this.uiDialog) }, _makeDraggable: function () { function i(n) { return { position: n.position, offset: n.offset } } var t = this, r = this.options; this.uiDialog.draggable({ cancel: ".ui-dialog-content, .ui-dialog-titlebar-close", handle: ".ui-dialog-titlebar", containment: "document", start: function (r, u) { n(this).addClass("ui-dialog-dragging"); t._blockFrames(); t._trigger("dragStart", r, i(u)) }, drag: function (n, r) { t._trigger("drag", n, i(r)) }, stop: function (u, f) { var e = f.offset.left - t.document.scrollLeft(), o = f.offset.top - t.document.scrollTop(); r.position = { my: "left top", at: "left" + (e >= 0 ? "+" : "") + e + " top" + (o >= 0 ? "+" : "") + o, of: t.window }; n(this).removeClass("ui-dialog-dragging"); t._unblockFrames(); t._trigger("dragStop", u, i(f)) } }) }, _makeResizable: function () { function r(n) { return { originalPosition: n.originalPosition, originalSize: n.originalSize, position: n.position, size: n.size } } var t = this, i = this.options, u = i.resizable, f = this.uiDialog.css("position"), e = typeof u == "string" ? u : "n,e,s,w,se,sw,ne,nw"; this.uiDialog.resizable({ cancel: ".ui-dialog-content", containment: "document", alsoResize: this.element, maxWidth: i.maxWidth, maxHeight: i.maxHeight, minWidth: i.minWidth, minHeight: this._minHeight(), handles: e, start: function (i, u) { n(this).addClass("ui-dialog-resizing"); t._blockFrames(); t._trigger("resizeStart", i, r(u)) }, resize: function (n, i) { t._trigger("resize", n, r(i)) }, stop: function (u, f) { var e = t.uiDialog.offset(), o = e.left - t.document.scrollLeft(), s = e.top - t.document.scrollTop(); i.height = t.uiDialog.height(); i.width = t.uiDialog.width(); i.position = { my: "left top", at: "left" + (o >= 0 ? "+" : "") + o + " top" + (s >= 0 ? "+" : "") + s, of: t.window }; n(this).removeClass("ui-dialog-resizing"); t._unblockFrames(); t._trigger("resizeStop", u, r(f)) } }).css("position", f) }, _trackFocus: function () { this._on(this.widget(), { focusin: function (t) { this._makeFocusTarget(); this._focusedElement = n(t.target) } }) }, _makeFocusTarget: function () { this._untrackInstance(); this._trackingInstances().unshift(this) }, _untrackInstance: function () { var t = this._trackingInstances(), i = n.inArray(this, t); i !== -1 && t.splice(i, 1) }, _trackingInstances: function () { var n = this.document.data("ui-dialog-instances"); return n || (n = [], this.document.data("ui-dialog-instances", n)), n }, _minHeight: function () { var n = this.options; return n.height === "auto" ? n.minHeight : Math.min(n.minHeight, n.height) }, _position: function () { var n = this.uiDialog.is(":visible"); n || this.uiDialog.show(); this.uiDialog.position(this.options.position); n || this.uiDialog.hide() }, _setOptions: function (t) { var i = this, r = !1, u = {}; n.each(t, function (n, t) { i._setOption(n, t); n in i.sizeRelatedOptions && (r = !0); n in i.resizableRelatedOptions && (u[n] = t) }); r && (this._size(), this._position()); this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", u) }, _setOption: function (n, t) { var u, r, i = this.uiDialog; (n === "dialogClass" && i.removeClass(this.options.dialogClass).addClass(t), n !== "disabled") && (this._super(n, t), n === "appendTo" && this.uiDialog.appendTo(this._appendTo()), n === "buttons" && this._createButtons(), n === "closeText" && this.uiDialogTitlebarClose.button({ label: "" + t }), n === "draggable" && (u = i.is(":data(ui-draggable)"), u && !t && i.draggable("destroy"), !u && t && this._makeDraggable()), n === "position" && this._position(), n === "resizable" && (r = i.is(":data(ui-resizable)"), r && !t && i.resizable("destroy"), r && typeof t == "string" && i.resizable("option", "handles", t), r || t === !1 || this._makeResizable()), n === "title" && this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))) }, _size: function () { var t, i, r, n = this.options; this.element.show().css({ width: "auto", minHeight: 0, maxHeight: "none", height: 0 }); n.minWidth > n.width && (n.width = n.minWidth); t = this.uiDialog.css({ height: "auto", width: n.width }).outerHeight(); i = Math.max(0, n.minHeight - t); r = typeof n.maxHeight == "number" ? Math.max(0, n.maxHeight - t) : "none"; n.height === "auto" ? this.element.css({ minHeight: i, maxHeight: r, height: "auto" }) : this.element.height(Math.max(0, n.height - t)); this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight()) }, _blockFrames: function () { this.iframeBlocks = this.document.find("iframe").map(function () { var t = n(this); return n("<div>").css({ position: "absolute", width: t.outerWidth(), height: t.outerHeight() }).appendTo(t.parent()).offset(t.offset())[0] }) }, _unblockFrames: function () { this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks) }, _allowInteraction: function (t) { return n(t.target).closest(".ui-dialog").length ? !0 : !!n(t.target).closest(".ui-datepicker").length }, _createOverlay: function () { if (this.options.modal) { var t = !0; this._delay(function () { t = !1 }); this.document.data("ui-dialog-overlays") || this._on(this.document, { focusin: function (n) { t || this._allowInteraction(n) || (n.preventDefault(), this._trackingInstances()[0]._focusTabbable()) } }); this.overlay = n("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()); this._on(this.overlay, { mousedown: "_keepFocus" }); this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1) } }, _destroyOverlay: function () { if (this.options.modal && this.overlay) { var n = this.document.data("ui-dialog-overlays") - 1; n ? this.document.data("ui-dialog-overlays", n) : this.document.unbind("focusin").removeData("ui-dialog-overlays"); this.overlay.remove(); this.overlay = null } } }) });

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Identities/Picker/Controls",["require","exports","react","react-dom","VSS/Common/Constants/Platform","VSS/FeatureAvailability/Services","VSS/Context","VSS/Controls","VSS/Diag","VSS/Events/Services","VSS/Identities/Picker/Common","VSS/Identities/Picker/Constants","VSS/Identities/Picker/Services","VSS/Identities/Picker/Cache","VSS/Controls/Notifications","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Controls/StatusIndicator","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/Telemetry/Services","VSS/VSS","q","VSS/Controls/PopupContent","jQueryUI/core","jQueryUI/button","jQueryUI/dialog"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){var lt,wt,dt,st,pt,kt,gt,ft,at,ni,bt,yt,ti,ii;Object.defineProperty(t,"__esModule",{value:!0});var fi=g.domElem,ut=k.delegate,ot=g.KeyCode,ht;(function(n){n[n.SelectNone=-1]="SelectNone";n[n.SelectFirstItem=0]="SelectFirstItem"})(ht||(ht={}));lt=function(n){function t(t){var i=n.call(this,t)||this;return i._numItemsDisplayed=0,i._scrollTimeout=100,i._loadOnCreate=!1,i._isFiltered=!0,i._isRepositioning=!1,"eventOptions"in t&&t.eventOptions||(t.eventOptions={uniqueId:ft.getRandomString()}),i.initializeOptionsInternal(t),i}return __extends(t,n),t.prototype.initializeOptionsInternal=function(n){this._identityType=n.identityType?n.identityType:{User:!0};this._operationScope=n.operationScope?n.operationScope:{IMS:!0};this._size=n.size!==null&&n.size!==undefined?n.size:st.Large;this._options.getFilterByScope||(this._options.getFilterByScope=function(){return null});this._showContactCard=this._options.showContactCard;this._displayedEntities=[];this._showOnlyMruIdentities=!1;this._enableDirectorySearch();this._options.showMru&&this._disableDirectorySearch();this._isSearchActive=!1;this._preDropdownRender=n.preDropdownRender?n.preDropdownRender:null;this._onDirectorySearchFinished=n.onDirectorySearchFinished?n.onDirectorySearchFinished:null;this._loadOnCreate=n.loadOnCreate?n.loadOnCreate:!1;this._elementAlign=this._options.alignment&&this._options.alignment.elementAlign?this._options.alignment.elementAlign:"left-top";this._baseAlign=this._options.alignment&&this._options.alignment.baseAlign?this._options.alignment.baseAlign:"left-bottom";this._positioningElement=this._options.alignment&&this._options.alignment.positioningElement?this._options.alignment.positioningElement:null;this._prefix="";a.ServiceHelpers.isAuthenticatedMember()||(this._showContactCard=!1,this._disableDirectorySearch(),this._options.showMru=!1,this._loadOnCreate=!1);this._controlLoaded=null;this._loadOnCreate&&this.load();n.eventOptions&&(this._eventOptions=n.eventOptions)},t.prototype.initializeOptions=function(i){var r=t.DROPDOWN_BASE_CLASS+" "+ft.FIXED_POSTIION_CLASS;n.prototype.initializeOptions.call(this,$.extend({coreCssClass:r,pageSize:i.pageSize?i.pageSize:10},i))},t.prototype.initialize=function(){var i=this,r,u,f;n.prototype.initialize.call(this);r=function(n){n.preventDefault()};this._element.on("mousedown.identityPickerDropdown",ut(this,r));u=function(){return i._scrollTimeout!==null&&(clearTimeout(i._scrollTimeout),i._scrollTimeout=null),i._scrollTimeout=setTimeout(ut(i,i._loadNextPage),100),!1};this._options.smallScreenRender&&(this._$suggestedPeople=$("<div>").addClass("search"),$("<span>").addClass("status-message").text(p.IdentityPicker_SuggestedPeople).appendTo(this._$suggestedPeople),this._$suggestedPeople.appendTo(this._element));f=this._options.useRemainingSpace?"":Math.min((ft.getSizePx(this._size)+t.IMAGE_MARGINS_PX)*this._options.pageSize-10,t.MAX_HEIGHT)+"px";this._$itemsContainer=$("<ul>").addClass("items").attr({role:"listbox",id:o.getId().toString()}).css({"max-height":f});this._$liveStatus=$("<div>").addClass("visually-hidden").attr("aria-live","polite");this._element.append(this._$itemsContainer).append(this._$liveStatus);this._$itemsContainer.scroll(ut(this,u))},t.prototype.getItemsListId=function(){return this._$itemsContainer.length?this._$itemsContainer.attr("id"):""},t.prototype.load=function(){return this._getEntityOperationsFacade().load({loadMru:this._options.showMru,filterByScope:this._options.getFilterByScope()})},t.prototype.addIdentitiesToMru=function(n){var r=this,i;if(a.ServiceHelpers.isAuthenticatedMember())try{if(!n||n.length==0)return;if(i=n.filter(function(n){if(!at.isStringPrefixedLocalId(n))return!0}),!i||i.length==0)return;var u=function(n){r._element&&n==!0&&r._getEntityOperationsFacade().refreshUserMru(r._options.getFilterByScope())},f=function(){},e=w.getService(a.MruService);e.addMruIdentities(i,{IMS:!0},a.MruService.DEFAULT_IDENTITY_ID,a.MruService.DEFAULT_FEATURE_ID,{httpClient:this._options.httpClient},{consumerId:this._options.consumerId}).then(u,f);this._disableDirectorySearch()}catch(t){if(t!==Object(t)||!("source"in t)||t.source!="MruService")throw t;}},t.prototype.isVisible=function(){return this._isVisible},t.prototype.isFiltered=function(){return this._isVisible&&this._isFiltered},t.prototype.showAllMruIdentities=function(n){var t=this,i;if(n===void 0&&(n=!0),!this._options.showMru){i={source:"showAllMruIdentities",message:"The showMru option needs to be enabled to call showAllMruIdentities"};throw i;}return this.load().then(ut(this,function(){return t._getUserMruEntitiesPostLoad(n)}),ut(this,function(){return t._getUserMruEntitiesPostLoad(n)}))},t.prototype.getIdentities=function(n,t){var i=this;return t===void 0&&(t=!0),this.load().then(ut(this,function(){return i._getIdentitiesPostLoad(n,t)}),ut(this,function(){return i._getIdentitiesPostLoad(n,t)}))},t.prototype.show=function(){var n=this;this.load().then(ut(this,function(){n._showPostLoad()}),ut(this,function(){n._showPostLoad()}))},t.prototype.hide=function(n,i){var r=this,u;if(i===void 0&&(i=!1),this._isVisible=!1,this._element&&(this._element.hide(),this._element.parents().off(".identityPickerDropdown"),["scroll","resize"].map(function(n){document.removeEventListener(n,ut(r,r._handleScrollAndResize))}),this._isRepositioning=!1),!i&&this._options.onHide)this._options.onHide(n);u={uniqueId:this._eventOptions?this._eventOptions.uniqueId:null};h.getService().fire(t.HIDE_DROPDOWN_EVENT_INTERNAL,u)},t.prototype.getSelectedIndex=function(){return this._selectedIndex==-1?null:this._selectedIndex<this._displayedEntities.length-1?this._selectedIndex:this._displayedEntities.length-1},t.prototype.getSelectedItem=function(){return this._selectedIndex==-1||this._selectedIndex>this._displayedEntities.length-1?null:this._displayedEntities[this._selectedIndex]},t.prototype.handleKeyEvent=function(n){if(!n||!n.keyCode)return!0;switch(n.keyCode){case ot.UP:return this.isVisible()?this._prevItem():!0;case ot.DOWN:return this.isVisible()?this._nextItem():(this.show(),!0);case ot.PAGE_UP:return this.isVisible()?this._prevPage():!0;case ot.PAGE_DOWN:return this.isVisible()?this._nextPage():!0;case ot.ENTER:return this.isVisible()&&this._searchButtonClickDelegate(),!0;case ot.ESCAPE:return this.isVisible()?(this.hide(n),n.stopPropagation(),!1):!0;case ot.RIGHT:return this.isVisible()&&this._showContactCard&&this._selectedIndex!=-1?(n.stopPropagation(),$(".identity-picker-contact-card-icon",this._indexedEntityMap[this._selectedIndex]).click(),!1):!0;case ot.DELETE:if(this.isVisible()&&this._options.showMru){var t=this.getSelectedItem();return t&&t.isMru&&et.isDirectoryEntityType(t)?(n.stopPropagation(),$(".identity-picker-delete-icon",this._indexedEntityMap[this._selectedIndex]).click(),!1):!0}return!0;default:return!0}},t.prototype.getPrefix=function(){return this._prefix},t.prototype.updatePrefix=function(n){this._prefix=n?n.toLowerCase().trim():"";this._prefix||(this._isSearchActive=!1,this._disableDirectorySearch())},t.prototype.dispose=function(){this._element&&(this._element.off(".identityPickerDropdown"),this._element.parents().off(".identityPickerDropdown"));n.prototype.dispose.call(this)},t.prototype.reset=function(){this._resetSearchStatuses();this._prefix="";this._enableDirectorySearch();this._displayedEntities=[];this._alterStateAndRender(!1,!1);this._disableDirectorySearch()},t.getClassSelector=function(n){return"."+n},t.prototype._getEntityOperationsFacade=function(){return this._entityOperationsFacade||(this._entityOperationsFacade=w.getService(yt)),this._entityOperationsFacade},t.prototype._getUserMruEntitiesPostLoad=function(n){var t=this;return n===void 0&&(n=!0),this._isFiltered=!1,this._showOnlyMruIdentities=!0,this._isDropdownVisibleInitially=this._isVisible,this._getEntityOperationsFacade().isUserMruReady(this._options.getFilterByScope())||this._alterStateAndRender(!0,!1,n),this.load().then(ut(this,function(){return t.getIdentities(t._prefix,n)}))},t.prototype._enableDirectorySearch=function(){this._isDirectorySearchEnabled=!0},t.prototype._disableDirectorySearch=function(){this._isDirectorySearchEnabled=!1},t.prototype._resetSearchStatuses=function(){this._isSearchActive=!1;this._disableDirectorySearch()},t.prototype._getIdentitiesPostLoad=function(n,t){var i,r;return(t===void 0&&(t=!0),i=it.defer(),!this._element)?(i.reject(null),i.promise):(this._showLoading(),this._isDropdownVisibleInitially=this._isVisible,this._isSearchActive=!1,this._displayedEntities=[],this._options.showMru&&(this._mruEntities=this._getEntityOperationsFacade().getMruEntitiesUnchecked(this._options.getFilterByScope()),r=a.ServiceHelpers.getIdentityTypeList(this._identityType),this._mruEntities=this._mruEntities.filter(function(n){return r.indexOf(n.entityType.trim().toLowerCase())>=0})),(!n||n.trim().length===0)&&!this._options.smallScreenRender&&(this._resetSearchStatuses(),!this._showOnlyMruIdentities))?(this._prefix=n,this._enableDirectorySearch(),this._alterStateAndRender(!0,!0),this._disableDirectorySearch(),i.resolve([]),i.promise):(n=n.toLowerCase().trim(),this._prefix=n,this._showOnlyMruIdentities)?(this._displayedEntities=this._mruEntities?this._mruEntities:[],this._alterStateAndRender(!1,!1,t),this._showOnlyMruIdentities=!1,this._getImagesForDisplayedEntities(),i.resolve(this._displayedEntities),i.promise):(this._options.showMru&&(this._displayedEntities=yt.filterEntities(this._mruEntities,n)),this._isFiltered=!0,this._options.showMru&&!this._isDirectorySearchEnabled)?(this._alterStateAndRender(!0,!1,t),this._getImagesForDisplayedEntities(),i.resolve(this._displayedEntities),i.promise):this._getDirectoryEntitiesWithRender(n,i)},t.prototype._getDirectoryEntitiesWithRender=function(n,t){return this._isSearchActive=!0,this._alterStateAndRender(!0),this._getDirectoryEntities(n,t)},t.prototype._checkIfServerException=function(n){return!n||!("serverError"in n)||!n.serverError||!("typeKey"in n.serverError)?!1:!0},t.prototype._getMessageForIpsAuthorizationException=function(n){if(n.serverError.typeKey.trim()=="IdentityPickerAuthorizationException"&&n.serverError.customProperties!=null){var i=n.serverError.customProperties.identityPickerAuthorizationExceptionType,t=p.IdentityPicker_ErrorAuthorizationException;return i==kt.IsGuestUser&&(t=p.IdentityPicker_GuestUserException),t}return null},t.prototype._getDirectoryEntities=function(n,i,r){var u=this,h,a;r===void 0&&(r=!1);var f=function(t){u._element&&(u._isSearchActive=!1,n===u._prefix&&n.length>=1&&(u._displayedEntities=t?t.identities:[],u._alterStateAndRender(!0)),u._onDirectorySearchFinished&&u._onDirectorySearchFinished(u._displayedEntities),i.resolve(u._displayedEntities))},e=function(r){if(r&&s.logError("_getDirectoryEntities/getIdentitiesErrorCallback:"+JSON.stringify(r)),n===u._prefix)if(u._checkIfServerException(r)){var f=u._getMessageForIpsAuthorizationException(r);f&&u._showError($("<span>").text(f+" [").append($("<a><\/a>").attr("href",t.IP_AUTHORIZATION_EXCEPTION_DETAILS_LINK).text(p.IdentityPicker_ErrorMoreDetails).attr("target","_blank")).append($("<span>").text("]")))}else u._showError(p.IdentityPicker_ErrorLoadingIdentities);u._isSearchActive=!1;i.reject(r?r:null)},o=this._options.getFilterByScope();return c.FilterByScope.isFilterByScopeEmpty(o)?f(null):(h={identityServiceOptions:{operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient,extensionData:this._options.extensionData},identityExtensionOptions:{consumerId:this._options?this._options.consumerId:l.ConsumerId.UnknownConsumer},prefix:n,sources:this._options.showMru?[ct.Directory,ct.Mru]:[ct.Directory],filterByScope:o},a=this._getEntityOperationsFacade().search(h).then(function(n){for(var t in n.queryTokenResponse)n.queryTokenResponse[t].then(ut(u,f),ut(u,e))},e)),i.promise},t.prototype._getImagesForDisplayedEntities=function(){var n=this,i=function(i){if(n._element){if(!i)return;n._displayedEntities.forEach(ut(n,function(r){i.hasOwnProperty(r.entityId)&&i[r.entityId]&&(r.image=i[r.entityId],$(t.getClassSelector(t.AVATAR_CLASS),n._$itemsContainer).each(function(n,t){t.hasAttribute("data-objectid")&&t.getAttribute("data-objectid")===r.entityId&&t.setAttribute("src",i[r.entityId])}))}))}},r=function(n){n&&s.logError("_getImagesForDisplayedEntities/getIdentityImagesErrorCallback:"+JSON.stringify(n))},u={identityServiceOptions:{operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient,extensionData:this._options.extensionData},identityExtensionOptions:{consumerId:this._options?this._options.consumerId:l.ConsumerId.UnknownConsumer},sources:[ct.Directory]};this._getEntityOperationsFacade().getImagesForEntities(this._displayedEntities,u).then(i,r)},t.prototype._showPostLoad=function(){var n=this,i;if(this._element){this._isVisible=!0;this._element.show();this._setPosition();this._element.parents().on("scroll.identityPickerDropdown resize.identityPickerDropdown",ut(this,this._handleScrollAndResize));["scroll","resize"].map(function(t){document.addEventListener(t,ut(n,n._handleScrollAndResize))});this._isRepositioning=!1;i={uniqueId:this._eventOptions?this._eventOptions.uniqueId:null};h.getService().fire(t.SHOW_DROPDOWN_EVENT_INTERNAL,i)}},t.prototype._handleScrollAndResize=function(){var n=this;this._isRepositioning||(this._isRepositioning=!0,k.delay(this,500,ut(this,function(){n._isRepositioning=!1;n._setPosition()})))},t.prototype._constructDropdown=function(n,t,i){n===void 0&&(n=!1);t===void 0&&(t=!0);i===void 0&&(i=!0);this._indexedEntityMap={};t&&this._setupDom();n?this._setSelectedIndex(this._selectedIndex<this._displayedEntities.length?this._selectedIndex:this._isSearchActive?this._displayedEntities.length-1:-1,!0,g.Positioning.VerticalScrollBehavior.Top):(this._selectedIndex=ht.SelectNone,i&&this._numItemsDisplayed>0?this._setSelectedIndex(ht.SelectFirstItem,!1):this._setSelectedIndex(ht.SelectNone,!1))},t.prototype._removeIdentityFromMru=function(n){var i=this;try{if(at.isStringPrefixedLocalId(n))return;var r=function(n){i._element&&n==!0&&i._getEntityOperationsFacade().refreshUserMru(i._options.getFilterByScope())},u=function(){},f=w.getService(a.MruService);f.removeMruIdentities([n],{IMS:!0},a.MruService.DEFAULT_IDENTITY_ID,a.MruService.DEFAULT_FEATURE_ID,{httpClient:this._options.httpClient},{consumerId:this._options.consumerId}).then(r,u);this._disableDirectorySearch()}catch(t){if(t!==Object(t)||!("source"in t)||t.source!="MruService")throw t;}},t.prototype._alterStateAndRender=function(n,t,i){if(t===void 0&&(t=!1),i===void 0&&(i=!0),this._element){if(n||this.hide(void 0,!0),this._prefix&&this._prefix.trim().length!=0||(this._isSearchActive=!1),this._displayedEntities=this._displayedEntities||[],this._preDropdownRender&&(this._displayedEntities=this._preDropdownRender(this._displayedEntities,this._isDirectorySearchEnabled)),this._constructDropdown(t,!0,i),!this._isSearchActive&&!this._prefix&&this._displayedEntities.length==0){this.hide();return}n&&(!this._isDropdownVisibleInitially||this._isVisible)&&this.show()}},t.prototype._fireActiveDescendantUpdate=function(n){var i={activeDescendantId:n,uniqueId:this._eventOptions?this._eventOptions.uniqueId:null};h.getService().fire(t.UPDATE_ACTIVE_DESCENDANT_ID,i)},t.prototype._setSelectedIndex=function(n,t,i){i===void 0&&(i=g.Positioning.VerticalScrollBehavior.Bottom);var r=n!==null&&n!==undefined&&this._indexedEntityMap&&this._indexedEntityMap[n]&&(this._selectedIndex!==n||!this._indexedEntityMap[this._selectedIndex].hasClass("selected"));r?(this._selectedIndex=n,this._clearItemsSelection(this._element.find(".search")),this._clearItemsSelection(this._$itemsContainer.find("li")),this._selectItem(this._indexedEntityMap[this._selectedIndex]),t&&this._scrollItemIntoView(this._selectedIndex,i)):$.isNumeric(n)&&(this._selectedIndex=n)},t.prototype._scrollItemIntoView=function(n,t){n!==null&&n!==undefined&&g.Positioning.scrollIntoViewVertical(this._indexedEntityMap[n],t)},t.prototype._setPosition=function(){var n,i,r,u,f,e,o;this._element&&(n=this._getPositioningElement(),this._options.width?this._element.width(this._options.width):(i=n.outerWidth()-t.DROPDOWN_BORDER_PX,this._element.width(i<t.MIN_WIDTH?t.MIN_WIDTH:i)),n.is(":visible")&&g.Positioning.position(this.getElement(),n,{elementAlign:this._elementAlign,baseAlign:this._baseAlign,overflow:"fit-flip"}),r=$(window),u=this._element.offset().top+this._element.height()-r.height()-r.scrollTop(),u>0&&(f=parseInt(this._$itemsContainer.css("max-height")),this._$itemsContainer.css("max-height",f-u+"px")),this._options.useRemainingSpace&&(this._element.width(""),this._element.css("left",""),this._element.addClass("use-remaining-space"),e=this._element.position().top,o="calc(100% - "+e+"px)",this._element.css("max-height",o)),this._options.smallScreenRender&&this._element.addClass("small-screen"))},t.prototype._getPositioningElement=function(){var n=this._positioningElement;return $.isFunction(n)&&(n=n()),n||(n=this.getElement().parent()),n},t.prototype._showLoading=function(){this._$liveStatus.detach();this._$itemsContainer.detach();this._element.empty();this._$liveStatus.appendTo(this._element);this._$liveStatus.text(p.IdentityPicker_LoadingIdentities);this._$itemsContainer.empty().attr("aria-busy","true").appendTo(this._element);var n=$("<div>").addClass("search").appendTo(this._element),t=o.BaseControl.createIn(b.StatusIndicator,n,{center:!1,message:p.IdentityPicker_LoadingIdentities});t.start()},t.prototype._showError=function(n){var t=typeof n=="string"||n instanceof String?$("<span>").text(n):n,i,r;this._$liveStatus.text(t.text());i=$(".search",this._element).empty().addClass("search-error");r=o.BaseControl.createIn(y.MessageAreaControl,i,{closeable:!1,message:{header:t,type:y.MessageAreaType.Error},showIcon:!1})},t.prototype._nextPage=function(){var n=-1;return this._loadNextPage(!0),this._selectedIndex<this._displayedEntities.length-1&&this._selectedIndex!==-1&&(n=this._selectedIndex+this._options.pageSize),this._setSelectedIndex(n<this._displayedEntities.length?n:this._displayedEntities.length-1,!0,g.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._prevPage=function(){var n=0;return this._selectedIndex===-1?n=this._displayedEntities.length-this._options.pageSize:this._selectedIndex>0&&(n=this._selectedIndex-this._options.pageSize),this._setSelectedIndex(n>=0?n:ht.SelectFirstItem,!0,g.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._nextItem=function(){if(this._selectedIndex===this._displayedEntities.length-1){var n=this._element.find(".search");n.is(":visible")?(this._selectedIndex=ht.SelectNone,this._clearItemsSelection(this._$itemsContainer.find("li")),this._selectItem(n)):this._setSelectedIndex(ht.SelectFirstItem,!0)}else this._selectedIndex<this._displayedEntities.length-1&&this._setSelectedIndex(this._selectedIndex+1,!0);return!1},t.prototype._prevItem=function(){return this._selectedIndex===-1&&this._displayedEntities&&this._displayedEntities.length?(this._clearItemsSelection(this._element.find(".search")),this._setSelectedIndex(this._displayedEntities.length-1,!0)):this._selectedIndex>0&&this._setSelectedIndex(this._selectedIndex-1,!0,g.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._selectItem=function(n){var t=n.attr("id")?n.attr("id"):o.getId().toString();n.addClass("selected").attr({id:t,"aria-selected":"true"});this._fireActiveDescendantUpdate(t)},t.prototype._clearItemsSelection=function(n){n.removeClass("selected").attr("aria-selected","false")},t.prototype._createItem=function(n){var t=this,r={deleteIconClickDelegate:ut(this,function(n,i){var r=t._mruEntities.indexOf(n);r>=0&&t._mruEntities.splice(r,1);r=t._displayedEntities.indexOf(n);r>=0&&t._displayedEntities.splice(r,1);i.remove();n.localId&&n.localId.trim()&&t._removeIdentityFromMru(n.localId);t._numItemsDisplayed=Math.min(t._displayedEntities.length,Math.max(t._options.pageSize,t._numItemsDisplayed));t._$searchResultStatus.remove();t._$searchResultStatus=t._constructSearchResultStatus();t._showAdditionalInformation()}),entityListItemClickDelegate:ut(this,function(n){if(t._logSelectedEntity(n),$.isFunction(t._options.onItemSelect))t._options.onItemSelect(n)})},u={operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient?this._options.httpClient:null},f={consumerId:this._options.consumerId},e=this._displayedEntities[n],i=(new ui).withIdentityServiceOptions(u).withIdentityExtensionOptions(f).withPrefix(this._prefix&&this._prefix.trim()&&!this._showOnlyMruIdentities?this._prefix:"").withEntity(e).forControlOfSize(this._size).registerCallbacks(r).withContactCard(this._showContactCard,this._options.focusElementOnContactCardClose).withHoverSupport(!this._options.useRemainingSpace).withSmallScreenRender(this._options.smallScreenRender).withDialogAppendTo(this._options.dialogAppendTo).build();return this._indexedEntityMap[n]=i,i},t.prototype._logSelectedEntity=function(n){var r=!1,u=!1,i,t,f;try{i=l.Telemetry.Feature_DropdownControl;(n.originDirectory.toLowerCase().trim()==a.ServiceHelpers.VisualStudioDirectory||n.localDirectory.toLowerCase().trim()==a.ServiceHelpers.VisualStudioDirectory)&&(r=!0);n.isMru&&(u=!0);this._prefix?this._options.showMru?i=this._isDirectorySearchEnabled?l.Telemetry.Feature_Select_Mru_Dir:l.Telemetry.Feature_Select_Mru_Prefix:this._isDirectorySearchEnabled&&(i=l.Telemetry.Feature_Select_Dir):this._options.showMru&&(i=l.Telemetry.Feature_Select_Mru_NoPrefix);t={};t[l.TelemetryProperties.prefixType]=a.ServiceHelpers.getPrefixTypeForTelemetry(this._prefix);t[l.TelemetryProperties.prefixLength]=this._prefix.length;t[l.TelemetryProperties.consumerId]=this._options&&this._options.consumerId?this._options.consumerId:null;t[l.TelemetryProperties.extensionId]=this._options&&this._options.extensionData&&this._options.extensionData.extensionId?this._options.extensionData.extensionId:null;t[l.TelemetryProperties.identityTypes]=a.ServiceHelpers.getIdentityTypeList(this._options.identityType);t[l.TelemetryProperties.operationScopes]=a.ServiceHelpers.getOperationScopeList(this._options.operationScope);t[l.TelemetryProperties.isMru]=u;t[l.TelemetryProperties.isNonMaterialized]=!r;t[l.TelemetryProperties.maxResults]=this._options&&this._options.maxResults?this._options.maxResults:a.IdentityService.MAX_RESULTS;t[l.TelemetryProperties.minResults]=this._options&&this._options.minResults?this._options.minResults:a.IdentityService.MIN_RESULTS;t[l.TelemetryProperties.entityId]=n.entityType.toLowerCase().trim()==at.STRING_ENTITY_TYPE?at.STRING_ENTITY_TYPE:n.entityId;t[l.TelemetryProperties.consumerId]=this._options.consumerId;f=w.getService(a.IdentityService);t=a.ServiceHelpers.addScenarioProperties(w.getService(a.IdentityService),t);nt.publishEvent(new nt.TelemetryEventData(l.Telemetry.Area,i,t))}catch(e){}},t.prototype._setupDom=function(){var n,t,i;this._$liveStatus.text("").detach();this._$itemsContainer.empty().removeAttr("aria-busy").detach();this._element.empty();this._$liveStatus.appendTo(this._element);this._setupEntitiesInDom();n=!1;!this._isDirectorySearchEnabled&&this._options.showMru&&this._prefix&&!this._showOnlyMruIdentities&&(t=this._constructSearchButton().appendTo(this._element),this._$itemsContainer.attr("aria-owns",t.attr("id")),n=!0,this._displayedEntities&&this._displayedEntities.length||(this._selectedIndex=ht.SelectNone,this._selectItem(t)));this._displayedEntities&&this._displayedEntities.length>0&&(this._$searchResultStatus=this._constructSearchResultStatus());n&&(i=this._$liveStatus.text(),this._$liveStatus.text((i?i+". ":"")+p.IdentityPicker_SearchButtonShownInDropdown));this._showAdditionalInformation()},t.prototype._showAdditionalInformation=function(){this._displayedEntities.length===0&&(this._isSearchActive||this._options.showMru&&!this._getEntityOperationsFacade().isUserMruReady(this._options.getFilterByScope())?this._showLoading():(!this._options.showMru||this._isDirectorySearchEnabled&&this._prefix||this._showOnlyMruIdentities)&&(this._$liveStatus.text(p.IdentityPicker_NoResult),(this._options.showNoIdentitiesFound||this._options.showNoIdentitiesFound===undefined||this._options.showNoIdentitiesFound===null)&&this._constructInformativeMessage(p.IdentityPicker_NoResult).appendTo(this._element)));this._$suggestedPeople&&(this._displayedEntities.length>0?this._$suggestedPeople.show():this._$suggestedPeople.hide())},t.prototype._setupEntitiesInDom=function(){var n,i;if(this._options.smallScreenRender&&this._$suggestedPeople.appendTo(this._element),this._$itemsContainer.empty().appendTo(this._element),this._displayedEntities.length==0)this._numItemsDisplayed=0;else for(this._numItemsDisplayed=Math.min(this._displayedEntities.length,Math.max(this._options.pageSize,this._numItemsDisplayed)),n=0;n<this._numItemsDisplayed;n++)n>this._displayedEntities.length-1||(i=this._createItem(n),i&&(this._$itemsContainer.append(i),this._options.smallScreenRender||i.height(i.height()+t.IMAGE_MARGINS_PX)))},t.prototype._constructSearchResultStatus=function(){var n=$("<div>").addClass("search-result-status").appendTo(this._element),t,i;return this._displayedEntities.length==1&&this._numItemsDisplayed==this._displayedEntities.length?(t=d.format(p.IdentityPicker_SingleResultStatus,this._displayedEntities.length),this._$liveStatus.text(t),n.text(t)):this._displayedEntities.length>1&&this._numItemsDisplayed<=this._displayedEntities.length?(i=d.format(p.IdentityPicker_MultipleResultStatus,this._displayedEntities.length),this._$liveStatus.text(i),n.text(i)):n.hide(),n},t.prototype._constructSearchButton=function(){var n=$("<div>").addClass("search").attr({role:"button option","aria-label":p.IdentityPicker_SearchButtonLabel,tabindex:"0",id:o.getId().toString()}),t=$("<span>").addClass("bowtie-icon bowtie-search identity-picker-search-icon"),i=$("<span>").addClass("status-message").text(p.IdentityPicker_SearchButton);return n.append(t).append(i),n.click(ut(this,this._searchButtonClickDelegate)),n},t.prototype._constructInformativeMessage=function(n){return $("<div>").addClass("no-result").append($("<span>").addClass("status-message").text(n).attr("role","alert"))},t.prototype._loadNextPage=function(n){var u,r,i;if(n===void 0&&(n=!1),u=this._$itemsContainer.scrollTop()+this._$itemsContainer.outerHeight()>=this._$itemsContainer[0].scrollHeight-5,n||u){for(r=this._numItemsDisplayed;r<this._numItemsDisplayed+Math.min(this._displayedEntities.length-this._numItemsDisplayed,this._options.pageSize);r++)i=this._createItem(r),i&&(this._$itemsContainer.append(i),i.height(i.height()+t.IMAGE_MARGINS_PX));this._numItemsDisplayed+=Math.min(this._displayedEntities.length-this._numItemsDisplayed,this._options.pageSize);this._$searchResultStatus.remove();this._$searchResultStatus=this._constructSearchResultStatus()}this._scrollTimeout!==null&&(clearTimeout(this._scrollTimeout),this._scrollTimeout=null)},t.prototype._searchButtonClickDelegate=function(){this._enableDirectorySearch();this.getIdentities(this._prefix)},t.SHOW_DROPDOWN_EVENT_INTERNAL="identity-picker-dropdown-show",t.HIDE_DROPDOWN_EVENT_INTERNAL="identity-picker-dropdown-hide",t.UPDATE_ACTIVE_DESCENDANT_ID="identity-picker-dropdown-update-active-descendant-id",t.DROPDOWN_BASE_CLASS="identity-picker-dropdown",t.IMAGE_MARGINS_PX=8,t.MIN_WIDTH=300,t.MAX_HEIGHT=240,t.DROPDOWN_BORDER_PX=2,t.IP_AUTHORIZATION_EXCEPTION_DETAILS_LINK="https://aka.ms/c0eo4d",t.AVATAR_CLASS="identity-picture",t}(o.Control);t.IdentityPickerDropdownControl=lt;wt=function(n){function t(t){var i=n.call(this,t)||this;return i._scrollTimeout=100,i._pageSize=10,i._selectedIndex=ht.SelectNone,i._identityType=t.identityType?t.identityType:{User:!0},i._operationScope=t.operationScope?t.operationScope:{IMS:!0},i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:402,height:70,resizable:!1,modal:!1,draggable:!0,autoOpen:!0,closeOnEscape:!1,cssClass:"idcard-dialog-content",closeText:p.CloseButtonLabelText},t))},t.prototype.initialize=function(){var i,r,u;n.prototype.initialize.call(this);this._previousFocusedElement=$(document.activeElement);this._element.dialog(this._options);this._$idCardDialog=this._element.closest(t.JQUERY_UI_DIALOG_CLASS).addClass("idcard-dialog").attr("visibility","hidden");this._$idCardDialog.on("dialogclose.contactCard",ut(this,this._onIdCardClose));this._$idCardDialog.on("keydown.contactCard",ut(this,this._onKeyDown));if(this._$idCardDialog.css("z-index",t._getHigherZIndex("div"+t.JQUERY_UI_DIALOG_CLASS)),$(".ui-icon-closethick",this._$idCardDialog).addClass("bowtie-icon bowtie-navigate-close"),this._repositionDialog(),this._$idCardDialog.hide(),$(".ui-dialog-content",$(".idcard-dialog:visible")).dialog("close"),this._$idCardDialog.attr("id",t.ID_CARD_DIALOG_ID),this._options.identity){if(i=this._options.identity,!et.isDirectoryEntityType(i)){r={source:"IdCardDialog initialize",message:"The IdCardDialog can only be initialized with a user or group IEntity"};throw r;}u=et.getUniqueIdentifierForDisambiguation(i);this._$idCardDialog.attr("data-prefix",u.toLowerCase());this._getIdentitiesSuccess({queryToken:null,identities:[i]});!ft.isOnPremiseEnvironment()&&i.localDirectory&&i.localDirectory.toLowerCase().trim()==a.ServiceHelpers.VisualStudioDirectory&&this._operationScope&&(this._operationScope.AAD||this._operationScope.Source)&&this._getDirectoryEntities(i.entityId)}else this._$idCardDialog.attr("data-prefix",this._options.uniqueIdentifier.toLowerCase()),this._getDirectoryEntities(this._options.uniqueIdentifier)},t.prototype._getEntityOperationsFacade=function(){return this._entityOperationsFacade||(this._entityOperationsFacade=w.getService(yt)),this._entityOperationsFacade},t._getHigherZIndex=function(n){var t,i=1001;return $(n).each(function(n,r){t=$(r).css("z-index");!isNaN(t)&&t>i&&(i=t)}),++i},t.prototype._repositionDialog=function(){var t={elementAlign:"left-top",baseAlign:"left-bottom",overflow:"none-none"},n,i,r;this._options.anchorContainer?(n=$(this._options.anchorContainer).offset(),t.leftOffsetPixels=n.left,t.topOffsetPixels=n.top,t.skipZIndexSetting=!0):n=this._options.anchor.offset();g.Positioning.position(this._$idCardDialog,this._options.anchor,t);i=this._options.leftValue&&this._options.leftValue>0?this._options.leftValue:n.left;i+this._$idCardDialog.outerWidth()<$(window).width()+$(window).scrollLeft()?this._$idCardDialog.css("left",i):this._$idCardDialog.css("left",i-this._$idCardDialog.outerWidth()+this._options.anchor.outerWidth());r=this._options.topValue&&this._options.topValue>0?this._options.topValue:n.top+this._options.anchor.outerHeight();r+this._$idCardDialog.outerHeight()<$(window).height()+$(window).scrollTop()?this._$idCardDialog.css("top",r):this._$idCardDialog.css("top",r-this._$idCardDialog.outerHeight()-this._options.anchor.outerHeight())},t.prototype._getDirectoryEntities=function(n){var t=this,i={identityServiceOptions:{operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient,extensionData:this._options.extensionData},identityExtensionOptions:{consumerId:this._options?this._options.consumerId:l.ConsumerId.UnknownConsumer},prefix:n,queryTypeHint:{UID:!0},sources:[ct.Directory]},r=this._getEntityOperationsFacade().search(i).then(function(n){for(var i in n.queryTokenResponse)n.queryTokenResponse[i].then(ut(t,t._getIdentitiesSuccess),ut(t,t._getIdentitiesFailure))},this._getIdentitiesFailure)},t.prototype._getIdentitiesFailure=function(){h.getService().fire(t.IDCARD_LOADED_EVENT)},t.prototype._getIdentitiesSuccess=function(n){var i,r;if(!n||!n.identities||n.identities.length<1){this._getIdentitiesFailure(n);return}this._identity=n.identities[0];var e=f.FeatureAvailabilityService.isFeatureEnabled(u.WebPlatformFeatureFlags.ReactProfileCard),o=this._identity.entityType.trim().toLowerCase()==a.ServiceHelpers.UserEntity,s=window.top!==window.self,c=this._options.useOfficeFabricProfileCard!==null&&this._options.useOfficeFabricProfileCard!==undefined?this._options.useOfficeFabricProfileCard:!s;if(e&&c&&o)this._displayReactIdCard();else{if(!a.ServiceHelpers.isAuthenticatedMember())return;i=et.getUniqueIdentifierForDisambiguation(this._identity);r=et.getSignInAddress(this._identity);(this._$idCardDialog.attr("data-prefix")&&i.toLowerCase().indexOf(this._$idCardDialog.attr("data-prefix").toLowerCase())===0||r.toLowerCase().indexOf(this._$idCardDialog.attr("data-prefix").toLowerCase())===0)&&this._element&&this._displayIdCard()}h.getService().fire(t.IDCARD_LOADED_EVENT)},t.prototype._displayReactIdCard=function(){var f=$("body").eq(0),t=f.find(".cards-container"),n,u,e;t.length===0&&(t=$("<div class='cards-container' />").appendTo(f));n=this._options.anchor;n&&n.attr("role")==="row"&&(n=n.children());u=n[0];this._options.leftValue!==undefined&&this._options.topValue!==undefined&&this._options.leftValue!==null&&this._options.topValue!==null&&(u={x:this._options.leftValue,y:this._options.topValue});e={identity:this._identity,target:u,entityOperationsFacade:this._getEntityOperationsFacade(),consumerId:this._options?this._options.consumerId:l.ConsumerId.UnknownConsumer,onDismissCallback:function(){r.unmountComponentAtNode(t[0]);$(".ui-dialog-content",$(".idcard-dialog")).dialog("close")}};tt.using(["VSS/Identities/Picker/PersonaCard"],function(n){var u=i.createElement(n.PersonaCard,e);r.render(u,t[0])})},t.prototype._displayIdCard=function(){var n=this,t,e,o,f,s,v;this._$idCardDialog.attr("data-objectid",this._identity.entityId);$("body").on("mousedown.contactCard",ut(this,this._onIdCardBlur));$(".ui-dialog-buttonpane",this._$idCardDialog).hide();this._element.empty();$(".identity-picker-idcard-header").empty();var c=$("<div>").addClass("identity-picker-idcard-header").prependTo($(".ui-dialog-titlebar",this._$idCardDialog)),w=$("<div>").addClass("identity-picker-idcard-image").appendTo(c),l=$("<div>").addClass("identity-picker-idcard-basicinfo").appendTo(c),u=et.getDisplayName(this._identity),b=a.ServiceHelpers.getDefaultIdentityImage(this._identity),k=ft.createImgElement(b,this._identity.image?this._identity.image:"","user-picture-card");if(k.attr("alt",u).appendTo(w),t=et.getSignInAddress(this._identity),t.trim()||this._options.uniqueIdentifier&&ft.isValidEmail(this._options.uniqueIdentifier)&&(t=this._options.uniqueIdentifier),e=$("<div>").addClass("identity-picker-idcard-basicinfo-name").appendTo(l).text(u),rt.RichContentTooltip.addIfOverflow(u,e,{menuContainer:e}),o=$("<div>").addClass("identity-picker-idcard-ellipsis-overflow").appendTo(l),ft.isValidEmail(t)?$("<a>").attr({"aria-label":p.IdentityPicker_IdCardSendEmail,href:"mailto:"+t,tabindex:"0"}).text(t).appendTo(o):o.text(t),this._$liveStatus=$("<div>").addClass("visually-hidden").attr("aria-live","polite").appendTo(this._$idCardDialog),$(".ui-dialog-title",this._$idCardDialog).text(d.format(p.IdentityPicker_ContactCardInformation,u)),this._$idCardDialog.attr("name",u),f=(new ri).getIdentityAttributes(this._identity),this._identity.entityType.trim().toLowerCase()==a.ServiceHelpers.UserEntity){s=f.toRows();for(v in s)this._element.append(s[v])}else if(this._identity.entityType.trim().toLowerCase()==a.ServiceHelpers.GroupEntity){var y=$("<div>").addClass("identity-picker-idcard-row").attr("role","tablist").appendTo(this._element),i=$("<span>").addClass("identity-picker-idcard-tab").text(p.IdentityPicker_IdCardInfo).attr({tabindex:"0",id:"identity-picker-idcard-tab-info",role:"tab","aria-selected":"true"}).appendTo(y),r=$("<span>").addClass("identity-picker-idcard-tab identity-picker-idcard-unselected-tab").text(p.IdentityPicker_IdCardMembers).attr({tabindex:"0",id:"identity-picker-idcard-tab-members",role:"tab","aria-selected":"false"}).appendTo(y),h=f.toRows()[0].attr({role:"tabpanel","aria-labelledby":"identity-picker-idcard-tab-info"});this._element.append(h);this._constructMemberTabContent().appendTo(this._element);this._getDirectoryMemberEntities(this._identity);i.click(ut(this,function(){i.hasClass("identity-picker-idcard-unselected-tab")&&(i.removeClass("identity-picker-idcard-unselected-tab"),i.attr("aria-selected","true"),r.attr("aria-selected","false"),r.addClass("identity-picker-idcard-unselected-tab"),n._$groupMembersContainer.parent().hide(),h.show(),n._element.css("height","auto"),n._$idCardDialog.css("height","auto"))}));r.click(ut(this,function(){r.hasClass("identity-picker-idcard-unselected-tab")&&(r.removeClass("identity-picker-idcard-unselected-tab"),r.attr("aria-selected","true"),i.attr("aria-selected","false"),i.addClass("identity-picker-idcard-unselected-tab"),h.hide(),n._setSelectedIndex(ht.SelectFirstItem,g.Positioning.VerticalScrollBehavior.Top),n._$groupMembersContainer.parent().show(),n._element.css("height","auto"),n._$idCardDialog.css("height","auto"),n._groupMembers.length?n._groupMembers.length==1?n._$liveStatus.text(p.IdentityPicker_MembersSingleResultStatus):n._$liveStatus.text(d.format(p.IdentityPicker_MembersMultipleResultStatus,n._groupMembers.length)):n._$liveStatus.text(p.IdentityPicker_NoMembers))}))}f.isEmpty()?$(".ui-dialog-titlebar",this._$idCardDialog).addClass("no-content"):$(".ui-dialog-titlebar",this._$idCardDialog).removeClass("no-content");this._element.css("height","auto");this._repositionDialog();this._$idCardDialog.show();this._$idCardDialog.attr("visibility","");this._$idCardDialog.attr("tabindex","-1");this._$idCardDialog.focus()},t.prototype._constructMemberTabContent=function(){var n=$("<div>").addClass(t.ID_CARD_MEMBERS_DROPDOWN_CLASS+" "+t.ID_CARD_LIST_CLASS).attr({role:"tabpanel","aria-busy":"true","aria-labelledby":"identity-picker-idcard-tab-members"}).hide(),i;return this._$groupMembersContainer=$("<ul>").attr({role:"list","aria-labelledby":"identity-picker-idcard-tab-members",tabindex:"0"}).appendTo(n).css({"max-height":Math.min((ft.getSizePx(st.Large)+t.IMAGE_MARGINS_PX)*this._pageSize-10,t.MAX_HEIGHT)+"px"}),i=$("#identity-picker-idcard-tab-members-description.visually-hidden"),i.length||(i=$("<div>").text(p.IdentityPicker_IdCardMembersTabDescription).attr("id","identity-picker-idcard-tab-members-description").addClass("visually-hidden").appendTo("<body>")),this._$groupMembersContainer.attr("aria-describedby","identity-picker-idcard-tab-members-description"),this._$loading=$("<div>").addClass("identity-picker-idcard-word-wrap identity-picker-idcard-error").text(p.IdentityPicker_IdCardLoadingMembers).appendTo(n),n},t.prototype._getDirectoryMemberEntities=function(n){var t=this,r=w.getService(a.IdentityService),u=function(n){if(t._element){if(!n)return;t._groupMembers.forEach(ut(t,function(i){n.hasOwnProperty(i.entityId)&&n[i.entityId]&&(i.image=n[i.entityId],$(".identity-picture",t._$groupMembersContainer).each(function(t,r){r.hasAttribute("data-objectid")&&r.getAttribute("data-objectid")===i.entityId&&(r.setAttribute("src",n[i.entityId]),r.setAttribute("class","identity-picture small"))}))}))}},f=function(n){n&&s.logError("_getDirectoryMemberEntities/getIdentityImagesErrorCallback:"+JSON.stringify(n))},e=function(n){if(t._element){if(!n||!n.successors){ut(t,i)();return}if(t._groupMembers=n.successors,t._groupMembers&&t._groupMembers.length>0){t._groupMembers=ft.sortGroupMembersByName(t._groupMembers);t._groupMembers.forEach(function(n){(!n.image||n.image.trim())&&(n.image=a.ServiceHelpers.getDefaultIdentityImage(n))});var r={identityServiceOptions:{operationScope:t._operationScope,identityType:{User:!0,Group:!0},httpClient:t._options.httpClient,extensionData:t._options.extensionData},identityExtensionOptions:{consumerId:t._options.consumerId},sources:[ct.Directory]};t._getEntityOperationsFacade().getImagesForEntities(t._groupMembers,r).then(u,f);t._$loading.hide();t._renderMembersList()}else t._$loading.text(p.IdentityPicker_IdCardNoMembers);t._$groupMembersContainer.parent().removeAttr("aria-busy")}},i=function(n){t._element&&(t._$groupMembersContainer.parent().removeAttr("aria-busy"),t._$loading.text(p.IdentityPicker_IdCardErrorLoadingMembers));n&&s.logError("_displayIdCard/getConnectionsErrorCallback:"+JSON.stringify(n))};r.getIdentityConnections(n,this._operationScope,{User:!0,Group:!0},{successors:!0},{httpClient:this._options.httpClient},{consumerId:this._options.consumerId}).then(ut(this,e),ut(this,i))},t.prototype._isMembersListVisible=function(){return this._$groupMembersContainer&&this._$groupMembersContainer.length&&this._$groupMembersContainer.parent()&&this._$groupMembersContainer.parent().is(":visible")},t.prototype._onIdCardBlur=function(n){this._element.hasClass("ui-dialog-content")&&n&&!$(n.target).closest("#"+t.ID_CARD_DIALOG_ID).length&&!$(n.target).is("#"+t.ID_CARD_DIALOG_ID)&&this._element.dialog("close")},t.prototype._onIdCardClose=function(){this._options.focusElementOnClose&&this._options.focusElementOnClose.is(":visible")?this._options.focusElementOnClose.focus():this._previousFocusedElement.focus();$("body").off("mousedown.contactCard");this._$idCardDialog.off(".contactCard");this._element.dialog("destroy")},t.prototype._onKeyDown=function(n){if(!n||!n.keyCode)return!0;switch(n.keyCode){case ot.UP:return this._isMembersListVisible()?this._prevItem():!0;case ot.DOWN:return this._isMembersListVisible()?this._nextItem():!0;case ot.PAGE_UP:return this._isMembersListVisible()?this._prevPage():!0;case ot.PAGE_DOWN:return this._isMembersListVisible()?this._nextPage():!0;case ot.ENTER:case ot.SPACE:return $(document.activeElement).hasClass("identity-picker-idcard-tab")&&$(document.activeElement).hasClass("identity-picker-idcard-unselected-tab")?(n.stopPropagation(),$(document.activeElement).click(),!1):$(document.activeElement).hasClass("ui-dialog-titlebar-close")?(n.stopPropagation(),this._element.dialog("close"),!1):this._isMembersListVisible()&&this._selectedIndex!=ht.SelectNone?(n.stopPropagation(),$("li",this._$groupMembersContainer).eq(this._selectedIndex).click(),!1):!0;case ot.ESCAPE:case ot.LEFT:return n.stopPropagation(),this._element.dialog("close"),!1;case ot.TAB:var r=$(":tabbable",this._$idCardDialog),t=r.filter(":first"),i=r.filter(":last");return i.length&&n.target===i[0]&&!n.shiftKey?(t.focus(),!1):t.length&&n.target===t[0]&&n.shiftKey?(i.focus(),!1):!0;default:return!0}},t.prototype._createItem=function(n){var i=this,f,s,e,u,r,h;return n?(s=a.ServiceHelpers.getDefaultIdentityImage(n),n.image&&(f=n.image),e=et.getDisplayName(n),u=et.getSignInAddress(n),u=d.isGuid(u)?"":u,r=$("<li>").attr("role","listitem").attr("id",o.getId().toString()).height(40),rt.RichContentTooltip.addIfOverflow(e,r,{menuContainer:r}),ft.createImgElement(s,f,"identity-picture small",n.entityId).addClass(f&&f.trim()?"":"hidden").appendTo(r),h=$("<div>").addClass("item-text-container").append($("<div>").addClass("title large").text(e)).append($("<div>").addClass("subtitle large").text(u)).appendTo(r),h.css("max-width",this._element.width()-t.MEMBERS_TAB_LEFT_PADDING_PX-t.IMAGE_MARGINS_PX-ft.getSizePx(st.Large)-ft.IDENTITY_ITEM_BUFFER_WIDTH_PX),r.click(ut(this,function(u){u.stopPropagation();var f={identity:n,anchor:r,leftValue:u.pageX!==undefined?u.pageX:r.offset().left,topValue:u.pageY!==undefined?u.pageY:r.offset().top,operationScope:i._operationScope,identityType:i._identityType,httpClient:i._options.httpClient?i._options.httpClient:null,focusElementOnClose:i._options.focusElementOnClose&&i._options.focusElementOnClose.is(":visible")?i._options.focusElementOnClose:i._previousFocusedElement,appendTo:i._options.appendTo,consumerId:i._options.consumerId};o.Enhancement.enhance(t,"<div/>",f)})),r):null},t.prototype._renderMembersList=function(){var n=this,r=function(){return n._scrollTimeout!==null&&(clearTimeout(n._scrollTimeout),n._scrollTimeout=null),n._scrollTimeout=setTimeout(ut(n,n._loadNextPage),100),!1},t,i;if(this._$groupMembersContainer.empty(),this._$groupMembersContainer.addClass("items"),this._$groupMembersContainer.scroll(ut(this,r)),this._groupMembers.length==0)this._numItemsDisplayed=0;else for(this._numItemsDisplayed=Math.min(this._groupMembers.length,this._pageSize),t=0;t<Math.min(this._groupMembers.length,this._pageSize);t++)i=this._createItem(this._groupMembers[t]),i&&this._$groupMembersContainer.append(i)},t.prototype._loadNextPage=function(){var t=this._$groupMembersContainer.scrollTop()+this._$groupMembersContainer.outerHeight()>=this._$groupMembersContainer[0].scrollHeight-5,n;if(t){for(n=this._numItemsDisplayed;n<this._numItemsDisplayed+Math.min(this._groupMembers.length-this._numItemsDisplayed,this._pageSize);n++)this._$groupMembersContainer.append(this._createItem(this._groupMembers[n]));this._numItemsDisplayed+=Math.min(this._groupMembers.length-this._numItemsDisplayed,this._pageSize)}this._scrollTimeout!==null&&(clearTimeout(this._scrollTimeout),this._scrollTimeout=null)},t.prototype._nextItem=function(){return this._selectedIndex===this._groupMembers.length-1?this._setSelectedIndex(ht.SelectFirstItem):this._selectedIndex<this._groupMembers.length-1&&this._setSelectedIndex(this._selectedIndex+1),!1},t.prototype._prevItem=function(){return this._selectedIndex===-1&&this._groupMembers&&this._groupMembers.length?this._setSelectedIndex(this._groupMembers.length-1):this._selectedIndex>0&&this._setSelectedIndex(this._selectedIndex-1,g.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._nextPage=function(){var n=-1;return this._loadNextPage(),this._selectedIndex<this._groupMembers.length-1&&this._selectedIndex!==-1&&(n=this._selectedIndex+this._pageSize),this._setSelectedIndex(n<this._groupMembers.length?n:this._groupMembers.length-1,g.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._prevPage=function(){var n=0;return this._selectedIndex===-1?n=this._groupMembers.length-this._pageSize:this._selectedIndex>0&&(n=this._selectedIndex-this._pageSize),this._setSelectedIndex(n>=0?n:ht.SelectFirstItem,g.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._setSelectedIndex=function(n,t){var i,u,r,f;t===void 0&&(t=g.Positioning.VerticalScrollBehavior.Bottom);i=$("li",this._$groupMembersContainer);u=n!==null&&n!==undefined&&i.length&&i.eq(n).length&&(this._selectedIndex!==n||!i.eq(this._selectedIndex).hasClass("selected"));u?(this._selectedIndex=n,i.removeClass("selected").attr("aria-selected","false").removeAttr("id"),r=i.eq(this._selectedIndex),f=r.attr("id")?r.attr("id"):o.getId().toString(),r.addClass("selected").attr({id:f,"aria-selected":"true"}),this._$liveStatus.text(d.format(p.IdentityPicker_SelectedMember,et.getDisplayName(this._groupMembers[n]))),g.Positioning.scrollIntoViewVertical(r,t)):$.isNumeric(n)&&(this._selectedIndex=n)},t.IDCARD_LOADED_EVENT="idcard-finished-loading",t.MAX_HEIGHT=240,t.IMAGE_MARGINS_PX=8,t.MEMBERS_TAB_LEFT_PADDING_PX=11,t.ID_CARD_LIST_CLASS="identity-picker-idcard-list",t.ID_CARD_MEMBERS_DROPDOWN_CLASS=lt.DROPDOWN_BASE_CLASS,t.JQUERY_UI_DIALOG_CLASS=".ui-dialog",t.ID_CARD_DIALOG_ID="idcard-dialog",t}(o.Control);t.IdCardDialog=wt;dt=function(n){function t(i,r){var u,f;return r===void 0&&(r=!1),u=n.call(this,i)||this,u._resolvedIEntity=null,u._loadOnCreate=!1,u._previousInput="",u._isSearchEverIssued=!1,u._readOnlyMode=!1,u._showMruExpander=!1,u._trackTabKeyDown=!1,u._queryTokensRequested={},u._onDocumentLoad=function(){u._$container.is(":visible")?u._recalculateInputWidth():setTimeout(u._onDocumentLoad,50)},u._recalculateInputWidth=function(){if(u._$input)if(u._controlWidth=Math.max(u._$container.width(),t.DEFAULT_WIDTH),u._$input.prev(".identity-picker-resolved")[0]){var n=u._$input.prev(".identity-picker-resolved"),f=u._$container[0].scrollHeight>u._$container.innerHeight(),i=u._$container.offset().left+Math.max(u._$container.outerWidth(),t.DEFAULT_WIDTH)-n.offset().left-n.outerWidth()-parseInt(n.css("margin-right"))-parseInt(u._$container.css("padding-right"))-parseInt(u._$container.css("border-right-width"))-(f?ft.SCROLL_BAR_WIDTH_PX:0)-(u._showMruExpander?t.TRIANGLE_WIDTH_PX:0)-1,r=u._$input.attr("placeholder").length;i>(r?r:15)*6?u._$input.outerWidth(i):u._$input.outerWidth(u._controlWidth-ft.SCROLL_BAR_WIDTH_PX-(u._showMruExpander?t.TRIANGLE_WIDTH_PX:0))}else u._$input.outerWidth(u._controlWidth-(u._showMruExpander?t.TRIANGLE_WIDTH_PX:0)-(u._options.smallScreenRender?u._$closeInput.outerWidth():0))},r||(f=i,f.dropdownContainer||(f.dropdownContainer=ut(u,function(){return $("body")})),u.initializeOptionsInternal(f)),u}return __extends(t,n),t.prototype.initializeOptionsInternal=function(n){if(this._identityType=n.identityType?n.identityType:{User:!0},this._operationScope=n.operationScope?n.operationScope:{IMS:!0},this._size=n.size!==null&&n.size!==undefined?n.size:st.Medium,this._dropdownContainerDelegate=n.dropdownContainer,this._preDropdownRender=this._options.callbacks&&n.callbacks.preDropdownRender?n.callbacks.preDropdownRender:null,this._onDirectorySearchFinished=this._options.callbacks&&n.callbacks.onDirectorySearchFinished?n.callbacks.onDirectorySearchFinished:null,this._loadOnCreate=n.loadOnCreate?n.loadOnCreate:!1,n.placeholderText&&n.placeholderText.trim())this._placeholderText=n.placeholderText;else{var t=a.ServiceHelpers.getIdentityTypeList(this._identityType);this._placeholderText=this._generatePlaceHolder(t)}this._controlLoaded=null},t.prototype.initialize=function(){var i=this,r,e,u,f,s,c;n.prototype.initialize.call(this);r=this._options.items;this._selectedItems=[];this._unresolvedItems=[];this._$currentlyFocusedItem=null;this._$container=this._element.parent();this._controlWidth=Math.max(this._$container.innerWidth(),t.DEFAULT_WIDTH);this._element.addClass("identity-picker-search-box");this._options.smallScreenRender&&this._element.addClass("small-screen");this._element.height(ft.getSizePx(this._size)+t.OUTER_PADDING_PX);e=function(n){$(n.target).hasClass("identity-picker-input")||$(n.target).hasClass("identity-picker-search-multiple-name")||$(n.target).hasClass(t.SEARCH_MRU_TRIANGLE_CLASS)||i.focusOnSearchInput()};this._element.on("click.identityPicker",ut(this,e));this._element.on("remove.identityPicker",ut(this,this.dispose));if(this._$input=$("<input>").attr("type","text").attr("spellcheck","false").attr("autocomplete","off").attr("placeholder",this._placeholderText).addClass("identity-picker-input").attr("role","combobox").attr("aria-autocomplete","list"),!this._options.required||this._$input.attr("required","true"),!this._options.ariaDescribedby||this._$input.attr("aria-describedby",this._getAriaDescribedby(this._options.ariaDescribedby)),this._options.excludeAriaLabel||this._$input.attr("aria-label",this._options.ariaLabel?this._options.ariaLabel:this._placeholderText),this._options.elementId&&this._$input.attr("id",this._options.elementId),this._$input.appendTo(this._element),ft.styleElementBySize(this._$input,this._size,!0),this._options.multiIdentitySearch&&(f=o.getId().toString(),u=$("<label>").addClass("visually-hidden").attr("id",f).appendTo(this._element),this._$input.attr("aria-describedby",this._getAriaDescribedby(f))),this._options.smallScreenRender&&(this._$closeInput=this._createCloseButton(),ft.styleElementBySize(this._$closeInput,this._size,!1),this._$closeInput.hide(),this._$closeInput.appendTo(this._element),this._$closeInput.mousedown(ut(this,function(n){i._setInputText("");i.focusOnSearchInput();i._recalculateInputWidth();n.preventDefault();i._$closeInput.hide()}))),this._options.showMruTriangle=this._options.forceOpen?!1:this._options.showMruTriangle,this._showMruExpander=this._options.showMruTriangle?!0:!1,this._isReadOnly()&&(this._showMruExpander=!1),this._showMruExpander){this._$mruTriangle=$("<span>").addClass(t.SEARCH_MRU_TRIANGLE_CLASS).addClass("bowtie-icon bowtie-triangle-down").appendTo(this._element);this._$mruTriangle.on("mousedown.identityPicker",ut(this,function(n){i._onMruTriangleMousedown(n)}));this._$mruTriangle.on("click.identityPicker",ut(this,function(n){i._onMruTriangleClick(n)}))}this._recalculateInputWidth();$(window).on("resize.identityPicker",ut(this,function(){i._recalculateInputWidth()}));this._$input.on("focus.identityPicker",ut(this,function(){i._$currentlyFocusedItem=null;i._options.multiIdentitySearch&&(i._selectedItems.length||i._unresolvedItems.length?u.text(d.format(p.IdentityPicker_SelectedIdentities,i._selectedItems.length+i._unresolvedItems.length)):u&&u.text(""));i._$container.triggerHandler("focus")}));if(this._options.showMruOnClick&&this._options.showMru)this._$input.on("mouseup.identityPicker",ut(this,function(n){i._identityPickerDropdown&&!i._identityPickerDropdown.isVisible()&&n.button===0&&i._showAllMruInDropdown(!1,!0)}));if(this._options.multiIdentitySearch&&(this._options.highlightResolved=!1,this._options.watermark=null),this._options.highlightResolved||(this._options.watermark=null),this._options.watermark&&this._showWatermark(),this._options.getFilterByScope||(this._options.getFilterByScope=function(){return null}),this._showContactCard=this._options.showContactCard==!1?!1:!0,a.ServiceHelpers.isAuthenticatedMember()){this._element.on("keydown.identityPicker",ut(this,this._onInputKeyDown));this._$input.on("keyup.identityPicker",ut(this,this._onInputKeyUp));this._$input.on("blur.identityPicker",ut(this,this._onInputBlur));this._$input.on("input.identityPicker",ut(this,this._onInputChange));this._$input.on("click.identityPicker",ut(this,this._onInputClick));this._externalEventDelegate=ut(this,this._onInputBlur);this._dropdownShowEventDelegate=ut(this,this._attachHandlersOnShowDropdown);this._dropdownHideEventDelegate=ut(this,this._detachHandlersOnHideDropdown);this._updateActiveDescendantIdEventDelegate=ut(this,this._updateActiveDescendantId);s=this._dropdownContainerDelegate();this._identityPickerDropdownUniqueId=ft.getRandomString();h.getService().attachEvent(lt.SHOW_DROPDOWN_EVENT_INTERNAL,this._dropdownShowEventDelegate);h.getService().attachEvent(lt.HIDE_DROPDOWN_EVENT_INTERNAL,this._dropdownHideEventDelegate);h.getService().attachEvent(lt.UPDATE_ACTIVE_DESCENDANT_ID,this._updateActiveDescendantIdEventDelegate);c={pageSize:this._options.pageSize,useRemainingSpace:this._options.useRemainingSpace,smallScreenRender:this._options.smallScreenRender,dialogAppendTo:this._options.dialogAppendTo,onItemSelect:ut(this,function(n){if(i._resolveItem(n),i.focusOnSearchInput(),i._options.callbacks&&i._options.callbacks.onItemSelect)i._options.callbacks.onItemSelect(n)}),identityType:this._identityType,operationScope:this._operationScope,httpClient:this._options.httpClient?this._options.httpClient:null,showContactCard:this._showContactCard,showMru:this._isShowMruEnabledInDropdown(),showNoIdentitiesFound:this._options.showNoIdentitiesFound,getFilterByScope:this._options.getFilterByScope,preDropdownRender:this._preDropdownRender,onDirectorySearchFinished:this._onDirectorySearchFinished,loadOnCreate:this._loadOnCreate,extensionData:this._options.extensionData,size:this._options.dropdownSize!==null&&this._options.dropdownSize!==undefined?this._options.dropdownSize:st.Large,width:this._options.dropdownWidth,focusElementOnContactCardClose:this._$input,eventOptions:{uniqueId:this._identityPickerDropdownUniqueId},alignment:{positioningElement:this._$container},consumerId:this._options.consumerId};this._identityPickerDropdown=o.create(lt,s,c);this._attachHandlersOnShowDropdown({uniqueId:this._identityPickerDropdownUniqueId})}else this._showContactCard=!1,this._loadOnCreate=!1,this._options.showMru=!1,this._options.forceOpen=!1,this.enableReadOnlyMode();r&&((typeof r=="string"||r instanceof String)&&r?this.setEntities([],r.trim().split(";")):r instanceof Array&&r.length>0&&this.setEntities(r,[]));this._loadOnCreate&&this.load();this._options.forceOpen&&this._showAllMruInDropdownWithoutDefaultSelection();$(this._onDocumentLoad)},t.prototype.load=function(){var n=this;return this._controlLoaded?this._controlLoaded.promise:(this._controlLoaded=it.defer(),this._identityPickerDropdown.load().then(ut(this,function(){n._controlLoaded.resolve(!0)}),ut(this,function(){n._controlLoaded.resolve(!1)})))},t.prototype.getIdentitySearchResult=function(){return{resolvedEntities:this._selectedItems,unresolvedQueryTokens:this._unresolvedItems}},t.prototype.clear=function(){this._element&&(this._clearSearchControl(),!this._options.multiIdentitySearch&&this._options.watermark&&this._showWatermark())},t.prototype.isDropdownVisible=function(){return this._identityPickerDropdown&&this._identityPickerDropdown.isVisible()},t.prototype.isDropdownFiltered=function(){return this._identityPickerDropdown&&this._identityPickerDropdown.isFiltered()},t.prototype.addIdentitiesToMru=function(n){if(a.ServiceHelpers.isAuthenticatedMember()){var t=n.map(function(n){if(et.isDirectoryEntityType(n))return n.localId});this._identityPickerDropdown.addIdentitiesToMru(t)}},t.prototype.setEntities=function(n,t,i){var o=n?n.length:0,s=t?t.length:0,l,a,u,e,r,h,c,f;if(o+s!=0){if(!this._options.multiIdentitySearch&&o+s>1){l={source:"setEntities",message:"Can't set more than one entity for a single select control"};throw l;}if(a={UID:!0},s>0){if(u="",this._options.multiIdentitySearch||(u=t[0]?t[0].trim():u),this._options.showTemporaryDisplayName){this._options.watermark&&$(".identity-picker-resolved:has(> .identity-picker-watermark-name)",this._element).off(".identityPicker").remove();e=[];for(f in t)r=t[f].trim(),r.charAt(r.length-1)==">"&&r.indexOf("<")>=0?(h=r.substring(0,r.indexOf("<")-1).trim(),c=r.substring(r.indexOf("<")+1,r.length-1).trim(),e.push(c),this._createTemporaryItem(h,c.toLowerCase()),this._options.multiIdentitySearch||(u=h)):e.push(r);t=e}this._resolveInputToIdentities(t.join(";"),a,i,u)}if(o>0)for(f in n)n[f]&&this._resolveItem(n[f])}},t.prototype.getDropdownPrefix=function(){return this._identityPickerDropdown?this._identityPickerDropdown.getPrefix():""},t.prototype.showMruDropdown=function(){this._showMruExpander&&this._$mruTriangle.trigger("click")},t.prototype.focusOnSearchInput=function(){if(this._$currentlyFocusedItem=null,this._$input.is(":visible"))this._$input.focus();else{var n=$(".identity-picker-resolved:visible",this._element);n.length<=0?(this._$input.show(),this._$input.focus()):($(n[0]).focus(),this._$currentlyFocusedItem=$(n[0]))}this._$container.triggerHandler("focus")},t.prototype.enableReadOnlyMode=function(){this._readOnlyMode=!0;this._showMruExpander=!1;this._hideMruTriangle();this._$container.addClass("identity-picker-readonly");$(".identity-picker-resolved-name",this._element).removeAttr("tabindex");$(".identity-picker-watermark-name",this._element).removeAttr("tabindex");$(".identity-picker-resolved-close",this._element).hide();$(".identity-picker-resolved-name",this._element).attr("aria-label",d.format(p.ReadOnlyPrefix,this._options.ariaLabel?this._options.ariaLabel:this._placeholderText));this._element.removeAttr("aria-label");var n=$(".identity-picker-resolved",this._element);n.removeAttr("aria-describedby");n.attr("tabindex","-1");n.attr("aria-disabled","true");$("visually-hidden",n).remove();this._$input.attr("disabled","");this._$input.removeAttr("role");this._$input.removeAttr("aria-expanded")},t.prototype.disableReadOnlyMode=function(){this._readOnlyMode=!1;this._showMruExpander=this._options.showMruTriangle?!0:!1;this._showMruTriangle();this._$container.removeClass("identity-picker-readonly");this._element.attr("aria-label",this._options.ariaLabel?this._options.ariaLabel:this._placeholderText);$(".identity-picker-watermark-name",this._element).attr("tabindex","0");var t=$(".identity-picker-resolved",this._element),n=$(".identity-picker-resolved-name",this._element);n.length&&(this._options.highlightResolved&&n.attr("tabindex","0"),n.removeAttr("aria-label"),this._element.find(".identity-picker-resolved-close").show(),this._showContactCard&&!this._options.highlightResolved&&t.attr("aria-haspopup","true"));this._$input.removeAttr("disabled");this._$input.attr("role","combobox");this._$input.attr("aria-expanded","false");this._options.highlightResolved||t.attr("tabindex","0");this._setResolvedItemRole(t,n.text())},t.prototype.hasPendingRequests=function(){return this._queryTokensRequested&&Object.keys(this._queryTokensRequested).length>0},t.prototype.dispose=function(){this._detachHandlersOnHideDropdown({uniqueId:this._identityPickerDropdownUniqueId});this._dropdownShowEventDelegate&&h.getService().detachEvent(lt.SHOW_DROPDOWN_EVENT_INTERNAL,this._dropdownShowEventDelegate);this._dropdownHideEventDelegate&&h.getService().detachEvent(lt.HIDE_DROPDOWN_EVENT_INTERNAL,this._dropdownHideEventDelegate);this._updateActiveDescendantIdEventDelegate&&h.getService().detachEvent(lt.UPDATE_ACTIVE_DESCENDANT_ID,this._updateActiveDescendantIdEventDelegate);this._identityPickerDropdown&&this._identityPickerDropdown.dispose();this._$input&&this._$input.off(".identityPicker");this._showMruExpander&&this._$mruTriangle&&this._$mruTriangle.off(".identityPicker");this._element&&this._element.off(".identityPicker");$(window).off("resize.identityPicker");n.prototype.dispose.call(this)},t.prototype._getEntityOperationsFacade=function(){return this._entityOperationsFacade||(this._entityOperationsFacade=w.getService(yt)),this._entityOperationsFacade},t.prototype._isReadOnly=function(){return this._readOnlyMode||!a.ServiceHelpers.isAuthenticatedMember()},t.prototype._hideMruTriangle=function(){this._$mruTriangle&&this._$mruTriangle.addClass("identity-picker-element-hide")},t.prototype._showMruTriangle=function(){this._showMruExpander&&this._$mruTriangle&&this._$mruTriangle.removeClass("identity-picker-element-hide")},t.prototype._getAriaDescribedby=function(n){var t=this._$input.attr("aria-describedby");return t?t.concat(" "+n):n},t.prototype._resetSearchControl=function(n,t){n===void 0&&(n=!0);t===void 0&&(t=!0);this._options.watermark&&!this._options.forceOpen?n?this._showWatermark():this._clearWatermark():(this._$input.show(),this._recalculateInputWidth());this._showMruTriangle();t&&this.focusOnSearchInput()},t.prototype._clearSearchControl=function(){$(".identity-picker-resolved",this._element).off(".identityPicker").remove();this._queryTokensRequested={};this._options.multiIdentitySearch||this._resetSearchControl(!1,!1);this._selectedItems=[];this._unresolvedItems=[];this._$currentlyFocusedItem=null;this._resolvedIEntity=null;this._setInputText("");this._fireInvalidInput()},t.prototype._showAllMruInDropdownWithoutDefaultSelection=function(n){n===void 0&&(n=!0);this._showAllMruInDropdown(n,!1)},t.prototype._showAllMruInDropdown=function(n,t){var i=this,r;n===void 0&&(n=!0);t===void 0&&(t=!0);r=function(t){i._element&&((t&&t.length>0||n)&&i._showDropdown(),i._$input.off("input.identityPicker"),i.focusOnSearchInput(),k.delay(i,0,function(){i._$input.on("input.identityPicker",ut(i,i._onInputChange))}))};this._isSearchEverIssued=!0;this._identityPickerDropdown.showAllMruIdentities(t).then(r)},t.prototype._showProgressCursor=function(){this._fire(t.SEARCH_STARTED_EVENT,null);$(".identity-picker-input",this._element).css("cursor","progress")},t.prototype._stopProgressCursor=function(){this._fire(t.SEARCH_FINISHED_EVENT,null);$(".identity-picker-input",this._element).css("cursor","text")},t.prototype._fireInvalidInput=function(){this._fire(t.INVALID_INPUT_EVENT,null)},t.prototype._fireValidInput=function(){this._fire(t.VALID_INPUT_EVENT,null)},t.prototype._fireRemoveResolvedInput=function(n){this._fire(t.RESOLVED_INPUT_REMOVED_EVENT,n?!0:null)},t.prototype._updateActiveDescendantId=function(n){n&&n.uniqueId&&this._identityPickerDropdownUniqueId&&this._identityPickerDropdownUniqueId===n.uniqueId&&this._$input.attr("aria-activedescendant",n.activeDescendantId)},t.prototype._isShowMruEnabledInDropdown=function(){return this._options.showMru||this._showMruExpander},t.prototype._attachHandlersOnShowDropdown=function(n){if(n&&n.uniqueId&&this._identityPickerDropdownUniqueId&&this._identityPickerDropdownUniqueId===n.uniqueId){if(this._element)this._element.parents().on("scroll.identityPicker resize.identityPicker",ut(this,this._onInputBlur));this.isDropdownVisible()&&(this._$input.attr("aria-expanded","true"),this._$input.attr("aria-owns",this._identityPickerDropdown.getItemsListId()));h.getService().attachEvent(t.DIALOG_MOVE_EVENT,this._externalEventDelegate)}},t.prototype._detachHandlersOnHideDropdown=function(n){n&&n.uniqueId&&this._identityPickerDropdownUniqueId&&this._identityPickerDropdownUniqueId===n.uniqueId&&(this._element&&this._element.parents().off("scroll.identityPicker resize.identityPicker"),this._$input.attr("aria-expanded","false"),this._$input.removeAttr("aria-activedescendant"),h.getService().detachEvent(t.DIALOG_MOVE_EVENT,this._externalEventDelegate))},t.prototype._hideDropdown=function(n){this._identityPickerDropdown&&!this._options.forceOpen&&(this._detachHandlersOnHideDropdown({uniqueId:this._identityPickerDropdownUniqueId}),this._identityPickerDropdown.hide(n),this._$input.removeAttr("aria-activedescendant"))},t.prototype._showDropdown=function(){this._attachHandlersOnShowDropdown({uniqueId:this._identityPickerDropdownUniqueId});this._identityPickerDropdown.show()},t.prototype._compareInputOnInputChangeEvent=function(n){return n=n?n:"",this._previousInput==n},t.prototype._setInputText=function(n){n=n?n:"";this._$input.val(n);this._previousInput=n;this._options.smallScreenRender&&n&&this._$closeInput.show()},t.prototype._resetPreviousInput=function(){this._previousInput=""},t.prototype._onInputChange=function(n){var t=this.getInputText(),i,r,u,f;if(this._options.smallScreenRender&&(t?this._$closeInput.show():this._$closeInput.hide()),this._compareInputOnInputChangeEvent(t))return!0;if(t=t?t:"",this._previousInput=t,this._resolvedIEntity=null,this._recalculateInputWidth(),t&&t.indexOf(";")<=0?this._fireInvalidInput():this._fireInputValidityEvent(),!t||!this._options.multiIdentitySearch||t.indexOf(";")<0){if(this._isSearchEverIssued=!0,t&&!this._options.multiIdentitySearch){i=t.split(";");r="";for(u in i)if(f=i[u]?i[u].trim():"",f){r=f;break}t=r}return this._identityPickerDropdown.getIdentities(t),!0}this._resolveInputToIdentities(this.getInputText());n.stopPropagation()},t.prototype._onInputClick=function(n){var t=this.getInputText();t&&(this._isSearchEverIssued?this._showDropdown(n):this._options.showMru&&this._showAllMruInDropdown(!1))},t.prototype._onMruTriangleMousedown=function(n){n.preventDefault();n.stopPropagation()},t.prototype._onMruTriangleClick=function(n){if(this._isReadOnly())return!1;this.isDropdownVisible()?this._hideDropdown(n):this._showAllMruInDropdownWithoutDefaultSelection();this.focusOnSearchInput();n.stopPropagation()},t.prototype._isDropdownHovered=function(){return this._identityPickerDropdown.getElement()&&$(this._identityPickerDropdown.getElement()).filter(":hover").length>0},t.prototype._isContactCardHovered=function(){return $(".idcard-dialog").length>0&&$(".idcard-dialog").filter(":hover").length>0},t.prototype._onInputBlur=function(n){if(this._identityPickerDropdown&&!this._isDropdownHovered()&&!($(".idcard-dialog").length||$(".idcard-dialog-content").length)&&this._$input.is(":visible")){var t=!1;this._trackTabKeyDown&&(this.isDropdownVisible()&&this._identityPickerDropdown.getSelectedItem()&&(this._resolveSelectedItem(!0),t=!0),this._trackTabKeyDown=!1);this._options.highlightResolved&&!t&&(this._resolvedIEntity?this._resolveItem(this._resolvedIEntity):this._options.watermark&&!this.getInputText()&&(this._showWatermark(),this._showMruTriangle()));this.isDropdownVisible()&&this._hideDropdown(n);this._options.callbacks&&this._options.callbacks.onInputBlur&&this._options.callbacks.onInputBlur()}},t.prototype._focusOnResolvedItem=function(n){n.is(":visible")?(n.focus(),this._$container.triggerHandler("focus")):this.focusOnSearchInput()},t.prototype._onInputKeyDown=function(n){var i,t;if(!n||this._isReadOnly())return!0;if(n.keyCode===ot.ESCAPE&&this.isDropdownVisible()&&n.stopPropagation(),n.keyCode===ot.UP)return this.isDropdownVisible()&&this._identityPickerDropdown.handleKeyEvent(n),n.preventDefault(),!0;if(n.keyCode===ot.DOWN)return this._identityPickerDropdown&&(this._identityPickerDropdown.isVisible()?this._identityPickerDropdown.handleKeyEvent(n):this._isShowMruEnabledInDropdown()?this._showAllMruInDropdown():this._showDropdown(n)),n.preventDefault(),!0;if(n.keyCode===ot.TAB)return this._trackTabKeyDown=!0,!0;if(n.keyCode===ot.ENTER)return this.isDropdownVisible()?(this.focusOnSearchInput(),this._resolveSelectedItem(),!1):this._options.multiIdentitySearch&&this._$currentlyFocusedItem?(this._$currentlyFocusedItem.click(),!1):!0;if(n.keyCode===ot.RIGHT&&this._showContactCard&&this.isDropdownVisible()&&this._identityPickerDropdown.getSelectedItem()&&this._$input[0].selectionEnd==this._$input.val().length||n.keyCode===ot.DELETE&&this._isShowMruEnabledInDropdown()&&this.isDropdownVisible()&&(i=this._identityPickerDropdown.getSelectedItem(),i&&i.isMru&&et.isDirectoryEntityType(i)))return this._identityPickerDropdown.handleKeyEvent(n),n.preventDefault(),!1;if(!this._$currentlyFocusedItem&&this._$input[0]===document.activeElement&&this._$input[0].selectionStart>0)return!0;if(this._options.callbacks&&this._options.callbacks.onKeyPress)this._options.callbacks.onKeyPress(n.keyCode);switch(n.keyCode){case ot.LEFT:return this._options.multiIdentitySearch?this._$currentlyFocusedItem&&this._$currentlyFocusedItem.prev(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem.blur(),this._$currentlyFocusedItem=this._$currentlyFocusedItem.prev(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem),!1):!this._$currentlyFocusedItem&&(this._selectedItems&&this._selectedItems.length>0||this._unresolvedItems&&this._unresolvedItems.length>0)&&this._$input[0]===document.activeElement&&!this._$input[0].selectionStart?(this._$currentlyFocusedItem=this._$input.prev(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem),!1):!0:!0;case ot.RIGHT:return this._options.multiIdentitySearch?this._$currentlyFocusedItem?(this._$currentlyFocusedItem.blur(),this._$currentlyFocusedItem.next(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem=this._$currentlyFocusedItem.next(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem)):this.focusOnSearchInput(),!1):!0:!0;case ot.BACKSPACE:return this._options.multiIdentitySearch?this._$currentlyFocusedItem?(t=this._$currentlyFocusedItem,this._$currentlyFocusedItem.prev(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem=this._$currentlyFocusedItem.prev(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem)):this._$currentlyFocusedItem.next(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem=this._$currentlyFocusedItem.next(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem)):this.focusOnSearchInput(),this._removeFromResolved(t.attr("data-signin")),this._removeFromUnresolved(t.attr("data-signin")),t.off(".identityPicker").remove(),this._recalculateInputWidth(),!1):(this._selectedItems&&this._selectedItems.length>0||this._unresolvedItems&&this._unresolvedItems.length>0)&&this._$input[0]===document.activeElement&&!this._$input[0].selectionStart?(this._removeFromResolved(this._$input.prev(".identity-picker-resolved").attr("data-signin")),this._removeFromUnresolved(this._$input.prev(".identity-picker-resolved").attr("data-signin")),this._$input.prev(".identity-picker-resolved").off(".identityPicker").remove(),this._recalculateInputWidth(),!1):!0:this._selectedItems&&this._selectedItems.length>0?(this._removeFromResolved(this._$input.prev(".identity-picker-resolved").attr("data-signin")),this._$input.prev(".identity-picker-resolved").off(".identityPicker").remove(),this._resetSearchControl(),!1):!0;case ot.DELETE:return this._options.multiIdentitySearch?this._$currentlyFocusedItem?(t=this._$currentlyFocusedItem,this._$currentlyFocusedItem.next(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem=this._$currentlyFocusedItem.next(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem)):this.focusOnSearchInput(),this._removeFromResolved(t.attr("data-signin")),this._removeFromUnresolved(t.attr("data-signin")),t.off(".identityPicker").remove(),this._recalculateInputWidth(),!1):!0:this._selectedItems&&this._selectedItems.length>0?(this._removeFromResolved(this._$input.prev(".identity-picker-resolved").attr("data-signin")),this._$input.prev(".identity-picker-resolved").off(".identityPicker").remove(),this._resetSearchControl(),!1):!0;case ot.SPACE:return this._options.multiIdentitySearch&&this._$currentlyFocusedItem?(this._$currentlyFocusedItem.click(),!1):!0;default:return!0}},t.prototype._fireInputValidityEvent=function(){!this.getInputText().length&&this._selectedItems&&this._selectedItems.length>0&&(!this._unresolvedItems||!this._unresolvedItems.length)?this._fireValidInput():this._fireInvalidInput()},t.prototype._resolveSelectedItem=function(n){if(n===void 0&&(n=!1),this.isDropdownVisible()){var t=this._identityPickerDropdown.getSelectedItem();if(t&&(this._resolveItem(t,!0,null,n),this._options.callbacks&&this._options.callbacks.onItemSelect))this._options.callbacks.onItemSelect(t)}},t.prototype._onInputKeyUp=function(n){return n&&n.keyCode!==ot.DOWN&&n.keyCode!==ot.UP&&n.keyCode!==ot.RIGHT&&this._identityPickerDropdown&&this._identityPickerDropdown.handleKeyEvent(n),!0},t.prototype._removeFromUnresolved=function(n){for(var i=this._getSearchPrefix(n).toLowerCase(),t=this._unresolvedItems.indexOf(i);t>=0;)this._unresolvedItems.splice(t,1),t=this._unresolvedItems.indexOf(i);this._fireInputValidityEvent()},t.prototype._removeFromResolved=function(n,t){function r(t){var i=et.getUniqueIdentifierForDisambiguation(t);return i.toLowerCase()===n.toLowerCase()?($(".idcard-dialog").each(function(){if($(this).is(":visible")&&$(this).attr("data-prefix")&&n.toLowerCase().indexOf($(this).attr("data-prefix").toLowerCase())===0)return $(".ui-dialog-content",$(this)).dialog("close"),!1}),!1):!0}var i=this._selectedItems.filter(r);i.length!=this._selectedItems.length&&(this._selectedItems=i,this._fireInputValidityEvent(),this._fireRemoveResolvedInput(t))},t.prototype.getInputText=function(){return this._$input.val().trim()},t.prototype._resolveInputToIdentities=function(n,i,r,u){var f=this,b=function(n){if(f._element){if(!n||!n.queryToken||!n.identities){v();return}if(n.identities.length!=1)if(i&&i.UID){var e=d.htmlEncode(n.queryToken),r={entityId:t.INACTIVE_ENTITY_ID_PREFIX+"_"+e,entityType:t.INACTIVE_ENTITY_TYPE,originDirectory:ft.VisualStudioDirectory,originId:t.INACTIVE_ORIGIN_ID_PREFIX+"_"+e,isMru:!1,active:!1,displayName:u?u:n.queryToken,signInAddress:n.queryToken,samAccountName:ft.isOnPremiseEnvironment()&&n.queryToken.indexOf("\\")>=0?n.queryToken.split("\\",2)[1]:"",scopeName:ft.isOnPremiseEnvironment()&&n.queryToken.indexOf("\\")>=0?n.queryToken.split("\\",1)[0]:""};r.image=a.ServiceHelpers.getDefaultIdentityImage(r);f._resolveItem(r,!1,n.queryToken)}else f._fireInvalidInput();else n.queryToken.toLowerCase().trim()in f._queryTokensRequested&&f._resolveItem(n.identities[0],!1,n.queryToken);f._hideDropdown();f._stopProgressCursor()}},v=function(n){f._element&&(f._stopProgressCursor(),f._fireValidInput());n&&s.logError("_resolveInputToIdentities/getIdentitiesErrorCallback:"+JSON.stringify(n))},p=n.split(a.ServiceHelpers.GetIdentities_Prefix_Separator),o=[],y,h,w,k,e,g,nt,c;for(h in p)y=p[h]?p[h].trim():"",y.length>0&&(o.push(y),this._unresolveItem(y));this._options.multiIdentitySearch||(this._queryTokensRequested={});for(h in o)this._queryTokensRequested[o[h].toLowerCase().trim()]=!0;if(w=o.length,w)for(this._showProgressCursor(),k=function(){var n=o.slice(50*c,50*c+50);g={identityServiceOptions:{operationScope:r?r:e._operationScope,identityType:e._identityType,httpClient:e._options.httpClient,extensionData:e._options.extensionData},identityExtensionOptions:{consumerId:e._options?e._options.consumerId:l.ConsumerId.UnknownConsumer},prefix:n.join(";"),queryTypeHint:i,sources:[ct.Directory],filterByScope:e._options.getFilterByScope()};nt=e._getEntityOperationsFacade().search(g).then(function(t){if(f._options.retainInputIdentitiesSequenceWithinPage)f._resolveIdentityResponseInSequence(t,n,b,v);else for(var i in t.queryTokenResponse)t.queryTokenResponse[i].then(b,v)},v)},e=this,c=0;c<=w/50;c++)k()},t.prototype._resolveIdentityResponseInSequence=function(n,i,r,u){var o=this,f=[];for(var e in n.queryTokenResponse)n.queryTokenResponse.hasOwnProperty(e)&&f.push(n.queryTokenResponse[e]);it.allSettled(f).then(function(n){for(var a,e,v,k,f,s,y,d,p=[],w=[],c=0,b=n;c<b.length;c++)f=b[c],f.state===l.PromiseResultStatus.Fulfilled?p.push(f.value):f.state===l.PromiseResultStatus.Rejected&&w.push(f.reason);for(a={},p.forEach(function(n){return a[n.queryToken]=n}),e=0,v=i;e<v.length;e++)k=v[e],f=a[k],f&&r(f);for(s=0,y=w;s<y.length;s++)d=y[s],u(d);h.getService().fire(t.SEQUENCED_IDENTITIES_IN_PAGE_RESOLVED_EVENT_INTERNAL,o)},u)},t.prototype._replaceAndCleanup=function(n){for(var i=!1,t=new RegExp("(( *;+ *)+|^ *)("+n.replace(/[.^$*+?()[{\\|\]-]/g,"\\$&")+")(( *;+ *)+| *$)","gi");this.getInputText().search(t)>=0;)this._setInputText(this.getInputText().replace(t,";")),i=!0;return t=new RegExp("^( *;+ *)+$"),this.getInputText().search(t)||this._setInputText(""),i},t.prototype._findInSelectedItems=function(n){var i=-1,t,r;if(!n)return i;for(t=0,r=this._selectedItems.length;t<r;t++)if(this._selectedItems[t].entityId===n.entityId){i=t;break}return i},t.prototype._showIdCardDialog=function(n){if(this._showContactCard&&a.ServiceHelpers.isAuthenticatedMember()){var t={identity:n.identity,anchor:n.anchor,leftValue:n.leftValue,topValue:n.topValue,operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient?this._options.httpClient:null,consumerId:this._options.consumerId,appendTo:this._options.dialogAppendTo,useOfficeFabricProfileCard:this._options.useOfficeFabricProfileCard};o.Enhancement.enhance(wt,"<div/>",t)}},t.prototype._clearWatermark=function(){this.isDropdownVisible()&&this._hideDropdown();!this._options.forceOpen&&this._identityPickerDropdown&&this._identityPickerDropdown.reset();this._$input.hide();this._options.smallScreenRender&&this._$closeInput.hide();this._setInputText("")},t.prototype._showWatermark=function(){var n=this,l=this._isControlInFocus(),r,i,f,o,s,h,u,e,c;this._controlWidth=Math.max(this._$container.width(),t.DEFAULT_WIDTH);this._clearWatermark();r=this._options.watermark;i=$("<span>").addClass("identity-picker-resolved").addClass("identity-picker-resolved-single-search");i.attr("tabindex","-1");i.blur(ut(this,function(t){n._identityPickerDropdown&&!n._isDropdownHovered()&&!n._isContactCardHovered()&&i.is(":visible")&&(n.isDropdownVisible()&&n._hideDropdown(t),n._options.callbacks&&n._options.callbacks.onInputBlur&&n._options.callbacks.onInputBlur())}));ft.styleElementBySize(i,this._size,!0);this._options.smallScreenRender?f=$("<span>").addClass("icon identity-picker-text-search-icon bowtie-icon bowtie-search"):(s=a.ServiceHelpers.getDefaultIdentityImage(r),r.image&&(o=r.image),f=ft.createImgElement(s,o,"user-picture-resolved",r.entityId));ft.styleElementBySize(f,this._size,!1);h=et.getDisplayName(r);u=$("<span>").addClass("identity-picker-watermark-name").addClass("text-cursor").text(h);i.append(f).append(u).insertBefore(this._$input);i.width(this._controlWidth-t.OUTER_PADDING_PX-(this._showMruExpander?t.TRIANGLE_WIDTH_PX:0));u.attr("tabindex","0");e=function(t){t.stopPropagation();i.off(".identityPicker").remove();n._$input.show();n._showMruTriangle();n._recalculateInputWidth();n.focusOnSearchInput();n._setInputText("")};u.on("focus.identityPicker",ut(this,function(t){if(n._isReadOnly())return!1;e(t)}));i.on("mousedown.identityPicker",ut(this,function(t){if(n._isReadOnly())return!1;t.preventDefault();e(t);n._showAllMruInDropdown(!1)}));l&&this.focusOnSearchInput();this._options.callbacks&&this._options.callbacks.getCustomTooltip&&(c=ft.createTooltip(r,this._options.callbacks.getCustomTooltip()),rt.RichContentTooltip.add(c,u,{showOnFocus:!this._options.smallScreenRender}))},t.prototype._createTemporaryItem=function(n,t){var i=$("<span>").addClass("identity-picker-resolved identity-picker-temp").attr("data-signin",ft.replaceBackslash(t)).attr("tabindex","-1"),u,r;ft.styleElementBySize(i,this._size,!0);u=ft.createImgElement(a.ServiceHelpers.DefaultUserImage,"","user-picture-resolved");ft.styleElementBySize(u,this._size,!1);r=$("<span>").addClass("identity-picker-resolved-name").text(n);this._options.multiIdentitySearch?(i.addClass("identity-picker-resolved-bg"),r.addClass("identity-picker-search-multiple-name").css("max-width",this._getItemNameContainerMaxWidth([]))):(i.addClass("identity-picker-resolved-single-search"),this._options.highlightResolved||(i.attr("tabindex","0"),i.addClass("identity-picker-resolved-single-bg")),$(".identity-picker-resolved",this._element).off(".identityPicker").remove());this._options.highlightResolved&&r.addClass("text-cursor");i.append(u).append(r).insertBefore(this._$input);this._options.multiIdentitySearch?this._recalculateInputWidth():(this._$input.hide(),this._options.smallScreenRender&&this._$closeInput.hide());this._isControlInFocus()&&this.focusOnSearchInput();this._options.callbacks&&this._options.callbacks.getCustomTooltip&&rt.RichContentTooltip.add(n,r,{showOnFocus:!this._options.smallScreenRender})},t.prototype._isControlInFocus=function(){var n=$(document.activeElement);return n.length>0&&(this._element.is(n[0])||this._element.has(n[0]).length>0)},t.prototype._createResolvedItem=function(n){var t=$("<span>").addClass("identity-picker-resolved").attr("data-signin",ft.replaceBackslash(n));return this._isReadOnly()||t.attr("tabindex","-1"),this._options.multiIdentitySearch?t.addClass("identity-picker-resolved-bg"):(t.addClass("identity-picker-resolved-single-search"),this._showMruExpander&&this._options.highlightResolved&&t.addClass("identity-picker-drop-icon-padding"),this._options.highlightResolved||(t.attr("tabindex","0"),!this._options.ariaDescribedby||t.attr("aria-describedby",this._getAriaDescribedby(this._options.ariaDescribedby)),t.addClass("identity-picker-resolved-single-bg"))),t},t.prototype._setResolvedItemRole=function(n,t){n.attr("role","button").attr("aria-disabled","false").attr("aria-label",d.format(p.IdentityPicker_ButtonResolvedItemLabel,d.htmlEncodeJavascriptAttribute(t)));var i=o.getId().toString(),r=$("<div>").attr("id",i).addClass("visually-hidden").appendTo(n);n.attr("aria-describedby",this._getAriaDescribedby(i));this._options.highlightResolved?r.text(p.IdentityPicker_FocusChangeValue):r.text(d.format(p.IdentityPicker_ButtonResolvedItemDescription,d.htmlEncodeJavascriptAttribute(t))+". "+(this._showContactCard&&!this._options.highlightResolved?p.IdentityPicker_EnterSpaceMessage+". ":"")+p.IdentityPicker_DeleteBackspaceMessage)},t.prototype._resolveItem=function(n,i,r,u){var f=this,k,h,l,e,g,nt,v,c,o,s,b,y,w;if(i===void 0&&(i=!0),r===void 0&&(r=null),u===void 0&&(u=!1),this._controlWidth=Math.max(this._$container.width(),t.DEFAULT_WIDTH),n){if(k=this._isControlInFocus(),!this._options.multiIdentitySearch&&this._selectedItems&&this._selectedItems.length>0&&this._clearSearchControl(),this.isDropdownVisible()&&this._hideDropdown(),!this._options.forceOpen&&(this._options.multiIdentitySearch||!this._options.highlightResolved)&&this._identityPickerDropdown&&this._identityPickerDropdown.reset(),this._resetPreviousInput(),i&&this._setInputText(""),h=r?this._getSearchPrefix(r):"",h&&(this._replaceAndCleanup(h.toLowerCase()),this._removeFromUnresolved(h.toLowerCase()),this._element.find('.identity-picker-resolved[data-signin="'+ft.replaceBackslash(h.toLowerCase())+'"][data-unresolved="true"]').off(".identityPicker").remove()),this._options.showTemporaryDisplayName&&(this._options.multiIdentitySearch?this._element.find('.identity-picker-temp[data-signin="'+ft.replaceBackslash(h.toLowerCase())+'"]').remove():$(".identity-picker-temp",this._element).remove()),this._findInSelectedItems(n)!=-1){this._fireInputValidityEvent();return}if(this._selectedItems.push(n),$(".ui-dialog-content",$(".idcard-dialog:visible")).dialog("close"),l=et.getUniqueIdentifierForDisambiguation(n),this._$input.width(10),e=this._createResolvedItem(l.toLowerCase()),ft.styleElementBySize(e,this._size,!0),nt=a.ServiceHelpers.getDefaultIdentityImage(n),n.image&&(g=n.image),v=ft.createImgElement(nt,g,"user-picture-resolved",n.entityId),ft.styleElementBySize(v,this._size,!1),c=et.getDisplayName(n),this._options.smallScreenRender&&this._$closeInput.hide(),o=this._createCloseButton(),this._options.multiIdentitySearch&&o.addClass("identity-picker-resolved-bg"),this._options.highlightResolved||o.addClass("identity-picker-resolved-single-bg"),ft.styleElementBySize(o,this._size,!1),o.click(ut(this,function(n){if(f._removeFromResolved(l.toLowerCase(),!0),e.off(".identityPicker").remove(),f._identityPickerDropdown&&f._identityPickerDropdown.updatePrefix(""),f._resolvedIEntity=null,!f._options.multiIdentitySearch){f._resetSearchControl();return}f._recalculateInputWidth();f.focusOnSearchInput();n.stopPropagation()})),e.append(v).append(o).insertBefore(this._$input),s=$("<span>").addClass("identity-picker-resolved-name").text(c),this._readOnlyMode&&s.attr("aria-label",d.format(p.ReadOnlyPrefix,this._options.ariaLabel?this._options.ariaLabel:this._placeholderText)),this._options.multiIdentitySearch&&s.addClass("identity-picker-search-multiple-name").css("max-width",this._getItemNameContainerMaxWidth([v,o])),this._options.highlightResolved?s.addClass("text-cursor"):et.isDirectoryEntityType(n)&&s.addClass("pointer-cursor"),n.active!==!1||et.isAadGroup(n)||s.addClass("identity-picker-inactive-name"),this._isReadOnly()?o.hide():this._setResolvedItemRole(e,c),e.append(s),this._options.multiIdentitySearch?this._recalculateInputWidth():(this._$input.hide(),this._options.smallScreenRender&&this._$closeInput.hide(),this._showMruExpander&&this._hideMruTriangle(),this._options.watermark&&$(".identity-picker-resolved:has(> .identity-picker-watermark-name)",this._element).off(".identityPicker").remove(),this._options.highlightResolved&&!this._isReadOnly()&&s.attr("tabindex","0")),b=function(t){t.stopPropagation();f._resolvedIEntity=n;f._removeFromResolved(l.toLowerCase());e.off(".identityPicker").remove();f._$input.show();f._showMruTriangle();f._recalculateInputWidth();f.focusOnSearchInput();f._setInputText(c);f._identityPickerDropdown&&f._identityPickerDropdown.updatePrefix(c);f._$input.select()},this._options.highlightResolved)s.on("focus.identityPicker",ut(this,function(n){if(f._isReadOnly())return!1;b(n)}));y=function(t){if($.contains(o[0],t.target)||o[0]===t.target)return!0;if(f._isReadOnly())return!1;if(w)return w=!1,!1;if(w=!0,t.preventDefault(),f._options.highlightResolved)b(t);else if(t.stopPropagation(),et.isDirectoryEntityType(n)){f._showIdCardDialog({anchor:e,identity:n,leftValue:0,consumerId:f._options.consumerId});var i=function(n){n.stopPropagation();e.off("click.identityPicker",i)};e.on("click.identityPicker",i)}f._options.highlightResolved&&f._showAllMruInDropdownWithoutDefaultSelection(!1)};w=!1;e.on("mousedown.identityPicker",ut(this,function(n){y(n)}));e.on("click.identityPicker",ut(this,function(n){y(n)}));if(!this._options.multiIdentitySearch&&!this._options.highlightResolved)e.on("keypress.identityPicker",ut(this,function(n){n&&n.keyCode===ot.ENTER&&y(n)}));e.blur(ut(this,function(n){f._identityPickerDropdown&&!f._isDropdownHovered()&&!f._isContactCardHovered()&&e.is(":visible")&&(f.isDropdownVisible()&&f._hideDropdown(n),f._options.callbacks&&f._options.callbacks.onInputBlur&&f._options.callbacks.onInputBlur())}));this._isReadOnly()||!this._showContactCard||this._options.highlightResolved||e.attr("aria-haspopup","true");this._fireInputValidityEvent();this._$container[0].scrollTop=this._$container[0].scrollHeight;k&&!u&&this.focusOnSearchInput();this._options.highlightResolved&&a.ServiceHelpers.isAuthenticatedMember()&&rt.RichContentTooltip.add(ft.createTooltip(n),s,{showOnFocus:!this._options.smallScreenRender})}},t.prototype._getItemNameContainerMaxWidth=function(n){var t=this._controlWidth-ft.SCROLL_BAR_WIDTH_PX;for(var i in n)n.hasOwnProperty(i)&&(t-=parseInt(n[i].css("width"),10));return t},t.prototype._createCloseButton=function(){var n=$("<span>").addClass("identity-picker-resolved-close-icon bowtie-icon");return n.addClass(this._options.smallScreenRender?"bowtie-edit-remove":"bowtie-edit-delete"),$("<span>").addClass("identity-picker-resolved-close").append(n)},t.prototype._getSearchPrefix=function(n){var t=/^.*[(<{\[]\s*([^\s]+@[^\s]+\.[^\s]+[^)>}\]])\s*[)>}\]]+\s*$/.exec(n);return t&&t[0]===n?t[1]:n},t.prototype._unresolveItem=function(n){var e=this,u,i,s,r,f,h,c;if(this._controlWidth=Math.max(this._$container.width(),t.DEFAULT_WIDTH),this._resetPreviousInput(),n){if(u=this._getSearchPrefix(n),this._unresolvedItems.indexOf(u.toLowerCase())!=-1){this._replaceAndCleanup(n.toLowerCase());return}if(!this._replaceAndCleanup(n.toLowerCase()))return;this._options.showTemporaryDisplayName&&(this._options.multiIdentitySearch?this._element.find('.identity-picker-temp[data-signin="'+ft.replaceBackslash(u.toLowerCase())+'"]').remove():$(".identity-picker-temp",this._element).remove());this._fireInvalidInput();this._unresolvedItems.push(u.toLowerCase());this._$input.width(10);i=this._createResolvedItem(u.toLowerCase()).attr("data-unresolved","true");ft.styleElementBySize(i,this._size,!0);s=$("<span>").addClass("identity-picker-resolved-close-icon bowtie-icon bowtie-edit-delete");s.addClass(this._options.smallScreenRender?"bowtie-edit-remove":"bowtie-edit-delete");r=$("<span>").addClass("identity-picker-resolved-close").append(s);this._options.multiIdentitySearch?r.addClass("identity-picker-resolved-bg"):this._options.highlightResolved||r.addClass("identity-picker-resolved-single-bg");ft.styleElementBySize(r,this._size,!1);r.click(ut(this,function(){e._removeFromUnresolved(n.toLowerCase());i.off(".identityPicker").remove();e._recalculateInputWidth();e.focusOnSearchInput()}));i.append(r).insertBefore(this._$input);f=$("<span>").addClass("identity-picker-unresolved-name").text(d.decodeHtmlSpecialChars(n));this._options.multiIdentitySearch&&f.addClass("identity-picker-search-multiple-name").css("max-width",this._getItemNameContainerMaxWidth([r]));i.attr("role","button").attr("aria-label",d.format(p.IdentityPicker_ButtonUnresolvedItemLabel,n));h=o.getId().toString();c=$("<div>").attr("id",h).addClass("visually-hidden").appendTo(i);c.text(d.format(p.IdentityPicker_ButtonUnresolvedItemDescription,n)+". "+p.IdentityPicker_DeleteBackspaceMessage);i.attr("aria-describedby",h);i.append(f);this._recalculateInputWidth();this.focusOnSearchInput();this._$container[0].scrollTop=this._$container[0].scrollHeight;rt.RichContentTooltip.add(p.IdentityPicker_UnresolvedIdentity+": "+n,f,{showOnFocus:!this._options.smallScreenRender})}},t.prototype._generatePlaceHolder=function(n){return this._isInArray(a.ServiceHelpers.UserEntity,n)&&this._isInArray(a.ServiceHelpers.GroupEntity,n)?p.IdentityPicker_PlaceholderTextUserGroup:this._isInArray(a.ServiceHelpers.UserEntity,n)&&!this._isInArray(a.ServiceHelpers.GroupEntity,n)?p.IdentityPicker_PlaceholderTextUser:!this._isInArray(a.ServiceHelpers.UserEntity,n)&&this._isInArray(a.ServiceHelpers.GroupEntity,n)?p.IdentityPicker_PlaceholderTextGroup:p.IdentityPicker_PlaceholderTextPrefix},t.prototype._isInArray=function(n,t){return t.indexOf(n)>=0},t.INVALID_INPUT_EVENT="identity-picker-search-invalid-input",t.VALID_INPUT_EVENT="identity-picker-search-valid-input",t.RESOLVED_INPUT_REMOVED_EVENT="identity-picker-resolved-input-removed",t.SEARCH_STARTED_EVENT="identity-picker-search-started",t.SEARCH_FINISHED_EVENT="identity-picker-search-finished",t.DIALOG_MOVE_EVENT="dialog-move",t.SEQUENCED_IDENTITIES_IN_PAGE_RESOLVED_EVENT_INTERNAL="identity-picker-sequenced-identities-in-page-resolved-internal",t.SEARCH_MRU_TRIANGLE_CLASS="identity-picker-search-drop-icon",t.DEFAULT_WIDTH=140,t.OUTER_PADDING_PX=2,t.TRIANGLE_WIDTH_PX=19,t.NAME_PADDING_PX=8,t.INACTIVE_ENTITY_TYPE="inactive_entitytype",t.INACTIVE_ENTITY_ID_PREFIX="INACTIVE_ENTITY_ID",t.INACTIVE_ORIGIN_ID_PREFIX="INACTIVE_ORIGIN_ID",t}(o.Control);t.IdentityPickerSearchControl=dt,function(n){n[n.Small=0]="Small";n[n.Medium=1]="Medium";n[n.Large=2]="Large"}(st=t.IdentityPickerControlSize||(t.IdentityPickerControlSize={})),function(n){n[n.AvatarText=0]="AvatarText";n[n.AvatarOnly=1]="AvatarOnly";n[n.TextOnly=2]="TextOnly"}(pt=t.EDisplayControlType||(t.EDisplayControlType={})),function(n){n[n.ExpiredAccessToken=0]="ExpiredAccessToken";n[n.IsGuestUser=1]="IsGuestUser"}(kt||(kt={}));gt=function(n){function t(t){var i=n.call(this,t)||this;return i._displayedEntity=null,i._identityType=t.identityType?t.identityType:{User:!0},i._operationScope=t.operationScope?t.operationScope:{IMS:!0},i._size=t.size!==null&&t.size!==undefined?t.size:st.Medium,i._turnOffHover=t.turnOffHover?t.turnOffHover:!1,i}return __extends(t,n),t.prototype.initialize=function(){var t,i;if(n.prototype.initialize.call(this),a.ServiceHelpers.isAuthenticatedMember()||(this._turnOffHover=!0),t=this._options.item,!t||(typeof t=="string"||t instanceof String)&&!t.trim()){i={source:"IdentityDisplayControl.initialize()",message:"The item argument to the IdentityDisplayControl cannot be null or empty"};throw i;}this._displayType=this._options.displayType?this._options.displayType:pt.AvatarText;(typeof t=="string"||t instanceof String)&&t?(t=t.trim(),this._displayString(t),this._resolveStringToEntity(t)):this._displayEntity(t,"")},t.prototype.getDisplayedEntity=function(){if(this._displayedEntity)return this._displayedEntity;throw{source:"getResolvedEntity",message:"No resolved entity found."};},t.prototype._getEntityOperationsFacade=function(){return this._entityOperationsFacade||(this._entityOperationsFacade=w.getService(yt)),this._entityOperationsFacade},t.prototype._resolveStringToEntity=function(n){var t=this,r=function(i){if(t._element){if(!i||!i.queryToken||!i.identities)return;if(i.identities.length!=1)return;t._getEntityOperationsFacade().queryTokenEntityImageCache.set(n,i.identities[0].image);t._displayEntity(i.identities[0],n)}},i=function(n){n&&s.logWarning("_resolveStringToEntity/getIdentitiesErrorCallback:"+JSON.stringify(n))},u={identityServiceOptions:{operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient,extensionData:this._options.extensionData},identityExtensionOptions:{consumerId:this._options?this._options.consumerId:l.ConsumerId.UnknownConsumer},prefix:n,queryTypeHint:{UID:!0},sources:[ct.Directory]},f=this._getEntityOperationsFacade().search(u).then(function(n){for(var u in n.queryTokenResponse)n.queryTokenResponse[u].then(ut(t,r),ut(t,i))},i)},t.prototype._showIdCardDialog=function(n){a.ServiceHelpers.isAuthenticatedMember()&&o.Enhancement.enhance(wt,"<div/>",{identity:n.identity,anchor:n.anchor,leftValue:n.leftValue,operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient?this._options.httpClient:null,consumerId:this._options.consumerId,appendTo:this._options.dialogAppendTo})},t.prototype._displayString=function(n){var t=$("<span>").addClass("identity-picker-display").attr("data-item",n).attr("tabindex","-1"),i,r,u,f;this._turnOffHover||rt.RichContentTooltip.add(this._options.friendlyDisplayName?this._options.friendlyDisplayName+" <"+n+">":n,t);ft.styleElementBySize(t,this._size,!0);i=null;this._displayType!=pt.TextOnly&&(r=this._getEntityOperationsFacade().queryTokenEntityImageCache.get(n),u=r?r:a.ServiceHelpers.DefaultUserImage,i=ft.createImgElement(u,"","user-picture-resolved"),ft.styleElementBySize(i,this._size,!1),t.append(i));this._displayType!=pt.AvatarOnly?(f=$("<span>").addClass("identity-picker-resolved-name").text(this._options.friendlyDisplayName?this._options.friendlyDisplayName:n),t.append(f)):i.attr("alt",this._options.friendlyDisplayName?this._options.friendlyDisplayName+" <"+n+">":n);t.appendTo(this._element)},t.prototype._displayEntity=function(n,i){var r=this,f,o,c,h,l,v;if(n){this._displayedEntity=n;var e=et.getDisplayName(this._displayedEntity),y=et.getUniqueIdentifierForDisambiguation(this._displayedEntity),u=$("<span>").addClass("identity-picker-display").attr("data-signin",ft.replaceBackslash(y.toLowerCase())).attr("tabindex","-1");ft.styleElementBySize(u,this._size,!0);f=null;o=null;this._displayType!=pt.TextOnly&&(c=a.ServiceHelpers.getDefaultIdentityImage(this._displayedEntity),f=ft.createImgElement(c,this._displayedEntity.image?this._displayedEntity.image:"","user-picture-resolved",this._displayedEntity.entityId),ft.styleElementBySize(f,this._size,!1),u.append(f));this._displayType!=pt.AvatarOnly?(o=$("<span>").addClass("identity-picker-resolved-name").text(e),$('.identity-picker-display[data-item="'+i+'"]',this._element).remove(),u.append(o)):(h=et.getSignInAddress(this._displayedEntity),f.attr("alt",e!==h?e+" <"+h+">":e));l=function(){var n=$('.idcard-dialog[data-objectid="'+r._displayedEntity.entityId+'"]');n.length&&$(".ui-dialog-content",n).dialog("close")};v=function(){r._hoverIdCardEnterTimer=new k.DelayedFunction(r,t.DEFAULT_HOVER_WAIT_ENTER_INTERVAL,"showDisplayControlContactCard",function(){r._element.parent().length>0&&r._element.is(":visible")&&r._showIdCardDialog({anchor:u,identity:r._displayedEntity,leftValue:0,consumerId:r._options.consumerId})})};!this._turnOffHover&&et.isDirectoryEntityType(this._displayedEntity)&&u.hover(function(){r._hoverIdCardEnterTimer?r._hoverIdCardEnterTimer.reset():(v(),r._hoverIdCardEnterTimer.start())},function(){r._hoverIdCardEnterTimer&&r._hoverIdCardEnterTimer.cancel();var n=$('.idcard-dialog[data-objectid="'+r._displayedEntity.entityId+'"]'),i=function(){r._hoverIdCardExitTimer?r._hoverIdCardExitTimer.reset():(r._hoverIdCardExitTimer=new k.DelayedFunction(r,t.DEFAULT_HOVER_WAIT_EXIT_INTERVAL,"closeDisplayControlContactCard",l),r._hoverIdCardExitTimer.start())};n&&n.length&&n.mouseenter(function(){r._hoverIdCardExitTimer.cancel();n.mouseleave(function(){i()})});i()});this._element.empty();u.appendTo(this._element)}},t.DEFAULT_HOVER_WAIT_ENTER_INTERVAL=800,t.DEFAULT_HOVER_WAIT_EXIT_INTERVAL=200,t.MIN_WIDTH=100,t.OUTER_PADDING_PX=2,t}(o.Control);t.IdentityDisplayControl=gt;ft=function(){function n(){}return n.styleElementBySize=function(n,t,i){i===void 0&&(i=!0);switch(t){case st.Small:i?n.addClass("element-height-small"):n.addClass("element-2d-small");n.hasClass("identity-picker-resolved-single-search")&&n.addClass("element-height-small-compensate-padding");break;case st.Medium:i?n.addClass("element-height-medium"):n.addClass("element-2d-medium");n.hasClass("identity-picker-resolved-single-search")&&n.addClass("element-height-medium-compensate-padding");break;case st.Large:i?n.addClass("element-height-large"):n.addClass("element-2d-large");n.hasClass("identity-picker-resolved-single-search")&&n.addClass("element-height-large-compensate-padding")}},n.createImgElement=function(n,t,i,r){t===void 0&&(t="");i===void 0&&(i="");r===void 0&&(r="");var u=$("<img>").css("background","url('"+n+"') no-repeat").css("background-size","100%").attr("src",t?t:n).attr("alt","").attr("draggable","false").on("dragstart",function(){return!1});u.on("error",function(){u.attr("src")&&u.attr("src")===n?(u.off("error"),u.css("background-color","#7d7d7d").css("background-size","100%")):u.attr("src",n)});return u.load(function(){u.attr("src")&&u.attr("src")!==n&&u.css("background-image","none")}),i&&u.addClass(i),r&&u.attr("data-objectid",r),u},n.getRandomString=function(){return Math.random().toString(36).substring(5)},n.getSizePx=function(n){switch(n){case st.Small:return 16;case st.Medium:return 24;case st.Large:return 32}},n.isValidEmail=function(n){var t=n.split("@");return t.length===2&&t[0].length>=1&&t[1].length>=1?!0:!1},n.isOnPremiseEnvironment=function(){return!e.getPageContext().webAccessConfiguration.isHosted==!0},n.sortGroupMembersByName=function(n){return n.sort(function(n,t){return!n||!n.displayName?-1:!t||!t.displayName?1:n.displayName.toLocaleLowerCase().localeCompare(t.displayName.toLocaleLowerCase())})},n.createTooltip=function(t,i){var u,r,f;return i?i:t?(u=t.displayName&&t.displayName.trim()?t.displayName:"",r="",n.isOnPremiseEnvironment()?t.samAccountName&&t.samAccountName.trim()&&(r="("+(t.scopeName&&t.scopeName.trim()?t.scopeName+"\\":"")+t.samAccountName+")"):t.signInAddress&&t.signInAddress.trim()&&(r="<"+t.signInAddress+">"),f="",t.active!==!1||et.isAadGroup(t)||(f=" - "+(t.entityType.toLowerCase().trim()==a.ServiceHelpers.UserEntity?p.IdentityPicker_InactiveUser:t.entityType.toLowerCase().trim()==a.ServiceHelpers.GroupEntity?p.IdentityPicker_InactiveGroup:p.IdentityPicker_InactiveIdentity)),(u?u:"")+(r?" "+r:"")+f):""},n.replaceBackslash=function(n){return n.replace(/\\/g,"%")},n.UserEntityType=a.ServiceHelpers.UserEntity,n.GroupEntityType=a.ServiceHelpers.GroupEntity,n.VisualStudioDirectory=a.ServiceHelpers.VisualStudioDirectory,n.AzureActiveDirectory=a.ServiceHelpers.AzureActiveDirectory,n.SourceDirectory=a.ServiceHelpers.SourceDirectory,n.FIXED_POSTIION_CLASS="identity-picker-fixed-position",n.SCROLL_BAR_WIDTH_PX=20,n.IDENTITY_ITEM_BUFFER_WIDTH_PX=18,n}();at=function(){function n(){}return n.createStringEntity=function(t,i){var r=d.htmlEncode(t),u={entityId:n.STRING_ENTITY_ID_PREFIX+"_"+r,entityType:n.STRING_ENTITY_TYPE,originDirectory:n.STRING_DIRECTORY,originId:n.STRING_ORIGIN_ID_PREFIX+"_"+r,localDirectory:n.STRING_DIRECTORY,localId:n.STRING_LOCAL_ID_PREFIX+"_"+r,isMru:!1,displayName:r};return u.image=i||a.ServiceHelpers.getDefaultIdentityImage(u),u},n.isStringEntityId=function(t){return!t||!t.trim()?!1:t.indexOf(n.STRING_ENTITY_ID_PREFIX)==0?!0:!1},n.isStringPrefixedLocalId=function(t){return!t||!t.trim()?!1:t.indexOf(n.STRING_LOCAL_ID_PREFIX)==0},n.STRING_ENTITY_TYPE="string_entitytype",n.STRING_ENTITY_ID_PREFIX="STRING_ENTITYID",n.STRING_DIRECTORY="STRING_DIRECTORY",n.STRING_ORIGIN_ID_PREFIX="STRING_ORIGINID",n.STRING_LOCAL_ID_PREFIX="STRING_LOCALID",n}();t.EntityFactory=at;var et=function(){function n(){}return n.isDirectoryEntityType=function(n){return n.entityType?n.entityType.toLowerCase().trim()==a.ServiceHelpers.UserEntity||n.entityType.toLowerCase().trim()==a.ServiceHelpers.GroupEntity:!1},n.isAadGroup=function(n){return n.entityType&&n.entityType.toLowerCase().trim()==a.ServiceHelpers.GroupEntity&&n.originDirectory.toLowerCase().trim()==a.ServiceHelpers.AzureActiveDirectory},n.getUniqueIdentifierForDisambiguation=function(n){return ft.isOnPremiseEnvironment()||n.entityType.toLowerCase().trim()!=a.ServiceHelpers.UserEntity?n.entityId:n.signInAddress&&ft.isValidEmail(n.signInAddress)?n.signInAddress:n.entityId},n.getDisplayName=function(t){return t.displayName&&t.displayName.trim()?t.displayName:n.getSignInAddress(t)},n.getNonDiacriticDisplayName=function(n){return this.replaceDiacriticCharacters(this.getDisplayName(n))},n.replaceDiacriticCharacters=function(n){var t,i,r;if(n){for(t=n,i=0;i<t.length;i++)r=t.charAt(i),r in l.diacriticsRemovalMap&&(t=t.replace(r,l.diacriticsRemovalMap[r]));return t}return n},n.getSignInAddress=function(n){return ft.isOnPremiseEnvironment()&&n.samAccountName&&n.samAccountName.trim()?(n.scopeName&&n.scopeName.trim()?n.scopeName+"\\":"")+n.samAccountName:n.signInAddress&&n.signInAddress.trim()?n.signInAddress:n.mail&&n.mail.trim()?n.mail:n.mailNickname&&n.mailNickname.trim()?n.mailNickname:""},n}(),ri=function(){function n(){}return n.prototype.getIdentityAttributes=function(n){if(n.entityType.trim().toLowerCase()==a.ServiceHelpers.UserEntity)return new ti(n);if(n.entityType.trim().toLowerCase()==a.ServiceHelpers.GroupEntity)return new ii(n);throw{source:"getIdentityAttributes",message:"identity entityType do not match existing type"};},n}(),vt=function(){function n(n,t,i){this._displayTitle=n;this._displayContent=t;this._needWordWrap=i?i:!1}return n.prototype.getDisplayTitle=function(){return this._displayTitle},n.prototype.getDisplayContent=function(){return this._displayContent},n.prototype.constructAttribute=function(n){var r=$("<div>").addClass("identity-picker-idcard-attribute-name").attr("id","identity-picker-idcard-attribute-name_"+n).text(this.getDisplayTitle()),i=this.getDisplayContent(),t=$("<div>").addClass("identity-picker-idcard-ellipsis-overflow"),u;return rt.RichContentTooltip.addIfOverflow(i,t,{menuContainer:t}),this._isValidSendEmailAttribute()?u=$("<a>").attr({"aria-labelledby":"identity-picker-idcard-attribute-name_"+n,href:"mailto:"+i,tabindex:"0"}).text(i).appendTo(t):t.text(this.getDisplayContent()),this._needWordWrap&&t.addClass("identity-picker-idcard-word-wrap"),[r,t]},n.prototype._isValidSendEmailAttribute=function(){return p.IdentityPicker_IdCardMail.toLowerCase()==this.getDisplayTitle().toLowerCase().trim()&&ft.isValidEmail(this.getDisplayContent())},n}(),ui=function(){function n(){this._withContactCard=!1;this._smallScreenRender=!1;this._withContactCard=!0;this._focusElementOnContactCardClose=null}return n.prototype.withPrefix=function(n){return this._prefix=n,this},n.prototype.withEntity=function(n){return this._entity=n,this},n.prototype.withContactCard=function(n,t){return this._withContactCard=n,this._withContactCard&&(this._focusElementOnContactCardClose=t),this},n.prototype.forControlOfSize=function(n){return this._size=n,this},n.prototype.withIdentityServiceOptions=function(n){return this._identityServiceOptions=n,this},n.prototype.withIdentityExtensionOptions=function(n){return this._identityExtensionOptions=n,this},n.prototype.withHoverSupport=function(n){return this._supportsHover=n,this},n.prototype.withSmallScreenRender=function(n){return this._smallScreenRender=n,this},n.prototype.withDialogAppendTo=function(n){return this._dialogAppendTo=n,this},n.prototype.registerCallbacks=function(n){return this._callbacks=n,this},n.prototype.build=function(){var i=this,t,s,u,f,e,r,h,o,c,a;return!this._entity||this._size===null||this._size===undefined||!this._identityServiceOptions||!this._identityServiceOptions.identityType||!this._identityServiceOptions.operationScope||!this._callbacks?null:(t=$("<li>").attr("role","option"),this._smallScreenRender&&(s=$("<i>").addClass("ms-Icon ms-Icon--CheckMark"),u=$("<span>").addClass("container"),s.appendTo(u),f=$("<span>").addClass("selected-fade"),u.appendTo(f),f.appendTo(t)),ft.styleElementBySize(t,this._size,!0),n._appendImage(this._entity,t,this._size),e=this._withContactCard&&et.isDirectoryEntityType(this._entity),this._entity.isMru&&et.isDirectoryEntityType(this._entity)&&(r=$("<div>").addClass("bowtie-icon bowtie-edit-delete bowtie-icon-small identity-picker-delete-icon").attr("role","button").appendTo(t),rt.RichContentTooltip.add(p.IdentityPicker_RemoveFromMru,r,{menuContainer:r}),ft.styleElementBySize(r,this._size,!1),e&&r.addClass("with-idcard"),r.hide(),h=ut(this,function(){var n={};n[l.TelemetryProperties.entityId]=i._entity.entityId;n[l.TelemetryProperties.consumerId]=i._identityExtensionOptions?i._identityExtensionOptions.consumerId:l.ConsumerId.UnknownConsumer;nt.publishEvent(new nt.TelemetryEventData(l.Telemetry.Area,l.Telemetry.Feature_Click_Remove_Mru,n));i._callbacks.deleteIconClickDelegate(i._entity,t)}),this._callbacks.deleteIconClickDelegate&&r.click(h)),e&&n._appendIdCard(this._entity,t,this._size,this._identityServiceOptions,this._identityExtensionOptions,this._callbacks,this._focusElementOnContactCardClose,this._dialogAppendTo),o=n._appendTextContainer(this._entity,t,this._size,this._prefix,this._smallScreenRender),this._size==st.Small&&(c=this._entity.entityType.toLowerCase().trim()==at.STRING_ENTITY_TYPE?this._entity.displayName:et.getSignInAddress(this._entity),rt.RichContentTooltip.add(c,o,{menuContainer:o})),a=function(){var n,r;i._smallScreenRender&&(n=17,k.delay(null,n,function(){t.children(".selected-fade").attr("class","selected-fade-active")}),r=400,k.delay(null,n+r,function(){t.children(".selected-fade").attr("class","selected-fade")}));i._callbacks.entityListItemClickDelegate(i._entity)},this._callbacks.entityListItemClickDelegate&&t.click(a),this._entity.isMru&&this._supportsHover&&t.hover(ut(this,function(){t.children(".identity-picker-delete-icon").show()}),ut(this,function(){t.children(".identity-picker-delete-icon").hide()})),t)},n._appendTextContainer=function(t,i,r,u,f){f===void 0&&(f=!1);var e=$("<div>").addClass("item-text-container").append($("<div>").addClass("title").addClass(r==st.Large?"large":"").append(n._highlightPrefix(et.getDisplayName(t),u,!0))),o=et.getSignInAddress(t);return o=d.isGuid(o)?"":o,r!=st.Small&&e.append($("<div>").addClass("subtitle").addClass(r==st.Large?"large":"").append(n._highlightPrefix(o,u))),e.appendTo(i),f||e.height(ft.getSizePx(r)+lt.IMAGE_MARGINS_PX),e},n._appendImage=function(n,t,i){var f=a.ServiceHelpers.getDefaultIdentityImage(n),r,u;n.image&&(r=n.image);u=ft.createImgElement(f,r,r&&r.trim()?"identity-picture":"identity-picture hidden",n.entityId).appendTo(t);ft.styleElementBySize(u,i,!1)},n._appendIdCard=function(n,t,i,r,u,f,e,s){var h=$("<div>").addClass("bowtie-icon bowtie-contact-card identity-picker-contact-card-icon").attr("role","button").appendTo(t),c;rt.RichContentTooltip.add(p.IdentityPicker_ShowContactCardTitle,h,{menuContainer:h});ft.styleElementBySize(h,i,!1);c=ut(this,function(t){t.stopPropagation();var f={identity:n,anchor:h,operationScope:r.operationScope,identityType:r.identityType,httpClient:r.httpClient?r.httpClient:null,focusElementOnClose:e,leftValue:h.offset().left,topValue:h.offset().top+h.outerHeight(),consumerId:u.consumerId,appendTo:s},i={};i[l.TelemetryProperties.entityId]=n.entityId;i[l.TelemetryProperties.consumerId]=u?u.consumerId:l.ConsumerId.UnknownConsumer;nt.publishEvent(new nt.TelemetryEventData(l.Telemetry.Area,l.Telemetry.Feature_Click_IdCard,i));o.Enhancement.enhance(wt,"<div/>",f)});h.click(c)},n._highlightPrefix=function(n,t,i){var u;if(i===void 0&&(i=!1),!n)return null;var o=et.replaceDiacriticCharacters(n),s=et.replaceDiacriticCharacters(t),r=o.toLowerCase().indexOf(s.toLowerCase()),f=function(n,t,i){return $("<span>").append(d.htmlEncode(n.substring(0,i))).append($("<b>").text(n.substr(i,t))).append(d.htmlEncode(n.substr(i+t)))},e=function(n,t,i,r){for(var u=et.replaceDiacriticCharacters(n),e=et.replaceDiacriticCharacters(t);i>0&&u.charAt(i-1)!=r;)i=u.toLowerCase().indexOf(e.toLowerCase(),i+1);return i>0?f(n,t.length,i):null};if(r){if(r>0){if(i&&(u=e(n,t,r," "),u)||ft.isOnPremiseEnvironment()&&t.indexOf("\\")<0&&(u=e(n,t,r,"\\"),u))return u}else if(ft.isOnPremiseEnvironment()&&t.indexOf("\\")>0)if(t=t.substring(t.indexOf("\\")+1),r=o.toLowerCase().indexOf(s.toLowerCase()),r){if(i&&(u=e(n,t,r," "),u))return u}else return f(n,t.length,r)}else return f(n,t.length,r);return $("<span>").text(n)},n}(),ct=function(){function n(){}return n.Directory="Directory",n.Mru="Mru",n.Persistent="Persistent",n.String="String",n}();t.SourceId=ct,function(n){n[n.Sync=0]="Sync";n[n.Async=1]="Async"}(ni=t.SourceType||(t.SourceType={}));bt=function(){function n(){}return n.PreferFirst="preferfirst",n.PreferSecond="prefersecond",n}();yt=function(n){function t(){var t=n.call(this)||this;return t._mruEntities={},t._syncSources={},t._requestStack=[],t._deferredStack=[],t._userMruReady={},t._entityRetrieverPrepComplete={},t._mruEntitiesPromise={},t._mruEntities={},t.registerSyncSource({id:ct.Mru,sourceType:ni.Sync,getEntities:t._mruSourceGetEntitiesHandler,sortRank:10}),t.queryTokenEntityImageCache=new v.HashCache,t}return __extends(t,n),t.prototype.registerSyncSource=function(n){if(!(n.id in this._syncSources)){for(var t in this._syncSources)if(this._syncSources[t].sortRank==n.sortRank)return;this._syncSources[n.id]=n}},t.prototype.search=function(n){var i=this,e,u,f;if(!n.sources||n.sources.length==0||!n.identityServiceOptions){e={source:"EntityOperationsFacade: search",message:"missing arguments"};throw e;}var o=it.defer(),s=o.promise,r=c.FilterByScope.GetHashCode(n.filterByScope);return typeof this._requestStack[r]=="undefined"&&(this._requestStack[r]=[]),this._requestStack[r].push(n),typeof this._deferredStack[r]=="undefined"&&(this._deferredStack[r]=[]),this._deferredStack[r].push(o),u=ut(this,function(){for(var e=function(){var e=i._requestStack[r].pop(),o=i._deferredStack[r].pop();n=[];f=i._getRegisteredSyncSourcesSorted().filter(function(n){return e.sources.indexOf(n)!=-1});f&&f.forEach(ut(i,function(r){var u=i._syncSources[r].getEntities.bind(i),f=u(n,e);n=t.mergeEntities(f,n)}));u={entityResponse:[],queryTokenResponse:{}};e.sources.indexOf(ct.Directory)!=-1&&(u.queryTokenResponse=i._directorySourceGetEntities(n,e));n.length>0?i.getImagesForEntities(n,e).then(function(t){n.forEach(ut(i,function(n){t.hasOwnProperty(n.entityId)&&(n.image=t[n.entityId])}));u.entityResponse=n;o.resolve(u)}):o.resolve(u)},n,f,u;i._requestStack[r].length>0;)e()}),f=this.load({loadMru:n.sources.indexOf(ct.Mru)!=-1,filterByScope:n.filterByScope}),f.isFulfilled()?u():f.then(u,u),s},t.prototype.isUserMruReady=function(n){return this._userMruReady[c.FilterByScope.GetHashCode(n)]},t.prototype.getMruEntitiesUnchecked=function(n){return this._mruEntities[c.FilterByScope.GetHashCode(n)]},t.prototype.refreshUserMru=function(n){return this._getUserMruEntities(null,null,n)},t.prototype.load=function(n){var i=this,t=c.FilterByScope.GetHashCode(n.filterByScope);return this._entityRetrieverPrepComplete[t]&&(!n.loadMru||this._userMruReady[t])?this._entityRetrieverPrepComplete[t].promise:(this._entityRetrieverPrepComplete[t]=it.defer(),n.loadMru?this._mruEntitiesPromise[t]?this._mruEntitiesPromise[t].then(ut(this,function(){i._entityRetrieverPrepComplete[t].resolve(!0)}),ut(this,function(){i._entityRetrieverPrepComplete[t].resolve(!1)})):(this._mruEntitiesPromise[t]=this._getUserMruEntities(null,null,n.filterByScope),this._mruEntitiesPromise[t].then(ut(this,function(){i._entityRetrieverPrepComplete[t].resolve(!0)}),ut(this,function(){i._entityRetrieverPrepComplete[t].resolve(!1)}))):this._entityRetrieverPrepComplete[t].resolve(!0),this._entityRetrieverPrepComplete[t].promise)},t.filterEntities=function(n,t){return!n||n.length==0?[]:n.filter(function(n){return n.displayName&&et.getNonDiacriticDisplayName(n).toLowerCase().indexOf(et.replaceDiacriticCharacters(t))==0?!0:ft.isOnPremiseEnvironment()&&n.samAccountName&&n.samAccountName.trim().toLowerCase().indexOf(t)==0||ft.isOnPremiseEnvironment()&&n.scopeName&&n.samAccountName&&(n.scopeName+"\\"+n.samAccountName).trim().toLowerCase().indexOf(t)==0||n.signInAddress&&n.signInAddress.trim().toLowerCase().indexOf(t)==0||!n.signInAddress&&n.mail&&n.mail.trim().toLowerCase().indexOf(t)==0||!n.signInAddress&&!n.mail&&n.mailNickname&&n.mailNickname.trim().toLowerCase().indexOf(t)==0?!0:!1})},t.mergeEntities=function(n,i,r){var u,f,e;if(r===void 0&&(r=bt.PreferFirst),u={},f=[],!n&&!i)return[];if(!i||i.length==0)return n?n:[];if(!n||n.length==0)return i?i:[];n.forEach(function(n){var i=t._getMergingKeyFromEntity(n);u[i]=u.hasOwnProperty(i)?t._mergeSimilarEntities(u[i],n,r):n});i.forEach(function(n){var i=t._getMergingKeyFromEntity(n),f;i in u?(f=t._mergeSimilarEntities(u[i],n,r),u[i]=f):u[i]=n});for(e in u)u[e].isMru?f.unshift(u[e]):f.push(u[e]);return f},t.prototype.getImagesForEntities=function(n,t){var r=it.defer(),h=r.promise,e={},c=w.getService(a.IdentityService),u,f,o;try{u=c.getIdentityImages(n,{httpClient:t&&t.identityServiceOptions&&t.identityServiceOptions.httpClient?t.identityServiceOptions.httpClient:null});f=[];for(o in u)f.push(u[o]);it.allSettled(f).then(function(n){n.forEach(function(n){if(n.state==l.PromiseResultStatus.Fulfilled){if(!n.value||Object.keys(n.value).length!=1||!Object.keys(n.value)[0]||!Object.keys(n.value)[0].trim())return;var i=Object.keys(n.value)[0],t=n.value[i];if(!t||!t.trim())return;e[i]=t}else n.state==l.PromiseResultStatus.Rejected&&n.reason&&s.logError("_getImagesForEntities/_getImagesForEntitiesErrorCallback:"+JSON.stringify(n.reason))});r.resolve(e)},function(n){n&&s.logError("_getImagesForEntities/_getImagesForEntitiesErrorCallback:"+JSON.stringify(n));r.reject(n)})}catch(i){if(i!==Object(i)||!("source"in i)||i.source!="IdentityService")throw i;}return h},t._getMergingKeyFromEntity=function(n){var t,i;return ft.isOnPremiseEnvironment()&&n&&n.entityType&&n.localId&&n.localDirectory.toLowerCase().trim()==a.ServiceHelpers.VisualStudioDirectory&&(n.entityType.toLowerCase().trim()==a.ServiceHelpers.UserEntity||n.entityType.toLowerCase().trim()==a.ServiceHelpers.GroupEntity)?n.localId:n.entityType.toLowerCase().trim()==a.ServiceHelpers.UserEntity?(t=et.getSignInAddress(n),i=t?t:n.entityId,i):n.entityType.toLowerCase().trim()==a.ServiceHelpers.GroupEntity?n.displayName&&n.displayName.trim()?n.mailNickname&&n.mailNickname.trim()?n.displayName+n.mailNickname:n.mail&&n.mail.trim()?n.displayName+n.mail:n.displayName:n.entityId:n.entityType.toLowerCase().trim()==at.STRING_ENTITY_TYPE?n.entityId:void 0},t._mergeSimilarEntities=function(n,i,r){var f,u,e;if(r===void 0&&(r=bt.PreferFirst),n==null)return i;if(i==null)return n;f={entityId:t._computeValue("entityId",n,i,r),entityType:t._computeValue("entityType",n,i,r),originDirectory:t._computeValue("originDirectory",n,i,r),originId:t._computeValue("originId",n,i,r),localDirectory:t._computeValue("localDirectory",n,i,r),localId:t._computeValue("localId",n,i,r)};u=["displayName","scopeName","department","jobTitle","mail","mailNickname","physicalDeliveryOfficeName","signInAddress","surname","guest","description","image","isMru","samAccountName","active","telephoneNumber"];for(e in u)f[u[e]]=t._computeValue(u[e],n,i,r);return f},t._computeValue=function(n,t,i,r){r===void 0&&(r=bt.PreferFirst);return r==bt.PreferFirst?t[n]?typeof t[n]=="string"||t[n]instanceof String?t[n].trim()?t[n]:i[n]:t[n]:i[n]:i[n]?typeof i[n]=="string"||i[n]instanceof String?i[n].trim()?i[n]:t[n]:i[n]:t[n]},t._filterMruEntitiesByIdentityType=function(n,t){if(!n.identityServiceOptions||!n.identityServiceOptions.identityType)return t;var i=a.ServiceHelpers.getIdentityTypeList(n.identityServiceOptions.identityType);return t.filter(function(n){return i.indexOf(n.entityType.trim().toLowerCase())>=0})},t.prototype._mruSourceGetEntitiesHandler=function(n,i){var r=t._filterMruEntitiesByIdentityType(i,this._mruEntities[c.FilterByScope.GetHashCode(i.filterByScope)]);return i.prefix&&(r=t.filterEntities(r,i.prefix)),r},t.prototype._directorySourceGetEntities=function(n,i){var e=this,c,o,u,l;if(!i||!i.prefix)return{};var r={},h={},v=w.getService(a.IdentityService);try{c={httpClient:i.identityServiceOptions.httpClient,minResults:i.identityServiceOptions.minResults?i.identityServiceOptions.minResults:n?n.length>a.IdentityService.MIN_RESULTS?0:a.IdentityService.MIN_RESULTS-n.length:a.IdentityService.MIN_RESULTS,maxResults:i.identityServiceOptions.minResults?i.identityServiceOptions.minResults:a.IdentityService.MAX_RESULTS,extensionData:i.identityServiceOptions.extensionData,getFilterByScope:function(){return i.filterByScope}};o=v.getIdentities(i.prefix,i.identityServiceOptions.operationScope,i.identityServiceOptions.identityType,c,i.queryTypeHint,i.identityExtensionOptions);for(u in o)l=ut(this,function(u){o[u].then(ut(e,function(f){i.prefix&&i.prefix.length>=1&&(f.identities=f&&f.identities?t.mergeEntities(f.identities,n):n);f.identities.length>0?e.getImagesForEntities(f.identities,i).then(function(n){f.identities.forEach(function(t){n.hasOwnProperty(t.entityId)&&(t.image=n[t.entityId])});r[u].resolve(f)}):r[u].resolve(f)}),ut(e,function(n){n&&s.logWarning("_directorySourceGetEntities/getIdentitiesErrorCallback:"+JSON.stringify(n));r[u].reject(n?n:null)}))}),l(u),r[u]=it.defer(),h[u]=r[u].promise}catch(f){if(f!==Object(f)||!("source"in f)||f.source!="IdentityService")throw f;}return h},t.prototype._getRegisteredSyncSourcesSorted=function(){var n=this,t=Object.keys(this._syncSources);return t.sort(function(t,i){return n._syncSources[t].sortRank>n._syncSources[i].sortRank?1:-1}),t},t.prototype._getUserMruEntities=function(n,t,i){var f=this,e=it.defer(),v=e.promise,r=c.FilterByScope.GetHashCode(i),o,s,h;try{return(this._userMruReady[r]=!1,o=ut(this,function(n){f._userMruReady[r]=!0;f._mruEntities[r]=n.filter(function(n){return n.active!==!1});f._mruEntities[r].forEach(function(n){n.image=a.ServiceHelpers.getDefaultIdentityImage(n)});e.resolve(!0)}),s=ut(this,function(){f._mruEntities[r]=[];e.resolve(!1)}),c.FilterByScope.isFilterByScopeEmpty(i))?it(o([])):(h=w.getService(a.MruService),h.getMruIdentities({IMS:!0},a.MruService.DEFAULT_IDENTITY_ID,a.MruService.DEFAULT_FEATURE_ID,{httpClient:n?n.httpClient:null,filterByScope:i},{consumerId:t?t.consumerId:l.ConsumerId.UnknownConsumer}).then(o,s))}catch(u){if(u!==Object(u)||!("source"in u)||u.source!="MruService")throw u;}return v},t}(w.VssService);t.EntityOperationsFacade=yt;ti=function(){function n(n){this._attributes=this._mapEntityPropertiesToAttributes(n)}return n.prototype._mapEntityPropertiesToAttributes=function(n){var t=[];return n.jobTitle&&t.push(new vt(p.IdentityPicker_IdCardJobTitle,n.jobTitle)),n.mailNickname&&!d.isGuid(n.mailNickname)&&t.push(new vt(p.IdentityPicker_IdCardAlias,n.mailNickname)),n.physicalDeliveryOfficeName&&t.push(new vt(p.IdentityPicker_IdCardOffice,n.physicalDeliveryOfficeName)),n.department&&t.push(new vt(p.IdentityPicker_IdCardDepartment,n.department)),t},n.prototype.isEmpty=function(){return!(this._attributes.length>0)},n.prototype._appendAttributeBlock=function(t,i){var r=this._attributes[t].constructAttribute(n._idCardEntityAttributeCounter++);for(var u in r)r[u].appendTo(i)},n.prototype.toRows=function(){var i=[],n,r,t,u,f;for(r in this._attributes)t=parseInt(r),this._isEven(t)?(n&&i.push(n),n=$("<div>").addClass("identity-picker-idcard-row"),u=$("<div>").addClass("identity-picker-idcard-left-attribute").appendTo(n),this._appendAttributeBlock(t,u)):(f=$("<div>").addClass("identity-picker-idcard-right-attribute").appendTo(n),this._appendAttributeBlock(t,f));return n&&i.push(n),i},n.prototype._isEven=function(n){return n%2==0},n._idCardEntityAttributeCounter=0,n}();ii=function(){function n(n){this._attributes=this._mapEntityPropertiesToAttributes(n)}return n.prototype._mapEntityPropertiesToAttributes=function(n){var t=[],i=new vt(p.IdentityPicker_IdCardDescription,n.description?n.description:"",!0);return t.push(i),n.scopeName&&t.push(new vt(p.IdentityPicker_IdCardGroupSource,this._getScopeNameByDirectoryType(n))),n.mail&&t.push(new vt(p.IdentityPicker_IdCardMail,n.mail)),n.mailNickname&&!d.isGuid(n.mailNickname)&&t.push(new vt(p.IdentityPicker_IdCardAlias,n.mailNickname)),t},n.prototype._getScopeNameByDirectoryType=function(n){var t=n.originDirectory.trim().toLowerCase()==a.ServiceHelpers.VisualStudioDirectory?p.IdentityPicker_IdCardImsGroupSource:p.IdentityPicker_IdCardAadGroupSource;return d.format(t,n.scopeName)},n.prototype.isEmpty=function(){return!(this._attributes.length>0)},n.prototype._appendAttributeBlock=function(t,i){var r=this._attributes[t].constructAttribute(n._idCardEntityAttributeCounter++);for(var u in r)r[u].appendTo(i)},n.prototype.toRows=function(){var t=$("<div>").addClass("identity-picker-idcard-info"),r,n,u,f,e,o,i;if(this._isValidIndex(1))for(r=$("<div>").addClass("identity-picker-idcard-column").appendTo(t),n=1;this._isValidIndex(n);)u=$("<div>").addClass("identity-picker-idcard-row").appendTo(r),f=$("<div>").addClass("identity-picker-idcard-left-attribute").appendTo(u),this._appendAttributeBlock(n,f),n++;return this._attributes[0].getDisplayContent()&&(e=$("<div>").addClass("identity-picker-idcard-column").appendTo(t),o=$("<div>").addClass("identity-picker-idcard-left-attribute").appendTo(e),this._appendAttributeBlock(0,o)),i=[],i.push(t),i},n.prototype._isValidIndex=function(n){return typeof this._attributes[n]!="undefined"},n._idCardEntityAttributeCounter=0,n}()});

define("VSS/Identities/Picker/PersonaCardContracts",["require","exports"],function(n,t){var i,r;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Default=0]="Default";n[n.Contact=1]="Contact";n[n.Organization=2]="Organization"}(i=t.CardType||(t.CardType={})),function(n){n.contactCard="ContactCard";n.clicked="Clicked";n.featureName="PersonaCard";n.loaded="Loaded";n.orgCard="OrgCard";n.orgCardManagerChain="OrgCardManagerChain";n.orgCardDirectReport="OrgCardDirectReport";n.personaCard="PersonaCard";n.reportingManager="ReportingManager"}(r=t.personaCardEntity||(t.personaCardEntity={}))});

define("VSS/Identities/Picker/ContactCard",["require","exports","react","OfficeFabric/Label","VSS/Identities/Picker/PersonaCardContracts","VSS/Resources/VSS.Resources.Platform","VSS/Utils/String","VSS/LoaderPlugins/Css!PersonaCard"],function(n,t,i,r,u,f,e){var o,s;Object.defineProperty(t,"__esModule",{value:!0});o=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var n=this;return i.createElement("div",null,i.createElement("div",{className:this.props.padTop?"contact-card-line-top":"contact-card-line"},i.createElement("div",{className:"contact-card-span-label"},this.props.label),i.createElement("div",{className:"contact-card-span-content"},this.props.link&&this.props.content&&i.createElement("a",{className:"profile-card-tab-element",href:this.props.link,onClick:function(){n.props.publishTelemetry(e.format("{0}",n.props.label),u.personaCardEntity.clicked)}},this.props.content),!this.props.link&&this.props.content)),i.createElement("div",{style:{clear:"both"}}))},t}(i.Component);t.ContactCardContactLine=o;s=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var n=this.props.identity;return i.createElement("div",{className:"contact-or-organization-card-wrapper"},i.createElement("div",{className:"contact-card-header-wrapper"},i.createElement("div",{style:{fontSize:14}},i.createElement(r.Label,null,f.ProfileCard_ContactInformation))),i.createElement("div",{className:"contact-card-info-wrapper"},i.createElement(o,{label:f.ProfileCard_Email,content:n.mail,link:"mailto:"+n.mail,publishTelemetry:this.props.publishTelemetry}),i.createElement(o,{label:f.ProfileCard_TelephoneNumber,content:n.telephoneNumber,link:"tel:"+n.telephoneNumber,publishTelemetry:this.props.publishTelemetry}),i.createElement(o,{label:f.ProfileCard_PhysicalDeliveryOfficeName,content:n.physicalDeliveryOfficeName}),i.createElement(o,{label:f.ProfileCard_JobTitle,content:n.jobTitle,padTop:!0}),i.createElement(o,{label:f.ProfileCard_Department,content:n.department}),i.createElement(o,{label:f.ProfileCard_Alias,content:n.mailNickname})))},t}(i.Component);t.ContactCard=s});

var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};define("VSS/Identities/Picker/DefaultCard",["require","exports","react","OfficeFabric/Icon","OfficeFabric/components/Persona/Persona","OfficeFabric/components/Persona/Persona.types","OfficeFabric/Label","OfficeFabric/Tooltip","VSS/Identities/Picker/PersonaCardContracts","VSS/Resources/VSS.Resources.Platform","VSS/Utils/String","VSS/LoaderPlugins/Css!PersonaCard"],function(n,t,i,r,u,f,e,o,s,h,c){var l,a;Object.defineProperty(t,"__esModule",{value:!0});l=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var n=this;return i.createElement("div",{className:"default-card-contact-line-wrapper"},i.createElement(e.Label,{className:"default-card-contact-line"},i.createElement(r.Icon,{iconName:this.props.iconName,className:"default-card-contact-line-label"}),this.props.link&&i.createElement("a",{href:this.props.link,className:"default-card-contact-line-link profile-card-tab-element",onClick:function(){n.props.publishTelemetry(c.format("{0}",n.props.iconName),s.personaCardEntity.clicked)}},this.props.content),!this.props.link&&i.createElement("span",{className:"default-card-contact-line-no-link"},this.props.content)))},t}(i.Component);t.DefaultCardContactLine=l;a=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.componentDidMount=function(){this.props.setFocus&&this.props.setFocus()},t.prototype.render=function(){var r=this,v=this.props,n=v.identity,p=v.isPreviousHeader,c={imageUrl:this.props.identity.image,primaryText:this.props.identity.displayName,secondaryText:this.props.identity.jobTitle,tertiaryText:this.props.identity.department},w=i.createElement("div",null,i.createElement(u.Persona,__assign({},c,{key:this.props.identity.entityId+this.props.identity.signInAddress,size:f.PersonaSize.large,className:"persona-main",onRenderPrimaryText:function(){return i.createElement(o.TooltipHost,{key:r.props.identity.entityId+".primarytext.tooltip",content:c.primaryText,overflowMode:o.TooltipOverflowMode.Parent},i.createElement("span",{className:"persona-main-text-primary"},c.primaryText))},onRenderSecondaryText:function(){return i.createElement(o.TooltipHost,{key:r.props.identity.entityId+".secondarytext.tooltip",content:c.secondaryText,overflowMode:o.TooltipOverflowMode.Parent},i.createElement("span",{className:"persona-main-text-secondary"},c.secondaryText))},onRenderTertiaryText:function(){return i.createElement("div",{className:"persona-main-text-tertiary"},c.tertiaryText)},imageShouldFadeIn:!1}))),y=null,t,a;return this.props.manager&&(t=this.props.manager,a={imageUrl:t.image,primaryText:t.displayName,secondaryText:t.jobTitle,tertiaryText:t.department},y=i.createElement("div",{className:"persona-list-manager-element profile-card-tab-element","aria-label":t.displayName,key:t.entityId+t.signInAddress,onClick:function(){r.props.publishTelemetry(s.personaCardEntity.personaCard,s.personaCardEntity.loaded,s.personaCardEntity.reportingManager);r.props.onClickEntity(t)},"data-is-focusable":!0,role:"button"},i.createElement(u.Persona,__assign({},a,{size:f.PersonaSize.size40,onRenderPrimaryText:function(){return i.createElement("div",{className:"persona-list-element-text-primary"},a.primaryText)},onRenderSecondaryText:function(){return i.createElement("div",{className:"persona-list-element-text-secondary"},a.secondaryText)},imageShouldFadeIn:!1})))),i.createElement("div",{className:p?"default-card-with-header":"default-card-without-header"},w,i.createElement("div",null,(n.mail||n.telephoneNumber||n.physicalDeliveryOfficeName)&&i.createElement("div",{className:"default-card-contact-info-wrapper"},i.createElement("hr",{className:"hr-main"}),i.createElement("div",{className:"default-card-header-wrapper"},i.createElement("span",{className:"default-card-header pointer profile-card-tab-element",onClick:function(){r.props.publishTelemetry(s.personaCardEntity.contactCard,s.personaCardEntity.loaded);r.props.showContactCard()},"aria-label":h.ProfileCard_ContactHeader,"data-is-focusable":!0,role:"button"},i.createElement(e.Label,{className:"pointer"},i.createElement("b",{className:"default-card-header-space"},h.ProfileCard_ContactHeader),i.createElement("span",{className:"icon bowtie-icon bowtie-chevron-right-light default-card-header-chevron"})))),i.createElement("div",{className:"default-card-contact-info-container"},n.mail&&i.createElement(l,{iconName:"Mail",content:n.mail,link:"mailto:"+n.mail,publishTelemetry:this.props.publishTelemetry}),n.mail&&i.createElement(l,{iconName:"Chat",content:h.ProfileCard_SendChat,link:"sip:"+n.mail,publishTelemetry:this.props.publishTelemetry}),n.telephoneNumber&&i.createElement(l,{iconName:"Phone",content:n.telephoneNumber,link:"tel:"+n.telephoneNumber,publishTelemetry:this.props.publishTelemetry}),n.physicalDeliveryOfficeName&&i.createElement(l,{iconName:"POI",content:n.physicalDeliveryOfficeName}))),this._renderDirectManagerElement(y)))},t.prototype._renderDirectManagerElement=function(n){var t=this;return n?i.createElement("div",{className:"default-card-direct-manager-wrapper"},i.createElement("hr",{className:"hr-secondary"}),i.createElement("div",{className:"default-card-header-wrapper"},i.createElement("span",{className:"default-card-header pointer profile-card-tab-element",onClick:function(){t.props.publishTelemetry(s.personaCardEntity.orgCard,s.personaCardEntity.loaded);t.props.showOrganizationCard()},"aria-label":h.ProfileCard_Organization,"data-is-focusable":!0,role:"button"},i.createElement(e.Label,{className:"pointer"},i.createElement("b",{className:"default-card-header-space"},h.ProfileCard_Organization),i.createElement("span",{className:"icon bowtie-icon bowtie-chevron-right-light default-card-header-chevron"})))),i.createElement("div",{className:"default-card-direct-manager"},i.createElement("div",{className:"default-card-header-reportsto"},h.ProfileCard_ReportsToHeader),n)):null},t}(i.Component);t.DefaultCard=a});

define("VSS/Identities/Picker/DefaultAbridgedCard",["require","exports","react","OfficeFabric/components/Persona/Persona","OfficeFabric/components/Persona/Persona.types","OfficeFabric/Label","OfficeFabric/Tooltip","VSS/Identities/Picker/DefaultCard","VSS/Resources/VSS.Resources.Platform","VSS/LoaderPlugins/Css!PersonaCard"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var t=this,n={imageUrl:this.props.identity.image,primaryText:this.props.identity.displayName},h=i.createElement("div",null,i.createElement(r.Persona,__assign({},n,{key:this.props.identity.entityId,size:u.PersonaSize.large,className:"persona-main",onRenderPrimaryText:function(){return i.createElement(e.TooltipHost,{key:t.props.identity.entityId+".primarytext.tooltip",content:n.primaryText,overflowMode:e.TooltipOverflowMode.Parent},i.createElement("span",{className:"persona-main-text-primary"},n.primaryText))},imageShouldFadeIn:!1})));return i.createElement("div",{className:"default-card-abridged"},h,this._verifySignInAddress()&&i.createElement("div",null,i.createElement("div",{className:"default-card-contact-info-wrapper"},i.createElement("hr",{className:"hr-main"}),i.createElement("div",{className:"default-card-header-wrapper"},i.createElement("span",{className:"default-card-header"},i.createElement(f.Label,null,i.createElement("b",{className:"default-card-header-space"},s.ProfileCard_ContactHeader)))),i.createElement("div",{className:"default-card-contact-info-container"},i.createElement(o.DefaultCardContactLine,{iconName:"Mail",content:this.props.identity.signInAddress,link:"mailto:"+this.props.identity.signInAddress,publishTelemetry:this.props.publishTelemetry}),i.createElement(o.DefaultCardContactLine,{iconName:"Chat",content:s.ProfileCard_SendChat,link:"sip:"+this.props.identity.signInAddress,publishTelemetry:this.props.publishTelemetry})))))},t.prototype._verifySignInAddress=function(){if(!this.props.identity.signInAddress)return!1;return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(this.props.identity.signInAddress)?!0:!1},t}(i.Component);t.DefaultAbridgedCard=h});

define("VSS/Identities/Picker/DefaultSimpleCard",["require","exports","react","OfficeFabric/components/Persona/Persona","OfficeFabric/components/Persona/Persona.types","OfficeFabric/Tooltip","VSS/LoaderPlugins/Css!PersonaCard"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var t=this,n={imageUrl:this.props.identity.image,primaryText:this.props.identity.displayName,secondaryText:this.props.identity.scopeName&&this.props.identity.signInAddress?this.props.identity.scopeName+"\\"+this.props.identity.signInAddress:this.props.identity.signInAddress?this.props.identity.signInAddress:""};return i.createElement("div",{className:"default-card-simple"},i.createElement("div",null,i.createElement(r.Persona,__assign({},n,{key:this.props.identity.entityId,size:u.PersonaSize.large,className:"persona-main",onRenderPrimaryText:function(){return i.createElement(f.TooltipHost,{key:t.props.identity.entityId+".primarytext.tooltip",content:n.primaryText,overflowMode:f.TooltipOverflowMode.Parent},i.createElement("span",{className:"persona-main-text-primary"},n.primaryText))},onRenderSecondaryText:function(){return i.createElement(f.TooltipHost,{key:t.props.identity.entityId+".secondarytext.tooltip",content:n.secondaryText,overflowMode:f.TooltipOverflowMode.Parent},i.createElement("span",{className:"persona-main-text-secondary"},n.secondaryText))},imageShouldFadeIn:!1}))))},t}(i.Component);t.DefaultSimpleCard=e});

define("VSS/Identities/Picker/OrganizationCard",["require","exports","react","OfficeFabric/components/Persona/Persona","OfficeFabric/components/Persona/Persona.types","OfficeFabric/Label","VSS/Identities/Picker/PersonaCardContracts","VSS/Resources/VSS.Resources.Platform","VSS/Utils/String","VSS/LoaderPlugins/Css!PersonaCard"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var n=this.props,u=n.identity,e=n.managerList,h=n.directReportList,r=this.createManagerChainPersonaElements(),t=this.createDirectReportsPersonaElements();return i.createElement("div",{className:"contact-or-organization-card-wrapper"},i.createElement("div",{className:"organization-card-content"},i.createElement("div",{className:"organization-card-header-wrapper"},i.createElement("div",{style:{fontSize:14}},i.createElement(f.Label,null,o.ProfileCard_Organization))),i.createElement("div",{className:"organization-card-manager-chain-wrapper"},r),t.length>0&&i.createElement("div",{className:"organization-card-direct-reports-wrapper"},i.createElement(f.Label,{className:"organization-card-direct-reports-label"},s.format(o.ProfileCard_ReportingToPhrase,this.props.identity.displayName,this.props.directReportList.length)),t)))},t.prototype.createManagerChainPersonaElements=function(){var o=this,n=this,f=this.props.managerList.map(function(t){var f={imageUrl:t.image,primaryText:t.displayName?t.displayName:"",secondaryText:t.jobTitle?t.jobTitle:"",tertiaryText:t.department?t.department:""};return i.createElement("div",{className:"persona-list-element profile-card-tab-element","aria-label":t.displayName,key:t.entityId+t.signInAddress,onClick:function(){n.props.publishTelemetry(e.personaCardEntity.orgCardManagerChain,e.personaCardEntity.loaded,e.personaCardEntity.orgCard);n.props.onClickEntity(t)},"data-is-focusable":!0,role:"button"},i.createElement(r.Persona,__assign({},f,{size:u.PersonaSize.size40,onRenderPrimaryText:function(){return i.createElement("div",{className:"persona-list-element-text-primary"},f.primaryText)},onRenderSecondaryText:function(){return i.createElement("div",{className:"persona-list-element-text-secondary"},f.secondaryText)},imageShouldFadeIn:!1})))}),t={imageUrl:this.props.identity.image,primaryText:this.props.identity.displayName,secondaryText:this.props.identity.jobTitle,tertiaryText:this.props.identity.department};return f.push(i.createElement("div",{className:"persona-list-element profile-card-tab-element","aria-label":this.props.identity.displayName,key:this.props.identity.entityId+this.props.identity.signInAddress,onClick:function(){n.props.publishTelemetry(e.personaCardEntity.personaCard,e.personaCardEntity.loaded,e.personaCardEntity.orgCard);n.props.onClickEntity(o.props.identity)},"data-is-focusable":!0,role:"button"},i.createElement(r.Persona,__assign({},t,{size:u.PersonaSize.size40,onRenderPrimaryText:function(){return i.createElement("div",{className:"persona-list-element-text-primary"},t.primaryText)},onRenderSecondaryText:function(){return i.createElement("div",{className:"persona-list-element-text-secondary"},t.secondaryText)},imageShouldFadeIn:!1})))),f},t.prototype.createDirectReportsPersonaElements=function(){var n=this;return this.props.directReportList.map(function(t){var f={imageUrl:t.image,primaryText:t.displayName?t.displayName:"",secondaryText:t.jobTitle?t.jobTitle:"",tertiaryText:t.department?t.department:""};return i.createElement("div",{className:"persona-list-element profile-card-tab-element","aria-label":t.displayName,key:t.entityId+t.signInAddress,onClick:function(){n.props.publishTelemetry(e.personaCardEntity.orgCardDirectReport,e.personaCardEntity.loaded,e.personaCardEntity.orgCard);n.props.onClickEntity(t)},"data-is-focusable":!0,role:"button"},i.createElement(r.Persona,__assign({},f,{size:u.PersonaSize.size40,onRenderPrimaryText:function(){return i.createElement("div",{className:"persona-list-element-text-primary"},f.primaryText)},onRenderSecondaryText:function(){return i.createElement("div",{className:"persona-list-element-text-secondary"},f.secondaryText)},imageShouldFadeIn:!1})))})},t}(i.Component);t.OrganizationCard=h});

define("VSS/Identities/Picker/PersonaCardIdentityUtils",["require","exports","VSS/Identities/Picker/Services"],function(n,t,i){function o(n){return n?r(n)||u(n)?!!(n.mail||n.mailNickname||n.jobTitle||n.department||n.physicalDeliveryOfficeName||n.manager||n.surname||n.telephoneNumber):f(n)?!!n.signInAddress:e(n)?!!(n.scopeName||n.signInAddress):!1:!1}function r(n){return n&&n.originDirectory.trim().toLowerCase()===i.ServiceHelpers.AzureActiveDirectory}function u(n){return n&&n.originDirectory.trim().toLowerCase()===i.ServiceHelpers.ActiveDirectory}function f(n){return n&&n.originDirectory.trim().toLowerCase()===i.ServiceHelpers.VisualStudioDirectory}function e(n){return n&&n.originDirectory.trim().toLowerCase()===i.ServiceHelpers.WindowsMachineDirectory}Object.defineProperty(t,"__esModule",{value:!0});t.isCompleteIdentity=o;t.isAadUser=r;t.isAdUser=u;t.isVsdUser=f;t.isWmdUser=e});

define("VSS/Identities/Picker/PersonaCardHeaderElement",["require","exports","react","OfficeFabric/components/Persona/Persona","OfficeFabric/components/Persona/Persona.types","OfficeFabric/Tooltip","VSS/Resources/VSS.Resources.Platform","VSS/LoaderPlugins/Css!PersonaCard"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.componentDidMount=function(){this.props.setFocus()},t.prototype.componentDidUpdate=function(){this.props.setFocus()},t.prototype.render=function(){var o=this,n,t;return this.props.identity?(n=this.props.identity,t={imageUrl:n.image,primaryText:n.displayName,secondaryText:n.jobTitle,tertiaryText:n.department},i.createElement("div",{className:"go-back-persona-wrapper",onClick:this.props.onClickFunction,"aria-label":e.ProfileCard_HeaderButtonAriaLabel,ref:function(n){o._personaElement=n},"data-is-focusable":!0,role:"button"},i.createElement("div",null,i.createElement("i",{className:"ms-Icon ms-Icon--ChevronLeft go-back-chevron"})),i.createElement("div",{className:"go-back-positioning"},i.createElement(r.Persona,__assign({},t,{size:u.PersonaSize.extraExtraSmall,className:"go-back-persona",onRenderPrimaryText:function(){return i.createElement(f.TooltipHost,{key:n.entityId+".tooltip",content:n.displayName,overflowMode:f.TooltipOverflowMode.Parent},i.createElement("span",{className:"persona-header-text-primary"},n.displayName))},imageShouldFadeIn:!1}))))):null},t.prototype.setFocus=function(){this._personaElement&&this._personaElement.focus()},t}(i.Component);t.PersonaCardHeaderElement=o});

var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("VSS/Identities/Picker/PersonaCardContent",["require","exports","react","OfficeFabric/Callout","OfficeFabric/FocusZone","OfficeFabric/Spinner","OfficeFabric/Utilities","VSS/Context","VSS/Identities/Picker/ContactCard","VSS/Identities/Picker/DefaultAbridgedCard","VSS/Identities/Picker/DefaultSimpleCard","VSS/Identities/Picker/DefaultCard","VSS/Identities/Picker/OrganizationCard","VSS/Identities/Picker/PersonaCardContracts","VSS/Identities/Picker/PersonaCardIdentityUtils","VSS/Identities/Picker/PersonaCardHeaderElement","VSS/Resources/VSS.Resources.Platform","VSS/Telemetry/Services","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){Object.defineProperty(t,"__esModule",{value:!0});var d=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.componentDidMount=function(){this._publishTelemetry(v.personaCardEntity.personaCard,v.personaCardEntity.loaded)},t.prototype.componentDidUpdate=function(){var n=y.isVsdUser(this.props.dataProps.identity);this.props.dataProps.header||n||this._focusOnUpdate()},t.prototype.render=function(){var n=this.props.referenceHTMLComponent?this.props.referenceHTMLComponent:this.props.target;return i.createElement("div",null,i.createElement(r.Callout,{onDismiss:this._onDismissCallout,target:n,ariaLabel:w.ProfileCard_AriaLabel,role:"alert",isBeakVisible:!1,gapSpace:10,className:"persona-card-callout"},i.createElement("div",null,this._renderCard())))},t.prototype._renderCard=function(){var n="persona-card-styles";if(this.props.working&&!y.isCompleteIdentity(this.props.dataProps.identity))return i.createElement("div",{className:e.css(n,"loading")},i.createElement(e.DelayedRender,{delay:300},i.createElement(f.Spinner,{label:w.Loading,type:f.SpinnerType.large,className:"persona-card-loading-spinner"})));var r=y.isAdUser(this.props.dataProps.identity)||y.isAadUser(this.props.dataProps.identity),t=this.props.dataProps.header||null,o=this.props.dataProps.cardType===v.CardType.Organization?u.FocusZoneDirection.vertical:u.FocusZoneDirection.horizontal;return i.createElement(u.FocusZone,{className:n,handleTabKey:1,isCircularNavigation:!0,componentRef:this._onFocusZoneRef,direction:o},r&&t&&i.createElement(p.PersonaCardHeaderElement,{identity:t,onClickFunction:this.props.onHeaderClick,setFocus:this._focusOnUpdate}),this._renderInnerCard())},t.prototype._onFocusZoneRef=function(n){this._focusZone=n;this._focusOnUpdate()},t.prototype._focusOnUpdate=function(){var t=this.props.dataProps.directReportList,n=this.props.dataProps.identity,i=y.isAadUser(n),r=y.isAdUser(n),u=y.isVsdUser(n);this.props.dataProps.cardType===v.CardType.Default&&t?this._focusZone.focus():this.props.dataProps.cardType!==v.CardType.Default&&this._focusZone.focus()},t.prototype._renderInnerCard=function(){var r=this.props.dataProps,n=r.identity,t=r.managerList,f=r.directReportList,u;if(!n)return null;var e=y.isVsdUser(n),o=y.isWmdUser(n),p=y.isAadUser(n),w=y.isAdUser(n);if(e)return i.createElement(h.DefaultAbridgedCard,{identity:n,publishTelemetry:this._publishTelemetry});if(o)return i.createElement(c.DefaultSimpleCard,{identity:n});if(p||w)switch(this.props.dataProps.cardType){case v.CardType.Default:return u=t&&t.length>0?t[t.length-1]:null,i.createElement(l.DefaultCard,{identity:n,manager:u,isPreviousHeader:!!this.props.dataProps.previousDataState||!!this.props.initialHeader,showContactCard:this.props.onShowContactCard,showOrganizationCard:this.props.onShowOrganizationCard,onClickEntity:this.props.onClickEntity,publishTelemetry:this._publishTelemetry,setFocus:this._focusOnUpdate});case v.CardType.Contact:return i.createElement(s.ContactCard,{identity:n,publishTelemetry:this._publishTelemetry});case v.CardType.Organization:return i.createElement(a.OrganizationCard,{identity:n,managerList:t,directReportList:f,onClickEntity:this.props.onClickEntity,publishTelemetry:this._publishTelemetry})}return null},t.prototype._onDismissCallout=function(){this.props.onDismissCallback&&this.props.onDismissCallback()},t.prototype._publishTelemetry=function(n,t,i){var u=o.getPageContext().navigation.routeId,r={Action:k.format("{0}{1}",n,t)};this.props.consumer&&(r.Consumer=this.props.consumer);i&&(r.Source=i);b.publishEvent(new b.TelemetryEventData(u,v.personaCardEntity.featureName,r))},__decorate([e.autobind],t.prototype,"_onFocusZoneRef",null),__decorate([e.autobind],t.prototype,"_focusOnUpdate",null),__decorate([e.autobind],t.prototype,"_onDismissCallout",null),__decorate([e.autobind],t.prototype,"_publishTelemetry",null),t}(i.Component);t.PersonaCardContent=d});

define("VSS/Identities/Picker/PersonaCard",["require","exports","react","OfficeFabric/Utilities","VSS/Context","VSS/Diag","VSS/Identities/Picker/Constants","VSS/Identities/Picker/PersonaCardContent","VSS/Identities/Picker/PersonaCardContracts","VSS/Identities/Picker/PersonaCardIdentityUtils","VSS/Identities/Picker/Services","VSS/Performance","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Telemetry/Services","VSS/Utils/String","VSS/LoaderPlugins/Css!PersonaCard"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){Object.defineProperty(t,"__esModule",{value:!0});t.sourceOperationScope={Source:!0};t.sourceAdOperationScope={Source:!0,AD:!0};t.sourceImsOperationScope={Source:!0,IMS:!0};t.sourceImsAdOperationScope={Source:!0,IMS:!0,AD:!0};t.userIdentityType={User:!0};t.managerAndDirectReportsConnectionType={managers:!0,directReports:!0};t.managerConnectionType={managers:!0};t.PersonaCard=function(n){return n.uniqueAttribute||n.identity||n.displayName?i.createElement(w,__assign({},n)):null};var w=function(n){function w(t){var i=n.call(this,t)||this,r,u;return i._IdentityService=v.getService(c.IdentityService),r={identity:t.identity,managerList:null,directReportList:null,previousDataState:null,cardType:s.CardType.Default,header:t.initialHeader?t.initialHeader.identity:null,displayName:t.displayName,imageUrl:t.imageUrl,email:i._getEmail()},u=!0,t.identity||t.uniqueAttribute||!t.displayName||(r.identity={entityId:"",entityType:"user",originDirectory:"vsd",originId:"",displayName:t.displayName,image:t.imageUrl,signInAddress:r.email},u=!1),i.state={dataState:r,working:u},u&&i._setupInitialData(r,t.uniqueAttribute),i}return __extends(w,n),w.prototype.componentDidMount=function(){this._routeId=u.getPageContext().navigation.routeId;this._scenarioDescriptor=l.getScenarioManager().startScenario(this._routeId,s.personaCardEntity.featureName)},w.prototype.componentDidUpdate=function(n,t){this._scenarioDescriptor.isActive()&&(this.state.dataState.cardType===s.CardType.Default?this.state.working&&t.working?(this._contactSectionLoad=l.getTimestamp(),this._scenarioDescriptor.addSplitTiming("ContactSectionLoaded",this._contactSectionLoad-this._scenarioDescriptor.getStartTime())):!this.state.working&&t.working&&this._scenarioDescriptor.addSplitTiming("ManagerSectionLoaded",l.getTimestamp()-this._contactSectionLoad):this.state.dataState.cardType===s.CardType.Organization&&(this.state.working&&!t.working?this._orgCardLoad=l.getTimestamp():!this.state.working&&t.working&&this._scenarioDescriptor.addSplitTiming("ManagerAndReportsToChainLoaded",l.getTimestamp()-this._orgCardLoad)))},w.prototype.componentWillUnmount=function(){this._dismissed=!0;this._scenarioDescriptor.isActive()&&this._scenarioDescriptor.end()},w.prototype.render=function(){return i.createElement(o.PersonaCardContent,__assign({},this.props,{dataProps:this.state.dataState,onClickEntity:this._onClickEntity,onDismissCallback:this._onDismissCallback,onShowContactCard:this._onShowContactCard,onShowOrganizationCard:this._onShowOrganizationCard,working:this.state.working,onHeaderClick:this._headerOnClickHandler}))},w.prototype._onDismissCallback=function(){this._scenarioDescriptor.isActive()&&!h.isCompleteIdentity(this.state.dataState.identity)&&(this._scenarioDescriptor.addSplitTiming("Spinner load time for card dismissal before identity fetch"),this._scenarioDescriptor.end());this.props.onDismissCallback()},w.prototype._headerOnClickHandler=function(){this.state.dataState.previousDataState?this.setState({dataState:this.state.dataState.previousDataState,working:!1}):this.props.initialHeader&&this.props.initialHeader.onClickFunction&&this.props.initialHeader.onClickFunction()},w.prototype._onShowContactCard=function(){var n=__assign({},this.state.dataState,{previousDataState:this.state.dataState,cardType:s.CardType.Contact,header:this.state.dataState.identity});this.setState({dataState:n})},w.prototype._onShowOrganizationCard=function(){var n=this,e,f,i,u,r;this.state.working||(e=function(t,i){i&&i.managers&&i.directReports&&!n._dismissed&&(i.managers.reverse(),n.state.dataState&&n.state.dataState.identity===t&&(n.setState({dataState:__assign({},n.state.dataState,{managerList:i.managers,directReportList:i.directReports}),working:!1}),n._getImagesForDataState()))},f=this.state.dataState,f.managerList&&f.managerList.length<=1?(i=this.state.dataState,r=__assign({},i,{cardType:s.CardType.Organization,header:i.identity,previousDataState:i}),this.setState({dataState:r,working:!0}),this._IdentityService.getIdentityConnections(i.identity,h.isAdUser(i.identity)?t.sourceAdOperationScope:t.sourceOperationScope,t.userIdentityType,t.managerAndDirectReportsConnectionType,null,null,6).then(function(n){return e(i.identity,n)},function(t){n._publishErrorTelemetry("ConnectionsOrgCard",t)})):(u=this.state.dataState,r=__assign({},u,{cardType:s.CardType.Organization,header:u.identity,previousDataState:u}),this.setState({dataState:r,working:!1})))},w.prototype._onClickEntity=function(n){if(!this.state.working){this._scenarioDescriptor.isActive()&&(this._scenarioDescriptor.end(),this._scenarioDescriptor=l.getScenarioManager().startScenario(this._routeId,s.personaCardEntity.featureName));var t=this.state.dataState,i={identity:n,cardType:s.CardType.Default,header:t.identity,directReportList:[],managerList:[],previousDataState:t,displayName:n.displayName,imageUrl:n.image,email:n.mail};this.setState({dataState:i,working:!0});this._getIdentityByUniqueAttribute(n)}},w.prototype._setupInitialData=function(n,i){var r=this;n.identity?h.isCompleteIdentity(n.identity)?c.ServiceHelpers.isAuthenticatedMember()&&this._IdentityService.getIdentityConnections(n.identity,h.isAdUser(n.identity)?t.sourceAdOperationScope:t.sourceOperationScope,t.userIdentityType,t.managerConnectionType,null,null,1).then(function(t){return r._getConnectionsSuccessCallback(n,t)},function(n){r._publishErrorTelemetry("ConnectionsIdentityPassedInDirectManager",n)}):this._getIdentityByUniqueAttribute(n.identity):this._getIdentityByUniqueAttribute(i)},w.prototype._getIdentityByUniqueAttribute=function(n){var i=this,r,o,s;r=typeof n=="string"?n:h.isAadUser(n)||h.isAdUser(n)?n.entityId:n.signInAddress;o={UID:!0};s={identityServiceOptions:{operationScope:u.getPageContext().webAccessConfiguration.isHosted?t.sourceImsOperationScope:t.sourceImsAdOperationScope,identityType:t.userIdentityType,httpClient:null,extensionData:null},identityExtensionOptions:{consumerId:this.props.consumerId||e.ConsumerId.UnknownConsumer},prefix:r,queryTypeHint:o,sources:["Directory"]};this.props.entityOperationsFacade.search(s).then(function(n){for(var t in n.queryTokenResponse)n.queryTokenResponse[t].then(function(n){return i._getIdentitiesSuccessCallback(n)},function(n){i._publishErrorTelemetry("IdentityNotPresent",n)})},function(n){i._publishErrorTelemetry("IdentitySearch",n);(function(n){return f.logError("_resolveInputToIdentities/getIdentitiesErrorCallback:"+JSON.stringify(n))})})},w.prototype._getIdentitiesSuccessCallback=function(n){var u=this,f;if(n&&!this._dismissed)if(n.identities&&n.identities.length!=0){var i=n.identities[0],e=h.isCompleteIdentity(this.state.dataState.identity),o=h.isAadUser(i)||h.isAdUser(i),s=this.props.imageUrl?this.props.imageUrl:i.image,r=__assign({},this.state.dataState,{identity:i,displayName:i.displayName,imageUrl:s}),l=c.ServiceHelpers.isAuthenticatedMember();l?!e&&o?(this.setState({dataState:r,working:!0}),this._IdentityService.getIdentityConnections(i,h.isAdUser(i)?t.sourceAdOperationScope:t.sourceOperationScope,t.userIdentityType,t.managerConnectionType,null,null,1).then(function(n){return u._getConnectionsSuccessCallback(r,n)},function(n){u._publishErrorTelemetry("ConnectionsIdentityFetchedDirectManager",n)})):(this.setState({working:!0}),this._setupInitialData(r)):(this.setState({dataState:r,working:!1}),this._getImagesForDataState())}else f=__assign({},this.state.dataState,{identity:this._getDerivedIdentity()}),this.setState({dataState:f,working:!1})},w.prototype._getConnectionsSuccessCallback=function(n,t){t&&t.managers&&!this._dismissed&&(this.setState({dataState:__assign({},n,{managerList:t.managers.reverse(),directReportList:t.directReports}),working:!1}),this._getImagesForDataState())},w.prototype._getDerivedIdentity=function(){if(this.state.dataState.identity)return this.state.dataState.identity;var n=this.props.imageUrl?this.props.imageUrl:this.state.dataState.imageUrl;return{entityId:"",entityType:"user",originDirectory:"vsd",originId:"",displayName:this.state.dataState.displayName?this.state.dataState.displayName:a.IdentityPicker_NoResult,image:n,signInAddress:this.state.dataState.email}},w.prototype._getImagesForDataState=function(){var i=this,n=this.state.dataState,t=(n.identity.image?[]:[n.identity]).concat((n.managerList||[]).filter(function(n){return!n.image}),(n.directReportList||[]).filter(function(n){return!n.image}));t&&t.length>0&&this.props.entityOperationsFacade.getImagesForEntities(t).then(this._getImagesForEntitiesCallback.bind(this),function(n){i._publishErrorTelemetry("Image",n)})},w.prototype._getImagesForEntitiesCallback=function(n){var t,r,i;if(n&&!this._dismissed){var u=this.state.dataState.identity,f=this.state.dataState.managerList,e=this.state.dataState.directReportList||[],o=e.concat(f,[u]);for(t=0,r=o;t<r.length;t++)i=r[t],i.entityId in n&&(i.image=n[i.entityId]);this.setState({dataState:__assign({},this.state.dataState,{identity:u,managerList:f,directReportList:e})})}},w.prototype._getEmail=function(){var n,t;return h.isAadUser(this.props.identity)||h.isAdUser(this.props.identity)?this.props.identity.mail:this.props.identity&&this.props.identity.signInAddress?this.props.identity.signInAddress:this.props.identity&&this.props.identity.mail?this.props.identity.mail:this.props.uniqueAttribute&&(n=this.props.uniqueAttribute.split("@"),n.length===2&&n[0].length>=1&&n[1].length>=3&&(t=n[1].split("."),t.length>1))?this.props.uniqueAttribute:null},w.prototype._publishErrorTelemetry=function(n,t){var i=u.getPageContext().navigation.routeId,r={Action:p.format("{0} fetch failed",n),ErrorName:t.name,ErrorMessage:t.message};y.publishEvent(new y.TelemetryEventData(i,s.personaCardEntity.featureName,r))},__decorate([r.autobind],w.prototype,"_onDismissCallback",null),__decorate([r.autobind],w.prototype,"_headerOnClickHandler",null),__decorate([r.autobind],w.prototype,"_onShowContactCard",null),__decorate([r.autobind],w.prototype,"_onShowOrganizationCard",null),__decorate([r.autobind],w.prototype,"_onClickEntity",null),__decorate([r.autobind],w.prototype,"_getConnectionsSuccessCallback",null),w}(i.Component)});

define("Presentation/Scripts/TFS/Components/IdentityImage",["require","exports","react","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Common/Constants/Platform","VSS/FeatureAvailability/Services","VSS/Identities/Picker/Controls","VSS/Identities/Picker/PersonaCard","VSS/Service","VSS/Utils/UI","OfficeFabric/Utilities"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.imageSizeXSmall="x-small";t.imageSizeSmall="small";t.imageSizeMedium="";t.imageSizeLarge="large-identity-picture";var l=function(n){function t(t){var i=n.call(this,t)||this;return i.state={showProfileCard:!1},i}return __extends(t,n),t.prototype.componentDidMount=function(){this.props.getTarget&&this.props.getTarget(this.targetElement)},t.prototype.shouldComponentUpdate=function(n,t){if(this.props.identity||n.identity){if(!this.props.identity||!n.identity)return!0}else return!1;return this.props.size!==n.size||this.props.cssClass!==n.cssClass||this.props.identity.id!==n.identity.id||this._getEmail(this.props)!==this._getEmail(n)||this.state.showProfileCard!==t.showProfileCard},t.prototype.render=function(){var u="identity-picture",n;this.props.size&&(u+=" "+this.props.size);this.props.identity&&(n=this.props.identity.id,u+=" identity-"+n);var h=this.props.tfsContext||r.TfsContext.getDefault(),c=this._getEmail(this.props),t=this.props.identity&&this.props.identity._links&&this.props.identity._links.avatar&&this.props.identity._links.avatar.href;t||(t=this.props.defaultGravatar?h.getIdentityImageUrl(n,{email:c,defaultGravatar:this.props.defaultGravatar}):h.getIdentityImageUrl(n,{email:c}));var l=this.props.altText===undefined?"":this.props.altText,a=this.props.identity?this.props.identity.displayName:l,f={};return this.props.dataIsFocusable&&(f["data-is-focusable"]=!0),this.props.isTabStop&&(f.tabIndex=0),i.createElement("div",__assign({className:this.props.cssClass,ref:this._setTargetRef},f,{"aria-label":a,onKeyDown:this._handleKeyDown,onClick:this._showProfileCard,"aria-expanded":this.state.showProfileCard}),i.createElement("img",{className:u,src:t,alt:l}),this.state.showProfileCard&&i.createElement(o.PersonaCard,{uniqueAttribute:this.props.identity.uniqueName,target:this.targetElement,entityOperationsFacade:s.getService(e.EntityOperationsFacade),onDismissCallback:this._onProfileCardDismissed,displayName:this.props.identity.displayName,consumerId:"37C4B067-1137-4241-A37C-EDE3D7A25BAE",imageUrl:t}))},t.prototype._setTargetRef=function(n){this.targetElement=n},t.prototype._handleKeyDown=function(n){(n.keyCode===h.KeyCode.ENTER||n.keyCode===h.KeyCode.SPACE)&&this._showProfileCard(n)},t.prototype._showProfileCard=function(n){var t=this.props.showProfileCardOnClick&&f.FeatureAvailabilityService.isFeatureEnabled(u.WebPlatformFeatureFlags.ReactProfileCard);t&&(this._setProfileCardVisible(!0),n.stopPropagation())},t.prototype._onProfileCardDismissed=function(){this._setProfileCardVisible(!1)},t.prototype._setProfileCardVisible=function(n){var t=this;this.setState({showProfileCard:n},function(){if(t.props.onProfileCardToggle)t.props.onProfileCardToggle(n)})},t.prototype._getEmail=function(n){if(n.identity)return n.identity.id?undefined:n.identity.uniqueName},__decorate([c.autobind],t.prototype,"_setTargetRef",null),__decorate([c.autobind],t.prototype,"_handleKeyDown",null),__decorate([c.autobind],t.prototype,"_showProfileCard",null),__decorate([c.autobind],t.prototype,"_onProfileCardDismissed",null),t}(i.Component);t.Component=l});

define("VersionControl/Scenarios/Shared/AvatarImageInterfaces",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i;(function(n){n[n.ExtraSmall=0]="ExtraSmall";n[n.SmallMinus=1]="SmallMinus";n[n.Small=2]="Small";n[n.SmallPlus=3]="SmallPlus";n[n.Medium=4]="Medium";n[n.Large=5]="Large"})(i=t.AvatarImageSize||(t.AvatarImageSize={}))});

define("VersionControl/Scenarios/Shared/AvatarUtils",["require","exports","VSS/Utils/String","VersionControl/Scenarios/Shared/AvatarImageInterfaces","VersionControl/Scripts/Utils/SearchCriteriaUtil"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function n(){}return n.AvatarImagePropertiesToIdentityRef=function(n){return{id:n.identityId,displayName:n.displayName,isContainer:!1,uniqueName:n.email,imageUrl:"",isAadIdentity:!1,profileUrl:"",url:"",inactive:!1,directoryAlias:null,_links:{avatar:{href:n.imageUrl}}}},n.AvatarImageSizeToCssStyle=function(n){return n===r.AvatarImageSize.ExtraSmall?{className:"x-small",imageSize:16}:n===r.AvatarImageSize.SmallMinus?{className:"small-minus",imageSize:24}:n===r.AvatarImageSize.Small?{className:"small",imageSize:32}:n===r.AvatarImageSize.SmallPlus?{className:"small-plus",imageSize:40}:n===r.AvatarImageSize.Large?{className:"large-identity-picture",imageSize:80}:{className:"",imageSize:48}},n.AvatarImagePropertiesToPersonaCardIdentityRef=function(t){var f=n.AvatarImagePropertiesToIdentityRef(t),r=u.getTFSIdentityfromAuthor(f.uniqueName);return r&&r.displayName&&r.displayName===f.displayName&&r.alias!==i.empty&&(f.uniqueName=r.alias),f},n.getAvatarUrl=function(n){if(n){var t=n._links,i=n.imageUrl;if(t&&t.avatar&&t.avatar.href)return t.avatar.href;if(i)return i}return undefined},n}();t.AvatarUtils=f});

define("VersionControl/Scenarios/Shared/TwoLineView",["require","exports","OfficeFabric/Link","VSSUI/Tooltip","OfficeFabric/Utilities","react","VSS/Controls/PopupContent","VSS/LoaderPlugins/Css!VersionControl/TwoLineView"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function r(){var t=n!==null&&n.apply(this,arguments)||this;return t._tooltips=[],t}return __extends(r,n),r.prototype.render=function(){var n=this,r=f.createElement("div",{className:"first-line"},this.props.primaryLinkText&&this.props.primaryLinkUrl&&f.createElement(i.Link,{className:"primarylink-text",href:this.props.primaryLinkUrl,onClick:this.props.onPrimaryLinkClick},this.props.primaryLinkText+" "),this.props.primaryText&&f.createElement("div",{ref:function(t){n._primaryTextRef=t},className:"primary-text","aria-label":this.props.primaryText},this.props.primaryText),f.createElement(t.Badges,{badges:this.props.badges})),u=f.createElement("div",{className:"second-line"},this.props.secondaryLinkText&&this.props.secondaryLinkUrl&&f.createElement(i.Link,{className:"secondarylink-text",href:this.props.secondaryLinkUrl,onClick:this.props.onSecondaryLinkClick},this.props.secondaryLinkText+" "),this.props.secondaryText&&f.createElement("div",{ref:function(t){n._secondaryTextRef=t},className:"secondary-text","aria-label":this.props.secondaryText},this.props.secondaryText,this.props.additionalComponent));return f.createElement("div",{className:"two-line-view",ref:function(t){return n._containerElement=t}},r,u)},r.prototype.componentDidMount=function(){this._containerElement&&(this._primaryLinkTextRef=$(this._containerElement).find(".primarylink-text")[0],this._secondaryLinkTextRef=$(this._containerElement).find(".secondarylink-text")[0]);this._addToolTips()},r.prototype.componentWillUnmount=function(){this._tooltips&&(this._tooltips.forEach(function(n){n.dispose();n=null}),this._tooltips=[]);this._primaryLinkTextRef=null;this._primaryTextRef=null;this._secondaryLinkTextRef=null;this._secondaryTextRef=null},r.prototype._addToolTips=function(){this._addToolTip(this._primaryLinkTextRef,this.props.primaryLinkTextTooltip,this.props.primaryLinkText);this._addToolTip(this._primaryTextRef,this.props.primaryTextTooltip,this.props.primaryText);this._addToolTip(this._secondaryLinkTextRef,this.props.secondaryLinkTextTooltip,this.props.secondaryLinkText);this._addToolTip(this._secondaryTextRef,this.props.secondaryTextTooltip,this.props.secondaryText)},r.prototype._addToolTip=function(n,t,i){if(n){var r=t||i;this._tooltips.push(e.RichContentTooltip.add(r,n,{onlyShowWhenOverflows:t?null:n,setAriaDescribedBy:!1,useMousePosition:!1}))}},r}(f.Component);t.TwoLineView=o;t.Badges=function(n){return f.createElement("span",{className:"vc-two-line-view-badge-list"},n.badges&&n.badges.length?n.badges.map(function(n,i){return f.createElement(t.Badge,__assign({},n,{key:i}))}):null)};t.Badge=function(n){var t=u.getId("avatar-first-line-badge-tooltip");return f.createElement(r.TooltipHost,{id:t,content:n.tooltip,directionalHint:5},n.url?f.createElement(i.Link,{className:n.badgeCss,href:n.url,onClick:n.onClick,"aria-describedby":t},n.badgeText):f.createElement("span",{className:n.badgeCss,"aria-describedby":t},n.badgeText))}});

define("VersionControl/Scenarios/Shared/AvatarControls",["require","exports","react","VSSUI/Tooltip","OfficeFabric/Utilities","VSS/Utils/String","VSS/Utils/UI","Presentation/Scripts/TFS/Components/IdentityImage","VersionControl/Scenarios/Shared/AvatarUtils","VersionControl/Scenarios/Shared/TwoLineView","VSS/LoaderPlugins/Css!VersionControl/AvatarControls"],function(n,t,i,r,u,f,e,o,s,h){var c,l;Object.defineProperty(t,"__esModule",{value:!0});t.defaultGravatarMysteryManString="mm";c=function(n){function h(t,i){var r=n.call(this,t,i)||this;return r.state={showTooltip:!0},r._tooltipId=u.getId("avatarbadge-tooltip"),r}return __extends(h,n),h.prototype.render=function(){var a,h;if(this.props.imageProperties){var v=this.props.badgeTextStyle||"badge-text-style",c=s.AvatarUtils.AvatarImageSizeToCssStyle(this.props.imageProperties.size),l=s.AvatarUtils.AvatarImagePropertiesToIdentityRef(this.props.imageProperties),n={},e="avatar-badge";return this.props.showProfileCardOnClick&&(l.uniqueName=s.AvatarUtils.AvatarImagePropertiesToPersonaCardIdentityRef(this.props.imageProperties).uniqueName,e=u.css("persona-card-pointer",e),n.tabIndex=0,n["data-is-focusable"]=!0,n["aria-expanded"]=!this.state.showTooltip),a=f.format("calc(100% - {0}px)",c.imageSize-1),h=i.createElement("div",__assign({className:e,onClick:this._invokePersonaCardOnIdentityImage,onKeyDown:this._handleKeyDown},n,{"aria-describedby":this.props.tooltip?this._tooltipId:null}),i.createElement(o.Component,{cssClass:"avatar-identity-picture",getTarget:this._setIdentityImageElementRef,size:c.className,identity:l,defaultGravatar:t.defaultGravatarMysteryManString,onProfileCardToggle:this._onProfileCardToggle,showProfileCardOnClick:!!this.props.showProfileCardOnClick}),i.createElement("div",{className:"author",style:{width:a}},i.createElement("div",{className:v},this.props.imageProperties.displayName))),this.props.tooltip?i.createElement(r.TooltipHost,{id:this._tooltipId,content:this.props.tooltip,directionalHint:5,calloutProps:{className:u.css({hidden:!this.state.showTooltip})}},h):h}return i.createElement("div",null)},h.prototype._handleKeyDown=function(n){(n.keyCode===e.KeyCode.ENTER||n.keyCode===e.KeyCode.SPACE)&&this._invokePersonaCardOnIdentityImage()},h.prototype._invokePersonaCardOnIdentityImage=function(){this._identityImageElement.click()},h.prototype._onProfileCardToggle=function(n){this.setState({showTooltip:!n})},h.prototype._setIdentityImageElementRef=function(n){this._identityImageElement=n},h.prototype.dispose=function(){this._identityImageElement=null},__decorate([u.autobind],h.prototype,"_handleKeyDown",null),__decorate([u.autobind],h.prototype,"_invokePersonaCardOnIdentityImage",null),__decorate([u.autobind],h.prototype,"_onProfileCardToggle",null),__decorate([u.autobind],h.prototype,"_setIdentityImageElementRef",null),h}(i.Component);t.AvatarBadge=c;l=function(n){function r(t,i){return n.call(this,t,i)||this}return __extends(r,n),r.prototype.render=function(){var n=s.AvatarUtils.AvatarImageSizeToCssStyle(this.props.imageProperties.size),r=f.format("calc(100% - {0}px)",n.imageSize+10);return i.createElement("div",{className:"avatar-card"},i.createElement("div",{className:"avatar"},i.createElement(o.Component,{cssClass:"avatar-identity-picture",size:n.className,identity:s.AvatarUtils.AvatarImagePropertiesToPersonaCardIdentityRef(this.props.imageProperties),altText:this.props.imageAltText,defaultGravatar:t.defaultGravatarMysteryManString,dataIsFocusable:!0,showProfileCardOnClick:!0})),i.createElement("div",{className:"card-details",style:{width:r}},i.createElement(h.TwoLineView,{primaryLinkText:this.props.primaryLinkText,primaryLinkTextTooltip:this.props.primaryLinkTextTooltip,primaryText:this.props.primaryText,primaryTextTooltip:this.props.primaryTextTooltip,primaryLinkUrl:this.props.primaryLinkUrl,onPrimaryLinkClick:this.props.onPrimaryLinkClick,secondaryLinkText:this.props.secondaryLinkText,secondaryLinkTextTooltip:this.props.secondaryLinkTextTooltip,secondaryText:this.props.secondaryText,secondaryTextTooltip:this.props.secondaryTextTooltip,secondaryLinkUrl:this.props.secondaryLinkUrl,onSecondaryLinkClick:this.props.onSecondaryLinkClick,badges:this.props.badges,additionalComponent:this.props.additionalComponent})))},r}(i.Component);t.AvatarCard=l});

define("VersionControl/Scenarios/Explorer/Commands/HistoryPickerItem",["require","exports","react","VersionControl/Scenarios/Shared/AvatarControls","VersionControl/Scenarios/Shared/AvatarImageInterfaces","VersionControl/Scripts/CommitIdHelper","VSS/LoaderPlugins/Css!VersionControl/HistoryPickerItem"],function(n,t,i,r,u,f){function o(n){return i.createElement(s,{entry:n})}function e(n){return n&&n.startsWith("GC")?f.getShortCommitId(n.substring(2)):n}function h(n){return"author"in n}Object.defineProperty(t,"__esModule",{value:!0});t.renderHistoryEntry=o;var s=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var t=this.props.entry,n=h(t.changeList)&&t.changeList.author,f={email:n&&n.id,displayName:n?n.displayName:t.changeList.ownerDisplayName,identityId:null,size:u.AvatarImageSize.SmallMinus,imageUrl:n&&(n.imageUrl||n.url)};return i.createElement("span",{className:"vc-history-picker-item"},i.createElement("span",{className:"commitId flex-shrink"},e(t.changeList.version)),i.createElement("span",{className:"comment flex-grow"},t.changeList.comment),i.createElement("span",{className:"flex-shrink"},i.createElement(r.AvatarBadge,{imageProperties:f})))},t}(i.Component);t.getHistoryEntryName=e});

define("VersionControl/Scenarios/Shared/Commands/CommandsCreator",["require","exports"],function(n,t){function f(n,t){return n.map(function(n,i){return n(t,i)}).filter(function(n){return n}).map(r)}function e(n,t,i){return n.map(function(n){return n.hasPermission(t)&&n.getCommand(i)}).filter(function(n){return n}).map(r)}function r(n){return n.disabled&&(n["aria-disabled"]=!0),n}function o(n){return{className:"bowtie-icon "+n,iconName:undefined}}function s(n,t){return function(i,r){var u=t(i,r);return n(i)?__assign({},u,{disabled:!0}):u}}Object.defineProperty(t,"__esModule",{value:!0});var i="-",u;(function(n){function t(n,t){return n.filter(function(n){return t.indexOf(n.key)<0})}function r(n,t){return n.filter(function(n){return t.indexOf(n.key)>=0})}function u(n){return n.filter(function(n){return n.name!==i})}function f(n){var t;return n.filter(function(r,u){var f=r.name===i&&(!t||t===i||u===n.length-1);return t=r.name||r.key,!f})}n.filterForbidden=t;n.filterAllowed=r;n.exceptSeparators=u;n.exceptUselessSeparators=f})(u=t.CommandFiltering||(t.CommandFiltering={}));t.create=f;t.createWithPermissions=e;t.separator=function(n,t){return{key:"separator"+t,name:i}};t.getMenuIcon=o;t.makeDisabledOn=s});

define("VersionControl/Scenarios/Explorer/Commands/CompareItemCommands",["require","exports","VSS/Utils/Array","VSS/Utils/Date","VSS/Utils/String","VersionControl/Scenarios/Explorer/Commands/HistoryPickerItem","VersionControl/Scenarios/Shared/Commands/CommandsCreator","VersionControl/Scripts/Controls/ControlsCommon","VersionControl/Scripts/Resources/TFS.Resources.VersionControl"],function(n,t,i,r,u,f,e,o,s){function c(n,t){return function(i){var s=i.actionCreator,r=i.itemHistory,o=i.compareOptions,e;if(r.length>0)return e=f.getHistoryEntryName(h(n,r,o)),{key:n,name:e,ariaLabel:u.format(t,e),iconProps:{iconName:"BranchCommit"},subMenuProps:{className:"vc-history-picker",items:r.map(function(t){return l(t,r,o,s,n)})}}}}function l(n,t,i,u,e){var o=h(e,t,i),s=h(a[e],t,i);return{key:"changeVersion-"+n.changeList.version,name:f.renderHistoryEntry(n),secondaryText:r.localeFormat(n.changeList.creationDate,"d"),ariaLabel:f.getHistoryEntryName(n.changeList.version),canCheck:!0,checked:n.changeList.version===o,disabled:n.changeList.version===s,iconProps:{iconName:"BranchCommit"},onClick:function(){return u.changeCompareVersion(n.changeList.version,n.serverItem,e==="oversion")}}}function h(n,t,r){var f=r[n],o,e,s,u;return f?f.startsWith("P")&&(o=f.substring(1),e=i.findIndex(t,function(n){return n.changeList.version===o}),e>=0&&e+1<t.length)?t[e+1].changeList.version:f:(s=v[n],u=t[s],u||(u=t[0]),u&&u.changeList.version)}Object.defineProperty(t,"__esModule",{value:!0});t.compareCommands={toggleInlineDiff:function(n){var i=n.actionCreator,t=n.isDiffInline,r=n.tab;return o.VersionControlActionIds.isCompareAction(r)&&{key:"toggleInlineDiff",name:t?s.EditFileDiffSideBySide:s.EditFileDiffInline,iconOnly:!0,iconProps:e.getMenuIcon(t?"bowtie-diff-side-by-side":"bowtie-diff-inline"),onClick:function(){return i.toggleEditingDiffInline()}}},originalVersion:c("oversion",s.CompareOriginalVersionPickerAriaLabel),modifiedVersion:c("mversion",s.CompareModifiedVersionPickerAriaLabel),goToPreviousDiff:function(n){var t=n.actionCreator,i=n.canGoToPreviousDiff;return{key:"goToPreviousDiff",name:s.PreviousDifferenceTooltip,disabled:!i,iconOnly:!0,iconProps:e.getMenuIcon("bowtie-arrow-up"),onClick:function(){return t.goToPreviousDiff()}}},goToNextDiff:function(n){var t=n.actionCreator,i=n.canGoToNextDiff;return{key:"goToNextDiff",name:s.NextDifferenceTooltip,iconOnly:!0,disabled:!i,iconProps:e.getMenuIcon("bowtie-arrow-down"),onClick:function(){return t.goToNextDiff()}}}};var a={mversion:"oversion",oversion:"mversion"},v={mversion:0,oversion:1}});

define("VersionControl/Scenarios/Shared/Commands/FilesTreeCommands",["require","exports","VersionControl/Scenarios/Shared/Commands/CommandsCreator","VersionControl/Scripts/CodeHubContributionsHelper","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/Utils/XhrNavigationUtils","VersionControl/Scripts/VersionControlUrls"],function(n,t,i,r,u,f,e){function y(n){return i.create(n.isFolder?p:w,n)}function c(n){return function(t){return!t.isShelveset&&__assign({key:o.viewFolderInExplorer,name:u.ViewInFileExplorerMenu,iconProps:{iconName:"FabricFolder"}},h(n(t),t))}}function l(n){return function(t){return!t.isShelveset&&__assign({key:o.viewFileInExplorer,name:u.ViewInFileExplorerMenu,iconProps:{iconName:"TextDocument"}},h(n(t),t))}}function a(n){return function(t){return{key:o.download,name:u.DownloadFile,iconProps:{iconName:"Download"},onClick:function(){return n(t)}}}}function v(n){return function(t){return{key:o.downloadAsZip,name:u.DownloadAsZip,iconProps:{iconName:"Download"},onClick:function(){return n(t)}}}}function h(n,t){return{href:n,onClick:function(i){return b(i,t.repositoryContext,n,t.isFullPageNavigate)}}}function b(n,t,i,u){u===void 0&&(u=!1);var e=!u&&r.getTargetFilesHubId(t);f.onClickNavigationHandler(n,e,i)}var o;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.viewFolderInExplorer="viewFolderInExplorer";n.viewFileInExplorer="viewFileInExplorer";n.download="download";n.downloadAsZip="downloadAsZip"}(o=t.Keys||(t.Keys={}));t.getFilesTreeCommands=y;t.download=a(function(n){var t=n.path,i=n.version,r=n.repositoryContext,u=e.getFileContentUrl(r,t,i);window.location.href=u});t.downloadAsZip=v(function(n){var t=n.path,i=n.version,r=n.repositoryContext,u=e.getZippedContentUrl(r,t,i);window.location.href=u});var s={viewFolderInExplorer:c(function(n){var t=n.path,i=n.version,r=n.repositoryContext;return e.getExplorerUrl(r,t,null,{version:i})}),viewFileInExplorer:l(function(n){var t=n.path,i=n.version,r=n.repositoryContext;return e.getExplorerUrl(r,t,null,{version:i})}),download:t.download,downloadAsZip:t.downloadAsZip},p=[s.viewFolderInExplorer,i.separator,s.downloadAsZip,],w=[s.viewFileInExplorer,i.separator,s.download,];t.createViewFolderInExplorer=c;t.createViewFileInExplorer=l;t.createDownload=a;t.createDownloadAsZip=v;t.getNavigateToExplorerProps=h});

define("VersionControl/Scenarios/Explorer/Commands/ItemCommands",["require","exports","VSS/Utils/String","VersionControl/Scenarios/Explorer/Commands/CompareItemCommands","VersionControl/Scenarios/Shared/Commands/CommandsCreator","VersionControl/Scenarios/Shared/Commands/FilesTreeCommands","VersionControl/Scripts/Controls/ControlsCommon","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/VersionControlPath"],function(n,t,i,r,u,f,e,o,s){function p(n){var t=n.item,i;return t?(i=l(n)&&n.tab===e.VersionControlActionIds.Compare?a(ft,n):l(n)&&!b(n.tab)?[]:t.isFolder?k(n):t.isSymLink?[]:g(n),l(n)?u.CommandFiltering.exceptSeparators(i):u.CommandFiltering.exceptUselessSeparators(i)):[]}function w(n){var i=n.tab,r=n.isFullScreen,f=n.actionCreator,o=n.isEditing,t;return t=i===e.VersionControlActionIds.Compare?u.create(et,n):o?u.create(rt,n):[],t.push(y(r,f)),t}function l(n){return n.uiSource==="command-bar"}function b(n){return n===e.VersionControlActionIds.Contents||n===e.VersionControlActionIds.Annotate||n===e.VersionControlActionIds.HighlightChanges||n===e.VersionControlActionIds.Preview}function k(n){var t=a(ut,n);return n.isRoot&&(t=u.CommandFiltering.filterForbidden(t,nt)),l(n)&&(t=d(t,n.isCurrentItem)),t}function d(n,t){return t?u.CommandFiltering.filterAllowed(n,v):u.CommandFiltering.filterForbidden(n,v)}function g(n){var t=n.isEditing&&l(n)?it:tt;return a(t,n)}function a(n,t){return t.extraCommands&&(n=t.extraCommands.concat(n)),u.create(n,t)}function y(n,t){return{key:h.fullScreen,name:n?o.ExitFullScreenMode:o.EnterFullScreenModeTooltip,iconOnly:!0,iconProps:{iconName:n?"BackToWindow":"FullScreen"},onClick:function(){return t.toggleFullScreen(!n)}}}function ot(n,t){return i.localeIgnoreCaseComparer(s.getFileExtension(n.serverItem),t)===0}var h;Object.defineProperty(t,"__esModule",{value:!0});t.getCommands=p;t.getSideCommands=w,function(n){n.addNewItem="addNewItem";n.uploadFile="uploadFile";n.edit="edit";n.rename="rename";n.remove="remove";n.save="save";n.discard="discard";n.fullScreen="fullScreen"}(h||(h={}));var nt=[h.rename,h.remove,],c={download:u.makeDisabledOn(function(n){var t=n.isEditing,i=n.isCurrentItem;return t&&i},f.createDownload(function(n){var t=n.item,i=n.actionCreator,r=n.uiSource;return i.downloadFile(t.serverItem,r)})),downloadAsZip:f.createDownloadAsZip(function(n){var t=n.item,i=n.actionCreator,r=n.uiSource;return i.downloadZippedFolder(t.serverItem,r)}),addNewFileOrFolder:function(n){return n.hasEditPermissions&&{key:h.addNewItem,name:o.AddNewItem,iconProps:{iconName:"Add"},disabled:!n.allowEditing,subMenuProps:{items:[{key:"addNewFile",name:o.File,iconProps:{iconName:"TextDocument"},onClick:function(){return n.actionCreator.promptAddNewFile(n.item.serverItem,n.uiSource)}},{key:"addNewFolder",name:o.Folder,iconProps:{iconName:"FabricFolder"},onClick:function(){return n.actionCreator.promptAddNewFolder(n.item.serverItem,n.uiSource)}},]}}},uploadFile:function(n){var t=n.item,i=n.actionCreator,r=n.uiSource,u=n.allowEditing,f=n.hasEditPermissions;return f&&{key:h.uploadFile,name:o.UploadFiles,disabled:!u,iconProps:{iconName:"Upload"},onClick:function(){return i.promptUploadFiles(t.serverItem,r)}}},edit:function(n){var t=n.item,i=n.actionCreator,r=n.isEditing,u=n.isCurrentItem,f=n.isTooBigToEdit,e=n.uiSource,s=n.allowEditing,c=n.hasEditPermissions;return c&&{key:h.edit,name:o.EditFileContextMenuText,disabled:(r||f)&&u||!s,iconProps:{iconName:"Edit"},onClick:function(){return i.editFile(t.serverItem,e)}}},rename:function(n){var t=n.item,i=n.actionCreator,r=n.isEditing,u=n.isCurrentItem,f=n.uiSource,e=n.allowEditing,s=n.hasEditPermissions;return s&&{key:h.rename,name:o.RenameItemMenuItem,disabled:r&&u||!e,iconProps:{iconName:"Rename"},onClick:function(){return i.promptRenameItem(t.serverItem,f)}}},remove:function(n){var t=n.item,i=n.actionCreator,r=n.isEditing,u=n.isCurrentItem,f=n.uiSource,e=n.allowEditing,s=n.hasEditPermissions;return s&&{key:h.remove,name:o.DeleteItemMenuItem,disabled:r&&u||!e,iconProps:{iconName:"Delete"},onClick:function(){return i.promptDeleteItem(t.serverItem,f)}}},save:function(n){var t=n.actionCreator,i=n.isGit,r=n.isDirty,u=n.isNewFile,f=n.uiSource;return{key:h.save,name:i?o.CommitCommandLabel:o.CheckinCommandLabel,disabled:!r&&!u,iconProps:{iconName:"Save"},onClick:function(){return t.promptSaveEditingFile(f)}}},discard:function(n){var i=n.actionCreator,t=n.isDirty,r=n.uiSource;return{key:h.discard,name:t?o.EditFileDiscard:o.EditFileCancel,iconProps:{iconName:t?"Undo":"Cancel"},onClick:function(){return i.discardEditingFile(r)}}}},tt=[c.edit,c.rename,c.remove,u.separator,c.download,],it=[c.save,c.discard,],rt=[r.compareCommands.toggleInlineDiff,],ut=[c.addNewFileOrFolder,c.uploadFile,c.rename,c.remove,u.separator,c.downloadAsZip,],ft=[r.compareCommands.originalVersion,r.compareCommands.modifiedVersion,],et=[r.compareCommands.goToPreviousDiff,r.compareCommands.goToNextDiff,r.compareCommands.toggleInlineDiff,],v=[h.addNewItem,h.uploadFile,f.Keys.downloadAsZip,];t.getFullScreenCommand=y;t.hasFileExtension=ot});

define("VersionControl/Scenarios/Explorer/Commands/AddToDashboardCommand",["require","exports","VSS/Utils/String","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","VersionControl/Scenarios/Explorer/Commands/ItemCommands","VersionControl/Scenarios/Shared/Commands/CommandsCreator","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/VersionControlPath"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s="md",h="added-to-dashboard",c=function(){return undefined},l=function(){function n(n,t){var i=this;this.source=n;this.extensionHost=t;this.dashboards=[];this.getCommand=function(n){var t=n.item,e=n.isEditing,o=n.isCurrentItem,h=n.uiSource;return!t.isFolder&&u.hasFileExtension(t,s)&&!(e&&o)&&i.hasDashboardPermissions?{key:"addToDashboard",name:r.PushToDashboardTitle,disabled:i.dashboards.length===0,iconProps:f.getMenuIcon("bowtie-math-plus"),onClick:c,subMenuProps:{items:i.dashboards.map(function(n){return{key:n.id,name:n.name,onClick:function(){return i.pinToDashboard(t,n.id,h)}}})}}:undefined};this.hasDashboardPermissions=n.canEditDashboard();this.hasDashboardPermissions&&n.getDashboards().then(function(n){return i.dashboards=n})}return n.prototype.pinToDashboard=function(n,t,r){var u=this;this.extensionHost.publishTelemetryEvent("pinToDashboard",{uiSource:r});this.source.pinToDashboard(n,t).then(function(){return u.extensionHost.notify(i.format(e.AddedToDashboard,o.getFileName(n.serverItem)),h)})},n}();t.AddToDashboardCommand=l});

define("Presentation/Scripts/TFS/TFS.Core.Utils.VisualStudio",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i;(function(n){function i(){var n=!1;try{r()>=6.2&&navigator.msLaunchUri&&(n=!0)}catch(t){}return n}function r(){var n=-1;return/Windows NT ([0-9]+(\.[0-9]+)*)/.exec(navigator.appVersion)!==null&&(n=parseFloat(RegExp.$1)),n}function u(n){try{if(navigator.platform!=="Win32"&&navigator.platform!=="Win64"){window.open(t);return}i()?navigator.msLaunchUri(n,null,function(){window.open(t)}):window.location.href=n}catch(r){window.open(t)}}var t="https://go.microsoft.com/fwlink/?LinkId=309297";n.openVSWebLink=u})(i=t.VSLauncher||(t.VSLauncher={}))});

define("VersionControl/Scenarios/Explorer/Commands/OpenInVisualStudioCommand",["require","exports","Presentation/Scripts/TFS/TFS.Core.Utils.VisualStudio","VersionControl/Scenarios/Explorer/Commands/ItemCommands","VersionControl/Scenarios/Shared/Commands/CommandsCreator","VersionControl/Scripts/Resources/TFS.Resources.VersionControl"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e="sln",o=function(){function n(n){var t=this;this.extensionHost=n;this.getCommand=function(n){var i=n.item,o=n.isEditing,s=n.isCurrentItem,h=n.uiSource;if(r.hasFileExtension(i,e)&&!(o&&s)&&i.contentMetadata&&i.contentMetadata.vsLink)return{key:"openInVisualStudio",name:f.OpenInVisualStudioTooltip,iconProps:u.getMenuIcon("bowtie-logo-visual-studio"),onClick:function(){return t.open(i.contentMetadata.vsLink,h)}}}}return n.prototype.open=function(n,t){this.extensionHost.publishTelemetryEvent("openInVisualStudio",{uiSource:t});i.VSLauncher.openVSWebLink(n)},n}();t.OpenInVisualStudioCommand=o});

define("Presentation/Scripts/TFS/TFS.UI.Controls.Accessories",["require","exports","VSS/Context","VSS/Controls","VSS/Diag","VSS/Service","VSS/Settings","VSS/Settings/RestClient","VSS/Controls/Splitter","VSS/Utils/Core","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(t){var i=n.call(this,t)||this;return i._splitter=null,i._isExpanded=null,i._settingPath=null,i._canSaveState()&&(i._settingPath=t.settingPath,i._useLocalStorage=t.useLocalStorage),i}return __extends(t,n),t.prototype._canSaveState=function(){return!!i.getDefaultWebContext().collection},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._splitter=r.Enhancement.ensureEnhancement(s.Splitter,this._element);this._canSaveState()&&this._bind("changed",h.delegate(this,this._onSplitterChanged))},t.prototype.setSettingPath=function(n){this._settingPath=n},t.prototype._onSplitterChanged=function(n,t){var u,s;if(t===this._splitter){var i=this._splitter.isExpanded(),r=this._splitter.getFixedSidePixels(),h=this._isExpanded===null||i!==this._isExpanded,c=this._size===null||this._size!==r;(h||c)&&(u={size:r,expanded:i},c&&(this._size=r),h&&(this._isExpanded=i),this._useLocalStorage?f.getLocalService(e.LocalSettingsService).write(this._settingPath,u):(s={},s[this._settingPath]=u,this.delayExecute("saveSettings",500,!0,function(){var n=f.getClient(o.SettingsHttpClient,undefined,undefined,undefined,{showProgressIndicator:!1});n.setEntries(s,"me")})))}},t}(r.Enhancement);t.StatefulSplitterEnhancement=l;r.Enhancement.registerEnhancement(l,"."+s.Splitter.CORE_CSS_CLASS+".stateful");c.tfsModuleLoaded("TFS.UI.Controls.Accessories",t)});

define("VSSPreview/Flux/Components/HookSplitterResizeEventToNativeEvent",["require","exports"],function(n,t){function r(){if(!i){$(window).on("resize",function(n){if(!n.originalEvent){n.stopPropagation();var t=document.createEvent("Event");t.initEvent("resize",!0,!0);window.dispatchEvent(t)}});i=!0}}Object.defineProperty(t,"__esModule",{value:!0});var i=!1;t.hookSplitterResizeEventToNativeEvent=r});

define("VSSPreview/Flux/Components/Splitter",["require","exports","OfficeFabric/Utilities","react","VSS/Controls","VSS/Controls/Splitter","VSSPreview/Flux/Components/HookSplitterResizeEventToNativeEvent"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});e.hookSplitterResizeEventToNativeEvent();var o=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.setContainerElement=function(n){t._containerElement=n;t.props.containerRef&&t.props.containerRef(n);t.refs={splitter:n}},t}return __extends(t,n),t.prototype.render=function(){return r.createElement("div",{className:i.css("splitter",this.props.className,this.props.cssClass),ref:this.setContainerElement},r.createElement("div",{className:i.css(this.props.leftClassName,"leftPane")},this.props.left),r.createElement("div",{className:"handleBar"}),r.createElement("div",{className:i.css(this.props.rightClassName,"rightPane")},this.props.right))},t.prototype.componentDidMount=function(){this._createSplitter();this._updateExpanded();this._enhancement.toggleSplit(this.props.isFixedPaneVisible)},t.prototype.componentWillUnmount=function(){this._enhancement&&this._enhancement.unregisterEvents()},t.prototype.componentDidUpdate=function(){this._updateExpanded();this._updateOrientation();this.updateLeftPaneVisibility(!1)},t.prototype._updateExpanded=function(){this.props.isExpanded!==undefined&&this._enhancement.toggleExpanded(this.props.isExpanded)},t.prototype._updateOrientation=function(){this._enhancement.toggleOrientation(this.props.vertical,this.props.initialSize)},t.prototype.updateLeftPaneVisibility=function(n){this.props.isFixedPaneVisible&&!this.isFixedPaneVisibleInControl()?this._enhancement.split(n):!this.props.isFixedPaneVisible&&this.isFixedPaneVisibleInControl()&&this._enhancement.noSplit(n)},t.prototype.isFixedPaneVisibleInControl=function(){return!this._enhancement.getElement().hasClass("no-split")},t.prototype.expand=function(){this._enhancement.expand()},t.prototype.collapse=function(){this._enhancement.collapse()},t.prototype.resize=function(n){this._enhancement.resize(n)},t.prototype._createSplitter=function(){this._enhancement=u.Enhancement.enhance(f.Splitter,this._containerElement,this.props);this.props.onChange&&this._enhancement._bind("changed",this._splitterChanged)},t.prototype._splitterChanged=function(n,t){if(t===this._enhancement)this.props.onChange(n,t)},t.defaultProps={isFixedPaneVisible:!0,vertical:!1},__decorate([i.autobind],t.prototype,"_splitterChanged",null),t}(r.Component);t.Splitter=o});

define("Presentation/Scripts/TFS/Components/StatefulSplitter",["require","exports","react","OfficeFabric/Utilities","VSS/Controls","Presentation/Scripts/TFS/TFS.UI.Controls.Accessories","VSS/Service","VSS/Settings","VSSPreview/Flux/Components/Splitter"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(t){var i=n.call(this,t)||this;return i._storageOptions=i.getStorageOptions(t),i}return __extends(t,n),t.prototype.render=function(){var n=this,t=r.css(this.props.className,{stateful:Boolean(this.props.statefulSettingsPath)});return i.createElement(s.Splitter,__assign({},this.props,this._storageOptions.initialOptions,{className:t,containerRef:function(t){return n._containerElement=t}}))},t.prototype.componentDidMount=function(){this._enhanceSplitter()},t.prototype.componentWillUnmount=function(){this._statefulEnhancement&&this._statefulEnhancement.dispose()},t.prototype.componentWillUpdate=function(n){n.statefulSettingsPath&&n.statefulSettingsPath!==this.props.statefulSettingsPath&&(this._storageOptions=this.getStorageOptions(n),this._enhanceSplitter(),this._statefulEnhancement.setSettingPath(n.statefulSettingsPath))},t.prototype._enhanceSplitter=function(){this._storageOptions.statefulOptions&&(this._statefulEnhancement=u.Enhancement.enhance(f.StatefulSplitterEnhancement,this._containerElement,this._storageOptions.statefulOptions))},t.prototype.getStorageOptions=function(n){return this.getSplitterOptionsFromEmbeddedHtml(n)||this.getSplitterOptionsFromLocalStorage(n)||{}},t.prototype.getSplitterOptionsFromEmbeddedHtml=function(n){var i=n.optionsElementSelector,r,t;if(i&&(r=$(i),t=u.Enhancement.getEnhancementOptions(f.StatefulSplitterEnhancement,r),t))return{initialOptions:{initialSize:t.initialSize},statefulOptions:{settingPath:t.settingPath,useLocalStorage:t.useLocalStorage}}},t.prototype.getSplitterOptionsFromLocalStorage=function(n){if(n.statefulSettingsPath){var t=e.getLocalService(o.LocalSettingsService).read(n.statefulSettingsPath,{size:n.fixedPaneSizeByDefault,expanded:n.isFixedPaneVisibleByDefault});return{initialOptions:{initialSize:t.size,expandState:t.expanded?null:"right"},statefulOptions:{settingPath:n.statefulSettingsPath,useLocalStorage:!0}}}},t.defaultProps={isFixedPaneVisibleByDefault:!0,fixedPaneSizeByDefault:300},t}(i.Component);t.StatefulSplitter=h});

define("VSS/Controls/FileInput",["require","exports","VSS/Controls","VSS/Diag","VSS/Controls/Notifications","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/File","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c){function w(n){var i=[],r,t;if(n.items)for(r=function(t){var r=n.items[t],u=r.webkitGetAsEntry&&r.webkitGetAsEntry();i.push({kind:r.kind,type:r.type,getAsFile:undefined,getAsString:undefined,webkitGetAsEntry:function(){return u}})},t=0;t<n.items.length;t++)r(t);return{files:n.files,items:i}}function b(n){var t=n&&n.webkitGetAsEntry&&n.webkitGetAsEntry();return t&&t.isDirectory}var l,a,v,p,y;Object.defineProperty(t,"__esModule",{value:!0});l=h.domElem;a=e.delegate,function(n){n[n.Base64EncodedText=0]="Base64EncodedText";n[n.RawText=1]="RawText";n[n.RawFile=2]="RawFile"}(v=t.FileInputControlContentType||(t.FileInputControlContentType={}));p=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.createControl=function(n,r){return i.BaseControl.createIn(t,n,$.extend({},r))},t.isSupported=function(){return typeof FileReader!="undefined"},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"core-file-input-control"},t))},t.prototype.initialize=function(){var t=this,e,u,a,s;n.prototype.initialize.call(this);this._inputOptions=this._options;this._results=[];this._pendingResults=[];this._rows=[];this._$fileInputContainer=$(l("div","files-drop-target")).appendTo(this._element);var o=$(l("div")).addClass("drag-drop-table").appendTo(this._$fileInputContainer),v=$(l("div")).addClass("drag-drop-label").append($(l("span")).text(this._inputOptions.maximumNumberOfFiles===1?f.FileInputDragDropSingleFileLabel:f.FileInputDragDropLabel)).appendTo(o),c=i.getId(),r=$(l("input")).attr({type:"file",id:c}).css("display","none").prop("multiple",this._inputOptions.maximumNumberOfFiles!==1).bind("change",function(n){n.target.files&&n.target.files.length&&(t._addFiles({files:n.target.files}),t._$fileInputContainer.is(":visible")||t._getFirstRemoveLink().focus(),n.target.value="")});if(this._$browseButton=$(l("button","browse-container")).text(f.FileInputBrowseButtonLabel).attr("aria-describedby",this._options.browseButtonAriaDescribedBy).click(function(){return r.click(),!1}).keypress(function(n){return n.which===h.KeyCode.ENTER||n.which===h.KeyCode.SPACE?(r.click(),!1):!0}),this._inputOptions.allowedFileExtensions){for(e=[],u=0;u<this._inputOptions.allowedFileExtensions.length;u++)e.push("."+this._inputOptions.allowedFileExtensions[u]);r.attr("accept",e.join())}a=$(l("div")).addClass("browse-button").append(this._$browseButton).append(r).appendTo(o);y.makeDropTarget(this._$fileInputContainer,{dropCallback:function(n){t._addFiles(w(n))}});this._$overallStatusContainer=$(l("div","overall-status-container")).appendTo(this._element).hide();this._$overallStatusText=$(l("span","overall-status-message")).appendTo(this._$overallStatusContainer);s=$(l("span","overall-status-actions")).appendTo(this._$overallStatusContainer);$(l("a")).attr("tabindex",0).attr("role","button").text(f.FileInputRemoveAll).appendTo(s).click(function(n){t.clear();n.preventDefault()});this._$errorMessageContainer=$(l("div","error-container")).appendTo(this._element);this._$fileList=$(l("ul","file-list")).appendTo(this._element);this._inputOptions.initialDrop?this._addFiles(this._inputOptions.initialDrop):this._inputOptions.initialFiles&&this._addFiles({files:this._inputOptions.initialFiles})},t.prototype.focus=function(){this._$browseButton.length===1?this._$browseButton.focus():this._getFirstRemoveLink().focus()},t.prototype._triggerUpdateEvent=function(){var n=!this._inputOptions.maximumNumberOfFiles||this._results.length+this._pendingResults.length<this._inputOptions.maximumNumberOfFiles;this._updateOverallStatus();this._$fileInputContainer.toggle(n);this._inputOptions.updateHandler&&this._inputOptions.updateHandler.call(this,{loading:this._pendingResults.length>0,files:this._results})},t.prototype._updateOverallStatus=function(){var n=this._results.length+this._pendingResults.length;this._results.length+this._pendingResults.length>1?(this._$overallStatusContainer.show(),this._$overallStatusText.text(s.format(f.FileInputOverallStatusFormat,n,this._getFriendlySizeString(this._getTotalFilesSize())))):this._$overallStatusContainer.hide()},t.prototype._getTotalFilesSize=function(){for(var t=0,n=0,i=this._results.length;n<i;n++)t+=this._results[n].size;for(n=0,i=this._pendingResults.length;n<i;n++)t+=this._pendingResults[n].result.size;return t},t.prototype._addFiles=function(n){var h,i,c,l,o,u,e,a,v,y,t,r;if(this._clearError(),h=n.items,i=n.files,this._inputOptions.allowedFileExtensions&&this._inputOptions.allowedFileExtensions.length>0)for(t=0;t<i.length;t++){for(c=i[t].name.split(".").pop(),l=!1,o=0;o<this._inputOptions.allowedFileExtensions.length;o++)if(s.ignoreCaseComparer(c,this._inputOptions.allowedFileExtensions[o])===0){l=!0;break}if(!l){this._displayError(s.format(f.FileInputErrorNotAllowedExtensionType,c,this._inputOptions.allowedFileExtensions.join()));return}}for(u={},t=0,r=this._results.length;t<r;t++)u[this._inputOptions.fileNamesCaseSensitive?this._results[t].name:this._results[t].name.toLowerCase()]=1;for(t=0,r=this._pendingResults.length;t<r;t++)u[this._inputOptions.fileNamesCaseSensitive?this._pendingResults[t].result.name:this._pendingResults[t].result.name.toLowerCase()]=1;for(e=this._getTotalFilesSize(),t=0,r=i.length;t<r;t++){if(this._inputOptions.maximumSingleFileSize&&i[t].size>this._inputOptions.maximumSingleFileSize){this._displayLimitError(s.format(f.FileInputErrorMaxFileSize,i[t].name,this._getFriendlySizeString(i[t].size),this._getFriendlySizeString(this._inputOptions.maximumSingleFileSize)),{fileSize:i[t].size});return}if(e+=i[t].size,a=this._inputOptions.fileNamesCaseSensitive?i[t].name:i[t].name.toLowerCase(),u[a]){this._displayError(s.format(f.FileInputErrorDuplicateFileName,i[t].name));return}u[a]=1}if(this._inputOptions.maximumTotalFileSize&&e>this._inputOptions.maximumTotalFileSize){this._displayLimitError(s.format(f.FileInputErrorTotalFileSize,this._getFriendlySizeString(e),this._getFriendlySizeString(this._inputOptions.maximumTotalFileSize)),{totalSize:e});return}if(v=this._results.length+this._pendingResults.length+i.length,this._inputOptions.maximumNumberOfFiles&&v>this._inputOptions.maximumNumberOfFiles){y=this._inputOptions.maximumNumberOfFiles===1?f.FileInputErrorSingleFileOnly:s.format(f.FileInputErrorMaxNumFiles,this._inputOptions.maximumNumberOfFiles);this._displayLimitError(y,{fileCount:v});return}for(t=0,r=i.length;t<r;t++)this._addFile(i[t],b(h&&h[t]));this._triggerUpdateEvent()},t.prototype._addFile=function(n,t){var u=this,i={name:n.name,size:n.size,type:n.type,lastModifiedDate:n.lastModifiedDate},e,c=$(l("li")).appendTo(this._$fileList),d,y,p,w;this._$fileList.show();var g=$(l("div","header-container")).appendTo(c),nt=$(l("span","file-name")).text(n.name||"").appendTo(g),b=$(l("div","details-container")).appendTo(c),a=$(l("span","status")).text(f.Loading).appendTo(b),tt=$(l("span","links")).appendTo(b),k=function(){a.text(u._getFriendlySizeString(n.size));u._results.push(i)};if($(l("a")).text(f.FileInputRemoveFile).attr("tabindex",0).attr("role","button").appendTo(tt).click(function(n){var t=c.next("li").first();t.length===0&&(t=c.prev("li").first());c.remove();e&&e.readyState!==FileReader.DONE&&e.abort();u._results=u._results.filter(function(n){return n!==i});u._rows=u._rows.filter(function(n){return n.result!==i});u._rows.length===0&&u._$fileList.hide();u._triggerUpdateEvent();t.length===1?$("span.links a",t).first().focus():u._$browseButton.focus();n.preventDefault()}).keydown(h.buttonKeydownHandler),d={$fileNameElement:nt,$listElement:c,$statusElement:a,result:i},this._rows.push(d),y=function(n,t){a.text(n);c.addClass("with-error").attr("title",t||"")},t){y(f.FileInputErrorFolderNotSupportedTitle,f.FileInputErrorFolderNotSupportedMessage);return}e=new FileReader;p={result:i,fileReader:e};this._pendingResults.push(p);e.onload=function(){if(i.encoding=o.FileEncoding.Unknown,u._inputOptions.resultContentType===v.RawText)i.content=e.result||"";else{var n=e.result;n&&n.indexOf(",")>-1?(i.content=n.substr(n.indexOf(",")+1),i.content.substr(0,2)==="//"&&i.content.length%4==2&&(i.content=i.content.substr(2))):i.content="";u._inputOptions.detectEncoding&&(i.encoding=o.tryDetectFileEncoding(i.content))}k()};e.onerror=function(){u._displayError(s.format(f.FileInputReadErrorFormat,i.name,e.error.message));y(f.FileInputErrorLabel,e.error.message)};w=function(){u._pendingResults=u._pendingResults.filter(function(n){return n!==p});u._triggerUpdateEvent()};e.onloadend=function(){w()};this._inputOptions.resultContentType===v.RawText?e.readAsText(n):this._inputOptions.resultContentType===v.RawFile?(i.encoding=o.FileEncoding.Unknown,i.file=n,k(),w()):e.readAsDataURL(n)},t.prototype._getFriendlySizeString=function(n,t){t===void 0&&(t=1);var i=Math.pow(10,t);return n<1024?s.format(f.FileSizeBytesFormat,n):n<1048576?s.format(f.FileSizeKBFormat,Math.round(n/1024*10)/10):s.format(f.FileSizeMBFormat,Math.round(n/1048576*10)/10)},t.prototype._clearError=function(){this._$errorMessageContainer.empty()},t.prototype._displayLimitError=function(n,t){var i=n;this._options.limitMessageFormatter&&$.isFunction(this._options.limitMessageFormatter)&&(i=this._options.limitMessageFormatter(n,t));this._displayError(i)},t.prototype._displayError=function(n){this._$errorMessageContainer.empty();var t=i.BaseControl.createIn(u.MessageAreaControl,this._$errorMessageContainer,{showDetailsLink:!1,showHeader:!1}),r=$(l("div")).text(n);t.setMessage({type:u.MessageAreaType.Error,content:r})},t.prototype._getFirstRemoveLink=function(){return $("span.links a",this._$fileList).first()},t.prototype.getFiles=function(){return this._results},t.prototype.isLoadInProgress=function(){return this._pendingResults.length>0},t.prototype.getRows=function(){return this._rows},t.prototype.clear=function(){this._$fileList.empty();this._$fileList.hide();this._results=[];this._rows=[];for(var n=0,t=this._pendingResults.length;n<t;n++)this._pendingResults[n].fileReader.abort();this._triggerUpdateEvent()},t}(i.Control);t.FileInputControl=p;y=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.makeDropTarget=function(n,r){return i.Enhancement.enhance(t,n,$.extend({},r))},t.prototype._enhance=function(t){n.prototype._enhance.call(this,t);this._dropTargetOptions=this._options;this._dragOverClassName=this._dropTargetOptions.dragOverCssClass||"drag-over";this._dragEventDelegate=a(this,this._handleDragEvent);this._dragLeaveEventDelegate=a(this,this._handleDragLeaveEvent);this._dropEventDelegate=a(this,this._handleDropEvent);t.addClass("core-file-drop-target");t.bind("dragover",this._dragEventDelegate);t.bind("dragenter",this._dragEventDelegate);t.bind("dragleave",this._dragLeaveEventDelegate);t.bind("drop",this._dropEventDelegate)},t.prototype._dispose=function(){n.prototype._dispose.call(this);var t=this._element;t&&t.length&&(t.removeClass("core-file-drop-target"),t.unbind("dragover",this._dragEventDelegate),t.unbind("dragenter",this._dragEventDelegate),t.unbind("dragleave",this._dragLeaveEventDelegate),t.unbind("drop",this._dropEventDelegate))},t.prototype._handleDragEvent=function(n){n.preventDefault();n.originalEvent.dataTransfer.dropEffect="copy";this._element.addClass(this._dragOverClassName);$.isFunction(this._dropTargetOptions.dragEnterCallback)&&this._dropTargetOptions.dragEnterCallback.call(this,n)&&n.stopImmediatePropagation()},t.prototype._handleDragLeaveEvent=function(n){n.preventDefault();n.originalEvent.dataTransfer.dropEffect="copy";this._element.removeClass(this._dragOverClassName);$.isFunction(this._dropTargetOptions.dragLeaveCallback)&&this._dropTargetOptions.dragLeaveCallback.call(this,n)&&n.stopImmediatePropagation()},t.prototype._handleDropEvent=function(n){n.preventDefault();this._element.removeClass(this._dragOverClassName);var i=n.originalEvent,t=i.dataTransfer.files;t&&t.length>0&&($.isFunction(this._dropTargetOptions.dropCallback)?this._dropTargetOptions.dropCallback.call(this,i.dataTransfer)!==!1&&n.stopImmediatePropagation():$.isFunction(this._dropTargetOptions.filesDroppedCallback)&&this._dropTargetOptions.filesDroppedCallback.call(this,t)!==!1&&n.stopImmediatePropagation())},t}(i.Enhancement);t.FileDropTarget=y;t.cloneDataTransfer=w;c.tfsModuleLoaded("VSS.UI.Controls.FileInput",t)});

define("Presentation/Scripts/TFS/Components/Tree/DropTarget",["require","exports","OfficeFabric/Utilities","react","VSS/Controls/FileInput","VSS/LoaderPlugins/Css!Presentation/Components/Tree/DropTarget"],function(n,t,i,r,u){function o(n){for(var r,t=0,i=n.types;t<i.length;t++)if(r=i[t],r==="Files")return!0;return!1}function f(n){n.preventDefault();n.stopPropagation()}Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={isDraggingOver:!1},t}return __extends(t,n),t.prototype.render=function(){var n="file-drop-target "+(this.props.className||"")+(this.state.isDraggingOver?" dragging":"");return r.createElement("div",{className:n,onDragEnter:this.onDragEnter,onDragOver:this.onDragEnter,onDragLeave:this.onDragExit,onDrop:this.onDrop},this.props.children)},t.prototype.onDragEnter=function(n){this.canDrop(n)&&(f(n),this.setState({isDraggingOver:!0}))},t.prototype.onDragExit=function(n){this.canDrop(n)&&(f(n),this.setState({isDraggingOver:!1}))},t.prototype.onDrop=function(n){if(this.canDrop(n)){f(n);this.setState({isDraggingOver:!1});this.props.onFilesDrop(u.cloneDataTransfer(n.dataTransfer))}},t.prototype.canDrop=function(n){return this.props.isEnabled&&o(n.dataTransfer)},__decorate([i.autobind],t.prototype,"onDragEnter",null),__decorate([i.autobind],t.prototype,"onDragExit",null),__decorate([i.autobind],t.prototype,"onDrop",null),t}(r.Component);t.FileDropTarget=e;t.DropForbiddenTarget=function(n){return r.createElement("div",{className:n.className,onDragOver:f,onDrop:f},n.children)}});

define("VersionControl/Scenarios/Explorer/Components/Container",["require","exports","react"],function(n,t,i){function r(n,t){return function(r){function u(){var n=r!==null&&r.apply(this,arguments)||this;return n.state={hasError:!1},n.onStoreChanged=function(){n.forceUpdate()},n}return __extends(u,r),u.prototype.componentDidMount=function(){this.props.storesHub.getCompositeStore(n).addChangedListener(this.onStoreChanged)},u.prototype.componentWillUnmount=function(){this.props.storesHub.getCompositeStore(n).removeChangedListener(this.onStoreChanged)},u.prototype.componentDidCatch=function(){this.setState({hasError:!0})},u.prototype.render=function(){return this.state.hasError?i.createElement("h3",null,"Error! See console"):t(this.props.storesHub.getAggregateState(),this.props)},u}(i.PureComponent)}Object.defineProperty(t,"__esModule",{value:!0});t.create=r});

define("VersionControl/Scenarios/Explorer/Components/BadgesRow",["require","exports","react","VSS/Utils/Number","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scenarios/Explorer/Components/Container"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.BadgesRowContainer=f.create(["path","repositoryBadges"],function(n){var t=n.repositoryBadgesState,r=n.pathState;return!r.isGit||!r.isRoot||t.omitStats?null:i.createElement("div",{className:"vc-explorer-badges-row bowtie"},i.createElement(e,{count:t.pullRequestsCount,title:u.RepoStatsActivePullRequestsTitle,url:t.pullRequestsUrl,iconClassName:"bowtie-tfvc-pull-request"}),i.createElement(e,{count:t.branchesCount,title:u.RepoStatsBranchesTitle,url:t.branchesUrl,iconClassName:"bowtie-tfvc-branch"}),i.createElement(e,{count:t.commitsCount,title:u.RepoStatsCommitsTitle,url:t.commitsUrl,iconClassName:"bowtie-tfvc-commit"}))});var e=function(n){return i.createElement("a",{className:"stat-badge",key:n.title,href:n.url},i.createElement("span",{className:"bowtie-icon "+n.iconClassName}),i.createElement("span",{className:"stat-text"},typeof n.count=="number"?r.toDecimalLocaleString(n.count,!0):""),i.createElement("span",{className:"stat-text"},n.title))}});

var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__awaiter=this&&this.__awaiter||function(n,t,i,r){return new(i||(i=Promise))(function(u,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?u(n.value):new i(function(t){t(n.value)}).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=u[e[0]&2?"return":e[0]?"throw":"next"])&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[0,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e};define("VersionControl/Scenarios/Shared/Commands/ContributableCommandBar",["require","exports","OfficeFabric/CommandBar","OfficeFabric/Utilities","q","react","VSS/Context","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Service","VSS/Utils/Array"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(t){var i=n.call(this,t)||this;return i.queryOptions=s.ContributionQueryOptions.IncludeRecursiveTargets,i.getContextualMenuItemFromContributedMenuItem=function(n){return{key:n.id,name:n.text,disabled:n.disabled,iconProps:{className:n.icon.substring(6)},onClick:function(){return n.action(i.props.contributionData.extensionContext)}}},i.getSource=function(n){var t=e.getDefaultWebContext();return o.getBackgroundInstance(n,n.properties.registeredObjectId||n.id,t,t,5e3,"Timed-out waiting for menu source provider for contribution: "+n.id)},i.extensionService=h.getService(s.ExtensionService),i.state={contributedItems:[]},i}return __extends(t,n),t.prototype.render=function(){var n=this.props.items.concat(this.state.contributedItems);return f.createElement(i.CommandBar,__assign({},this.props,{items:[],farItems:n,className:r.css("vssf-commandBar",this.props.className)}))},t.prototype.componentDidMount=function(){this.ensureContributedItems()},t.prototype.ensureContributedItems=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return[4,this.getMenuItems()];case 1:return n=t.sent(),this.setState({contributedItems:n}),[2]}})})},t.prototype.getMenuItems=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,r,f;return __generator(this,function(e){switch(e.label){case 0:return this.props.contributionData?(t=this.props.contributionData,n=t.contributionIds,!(n&&n.length>0))?[3,4]:[4,this.extensionService.queryContributions(n,this.queryOptions,"ms.vss-tfs-web.hub-action-provider")]:[2,u([])];case 1:return i=e.sent(),[4,u.all(i.map(this.getSource))];case 2:return r=e.sent(),[4,u.all(r.map(function(n){return u(n.getMenuItems(t.extensionContext))}))];case 3:return f=e.sent(),[2,c.flatten(f).map(this.getContextualMenuItemFromContributedMenuItem)];case 4:return[2,u([])]}})})},t}(f.Component);t.ContributableCommandBar=l});

define("VersionControl/Scenarios/Explorer/Components/CodeHubActions",["require","exports","react","VSS/FeatureManagement/Services","VSS/Service","VersionControl/Scenarios/Shared/Commands/ContributableCommandBar","VSS/LoaderPlugins/Css!VersionControl/CodeHubActions"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=u.getService(r.FeatureManagementService).isFeatureEnabled("ms.vss-tfs-web.vertical-navigation");t.CodeHubActionsContainer=function(){return e?i.createElement(f.ContributableCommandBar,{className:"vc-code-hub-actions-commandBar",items:[],contributionData:{contributionIds:["ms.vss-code-web.code-hub-group"],extensionContext:undefined}}):null}});

define("VersionControl/Scenarios/Explorer/Components/FullScreenCommandBar",["require","exports","react","OfficeFabric/CommandBar","VersionControl/Scenarios/Explorer/Commands/ItemCommands","VersionControl/Scenarios/Explorer/Components/Container"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.FullScreenCommandBarContainer=f.create(["pivotTabs"],function(n,t){var f=n.pivotTabsState,e=t.actionCreator;return f.isFullScreen?i.createElement(r.CommandBar,{className:"vc-item-command-bar",items:[],farItems:[u.getFullScreenCommand(f.isFullScreen,e)]}):null})});

define("Presentation/Scripts/TFS/Components/KeyboardAccessible",["require","exports","react","VSSUI/Tooltip","OfficeFabric/Utilities","VSS/Utils/UI"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.state={isTooltipVisible:!1},r.onKeyDown=function(n){if(r.props.onKeyDown)r.props.onKeyDown(n,r.props);else if(n.keyCode===f.KeyCode.ENTER||n.keyCode===f.KeyCode.SPACE||n.keyCode===f.KeyCode.CONTEXT_MENU){r.props.onClick(n);n.preventDefault();n.stopPropagation()}},r.onTooltipToggle=function(n){r.setState({isTooltipVisible:n})},r.buttonTooltipId=u.getId("keyboard-accessible-button-tooltip"),r}return __extends(t,n),t.prototype.render=function(){return this.props.toolTip?i.createElement(r.TooltipHost,{id:this.buttonTooltipId,content:this.props.toolTip,directionalHint:5,calloutProps:{className:u.css({hidden:this.props.hideTooltip})},onTooltipToggle:this.onTooltipToggle},this.renderButton()):this.renderButton()},t.prototype.renderButton=function(){var n,t=this,r=u.css((n={},n[this.buttonTooltipId]=this.props.toolTip&&this.state.isTooltipVisible,n),this.props.ariaDescribedBy)||undefined;return i.createElement("div",{className:this.props.className,tabIndex:this.props.disabled?-1:0,role:"button",ref:function(n){return t.buttonDiv=n},"aria-describedby":r,"aria-label":this.props.ariaLabel,"aria-expanded":this.props.ariaExpanded,onClick:this.props.onClick,onContextMenu:this.props.onClick,onKeyDown:this.onKeyDown,"aria-disabled":this.props.disabled},this.props.children)},t.prototype.focus=function(){this.buttonDiv&&this.buttonDiv.focus()},t}(i.Component);t.KeyboardAccesibleComponent=e});

define("VersionControl/Scenarios/Shared/CalloutTooltip",["require","exports","react","OfficeFabric/Callout","OfficeFabric/FocusTrapZone"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){return i.createElement(r.Callout,__assign({},this.props.calloutProps),i.createElement("div",__assign({},this._getAriaProps()),this.props.hasFocusableElements&&this.props.calloutProps.setInitialFocus?i.createElement(u.FocusTrapZone,{isClickableOutsideFocusTrap:!0},this.props.children):this.props.children))},t.prototype._getAriaProps=function(){var n={role:this.props.hasFocusableElements?"dialog":"tooltip",className:this.props.className};return this.props.id&&(n.id=this.props.id),this.props.ariaLabel&&(n["aria-label"]=this.props.ariaLabel),n},t}(i.Component);t.CalloutTooltip=f});

define("VersionControl/Scenarios/Shared/Flyout",["require","exports","react","Presentation/Scripts/TFS/Components/KeyboardAccessible","VersionControl/Scenarios/Shared/CalloutTooltip","VSS/LoaderPlugins/Css!VersionControl/Flyout"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={isDroppedDown:!1},t.toggleDropdown=function(n){t.setState({isDroppedDown:!t.state.isDroppedDown&&t.props.isEnabled});n&&n.stopPropagation()},t}return __extends(t,n),t.prototype.render=function(){var n=this,t="flyout "+(this.props.className||"")+(this.props.isEnabled?" enabled":"")+(this.state.isDroppedDown?" open":"");return i.createElement("div",{className:t,ref:"flyout"},i.createElement(r.KeyboardAccesibleComponent,{onClick:this.toggleDropdown,toolTip:this.props.toolTip,ariaLabel:this.props.ariaLabel,ariaDescribedBy:this.props.ariaDescribedBy,disabled:!this.props.isEnabled,hideTooltip:this.state.isDroppedDown},i.createElement("div",{className:"flyout-header "+(this.props.headerClassName||""),ref:function(t){return n._flyoutHeaderDiv=t}},this.props.children),this.state.isDroppedDown&&i.createElement(u.CalloutTooltip,{hasFocusableElements:this.props.calloutHasFocusableElements,ariaLabel:this.props.calloutAriaLabel,calloutProps:{directionalHint:4,target:this._flyoutHeaderDiv,beakWidth:16,setInitialFocus:this.props.setInitialFocus,isBeakVisible:this.props.isBeakVisible,gapSpace:this.props.isBeakVisible?4:0,onDismiss:this.toggleDropdown}},this.props.dropdownContent)))},t.prototype.componentDidUpdate=function(n,t){t.isDroppedDown===!1&&this.state.isDroppedDown===!0&&this.props.onOpen&&this.props.onOpen()},t.defaultProps={isEnabled:!0,isBeakVisible:!0},t}(i.Component);t.Flyout=f});

define("VersionControl/Scenarios/Shared/OverflowWholeParts",["require","exports","react","react-dom","VersionControl/Scenarios/Shared/Flyout"],function(n,t,i,r,u){function e(n,t){return o(n.children,t.children)}function o(n,t){var i=f(n),r=f(t);return i.length!==r.length?!1:i.every(function(n,t){return n.key===r[t].key})}function f(n){if(!n)return[];if(!Array.isArray(n))return[n];var t=n;return t.map(f).reduce(function(n,t){return n.concat(t)},[])}Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={},t.refreshHiddenPartsCount=function(){for(var f=t.refs.outer,e=t.refs.inner,o=r.findDOMNode(f),i=t.state.partsWidth||t.calculatePartsWidth(e.children),n=i.length-1,u=30+i[n]+20;n>0;){if(u+=i[n-1],u>o.offsetWidth)break;n--}t.setState({partsWidth:i,hiddenPartsCount:n})},t}return __extends(t,n),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.refreshHiddenPartsCount)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.refreshHiddenPartsCount)},t.prototype.componentDidUpdate=function(){this.refreshHiddenPartsCount()},t.prototype.componentWillReceiveProps=function(n){e(this.props,n)||this.setState({partsWidth:null,hiddenPartsCount:0})},t.prototype.shouldComponentUpdate=function(n,t){return!e(this.props,n)||this.state.hiddenPartsCount!==t.hiddenPartsCount},t.prototype.render=function(){var n=f(this.props.children),t=i.createElement("div",{className:"overflow-flyout-content"},n.slice(0,this.state.hiddenPartsCount).reverse());return i.createElement("div",{className:"justify-aligner",ref:"outer"},this.state.hiddenPartsCount>0&&i.createElement(u.Flyout,{className:"part-ellipsis",dropdownContent:t,isBeakVisible:!1},i.createElement("span",{className:"bowtie-icon bowtie-ellipsis"})),i.createElement("div",{className:"path-explorer-parts",ref:"inner"},n.slice(this.state.hiddenPartsCount)))},t.prototype.calculatePartsWidth=function(n){for(var r,i=[],t=0;t<n.length;t++)r=n[t],i.push(r.offsetWidth);return i},t}(i.Component);t.OverflowWholeParts=s});

define("VersionControl/Scenarios/Shared/Path/PathSearchDropdown",["require","exports","react","VSS/Utils/String","VSS/LoaderPlugins/Css!VersionControl/Shared/Path/PathSearchDropdown"],function(n,t,i,r){function e(n){return!n.sectionData.rows.length&&!n.sectionData.headerMessage?null:i.createElement("div",{className:"dropdown-section",key:n.sectionIndex},n.sectionData.headerMessage&&i.createElement("div",{className:"message"},i.createElement("i",null,n.sectionData.headerMessage)),n.sectionData.rows.map(function(t,r){var u=n.selectedItemPosition.rowIndex===r&&n.selectedItemPosition.sectionIndex===n.sectionIndex,f={rowIndex:r,sectionIndex:n.sectionIndex};return i.createElement(o,{item:t,itemIndex:f,isSelected:u,getItemId:n.getItemId,onRowClick:n.onRowClick,onMouseEnter:n.onRowMouseEnter,key:r})}))}function o(n){return i.createElement("div",{id:n.getItemId(n.itemIndex),role:"option",className:n.isSelected?"search-item selected":"search-item",onMouseDown:function(){return n.onRowClick(n.item)},onMouseEnter:function(){return n.onMouseEnter(n.itemIndex)},key:n.item.text},i.createElement("span",{className:n.item.iconCssClass}),i.createElement(u,{text:n.item.text,highlightTextIndices:n.item.matchingIndices,highlighterClass:"text-highlight"}))}var f,u;Object.defineProperty(t,"__esModule",{value:!0});f=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.componentDidUpdate=function(){this._scrollSelectedItemIntoView()},t.prototype.render=function(){var n=this,u="path-explorer-search-results bowtie";return u=this.props.cssClass?r.format("{0} {1}",u,this.props.cssClass):u,i.createElement("div",{className:u},i.createElement("div",{id:this.props.id,className:"list-sections",role:"listbox",ref:function(t){return n._sectionsContainer=t}},this.props.data.sections.map(function(r,u){return i.createElement(e,{sectionData:r,sectionIndex:u,selectedItemPosition:n.props.data.selectedItemPosition,getItemId:t.getSearchItemId,onRowClick:n.props.onRowClick,onRowMouseEnter:n.props.onRowMouseEnter,key:u})})),this.props.data.footerMessage&&i.createElement("div",{className:"footer-message"},this.props.data.footerMessage),this.props.data.errorMessage&&i.createElement("div",{className:"error-message"},this.props.data.errorMessage))},t.prototype._scrollSelectedItemIntoView=function(){var n=document.getElementById(t.getSearchItemId(this.props.data.selectedItemPosition)),i,r;if(!n){this._sectionsContainer.scrollTop=0;return}i=n.offsetTop;r=n.offsetTop+n.offsetHeight;r>this._sectionsContainer.clientHeight+this._sectionsContainer.scrollTop?n.scrollIntoView(!1):i<this._sectionsContainer.scrollTop&&n.scrollIntoView(!0)},t.getSearchItemId=function(n){return r.format("SectionIndex:{0}-RowIndex:{1}",n.sectionIndex,n.rowIndex)},t}(i.Component);t.PathSearchDropdown=f;u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var n=this;return i.createElement("span",null,t._format(this.props.text,this.props.highlightTextIndices).map(function(t,r){return i.createElement("span",{className:t.highlight?n.props.highlighterClass:"",key:t.text+r.toString()},t.text)}))},t.prototype.shouldComponentUpdate=function(n){return this.props.highlighterClass!==n.highlighterClass||this.props.text!==n.text||this.props.highlightTextIndices!==n.highlightTextIndices},t._format=function(n,t){var r,u,i;if(!n||!n.length)throw new Error("Text of dropdown item can not be null");for(r=0,u=[],t=t||[],i=0;i<t.length;i++){for(r!==t[i]&&(u.push(this._createItem(n,r,t[i],!1)),r=t[i]);i<t.length&&t[i]+1===t[i+1];)++i;u.push(this._createItem(n,r,t[i]+1,!0));r=t[i]+1}return r<n.length&&u.push(this._createItem(n,r,n.length,!1)),u},t._createItem=function(n,t,i,r){return{text:n.substring(t,i),highlight:r}},t}(i.Component);t.RowText=u});

define("VersionControl/Scenarios/Shared/Path/PathExplorerCombobox",["require","exports","react","react-dom","VSS/Utils/Core","VSS/Utils/UI","VSS/Controls","VersionControl/Scenarios/Shared/Path/PathSearchDropdown","Presentation/Scripts/TFS/Components/KeyboardAccessible","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VSS/LoaderPlugins/Css!VersionControl/Shared/Path/PathExplorerCombobox"],function(n,t,i,r,u,f,e,o,s,h){function y(n){if(!n)return c();var t={sectionIndex:n.selectedItemPosition.sectionIndex,rowIndex:n.selectedItemPosition.rowIndex+1};if(!(n.sections[t.sectionIndex]&&n.sections[t.sectionIndex].rows.length>t.rowIndex))for(t.sectionIndex=t.sectionIndex+1;;){if(t.sectionIndex===n.sections.length){t=c();break}else if(n.sections[t.sectionIndex].rows.length>0){t.rowIndex=0;break}++t.sectionIndex}return t}function p(n){if(!n)return c();var t={sectionIndex:n.selectedItemPosition.sectionIndex,rowIndex:n.selectedItemPosition.rowIndex};if(t.rowIndex>0)t.rowIndex=t.rowIndex-1;else for(t.sectionIndex=t.sectionIndex===c().sectionIndex&&t.rowIndex===c().rowIndex?n.sections.length-1:t.sectionIndex-1;;){if(t.sectionIndex===-1){t=c();break}else if(n.sections[t.sectionIndex].rows.length>0){t.rowIndex=n.sections[t.sectionIndex].rows.length-1;break}--t.sectionIndex}return t}function c(){return{sectionIndex:-1,rowIndex:-1}}function k(n,t){return l(n,t,n.selectedItemPosition)}function l(n,t,i){var r=i.sectionIndex,u=i.rowIndex;return r===c().sectionIndex&&u===c().rowIndex?t:n.sections[r].rows[u].text}Object.defineProperty(t,"__esModule",{value:!0});var a="InputElement",w="PathExplorerInputBox",v="PathExplorerDropdown",b=function(n){function t(t){var i=n.call(this,t)||this;return i._isFocussed=!0,i.onCrossIconClick=function(){i.props.onInputTextEdit("");r.findDOMNode(i.refs[a]).focus()},i.navigate=function(){i.props.onPathSelected(i.props.inputText,i._getSelectedItemSource())},i.onDropdownRowClick=function(n){i.props.onPathSelected(n.text,v)},i.onDropdownRowMouseEnter=function(n){if(i.props.onSearchItemSelection)i.props.onSearchItemSelection(n)},i.onKeyDown=function(n){var t,r;switch(n.which){case f.KeyCode.ESCAPE:i.props.onEditingCancel({keepFocus:!0});n.preventDefault();break;case f.KeyCode.UP:if(i.props.dropdownData&&i.props.onSearchItemSelection){t=p(i.props.dropdownData);i.props.onSearchItemSelection(t,l(i.props.dropdownData,i.props.searchText,t));n.preventDefault()}break;case f.KeyCode.DOWN:if(i.props.dropdownData&&i.props.onSearchItemSelection){r=y(i.props.dropdownData);i.props.onSearchItemSelection(r,l(i.props.dropdownData,i.props.searchText,r));n.preventDefault()}break;case f.KeyCode.ENTER:i.navigate();n.preventDefault()}},i.onControlFocus=function(){i._isFocussed=!0},i.onControlBlur=function(){i._isFocussed=!1;u.delay(i,0,function(){if(!i._isFocussed)i.props.onEditingCancel({keepFocus:i._isFocussed})})},i.onChange=function(n){var t=n.target;i.props.onInputTextEdit(t.value)},i.onInputElementFocus=function(n){var t=n.target;t.select()},i._dropdownId="DropDown"+e.getId(),i}return __extends(t,n),t.prototype.render=function(){var n=this.props.dropdownData,t,r=Boolean(n),f=n&&this._isItemSelected(n.selectedItemPosition),u=n&&this._dropdownId,e=this.props.isPathSearchEnabled?h.PathExplorer_FindFileAriaLabel:h.PathExplorer_NoSearchAriaLabel,c=n?"list":undefined,l=n&&r;return f&&(t=o.PathSearchDropdown.getSearchItemId(n.selectedItemPosition)),i.createElement("div",{className:"path-explorer-combobox",onFocus:this.onControlFocus,onBlur:this.onControlBlur},i.createElement("div",{className:"input-container",role:n&&"combobox","aria-expanded":l,"aria-owns":u},i.createElement("input",{autoFocus:!0,type:"text","aria-label":e,value:this.props.inputText,onInput:this.onChange,onChange:function(){},onFocus:this.onInputElementFocus,onKeyDown:this.onKeyDown,ref:a,"aria-autocomplete":c,"aria-controls":u,"aria-activedescendant":t}),i.createElement(s.KeyboardAccesibleComponent,{className:"bowtie-icon bowtie-navigate-close clear",ariaLabel:h.PathExplorer_ClearIconTooltip,onClick:this.onCrossIconClick}),r&&i.createElement(o.PathSearchDropdown,{id:this._dropdownId,cssClass:"drop-popup",onRowClick:this.onDropdownRowClick,onRowMouseEnter:this.onDropdownRowMouseEnter,data:this.props.dropdownData})),i.createElement(s.KeyboardAccesibleComponent,{className:"bowtie-icon bowtie-arrow-right navigate",ariaLabel:h.PathExplorer_NavigateIconTooltip,onClick:this.navigate}))},t.prototype._getSelectedItemSource=function(){return this.props.dropdownData&&this._isItemSelected(this.props.dropdownData.selectedItemPosition)?v:w},t.prototype._isItemSelected=function(n){return!u.equals(n,c())},t}(i.Component);t.PathExplorerCombobox=b;t.getNextItemPosition=y;t.getPreviousItemPosition=p;t.getDefaultItemPosition=c;t.getSelectedItemPath=k;t.getItemPath=l});

define("VersionControl/Scenarios/Shared/Path/PathExplorer",["require","exports","react","OfficeFabric/FocusZone","Presentation/Scripts/TFS/Components/KeyboardAccessible","VersionControl/Scenarios/Shared/OverflowWholeParts","VersionControl/Scenarios/Shared/Path/PathExplorerCombobox","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VSS/LoaderPlugins/Css!VersionControl/Shared/Path/PathExplorer"],function(n,t,i,r,u,f,e,o){var s,h,c;Object.defineProperty(t,"__esModule",{value:!0});s="PathExplorerFolder";h=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.consumeKeepFocus=function(n){t.keepFocus&&n&&(n.focus(),t.keepFocus=!1)},t.triggerPathEditStart=function(n){t.props.onEditingStart();n.stopPropagation()},t.triggerFolderClick=function(n,i){t.props.onPathSelected(i,s);n.stopPropagation()},t.triggerPathSelected=function(n,i){t.keepFocus=!0;t.props.onPathSelected(n,i)},t.triggerEditingCancel=function(n){t.keepFocus=n.keepFocus;t.props.onEditingCancel()},t}return __extends(t,n),t.prototype.render=function(){var n=this.props.isPathSearchEnabled?o.PathExplorer_SearchWatermarkText:"";return i.createElement(r.FocusZone,{className:"path-explorer"+(this.props.isEditing?" editing":""),direction:r.FocusZoneDirection.horizontal},this.props.isEditing?i.createElement(e.PathExplorerCombobox,{inputText:this.props.inputText,onEditingCancel:this.triggerEditingCancel,onPathSelected:this.triggerPathSelected,searchText:this.props.searchText,isPathSearchEnabled:this.props.isPathSearchEnabled,dropdownData:this.props.pathSearchDropdownData,onInputTextEdit:this.props.onInputTextEdit,onSearchItemSelection:this.props.onSearchItemSelection}):null,i.createElement("div",{className:"path-editing-div",onClick:this.triggerPathEditStart},!this.props.isRoot&&!this.props.isEditing&&i.createElement(c,{fullPath:this.props.fullPath,folders:this.props.folders,itemName:this.props.itemName,isDirty:this.props.isDirty,ref:this.consumeKeepFocus,onEditingStart:this.triggerPathEditStart,onFolderClick:this.triggerFolderClick}),this.props.isRoot&&!this.props.isEditing&&i.createElement("div",{className:"justify-aligner"},i.createElement(u.KeyboardAccesibleComponent,{className:"input-info-text",ref:this.consumeKeepFocus,onClick:this.triggerPathEditStart,ariaLabel:this.props.ariaLabel},n))))},t}(i.Component);t.PathExplorer=h;c=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var n=this,t=(this.props.itemName||"")+(this.props.isDirty?" *":"");return i.createElement(f.OverflowWholeParts,null,this.props.folders.map(function(t,r){return i.createElement("span",{className:"part",key:t.name+r.toString()},i.createElement(u.KeyboardAccesibleComponent,{className:"folder",ariaLabel:t.path,onClick:function(i){return n.props.onFolderClick(i,t.path)}},i.createElement("span",{className:"folder-icon bowtie-icon bowtie-folder"}),i.createElement("span",{className:"folder-name"},t.name)),i.createElement("span",{className:"separator"},"/"))}),i.createElement(u.KeyboardAccesibleComponent,{className:"last-part",key:t,ref:function(t){return n.lastPart=t},ariaLabel:this.props.fullPath,onClick:this.props.onEditingStart},t))},t.prototype.focus=function(){this.lastPart&&this.lastPart.focus()},t}(i.Component)});

define("VersionControl/Scenarios/Shared/Path/IPathSearchItemIdentifier",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i;(function(n){n[n.inFolder=0]="inFolder";n[n.global=1]="global"})(i=t.PathSearchResultsType||(t.PathSearchResultsType={}))});

define("VersionControl/Scripts/VersionControlFileIconPicker",["require","exports","VersionControl/Scripts/VersionControlPath"],function(n,t,i){function r(n){var t=i.getFileExtension(n).toLocaleLowerCase();switch(t){case"sln":return"bowtie-file-type-sln";case"htm":case"html":return"bowtie-file-type-html";case"js":return"bowtie-file-type-js";case"jsproj":return"bowtie-file-type-jsproj";case"cs":return"bowtie-file-type-cs";case"csproj":return"bowtie-file-type-csproj";case"vb":return"bowtie-file-type-vb";case"vbproj":return"bowtie-file-type-vbproj";case"c":case"cc":case"h":case"hpp":case"cpp":case"cxx":return"bowtie-file-type-cpp";case"vcxproj":return"bowtie-file-type-vcxproj";case"fs":case"fsx":return"bowtie-file-type-fs";case"fsproj":return"bowtie-file-type-fsproj";case"py":return"bowtie-file-type-python";case"pyproj":return"bowtie-file-type-pyproj";case"ts":case"tsx":return"bowtie-file-type-typescript";case"coffee":case"litcoffee":return"bowtie-file-type-coffeescript";case"aspx":return"bowtie-file-type-aspx";case"css":return"bowtie-file-type-css";case"sass":return"bowtie-file-type-sass";case"less":return"bowtie-file-type-less";case"json":return"bowtie-file-type-json";case"xml":case"config":return"bowtie-file-type-xml";case"md":case"markdown":case"mdown":return"bowtie-file-type-md";case"ps1":case"psm1":return"bowtie-file-type-powershell";case"bat":case"cmd":return"bowtie-file-type-cmd";case"java":return"bowtie-file-type-java";case"sql":return"bowtie-file-type-sql";case"sh":return"bowtie-script";default:return"bowtie-file"}}Object.defineProperty(t,"__esModule",{value:!0});t.getIconNameForFile=r});

define("VersionControl/Scenarios/Shared/Path/PathSearchStateMapper",["require","exports","VSS/Utils/String","VersionControl/Scenarios/Shared/Path/IPathSearchItemIdentifier","VersionControl/Scenarios/Shared/Path/PathExplorerCombobox","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/VersionControlFileIconPicker"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=0,s=1,h=function(){function n(){}return n.toDropdownData=function(t){var r=this,i;return t.errorMessage?{sections:[],selectedItemPosition:u.getDefaultItemPosition(),errorMessage:t.errorMessage}:t.resultsSetAtLeastOnce?(i=[],i[o]={headerMessage:null,rows:t.inFolderSearchResults.results.map(function(n){return r._getDropdownRowFromPathSearchItem(n)})},i[s]={headerMessage:n._getGlobalSearchResultsHeaderMessage(t),rows:t.globalSearchResults.results.map(function(n){return r._getDropdownRowFromPathSearchItem(n)})},{sections:i,selectedItemPosition:n.toDropdownItemPosition(t.selectedItemIdentifier),footerMessage:n.getFooterMessage(t)}):void 0},n.toDropdownItemPosition=function(n){return n==undefined?u.getDefaultItemPosition():{sectionIndex:n.resultsType===r.PathSearchResultsType.inFolder?o:s,rowIndex:n.itemIndex}},n.toSearchItemIdentifier=function(n){return n.sectionIndex===u.getDefaultItemPosition().sectionIndex&&n.rowIndex===u.getDefaultItemPosition().rowIndex?null:{resultsType:n.sectionIndex===o?r.PathSearchResultsType.inFolder:r.PathSearchResultsType.global,itemIndex:n.rowIndex}},n.getFooterMessage=function(n){if(n.inputTextEdited){if(!n.areAllResultsSet)return f.PathExplorer_LoadingResultsFooterMessage}else return f.PathSearch_FooterMessageStartTyping;var t=n.inFolderSearchResults.results.length+n.globalSearchResults.results.length;return t?i.format(t===1?f.PathSearch_FooterMessageSingleResult:f.PathSearch_FooterMessageResultsCount,t):i.format(f.PathSearch_FooterMessageNoResults,n.searchText)},n._getGlobalSearchResultsHeaderMessage=function(n){var t=n.globalSearchResults.results.length,i=n.inFolderSearchResults.results.length;return i>0&&t>0?f.PathSearch_GlobalResultsDefaultMessage:null},n._getDropdownRowFromPathSearchItem=function(n){return{text:n.path,matchingIndices:n.matchingIndices,iconCssClass:i.format("{0} {1}","bowtie-icon",n.isFolder?"bowtie-folder":e.getIconNameForFile(n.path))}},n}();t.PathSearchStateMapper=h});

define("VersionControl/Scenarios/Shared/Path/PathExplorerContainer",["require","exports","react","react-dom","VSS/Utils/Accessibility","VSS/Utils/String","Presentation/Scripts/TFS/Components/KeyboardAccessible","VersionControl/Scenarios/Shared/Path/PathExplorer","VersionControl/Scenarios/Shared/Path/PathSearchStateMapper","VersionControl/Scripts/Resources/TFS.Resources.VersionControl"],function(n,t,i,r,u,f,e,o,s,h){function y(n,t){r.render(i.createElement(c,__assign({},t)),n)}function v(n,t){var u,i=n,f,r;return t||(f=";",r=n.lastIndexOf(f),r>0&&(u=n.substring(r+1),i=n.substring(0,r)),i[i.length-1]==="/"&&i!=="$/"&&(i=i.substring(0,i.length-1))),{version:u,path:i}}var c,l,a;Object.defineProperty(t,"__esModule",{value:!0});t.renderInto=y;c=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.onStoreChanged=function(){r.setState(r._getStateFromStores())},r.state=r._getStateFromStores(),r}return __extends(t,n),t.prototype.componentDidMount=function(){this.props.pathStore.addChangedListener(this.onStoreChanged);this.props.pathSearchStore&&this.props.pathSearchStore.addChangedListener(this.onStoreChanged)},t.prototype.componentWillUnmount=function(){this.props.pathStore.removeChangedListener(this.onStoreChanged);this.props.pathSearchStore&&this.props.pathSearchStore.removeChangedListener(this.onStoreChanged)},t.prototype.render=function(){return i.createElement(l,__assign({},this.props,{pathState:this.state.pathState,pathSearchState:this.state.pathSearchState}))},t.prototype._getStateFromStores=function(){return{pathState:this.props.pathStore.state,pathSearchState:this.props.pathSearchStore?this.props.pathSearchStore.getState():null}},t}(i.Component);t.PathExplorerContainer=c;l=function(n){function t(t){var i=n.call(this,t)||this;return i.searchAnnouncer=new a,i.getRootPath=function(){return i.props.pathState.isGit?"/":i.props.pathState.repositoryName},i.onPathSelected=function(n,t){var r=v(n,i.props.pathState.isGit),u=r.path,f=r.version;i.props.onPathChange(u,f,t)},i._onSearchItemSelection=function(n,t){if(i.props.onSearchItemSelection)i.props.onSearchItemSelection(s.PathSearchStateMapper.toSearchItemIdentifier(n),t)},i.updateAnnounce(t),i}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){this.updateAnnounce(n)},t.prototype.render=function(){var r=this,u=this.props,n=u.pathState,t=u.pathSearchState;return i.createElement("div",{className:"path-explorer-container"},i.createElement("div",{className:"table"},i.createElement("div",{className:"table-row"},i.createElement(e.KeyboardAccesibleComponent,{className:"repo-name",onClick:function(){return r.props.onPathChange(r.getRootPath())}},this.props.pathState.repositoryName),i.createElement("span",{className:"separator"},"/"),i.createElement(o.PathExplorer,{fullPath:n.path,folders:n.folders,itemName:n.itemName,isDirty:n.isDirty,isEditing:n.isEditing,isRoot:n.isRoot,isPathSearchEnabled:Boolean(t),inputText:n.inputText,ariaLabel:n.isGit?h.PathExplorer_FindFileAriaLabel:h.PathExplorerChangesetsAriaLabel,onEditingStart:this.props.onEditingStart,onEditingCancel:this.props.onEditingCancel,onPathSelected:this.onPathSelected,onInputTextEdit:this.props.onInputTextEdit,searchText:t?t.searchText:null,pathSearchDropdownData:t?s.PathSearchStateMapper.toDropdownData(t):null,onSearchItemSelection:this._onSearchItemSelection}))))},t.prototype.updateAnnounce=function(n){n.pathSearchState&&this.searchAnnouncer.annouceSearchUpdate(n.pathSearchState)},t}(i.Component);t.StateMappedPathExplorer=l;a=function(){function n(){}return n.prototype.annouceSearchUpdate=function(n){var t;n.errorMessage?t=n.errorMessage:n.areAllResultsSet&&(t=s.PathSearchStateMapper.getFooterMessage(n));t&&!f.equals(n.searchText,this._lastSearchText)&&(u.announce(t,!0),this._lastSearchText=n.searchText)},n}();t.parseInputText=v});

define("VersionControl/Scenarios/Explorer/Components/PathExplorer",["require","exports","react","VersionControl/Scenarios/Explorer/Components/Container","VersionControl/Scenarios/Shared/Path/PathExplorerContainer"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.PathExplorerContainer=r.create(["path","pathSearch"],function(n,t){var f=n.isGit,e=n.pathState,o=n.pathSearchState,r=t.actionCreator;return i.createElement(u.StateMappedPathExplorer,{pathState:e,pathSearchState:f&&o,onEditingStart:r.startPathEditing,onInputTextEdit:r.editPathText,onPathChange:r.changePath,onEditingCancel:r.cancelPathEditing,onSearchItemSelection:r.selectPathSearchItem})})});

define("VersionControl/Scenarios/Shared/FpsLink",["require","exports","react","OfficeFabric/Link","VersionControl/Scripts/Utils/XhrNavigationUtils"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._onClick=function(n){if(t.props.targetHubId)u.onClickNavigationHandler(n,t.props.targetHubId,n.currentTarget.href)},t}return __extends(t,n),t.prototype.render=function(){return i.createElement(r.Link,__assign({},this.props,{onClick:this._onClick}))},t}(i.PureComponent);t.FpsLink=f});

define("VersionControl/Scenarios/Shared/StatusBadge",["require","exports","react","OfficeFabric/Button","OfficeFabric/FocusZone","VSSUI/Tooltip","OfficeFabric/Utilities","TFS/VersionControl/Contracts","VersionControl/Scenarios/Shared/Flyout","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VSS/Utils/String","VSS/User/Services","VSS/Service","VSS/Navigation/HubsService","VersionControl/Scenarios/Shared/FpsLink","VersionControl/Scripts/CodeHubContributionIds","VSS/LoaderPlugins/Css!VersionControl/StatusBadge"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){function et(n){return n?n.reduce(function(n,t){return ft[n]<ft[t.state]?n:t.state},o.GitStatusState.NotSet):o.GitStatusState.NotSet}function nt(n){return"status-icon bowtie-icon "+kt[n]+" "+tt[n]}function g(n){var i,t;return n?(i=pt,n.indexOf(i)<0&&(i="/"),t=n.split(i),t.length!=3)?null:{definitionName:t[0],environmentName:t[1],rank:parseInt(t[2],10)}:null}function st(n,t,i){n.forEach(function(n){if(n.context.genre===ot){var r=g(n.context.name);!r||!r.definitionName?i.push(n):(t.hasOwnProperty(r.definitionName)||(t[r.definitionName]=[]),t[r.definitionName].push(n))}else i.push(n)});return}function dt(n){return n.context.genre===wt&&n.context.name&&n.context.name.indexOf(bt)===0}function lt(n){return n.sort(function(n,t){var i=g(n.context.name),r=g(t.context.name);return!!i&&!!r&&!isNaN(i.rank)&&!isNaN(r.rank)?i.rank-r.rank:1})}function at(n){var r=n[0].targetUrl.split("?")[0],t=Math.max.apply(Math,n.map(function(n){return parseInt(n.targetUrl.match(/releaseId=([0-9]+)/)[1],10)})),i;return l.getService().hasClaim(l.UserClaims.Member)?r+"?_a=release-summary&releaseId="+t:(i=a.getLocalService(v.HubsService).getHubById("ms.vss-releaseManagement-web.cd-release-progress").uri,c.format("{0}?releaseId={1}&_a=release-pipeline-progress",i,t))}function gt(n){if(l.getService().hasClaim(l.UserClaims.Member))return n.targetUrl;var t=n.targetUrl,i=parseInt(t.match(/releaseId=([0-9]+)/)[1],10),r=parseInt(t.match(/releaseEnvironmentId=([0-9]+)/)[1],10),u=a.getLocalService(v.HubsService).getHubById("ms.vss-releaseManagement-web.cd-release-progress").uri;return c.format("{0}?releaseId={1}&environmentId={2}&_a=release-environment-logs",u,i,r)}var w,b,k,d,rt,ht,ct;Object.defineProperty(t,"__esModule",{value:!0});rt=function(n){function r(t){var i=n.call(this,t)||this;return i._ariaDescribedById=e.getId("build-status-flyout-describedby"),i}return __extends(r,n),r.prototype.render=function(){var n=(this.props.statuses||[]).filter(function(n){return n.state!==o.GitStatusState.NotApplicable}),r;return this.props.isSetupExperienceVisible?i.createElement(yt,{onSetupNowClick:this.props.onSetupNowClick,isSetupExperienceDisabled:this.props.isSetupExperienceDisabled}):this.props.isSetupReleaseExperienceVisible&&n.length===0?i.createElement(ut,{onSetupReleaseClick:this.props.onSetupReleaseClick,isSetupExperienceDisabled:this.props.isSetupExperienceDisabled}):(r=et(n),r===o.GitStatusState.NotSet)?null:i.createElement(s.Flyout,{className:"status-badge-icon "+(this.props.className||""),headerClassName:this.props.headerClassName||"",isEnabled:n.length>0,ariaDescribedBy:this._ariaDescribedById,setInitialFocus:!0,dropdownContent:i.createElement(t.StatusFlyoutContent,{statuses:n,showSetupReleaseButton:this.props.isSetupReleaseExperienceVisible,onSetupReleaseClick:this.props.onSetupReleaseClick}),calloutHasFocusableElements:!0,calloutAriaLabel:h.GitBranches_BuildStatusList,toolTip:c.format(h.HistoryList_BuildTooltip,it[r]),ariaLabel:h.BuildStatusLabel},i.createElement(t.StatusTextIconHeader,{statusState:r,showOnlyBadge:this.props.showOnlyBadge}),i.createElement("div",{className:"hidden",id:this._ariaDescribedById},h.BuildStatusBadge_AriaDescription))},r}(i.Component);t.StatusTextIcon=rt;t.StatusTextIconHeader=function(n){return n.statusState===o.GitStatusState.NotSet?null:i.createElement("span",null,i.createElement(vt,{status:n.statusState,stateAsTooltip:n.showOnlyBadge}),!n.showOnlyBadge&&i.createElement("span",{className:"status-state "+tt[n.statusState]},it[n.statusState]))};var vt=function(n){var t=h.GitStatusTitle;return n.stateAsTooltip&&(t=c.format(h.HistoryList_BuildTooltip,it[n.status])),i.createElement("span",{className:nt(n.status)})},yt=function(n){return i.createElement(r.PrimaryButton,{className:"status-badge-icon",onClick:n.onSetupNowClick,disabled:n.isSetupExperienceDisabled},i.createElement("span",{className:"bowtie-icon bowtie-build"}),h.GitStatusStateSetupBuildCaption)},ut=function(n){return i.createElement(r.PrimaryButton,{className:"setup-release-button status-badge-icon",onClick:n.onSetupReleaseClick,disabled:n.isSetupExperienceDisabled},i.createElement("span",{className:"bowtie-icon bowtie-deploy"}),h.SetupRelease)},ft=(w={},w[o.GitStatusState.Error]=1,w[o.GitStatusState.Failed]=2,w[o.GitStatusState.Pending]=3,w[o.GitStatusState.Succeeded]=4,w[o.GitStatusState.NotSet]=5,w);t.getProminentState=et;var ot="continuous-deployment/release",pt=")^!!(!",wt="continuous-integration",bt="build/",kt=(b={},b[o.GitStatusState.Error]="bowtie-status-error-sm",b[o.GitStatusState.Failed]="bowtie-edit-delete",b[o.GitStatusState.Pending]="bowtie-play-fill",b[o.GitStatusState.Succeeded]="bowtie-check",b[o.GitStatusState.NotSet]="",b),tt=(k={},k[o.GitStatusState.Error]="error",k[o.GitStatusState.Failed]="failure",k[o.GitStatusState.Pending]="pending",k[o.GitStatusState.Succeeded]="success",k[o.GitStatusState.NotSet]="not-set",k),it=(d={},d[o.GitStatusState.Error]=h.GitStatusStateError,d[o.GitStatusState.Failed]=h.GitStatusStateFailed,d[o.GitStatusState.Pending]=h.GitStatusStatePending,d[o.GitStatusState.Succeeded]=h.GitStatusStateSucceeded,d[o.GitStatusState.NotSet]=h.GitStatusStateNeverBuilt,d);t.parseReleaseContextName=g;t.filterOutReleaseStatuses=st;t.StatusFlyoutContent=function(n){var t={},r=[];return st(n.statuses,t,r),i.createElement(u.FocusZone,{className:"status-flyout-content",direction:u.FocusZoneDirection.bidirectional},r&&r.map(function(t){return i.createElement(ht,{key:t.description+t.creationDate.getMilliseconds().toString(),status:t,ignoreNonReleaseIcon:n.ignoreNonReleaseIcon,stateIconClassName:n.stateIconClassName,secondarySectionClassName:n.secondarySectionClassName,isBuild:dt(t)})}),n.showSetupReleaseButton&&i.createElement(ut,{onSetupReleaseClick:n.onSetupReleaseClick}),Object.getOwnPropertyNames(t).map(function(r){return i.createElement(ct,{key:r+t[r][0].creationDate.getMilliseconds().toString(),statuses:t[r],definitionName:r,stateIconClassName:n.stateIconClassName})}))};ht=function(n){var t=n.status.context.genre?n.status.context.genre+"/"+n.status.context.name:n.status.context.name,r=n.status.description||n.status.context.name;return i.createElement("div",{className:"status-tooltip-row"},i.createElement("div",{className:"status-tooltip-primary"},!n.ignoreNonReleaseIcon&&i.createElement("span",{className:e.css("type-icon","bowtie-icon","bowtie-build")}),i.createElement(y.FpsLink,{className:"status-target-url-link",href:n.status.targetUrl,targetHubId:n.isBuild&&p.CodeHubContributionIds.newBuildEditorContributionId},r),i.createElement("span",{className:e.css(nt(n.status.state),n.stateIconClassName)})),i.createElement("div",{className:e.css("status-tooltip-secondary",n.secondarySectionClassName)},t))};ct=function(n){var t=lt(n.statuses);return i.createElement("div",{className:"release-status status-tooltip-row"},i.createElement("div",{className:"status-tooltip-primary"},i.createElement("span",{className:"type-icon bowtie-icon bowtie-deploy"}),i.createElement(y.FpsLink,{tabIndex:0,className:"status-target-url-link",href:at(t),targetHubId:p.CodeHubContributionIds.releaseProgressHub},n.definitionName)),i.createElement("div",{className:"status-tooltip-secondary"},ot+"/"+n.definitionName),i.createElement("div",{className:e.css("release-status-container",n.stateIconClassName)},t.map(function(n,t){return i.createElement("div",{key:"status-"+t+n.context.name,className:"env-details"},i.createElement(f.TooltipHost,{content:n.description,directionalHint:4},i.createElement(y.FpsLink,{"aria-label":n.description,className:"status-link",href:gt(n),targetHubId:p.CodeHubContributionIds.releaseProgressHub},i.createElement("div",{className:"env-status "+tt[n.state]},i.createElement("span",{className:nt(n.state)})))))})))};t.getReleaseGitStatusesSortedByRank=lt;t.getLatestReleaseSummaryUrl=at});

define("VersionControl/Scenarios/Explorer/Components/StatusBadge",["require","exports","react","react-dom","VersionControl/Scenarios/Explorer/Components/Container","VersionControl/Scenarios/Shared/StatusBadge"],function(n,t,i,r,u,f){function e(n,u){r.render(i.createElement(t.StatusTextIconContainer,__assign({},u)),n)}Object.defineProperty(t,"__esModule",{value:!0});t.renderStatusTextIconInto=e;t.StatusTextIconContainer=u.create(["statuses","path","pivotTabs","permissions"],function(n,t){var r=n.statusesState,u=n.pathState,o=n.pivotTabsState,s=n.permissionsState,e=t.actionCreator;return!u.isGit||!u.isRoot||o.isFullScreen?null:!(r.statuses&&r.statuses.length)&&!(r.isSetupExperienceVisible||r.isSetupReleaseExperienceVisible)?null:i.createElement(f.StatusTextIcon,{className:"bowtie",statuses:r.statuses,isSetupExperienceVisible:r.isSetupExperienceVisible&&s.setUpBuild,isSetupReleaseExperienceVisible:r.isSetupReleaseExperienceVisible&&!!r.createReleaseDefinitionUrl,onSetupNowClick:e.showSetupBuildDialog,onSetupReleaseClick:function(){return e.navigateToReleaseHub(r.createReleaseDefinitionUrl)}})})});

define("VersionControl/Scenarios/Explorer/Components/ChangesetVersion",["require","exports","react","react-dom","VersionControl/Scripts/Resources/TFS.Resources.VersionControl"],function(n,t,i,r,u){function f(n,u){r.render(i.createElement(t.ChangesetVersion,__assign({},u)),n)}Object.defineProperty(t,"__esModule",{value:!0});t.renderInto=f;t.ChangesetVersion=function(n){return!n.version||n.version==="T"?null:i.createElement("div",{className:"changeset-version"},i.createElement("span",null,u.Changeset+" "+n.version),i.createElement("a",{className:"show-latest",href:"#",onClick:n.onShowLatestClick},u.ShowLatest))}});

define("VSS/Flux/AsyncLoadedComponent",["require","exports","react","VSS/VSS"],function(n,t,i,r){function f(n,t,r,f,e){return function(o){return i.createElement(u,{modules:n,moduleComponentSelector:t,componentWhileLoading:r,onLoadStart:f,onLoadEnd:e,props:o})}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r._isMounted=!1,r.state={isLoading:!1,componentType:null},r}return __extends(t,n),t.prototype.render=function(){return this.state.componentType?i.createElement(this.state.componentType,this.props.props):this.props.componentWhileLoading&&this.state.isLoading?this.props.componentWhileLoading():null},t.prototype.componentWillMount=function(){this.props.onLoadStart&&this.props.onLoadStart()},t.prototype.componentDidMount=function(){var n=this;this._isMounted=!0;this.state.componentType||this.state.isLoading||(this.areModulesDefined()||this.setState({isLoading:!0,componentType:null}),r.using(this.props.modules,function(){for(var i,r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];n._isMounted&&(n.props.onLoadEnd&&n.props.onLoadEnd(),n.setState({isLoading:!1,componentType:(i=n.props).moduleComponentSelector.apply(i,r)}))}))},t.prototype.componentWillUnmount=function(){this.state.isLoading&&this.setState({isLoading:!1,componentType:null});this._isMounted=!1},t.prototype.areModulesDefined=function(){var n=this.props.modules,t=n===void 0?[]:n;return t.every(function(n){return requirejs.defined(n)})},t}(i.Component);t.getAsyncLoadedComponent=f});

define("VersionControl/Scenarios/Shared/EnsurePageContext",["require","exports","react","prop-types","VSS/Platform/Layout"],function(n,t,i,r,u){function e(){return f}function o(n){f=n._pageContext}Object.defineProperty(t,"__esModule",{value:!0});var f;t.getGlobalPageContext=e;t.setGlobalPageContext=o;t.EnsurePageContext=function(n,t){if(!n.forceFallback){if(t.pageContext)return i.Children.only(n.children);if(f)return i.createElement(u.ReactRootComponent,{pageContext:e()},i.Children.only(n.children))}return n.onFallback?n.onFallback():i.Children.only(n.children)};t.EnsurePageContext.contextTypes={pageContext:r.object}});

define("VersionControl/Scripts/Resources/TFS.Resources.Branches",["require","exports"],function(require,exports){var e=exports;e.BranchesComparingTo2="to";e.BranchesComparingTo1="Comparing";e.LastUpdateTitle="Last update: commit {0} authored by {1} {2}";e.BranchPoliciesMenuItemText="Branch policies";e.RecentlyUpdatedError="Recently updated, please try again";e.DeleteBranchWithNoForcePushFailed="Failed to delete {0}. Force push permission is required to delete branches.";e.CreatedBranchText="Created branch {0}";e.BranchesComparingText="Comparing {0} to {1}";e.DeleteBranchWithPolicyFailed="Cannot delete a branch which has policies.  Ensure you have exempt from policy permission or have disabled the branch policies.";e.BranchesLoading=" Loading branches...";e.DefaultBranchText="Default branch";e.ShowMoreButtonText="Show more";e.NewBranchMenuItemText="New branch";e.BranchSecurityMenuItemText="Branch security";e.DeletedBranch="Deleted Branch {0}";e.UnknownDataProvider="Unknown Data Provider";e.PullRequestMenuItemText="New pull request";e.RecreateText="Recreate";e.NewBranches_CompareBranch_Label="Compare";e.NoDefaultBranchEnd=" to select one.";e.BranchesTab_Stale="Stale";e.Pivot_All="All";e.ClearText="Clear";e.Pivot_Mine="Mine";e.BranchNameTitle="{0}";e.RepositoryBranches="{0} branches";e.DeleteBranchDialogTitle="Delete branch";e.Column_AheadBehind="Behind | Ahead";e.DeleteBranchDialogMesssage="{0} will be deleted. If you restore the branch, you will not recover any associated permissions.";e.FilterMatchesText="Showing {0} branches that match: {1}.";e.TitleText="Branches";e.SearchText="Search";e.CompareBranchMenuItemText="Compare branches";e.UnlockBranchMenuItemText="Unlock";e.FilterMatchText="Showing {0} branch that matches: {1}";e.BranchesTab_Commits="Commits";e.BranchesTab_Compare="Compare";e.BranchPolicy="Branch has policies";e.BackToSearchAllBranches="Search all branches";e.RestoreBranchMenuItemText="Restore branch";e.SettingsBranchMenuItemText="Settings";e.NoStaleBranches="No branches older than 3 months";e.NewBranches_CreatePullRequestCommand_Label="New pull request";e.BranchSearch="Search all branches";e.AddFavoriteMenuItemText="Add to my favorites";e.Column_Commit="Commit";e.Column_Branch="Branch";e.Column_Author="Author";e.HistoryBranchMenuItemText="View history";e.CompareToBranchText="Compare {0} to {1}";e.UndoDelete="Undo delete of branch {0}";e.NewBranch="New branch";e.SetCompareBranchMenuItemText="Set as compare branch";e.FilterNoExactMatch="No exact match found";e.NoDefaultError="   This repository has no default branch. ";e.BranchesTab_All="All";e.LockBranchMenuItemText="Lock";e.Column_DeletedBy="Deleted By";e.BranchesComparingTitle="Comparing";e.AllBranches="All branches";e.NoDefaultBranchStart="Go to your ";e.NewBranches_DefaultBranch_Label="Default";e.ClearFilterText="Clear filter";e.MyBranches="My branches";e.AheadBehindToolTip="{0} behind and {1} ahead of {2}";e.SwitchBaseTargetBranches="Switch base and target branches";e.FilterNoMatchesText="No branches match the filter: {0}.";e.Column_Build="Status";e.DeleteBranchDialogDelete="Delete";e.DeleteBranchMenuItemText="Delete branch";e.BranchesTab_Mine="Mine";e.DeleteBranchDialogCancel="Cancel";e.Column_PullRequest="Pull Request";e.RemoveFavoriteMenuItemText="Remove from my favorites";e.FilterFoundExactMatch="Exact match found";e.SearchForExactMatch="Search for exact match in deleted branches";e.MoreInfo="More info";e.NewBranches_NewBranch_Label="New";e.Column_Date="Authored Date";e.DeletedText="{0} was deleted.";e.Hub_Title="Branches";e.UpdatedText="updated  ";e.NoDefaultBranchLink="security settings";e.LockedBy="Locked by {0}";e.FilterMatchesLimitedText="Showing the first {0} branches that match: {1}.";e.Column_DeletedDate="Deleted Date";e.PullRequestTitle="Pull request {0}\r\n{1} into {2}";e.FavoriteMenuItemLabel="Favorited";e.ExploreBranchMenuItemText="View files";e.CompareBranchReset="{0} was deleted, so we’ve updated your compare branch to be {1}, the default branch";e.PullRequestLabel="{0}: {1}";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VersionControl/Scripts/Services/Service",["require","exports","VSS/VSS"],function(n,t,i){function u(n,t){return r.getService(n,t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){}return n.getService=function(n,t){var f=t?t.getRepositoryId():"contextless",u="gitRepositoryService."+i.getTypeName(n)+f,r=this._services[u];return r||(r=new n(t),this._services[u]=r),r},n._services={},n}();t.getRepositoryService=u});

define("VersionControl/Scripts/Services/GitRefService",["require","exports","q","VSS/Contributions/Services","VSS/Performance","VSS/Serialization","VSS/Service","VSS/Events/Services","VSS/Utils/String","TFS/VersionControl/GitRestClient","TFS/VersionControl/Contracts","VersionControl/Scenarios/Shared/EnsurePageContext","VersionControl/Scripts/CustomerIntelligenceConstants","VersionControl/Scripts/Generated/TFS.VersionControl.Common","VersionControl/Scripts/GitRefUtility","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/Resources/TFS.Resources.Branches","VersionControl/Scripts/Services/Service","VersionControl/Scripts/TFS.VersionControl.VersionSpecs"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){function nt(n){return b.getRepositoryService(g.GitRefService,n)}var d,g;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.BranchesChanged="branches-changed";n.TagsChanged="tags-changed"}(d=t.GitRefNotificationChannels||(t.GitRefNotificationChannels={}));t.getGitRefService=nt,function(n){var g,b,nt,t;(function(n){function t(n,t,i){for(var u=0,f=t.length-1,r,e;u<=f;)if(r=u+f>>1,e=i(n,t[r]),e>0)u=r+1;else if(e<0)f=r-1;else return r;return-u-1}n.binarySearch=t})(g=n.ArrayUtils||(n.ArrayUtils={})),function(n){function t(n){return y.getRefFriendlyName(n.name)}function i(n){return n.map(t)}n.refToFriendlyName=t;n.refsToFriendlyNames=i}(b=n.GitRefUtils||(n.GitRefUtils={}));nt=function(){function n(n,t){if(this._GIT_REF_ZERO_VALUE="0000000000000000000000000000000000000000",this._branchesCache=null,this._myBranchesCache=null,this._tagsCache=null,this._dataIslandStale=!1,this._eventService=new o.EventService,this._repositoryId=null,this._projectId=null,this._identityId=null,this._gitHttpClient=null,t)this._gitHttpClient=t();else{var i=new e.VssConnection(n.getTfsContext().contextData);this._gitHttpClient=i.getHttpClient(h.GitHttpClient)}this._repositoryId=n.getRepositoryId();this._identityId=n.getTfsContext().currentIdentity.id;n.getRepository().project&&(this._projectId=n.getRepository().project.id)}return n.prototype.getBranch=function(n){var t=i.defer();return this.cacheBranches(),this._branchesCache.promise.then(function(i){var r=g.binarySearch({name:"refs/heads/"+n},i,y.compareRefs);r>=0?t.resolve(i[r]):t.reject({message:p.BranchNotFoundError})},t.reject),t.promise},n.prototype.getBranches=function(){return this.cacheBranches(),this._branchesCache.promise},n.prototype.getBranchNames=function(){return this.cacheBranches(),this._branchesCache.promise.then(b.refsToFriendlyNames)},n.prototype.getMyBranchNames=function(){return this.cacheMyBranches(),this._myBranchesCache.promise.then(b.refsToFriendlyNames)},n.prototype.getTagNames=function(){return this.cacheTags(),this._tagsCache.promise.then(b.refsToFriendlyNames)},n.prototype.invalidateCache=function(){this._branchesCache=null;this._tagsCache=null;this._invalidateMyBranches();this._invalidateTagsCacheLwpService()},n.prototype._invalidateMyBranches=function(){this._myBranchesCache=null;this._dataIslandStale=!0;this._invalidateBranchesCacheLwpService()},n.prototype._invalidateBranchesCacheLwpService=function(){var n=l.getGlobalPageContext(),t;n&&(t=n.getService("IGitRefService"),t.invalidateBranchesCache(this._repositoryId))},n.prototype._invalidateTagsCacheLwpService=function(){var n=l.getGlobalPageContext(),t;n&&(t=n.getService("IGitRefService"),t.invalidateTagsCache(this._repositoryId))},n.prototype._refCreateErrorCheck=function(n,t){var i=this._getRefUpdateError(n,p.BranchCreateError,t);if(i)throw new Error(i);},n.prototype._refDeleteErrorCheck=function(n,t){var i=this._getRefUpdateError(n,p.BranchDeleteError,t),r;if(i){r=n[0].updateStatus;r===c.GitRefUpdateStatus.RejectedByPolicy&&(i=w.DeleteBranchWithPolicyFailed);r===c.GitRefUpdateStatus.ForcePushRequired&&(i=s.format(w.DeleteBranchWithNoForcePushFailed,t));throw new Error(i);}},n.prototype._getRefUpdateError=function(n,t,i){if(!n||n.length!==1)return s.format(t,i);var r=n[0];return r.success?null:r.customMessage?r.customMessage:s.format(t,i)},n.prototype.createTagRefs=function(n,t,r){var u=this,f={objectId:r.commitId},e;return r instanceof k.GitCommitVersionSpec?(f.objectId=r.commitId,e={name:n,message:t,taggedObject:f},this._gitHttpClient.createAnnotatedTag(e,this._projectId,this._repositoryId).then(function(n){var t=y.annotatedTagToRef(n);return u._updateRefsCache(t,!1),n})):this._gitHttpClient.getRefs(this._repositoryId,undefined,this._getRefFilter(r.toFullName())).then(function(e){e.length<1&&i.reject({message:s.format(p.CreateTag_RefFindError,r.toFullName())});f.objectId=e[0].objectId;var o={name:n,message:t,taggedObject:f};return u._gitHttpClient.createAnnotatedTag(o,u._projectId,u._repositoryId).then(function(n){var t=y.annotatedTagToRef(n);return u._updateRefsCache(t,!1),n})})},n.prototype.createRef=function(n){var t=this,i=n.sourceRef.toFullName(),r=n.newRef.toFullName(),u;return u=n.sourceRef instanceof k.GitCommitVersionSpec?this._gitHttpClient.updateRefs([this._refUpdate(r,this._GIT_REF_ZERO_VALUE,i)],this._repositoryId):this._gitHttpClient.getRefs(this._repositoryId,undefined,this._getRefFilter(i),undefined,undefined,undefined,undefined,!0).then(function(n){if(n.length<1)throw{message:s.format(p.BranchFindError,i)};return n[0]}).then(function(n){var i=n.peeledObjectId||n.objectId;return t._gitHttpClient.updateRefs([t._refUpdate(r,t._GIT_REF_ZERO_VALUE,i)],t._repositoryId)}),u.then(function(i){t._refCreateErrorCheck(i,r);var u=i[0],f=y.refUpdateToRef(u),e=n.newRef instanceof k.GitBranchVersionSpec;return t._updateRefsCache(f,e),u})},n.prototype._updateRefsCache=function(n,i){var r=i?d.BranchesChanged:d.TagsChanged;i?(!this._myBranchesCache&&this._getBranchesFromJsonIsland(t.Mine)&&this.cacheMyBranches(),this.cacheRef(this._myBranchesCache,n),!this._branchesCache&&this._getBranchesFromJsonIsland(t.All)&&this.cacheBranches(),this.cacheRef(this._branchesCache,n),this._invalidateBranchesCacheLwpService()):(this.cacheRef(this._tagsCache,n),this._invalidateTagsCacheLwpService());this._eventService.fire(r)},n.prototype.deleteRef=function(n){var i=this,r=n.refToDelete.toFullName();return this._gitHttpClient.getRefs(this._repositoryId,undefined,this._getRefFilter(r)).then(function(n){if(n.length<1)throw{message:s.format(p.BranchFindError,r)};return n[0]}).then(function(n){return i._gitHttpClient.updateRefs([i._refUpdate(r,n.objectId,i._GIT_REF_ZERO_VALUE)],i._repositoryId)}).then(function(u){i._refDeleteErrorCheck(u,r);var e=u[0],f=n.refToDelete instanceof k.GitBranchVersionSpec,o=f?d.BranchesChanged:d.TagsChanged;return f?(!i._myBranchesCache&&i._getBranchesFromJsonIsland(t.Mine)&&i.cacheMyBranches(),i.uncacheRef(i._myBranchesCache,r),!i._branchesCache&&i._getBranchesFromJsonIsland(t.All)&&i.cacheBranches(),i.uncacheRef(i._branchesCache,r),i._invalidateBranchesCacheLwpService()):(i.uncacheRef(i._tagsCache,r),i._invalidateTagsCacheLwpService()),i._eventService.fire(o),e})},n.prototype.createFavorite=function(n){var t=this;return this._gitHttpClient.createFavorite(n.favorite,this._projectId).then(function(n){return t._invalidateMyBranches(),t._eventService.fire(d.BranchesChanged),n})},n.prototype.deleteFavorite=function(n){var t=this;return this._gitHttpClient.deleteRefFavorite(this._projectId,n.favoriteId).then(function(){t._invalidateMyBranches();t._eventService.fire(d.BranchesChanged)})},n.prototype.getFavorites=function(){return this._gitHttpClient.getRefFavorites(this._projectId,this._repositoryId,this._identityId)},n.prototype.subscribe=function(n,t){this._eventService.attachEvent(n,t)},n.prototype.unsubscribe=function(n,t){this._eventService.detachEvent(n,t)},n.prototype.cacheBranches=function(){this._branchesCache=this.cacheRefs(this._branchesCache,v.GitWebApiConstants.HeadsFilter)},n.prototype.cacheMyBranches=function(){this._myBranchesCache=this.cacheMyRefs(this._myBranchesCache,v.GitWebApiConstants.HeadsFilter)},n.prototype.cacheTags=function(){this._tagsCache=this.cacheRefs(this._tagsCache,v.GitWebApiConstants.TagsFilter)},n.prototype.cacheRef=function(n,t){var i=this;n&&n.promise.then(function(n){i.insertSortedOrUpdate(t,n)})},n.prototype.uncacheRef=function(n,t){var i=this;n&&n.promise.then(function(n){i.removeRef(t,n)})},n.prototype.cacheRefs=function(n,r){var o,s,f,e;return n||(n=i.defer(),o=!1,r!==v.GitWebApiConstants.HeadsFilter||this._dataIslandStale||(s=this._getBranchesFromJsonIsland(t.All),s&&(n.resolve(s),o=!0)),o||(f=u.getScenarioManager().startScenario(a.VERSION_CONTROL_AREA,a.GITREFSERVICE_GETALLREFS),e={},e[a.GITREFSERVICE_FILTER]=r||"",this._gitHttpClient.getRefs(this._repositoryId,this._projectId,r).then(function(t){f.addSplitTiming(a.GITREFSERVICE_TIME_FETCHED);e[a.GITREFSERVICE_COUNT]=t.length;t.sort(y.compareRefs);f.addSplitTiming(a.GITREFSERVICE_TIME_SORTED);f.addData(e);f.end();n.resolve(t)}))),n},n.prototype.cacheMyRefs=function(n){var e,o,r,f,s;return n||(n=i.defer(),e=!1,o=function(n){return n.name.indexOf("refs/heads/")===0},this._dataIslandStale||(r=this._getBranchesFromJsonIsland(t.Mine),r&&(r=r.filter(o),n.resolve(r),e=!0)),e||(f=u.getScenarioManager().startScenario(a.VERSION_CONTROL_AREA,a.GITREFSERVICE_GETMYBRANCHES),s={},this._gitHttpClient.getRefs(this._repositoryId,this._projectId,null,!1,!1,!0).then(function(t){f.addSplitTiming(a.GITREFSERVICE_TIME_FETCHED);s[a.GITREFSERVICE_COUNT]=t.length;t=t.filter(o);t.sort(y.compareRefs);f.addSplitTiming(a.GITREFSERVICE_TIME_SORTED);f.addData(s);f.end();n.resolve(t)}))),n},n.prototype.insertSortedOrUpdate=function(n,t){var i=g.binarySearch(n,t,y.compareRefs),r;i<0?t.splice(-i-1,0,n):(r=s.localeComparer(n.name,t[i].name),r===0?t[i].objectId=n.objectId:r>0?t.splice(i,0,n):t.splice(-i-1,0,n))},n.prototype.removeRef=function(n,t){for(var r,i=0;i<t.length;++i)if(s.localeComparer(n,t[i].name)===0){r=i;break}t.splice(r,1)},n.prototype._getBranchesFromJsonIsland=function(n){var o=e.getService(r.WebPageDataService),i=o.getPageData("ms.vss-code-web.my-branches-data-provider")||{},u;return n===t.All&&(u=f.ContractSerializer.deserialize(i["Git.Branches.All.FetchData"],String)?!0:!1,u)?null:f.ContractSerializer.deserialize(i["Git.Branches."+n],c.TypeInfo.GitRef)},n.prototype._refUpdate=function(n,t,i){return{name:n,newObjectId:i,oldObjectId:t}},n.prototype._getRefFilter=function(n){return n.indexOf("refs/")===0?n.substr(5):n},n}();n.GitRefService=nt,function(n){n.All="All";n.Mine="Mine"}(t||(t={}))}(g=t.Implementation||(t.Implementation={}))});

define("VersionControl/Scripts/Controls/GitVersionSelectorControl",["require","exports","VSS/Controls","VSS/Diag","VSS/Utils/UI","Presentation/Scripts/TFS/FeatureRef/FilteredListControl","VSS/Controls/Menus","VSS/Utils/String","VSS/VSS","TFS/VersionControl/GitRestClient","VersionControl/Scripts/CommentParser","VersionControl/Scripts/CommitIdHelper","VersionControl/Scripts/CustomerIntelligenceConstants","VersionControl/Scripts/CustomerIntelligenceData","VersionControl/Scripts/Services/GitRefService","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/TFS.VersionControl.VersionSpecs","VSS/LoaderPlugins/Css!VersionControlControls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){var k,b,d;Object.defineProperty(t,"__esModule",{value:!0});k=u.domElem,function(n){n.Branches="branches";n.MyBranches="myBranches";n.Tags="tags";n.Commit="commit"}(b=t.TabIds||(t.TabIds={}));d=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._switchingTabs=!1,t._commitRefMap=null,t.invalidateBranches=function(){t._clearCachedItems();t.updateFilteredList("myBranches");t.updateFilteredList("branches")},t}return __extends(t,n),t.prototype.initializeOptions=function(t){var e=!0,o=!0,f=!0,s=!1,u,i;t&&(t.disableTags&&(o=!1),t.disableBranches&&(e=!1),t.disableMyBranches&&(f=!1),t.showCommits&&(s=!0));u={};i=null;f&&(u.myBranches=p.MyBranchesTabLabel,i=b.MyBranches);e&&(u.branches=f?p.BranchesWithMineTabLabel:p.BranchesTabLabel,i=i||b.Branches);o&&(u.tags=p.TagsTabLabel,i=i||b.Tags);s&&(u.commit=p.VersionSelectorCommitTabLabel,i=i||b.Commit);n.prototype.initializeOptions.call(this,$.extend({cssClass:"vc-git-version-selector-control",tabNames:u,defaultTabId:i,scrollToExactMatch:!0,useBowtieStyle:!0},t))},t.prototype.initialize=function(){this._setRepositoryContext(this._options.repositoryContext);n.prototype.initialize.call(this);this._element.addClass("vc-git-selector");this._options.showVersionActions&&(this._element.addClass("has-actions"),this._createActionItems($(k("div","vc-git-version-selector-actions")).addClass("toolbar").appendTo(this._element)))},t.prototype.getAriaDescription=function(){var t=this._options.showVersionActions?" "+p.VersionSelectorAriaDescribeActions:"";return n.prototype.getAriaDescription.call(this)+t},t.prototype._createActionItems=function(n){var t=this,r=i.BaseControl.createIn(e.MenuBar,n,{cssClass:"vc-git-version-selector-actions-menu",ariaAttributes:{label:p.GitVersionSelectorActionsAriaLabel},items:[{id:"new-branch",text:p.NewBranchText,icon:"bowtie-icon bowtie-math-plus-light",action:function(){t._onCreateNewBranch()}}]})},t.prototype._onEmptyListSearchEnterClick=function(){if(this._selectedTab!==b.MyBranches||this._options.disableBranches)this._selectedTab===b.Commit?this._delayFillCommitsSuggestionList():this._options.allowUnmatchedSelection?this._onItemSelected(new w.GitBranchVersionSpec(this.getSearchText())):this._options.showVersionActions&&this._onCreateNewBranch();else{var n=this.getSearchText();this._options.allowUnmatchedSelection&&n&&n.indexOf("*")>-1?this._onItemSelected(new w.GitBranchVersionSpec(n)):(this.selectTab(b.Branches),this.setSearchText(n))}},t.prototype._onItemSelected=function(t){this._selectedItem=t;this.publishCIforItemSelected();n.prototype._onItemSelected.call(this,t)},t.prototype.clearInput=function(){this._lastBranchTabId="";this._branchSearchText="";this._emptyCommitsMsg="";this._resetCommitsSuggestions();this._clearCommitsTimeout();n.prototype.clearInput.call(this)},t.prototype.onSearchTextChanged=function(){if(!this._switchingTabs&&this._isABranchTab(this._selectedTab))this._lastBranchTabId=this._selectedTab,this._branchSearchText=this.getSearchText();else if(this._selectedTab===b.Commit){var t=this.getSearchText();t.length>=l.SHORT_HASH_LENGTH&&this._delayFillCommitsSuggestionList()}n.prototype.onSearchTextChanged.call(this)},t.prototype.onTabSelected=function(t){this._switchingTabs=!0;n.prototype.onTabSelected.call(this,t);this._switchingTabs=!1;this._lastBranchTabId!==t&&this._isABranchTab(t)&&this.setSearchText(this._branchSearchText)},t.prototype._isABranchTab=function(n){return n===b.Branches||n===b.MyBranches},t.prototype.publishCIforItemSelected=function(){var n=this._options.customerIntelligenceData||new v.CustomerIntelligenceData,t=this._selectedTab||"",i=(this._getCurrentItemsForTabId(t)||[]).length,r=(this.getSearchText()||"").length>0;n.properties[a.GITVERSIONSELECTOR_ITEMSELECTED_ISFILTERED]=r;n.properties[a.GITVERSIONSELECTOR_ITEMSELECTED_TOTALCOUNT]=i;n.clone().publish(a.GITVERSIONSELECTOR_ITEMSELECTED,!1,t+"Tab",!1)},t.prototype._onCreateNewBranch=function(){var n=this;this._fire("action-item-clicked");s.using(["VersionControl/Scripts/Services/GitUIService"],function(t){var i=t.getGitUIService(n._repositoryContext),r={sourceRef:n._getSelectedItem(),suggestedFriendlyName:n.getSearchText()};i.createBranch(r).then(function(t){if(t.cancelled){n._options.elementToFocusOnDismiss&&u.tryFocus(n._options.elementToFocusOnDismiss);return}var i=new w.GitBranchVersionSpec(t.selectedFriendlyName);n.setSelectedItem(i,!0);n._onItemSelected(i)})})},t.prototype._getWaterMarkText=function(n){return n===b.Branches?p.BranchesFilterWatermark:n===b.MyBranches?p.MyBranchesFilterWatermark:n===b.Commit?p.VersionSelectorCommitsFilterWatermark:p.TagsFilterWatermark},t.prototype._getNoItemsText=function(n){return n===b.Branches?p.VersionSelectorNoBranches:n===b.MyBranches?p.VersionSelectorNoMyBranches:n===b.Commit?this._emptyCommitsMsg:p.VersionSelectorNoTags},t.prototype._getNoMatchesText=function(n){return n===b.Branches?p.VersionSelectorNoMatchingBranches:n===b.MyBranches?p.VersionSelectorNoMatchingMyBranches:n===b.Commit?"":p.VersionSelectorNoMatchingTags},t.prototype._getItemName=function(n){if(n instanceof w.GitBranchVersionSpec)return n.branchName;if(n instanceof w.GitTagVersionSpec)return n.tagName;if(n instanceof w.GitCommitVersionSpec){var t=n;if(this._commitRefMap&&this._commitRefMap[t.commitId])return o.format("{0}    {1}",t.commitId,c.Parser.getShortComment(this._commitRefMap[t.commitId].comment))}else return""},t.prototype._beginGetListItems=function(n,t){var u=this,i,r;if(!this._repositoryContext||!this._repositoryContext.getRepositoryId()){t.call(this,[]);return}r=y.getGitRefService(this._repositoryContext);n===b.Branches?r.getBranchNames().then(function(n){i=n.map(function(n){return new w.GitBranchVersionSpec(n)});t.call(u,i)}):n===b.MyBranches?r.getMyBranchNames().then(function(n){i=n.map(function(n){return new w.GitBranchVersionSpec(n)});t.call(u,i)}):n===b.Tags?r.getTagNames().then(function(n){i=n.map(function(n){return new w.GitTagVersionSpec(n)});t.call(u,i)}):n===b.Commit&&t.call(this,[])},t.prototype.setRepository=function(n){this._setRepositoryContext(n);this._clearCachedItems();this.updateFilteredList()},t.prototype._setRepositoryContext=function(n){this._repositoryContext!==n&&(this._repositoryContext&&y.getGitRefService(this._repositoryContext).unsubscribe(y.GitRefNotificationChannels.BranchesChanged,this.invalidateBranches),this._repositoryContext=n,this._repositoryContext&&y.getGitRefService(this._repositoryContext).subscribe(y.GitRefNotificationChannels.BranchesChanged,this.invalidateBranches))},t.prototype._updateCommitMsg=function(n){this._emptyCommitsMsg!==n&&(this._emptyCommitsMsg=n,this.updateFilteredList())},t.prototype._delayFillCommitsSuggestionList=function(){var n=this;this._clearCommitsTimeout();this._commitTimerHandle=setTimeout(function(){n._fillCommitsSuggestionList()},500)},t.prototype._fillCommitsSuggestionList=function(){var n=this,t=this.getSearchText(),i,r;t.length>=l.SHORT_HASH_LENGTH&&l.isValidPartialId(t)?(i=l.getStartsWithSearchCriteria(t),r={fromCommitId:i.fromVersion,toCommitId:i.toVersion},h.getClient().getCommitsBatch(r,this._options.repositoryContext.getRepositoryId()).then(function(t){if(n._commitRefMap={},t.length>0){var i=t.map(function(t){return n._commitRefMap[t.commitId]=t,new w.GitCommitVersionSpec(t.commitId)});n._setItemsForTabId(b.Commit,i);n.updateFilteredList(b.Commit)}else n._updateCommitMsg(p.VersionSelectorEnterValidCommits)},function(){n._updateCommitMsg(p.VersionSelectorEnterValidCommits)})):t.length>0&&(t.length<l.SHORT_HASH_LENGTH?this._updateCommitMsg(p.CreateTag_EnterMoreCharacters):this._updateCommitMsg(p.VersionSelectorEnterValidCommits))},t.prototype._resetCommitsSuggestions=function(){this._commitRefMap={};this._setItemsForTabId(b.Commit,[])},t.prototype._clearCommitsTimeout=function(){this._commitTimerHandle&&(clearTimeout(this._commitTimerHandle),this._commitTimerHandle=null)},t}(f.FilteredListControl);t.GitVersionSelectorControl=d});

define("VersionControl/Scripts/Controls/GitVersionSelectorMenu",["require","exports","q","VSS/Controls","VSS/SDK/Shim","Presentation/Scripts/TFS/FeatureRef/FilteredListDropdownMenu","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","VersionControl/Scripts/GitClientService","VersionControl/Scripts/GitRepositoryContext","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/TFS.VersionControl.VersionSpecs","VersionControl/Scripts/Controls/GitVersionSelectorControl","VSS/LoaderPlugins/Css!VersionControlControls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});var v=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({popupOptions:{elementAlign:"left-top",baseAlign:"left-bottom"},ariaDescribedByText:c.GitVersionSelectorDescribe,setMaxHeightToFitWindow:!0},t))},t.prototype.initialize=function(){var t=this;n.prototype.initialize.call(this);this._getPopupEnhancement()._bind("action-item-clicked",function(){t._hidePopup()});this._element.attr("role")||this._element.attr("role","button");this._getPopupEnhancement().getElement().attr("role","dialog")},t.prototype.setRepository=function(n){this._repositoryContext=n;this.gitVersionSelectorControl&&this.gitVersionSelectorControl.setRepository(n)},t.prototype.setRepositoryId=function(n){var r=this,t=e.TfsContext.getDefault(),u=o.ProjectCollection.getConnection(t).getService(s.GitClientService);return i.Promise(function(i,f){u.beginGetRepository(n,function(n){var u=h.GitRepositoryContext.create(n,t);r.setRepository(u);i(n)},f)})},t.prototype._createFilteredList=function(n){return r.Enhancement.enhance(a.GitVersionSelectorControl,n,{repositoryContext:this._repositoryContext,disableTags:this._options?this._options.disableTags:null,showCommits:this._options?this._options.showCommits:null,disableBranches:this._options?this._options.disableBranches:null,disableMyBranches:this._options.disableMyBranches,showVersionActions:this._options.showVersionActions,allowUnmatchedSelection:this._options.allowUnmatchedSelection||this._options.popupOptions.allowUnmatchedSelection,waitOnFetchedItems:this._options.waitOnFetchedItems,customerIntelligenceData:this._options.customerIntelligenceData,elementToFocusOnDismiss:this._element[0]})},t.prototype._getItemIconClass=function(n){return n instanceof l.GitBranchVersionSpec?"bowtie-icon bowtie-tfvc-branch":n instanceof l.GitTagVersionSpec?"bowtie-icon bowtie-tag":n instanceof l.GitCommitVersionSpec?"bowtie-icon bowtie-tfvc-commit":void 0},t.prototype._getItemIconAriaLabel=function(n){return n instanceof l.GitBranchVersionSpec?c.GitRefBranch:n instanceof l.GitTagVersionSpec?c.GitRefTag:n instanceof l.GitCommitVersionSpec?c.GitRefCommit:void 0},t.prototype._getItemDisplayText=function(n){return n instanceof l.GitBranchVersionSpec?n.branchName||"":n instanceof l.GitTagVersionSpec?n.tagName||"":n instanceof l.GitCommitVersionSpec?n.getShortCommitId():n?n.toDisplayText():this._options.placeholder?this._options.placeholder:this._options.disableBranches?c.SelectTag:c.SelectBranch},t.prototype._getItemTooltip=function(n){return n instanceof l.GitCommitVersionSpec?n.toLongDisplayText():n?n.toDisplayText():""},t.prototype.getSelectedVersion=function(){return this._getSelectedItem()},t.prototype.setSelectedVersion=function(n){if(n&&!n.toVersionString){var t=n;t.branchName?n=new l.GitBranchVersionSpec(t.branchName):t.tagName&&(n=new l.GitTagVersionSpec(t.tagName))}this.setSelectedItem(n)},Object.defineProperty(t.prototype,"gitVersionSelectorControl",{get:function(){return this.getFilteredList()},enumerable:!0,configurable:!0}),t}(f.FilteredListDropdownMenu);t.GitVersionSelectorMenu=v;u.registerContent("tfs.versioncontrol.git-version-selector",function(n){return r.create(v,n.$container,n.options)})});

define("VersionControl/Scenarios/Shared/GitVersionSelector",["require","exports","react","VSS/Controls","OfficeFabric/Utilities","VersionControl/Scripts/Controls/GitVersionSelectorMenu"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._divWrapper=null,t.getRef=function(n){return t._divWrapper=n},t}return __extends(t,n),t.prototype.componentDidMount=function(){this._innerControl=this.createControl();this.componentDidUpdate(this.props)},t.prototype.componentWillUnmount=function(){this._innerControl&&(this._innerControl.dispose(),this._innerControl=null)},t.prototype.shouldComponentUpdate=function(n){return!this.props.isOpened||n.isOpened},t.prototype.componentDidUpdate=function(n){n.repositoryContext!==this.props.repositoryContext&&this._innerControl.setRepository(this.props.repositoryContext);this._innerControl.getSelectedVersion()!==this.props.versionSpec&&this._innerControl.setSelectedVersion(this.props.versionSpec);this.props.isOpened!==undefined&&(this.props.isOpened?this.isControlDroppedDown()||this._innerControl._showPopup():this._innerControl.getFilteredList()&&this.isControlDroppedDown()&&this._innerControl._hidePopup())},t.prototype.render=function(){return i.createElement("div",{className:u.css(this.props.className,"vc-git-version-selector"),ref:this.getRef})},t.prototype.createControl=function(){var n=r.BaseControl.createIn(f.GitVersionSelectorMenu,this._divWrapper,{onItemChanged:this.onBranchChanged,showVersionActions:this.props.allowEditing,waitOnFetchedItems:!0,customerIntelligenceData:this.props.customerIntelligenceData,disableTags:this.props.disableTags,disableMyBranches:this.props.disableMyBranches,showCommits:this.props.showCommits,ariaLabelledBy:this.props.ariaLabelledBy,placeholder:this.props.placeholder,allowUnmatchedSelection:this.props.allowUnmatchedSelection});return n.setRepository(this.props.repositoryContext),this.props.ariaLabel&&n._element.attr("aria-label",this.props.ariaLabel),n._getPopupEnhancement()._element.bind("popup-opened",this.props.onOpened),n._getPopupEnhancement()._element.bind("popup-closed",this.props.onClosed),this.props.fullPopupWidth&&n._getPopupEnhancement()._bind("popup-opened",this._setVersionMenuPopupWidth),this.props.focusOnLoad&&n.focus(),n},t.prototype.onBranchChanged=function(n){if(n&&this.props.onBranchChanged)this.props.onBranchChanged(n)},t.prototype.isControlDroppedDown=function(){return this._innerControl._getPopupEnhancement()._element.is(":visible")},t.prototype._setVersionMenuPopupWidth=function(){var n=this._innerControl._getPopupEnhancement();n&&n.getElement()&&n.getElement().width(this._innerControl.getElement().outerWidth()-2)},__decorate([u.autobind],t.prototype,"onBranchChanged",null),__decorate([u.autobind],t.prototype,"_setVersionMenuPopupWidth",null),t}(i.Component);t.GitVersionSelector=e});

define("VersionControl/Scenarios/Shared/GitRefDropdownSwitch",["require","exports","react","VSS/FeatureAvailability/Services","VSS/Flux/AsyncLoadedComponent","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","VersionControl/Scenarios/Shared/EnsurePageContext","VersionControl/Scenarios/Shared/GitVersionSelector","VersionControl/Scripts/TFS.VersionControl.VersionSpecs"],function(n,t,i,r,u,f,e,o,s){var h,c;Object.defineProperty(t,"__esModule",{value:!0});h=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.onVersionSelected=function(n){if(t.props.onSelectionChanged)t.props.onSelectionChanged(s.VersionSpec.parse(n))},t}return __extends(t,n),t.prototype.render=function(){var k=r.FeatureAvailabilityService.isFeatureEnabled(f.FeatureAvailabilityFlags.WebAccessVersionControlNewVersionDropdown,!1),n=this.props,h=n.className,u=n.repositoryContext,l=n.viewMyBranches,a=n.viewTagsPivot,v=n.viewCommitsPivot,y=n.isOpen,d=n.ariaLabelledBy,p=n.autoFocus,g=n.placeholderText,w=n.isDrodownFullWidth,s=n.versionSpec,b=n.onCreateBranchClick,nt=n.onSelectionChanged,t=n.onToggleDropdown;return i.createElement(e.EnsurePageContext,{forceFallback:!k,onFallback:function(){return i.createElement(o.GitVersionSelector,{className:h,repositoryContext:u,versionSpec:s,allowEditing:Boolean(b),isOpened:y,fullPopupWidth:w,focusOnLoad:p,disableMyBranches:!l,disableTags:!a,showCommits:v,onOpened:t&&function(){return t(!0)},onClosed:t&&function(){return t(!1)},onBranchChanged:nt})}},i.createElement(c,{className:h,isOpen:y,ariaLabelledBy:d,autoFocus:p,placeholderText:g,isDrodownFullWidth:w,onToggleDropdown:t,providerOptions:{repository:u.getRepository(),currentIdentityId:u.getTfsContext().currentIdentity.id,selectedVersionString:s&&s.toVersionString(),viewMyBranches:l,viewTagsPivot:a,viewCommitsPivot:v,onVersionSelected:this.onVersionSelected,onCreateBranchClick:b}}))},t.defaultProps={viewMyBranches:!0,viewTagsPivot:!0,viewCommitsPivot:!1},t}(i.PureComponent);t.GitRefDropdownSwitch=h;c=u.getAsyncLoadedComponent(["VC/Common/Components/VersionDropdown"],function(n){return n.VersionDropdown})});

define("VersionControl/Scenarios/Explorer/Components/Version",["require","exports","react","VersionControl/Scenarios/Explorer/Components/ChangesetVersion","VersionControl/Scenarios/Explorer/Components/Container","VersionControl/Scenarios/Shared/GitRefDropdownSwitch"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.VersionContainer=u.create(["version","context","permissions"],function(n,t){var u=n.versionState,h=n.repositoryContext,o=n.permissionsState,e=t.actionCreator,s;return o.isLoading?null:u.isGit?(s=u.allowEditing&&o.createBranch,i.createElement(f.GitRefDropdownSwitch,{className:"vc-branches-container",repositoryContext:h,viewMyBranches:o.viewMyBranches,versionSpec:u.versionSpec,isOpen:u.isBranchSelectorOpened,onToggleDropdown:e.toggleBranchSelector,onSelectionChanged:e.changeVersionFromSelector,onCreateBranchClick:s&&e.promptCreateBranch})):i.createElement(r.ChangesetVersion,{version:u.versionSpec&&u.versionSpec.toVersionString(),onShowLatestClick:function(){return e.goLatestChangeset("version-selector")}})})});

define("VersionControl/Scenarios/Explorer/Components/Header",["require","exports","react","VersionControl/Scenarios/Explorer/Components/BadgesRow","VersionControl/Scenarios/Explorer/Components/CodeHubActions","VersionControl/Scenarios/Explorer/Components/Container","VersionControl/Scenarios/Explorer/Components/FullScreenCommandBar","VersionControl/Scenarios/Explorer/Components/PathExplorer","VersionControl/Scenarios/Explorer/Components/StatusBadge","VersionControl/Scenarios/Explorer/Components/Version"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.Header=f.create(["context"],function(n,t){var f=n.isGit;return i.createElement("div",{className:"vc-header"},i.createElement("div",{className:"vc-header-first"},i.createElement(h.VersionContainer,__assign({},t)),i.createElement("div",{className:"vc-page-path-explorer"},i.createElement(o.PathExplorerContainer,__assign({},t))),i.createElement(s.StatusTextIconContainer,__assign({},t)),i.createElement(u.CodeHubActionsContainer,null),i.createElement(e.FullScreenCommandBarContainer,__assign({},t))),i.createElement(r.BadgesRowContainer,__assign({},t)))})});

define("Presentation/Scripts/TFS/Components/Tree/Tree",["require","exports","OfficeFabric/FocusZone","OfficeFabric/List","OfficeFabric/Spinner","OfficeFabric/Utilities","react","VSS/Utils/String","VSS/Utils/UI","VSSUI/ContextualMenuButton","VSS/LoaderPlugins/Css!fabric","VSS/LoaderPlugins/Css!Presentation/Components/Tree/Tree"],function(n,t,i,r,u,f,e,o,s,h){function b(n){return n.button!==0&&n.clientX>0&&n.clientY>0}function k(n){var t=n.items,i=n.selectedFullPath,r=n.pathComparer;return t&&i&&d(t,function(n){return r(n.fullName,i)===0})}function d(n,t){for(var i=0;i<n.length;i++)if(t(n[i]))return i}function g(n){return function(t){n();t.stopPropagation()}}function nt(n){return tt(n).map(function(n,t){return e.createElement(v,{key:t})})}function tt(n){return Array.apply(null,new Array(n))}var l,a,v;Object.defineProperty(t,"__esModule",{value:!0});var y=100,c=32,p=10,w=function(n){function t(t){var i=n.call(this,t)||this,r;return i.saveTreeDivRef=function(n){i.treeDiv=n},i.onContextMenuFocused=function(){var t,n,r;if(i.treeDiv)for(t=i.treeDiv.querySelectorAll('.tree-more-actions-button[tabindex="0"]'),n=0;n<t.length;n++)r=t[n],r.tabIndex=-1},i.saveListRef=function(n){i.list=n;i.applyPendingScroll()},i.scrollToSelectedIndex=function(){i.list.scrollToIndex(i.selectedIndex,function(){return c})},i.getPageHeight=function(){return p*c},i.onItemContextMenu=function(n,t){i.treeItemWithContextMenuOpen=n;i.contextualMenuTargetPoint=b(t)&&{x:t.clientX,y:t.clientY};i.list.forceUpdate();t.preventDefault()},i.onDismissContextualMenu=function(){i.treeItemWithContextMenuOpen=undefined;i.contextualMenuTargetPoint=undefined;i.list.forceUpdate()},i.setSelectedIndex(t),i.async=new f.Async,r=100,i.throttledScrollToSelectedIndex=i.async.debounce(i.scrollToSelectedIndex,r,{leading:!1}),i}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){(n.selectedFullPath!==this.props.selectedFullPath||n.items!==this.props.items)&&this.setSelectedIndex(n)},t.prototype.componentDidUpdate=function(){this.applyPendingScroll()},t.prototype.componentWillUnmount=function(){this.async.dispose();delete this.async},t.prototype.render=function(){var n=this,t=this.props.items;return e.createElement("div",{className:"tree",ref:this.saveTreeDivRef},e.createElement(i.FocusZone,{direction:i.FocusZoneDirection.bidirectional},e.createElement(r.List,{ref:this.saveListRef,items:t,getKey:function(n){return n.fullName},getPageHeight:this.getPageHeight,onShouldVirtualize:function(){return t&&t.length>y},role:"tree",onRenderCell:function(t,i){return e.createElement(l,{item:t,isSelected:i===n.selectedIndex,isCollapsible:!n.props.getItemIsCollapsible||n.props.getItemIsCollapsible(t),isContextualMenuOpen:n.treeItemWithContextMenuOpen===t,isDisabled:n.props.getItemIsDisabled&&n.props.getItemIsDisabled(t),contextualMenuTargetPoint:n.contextualMenuTargetPoint,hasCommands:n.props.getItemCommands&&(!n.props.getItemHasCommands||n.props.getItemHasCommands(t)),getCommands:n.props.getItemCommands&&function(){return n.props.getItemCommands(t)},getItemProviders:n.props.getMenuItemProviders&&function(){return n.props.getMenuItemProviders(t)},onRenderItem:n.props.onRenderItem,onSelected:function(){return n.props.onItemSelected(t.fullName,t.depth)},onOpenInNewTab:n.props.onOpenInNewTab,onExpandToggled:function(){return t.expanded?n.props.onItemCollapse(t.fullName):n.props.onItemExpand(t.fullName)},onItemContextMenu:n.onItemContextMenu,onDismissContextualMenu:n.onDismissContextualMenu,onItemKeyDown:n.props.onItemKeyDown,onContextMenuFocused:n.onContextMenuFocused,clickOnSelectedNodeBehavior:n.props.clickOnSelectedNodeBehavior})}})))},t.prototype.forceUpdate=function(){n.prototype.forceUpdate.call(this);this.list&&this.list.forceUpdate()},t.prototype.setSelectedIndex=function(n){var t=k(n),i=t>0||this.selectedIndex>0;this.selectedIndex=t;this.isPendingScrollToSelected=this.isPendingScrollToSelected||i},t.prototype.applyPendingScroll=function(){this.isPendingScrollToSelected&&this.list&&this.selectedIndex!==undefined&&(this.throttledScrollToSelectedIndex(),this.isPendingScrollToSelected=!1)},t.defaultProps={pathComparer:o.ignoreCaseComparer},t}(e.PureComponent);t.Tree=w;l=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={isFocused:!1},t.handleNodeKeyDown=function(n){if(t.props.onItemKeyDown)t.props.onItemKeyDown(t.props.item,n);if(!n.isPropagationStopped()){var i=t.props,r=i.item,u=r.isFolder,f=r.expanded,o=i.isCollapsible,e=i.onExpandToggled;n.keyCode===s.KeyCode.LEFT?u&&f&&o&&(e(),n.stopPropagation(),n.preventDefault()):n.keyCode===s.KeyCode.RIGHT&&u&&!f&&(e(),n.stopPropagation(),n.preventDefault())}},t.onNodeSelected=function(n){if(t.props.onOpenInNewTab&&t.shouldOpenInNewTab(n))t.props.onOpenInNewTab(t.props.item.fullName);else t.props.clickOnSelectedNodeBehavior==="toggle"&&t.props.isSelected&&t.props.isCollapsible?t.props.onExpandToggled():t.props.onSelected()},t.shouldOpenInNewTab=function(n){return n.ctrlKey||n.metaKey&&s.BrowserCheckUtils.isSafari()||n.button===1&&s.BrowserCheckUtils.isFirefox()},t.onContextMenu=function(n){t.props.onItemContextMenu(t.props.item,n)},t}return __extends(t,n),t.prototype.render=function(){var n=this;return e.createElement("div",{className:"tree-row","data-is-focusable":!0,role:"treeitem","aria-disabled":this.props.isDisabled,"aria-level":this.props.item.depth+1,"aria-expanded":this._getAriaExpanded(),"aria-selected":this.props.isSelected,"aria-label":this.props.item.name||this.props.item.fullName,"aria-setsize":this.props.item.setSize,"aria-posinset":this.props.item.indexInParent+1,onKeyDown:this.handleNodeKeyDown,onClick:!this.props.isDisabled&&this.onNodeSelected,onFocusCapture:function(){return n.setState({isFocused:!0})},onBlurCapture:function(){return n.setState({isFocused:!1})},onContextMenu:this.onContextMenu},nt(this.props.item.depth),this.props.item.isFolder&&this.props.isCollapsible?e.createElement(a,{isExpanding:this.props.item.expanding,onClick:this.props.onExpandToggled}):e.createElement("span",{className:"expand-icon-no"}),this.props.onRenderItem(this.props.item,{isFocused:this.state.isFocused}),this.props.hasCommands&&this.props.getCommands&&e.createElement(h.MoreActionsButton,{className:"tree-more-actions-button",getItems:this.props.getCommands,getItemProviders:this.props.getItemProviders,isOpen:this.props.isContextualMenuOpen,onDismiss:this.props.onDismissContextualMenu,target:this.props.contextualMenuTargetPoint,tabIndex:-1,onFocus:this.props.onContextMenuFocused,showTooltip:!1}))},t.prototype._getAriaExpanded=function(){return this.props.isCollapsible&&this.props.item.isFolder?this.props.item.expanded||this.props.item.expanding:null},t.defaultProps={clickOnSelectedNodeBehavior:"toggle"},t}(e.PureComponent);a=function(n){return n.isExpanding?e.createElement(u.Spinner,{className:"expanding-icon"}):e.createElement("span",{className:"expand-icon bowtie-icon bowtie-chevron-right",onClick:g(n.onClick)})};v=function(){return e.createElement("span",{className:"tree-left-spacer"})}});

define("VSSPreview/Providers/ContributableMenuItemProvider",["require","exports","q","OfficeFabric/components/Icon/Icon.types","VSS/Context","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Diag","VSS/Service","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h){var l,c;Object.defineProperty(t,"__esModule",{value:!0});l=function(){function n(n,t,i,r,f){this._promise=null;this._menuItems=[];this._webContext=i||u.getDefaultWebContext();this._ids=n||[];this._queryOptions=r||e.ContributionQueryOptions.IncludeRecursiveTargets;this._extensionService=s.getService(e.ExtensionService);this._extensionContext=t;this._providerOptions=f;this._extensionContext||o.logError("Extensions won't get context object since extensionContext of IContributionData is null")}return n.prototype.loadItems=function(n){var t=this;this._callback=n;this._getContributions().then(function(n){var r=[];return n.forEach(function(n){r.push(t._getContextualMenuItemsFromContributionWithSource(n))}),i.allSettled(r).then(function(n){var i=[];n.forEach(function(n){n.value&&n.value.length&&n.value.forEach(function(n){n.item.hidden||i.push(n)})});t._onMenuItemsUpdated(i)})},function(n){o.logInfo("Failed to load one or more contributed menu items: "+h.getErrorMessage(n))})},n.prototype.refresh=function(){this._callback&&this.loadItems(this._callback)},n.prototype._onMenuItemsUpdated=function(n){function e(n,t){if(n.contributedMenuItem&&t.contributedMenuItem){var i=n.contributedMenuItem,r=t.contributedMenuItem;return i.id||r.id?i.id===r.id:i.text||r.text?i.text===r.text:i.title||r.title?i.title===r.title:!1}return n.contribution.id===t.contribution.id}for(var r,i,u,f,t=n.length-1;t>=0;t--)for(r=n[t],i=0,u=this._menuItems;i<u.length;i++)f=u[i],e(r,f)&&(f.item=r.item,n.splice(t,1));n.length>0&&(this._menuItems=this._menuItems.concat(n));this._callback(this._menuItems.map(function(n){return n.item}))},n.prototype._getContextualMenuItemsFromContributionWithSource=function(n){var r=this,t,u;return n.source?(t=i.defer(),$.isFunction(n.source.getMenuItems)?(u=$.extend({updateMenuItems:function(t){r._updateContributedMenuItems(t,n)}},this._getExtensionContext(n.contribution)),Promise.resolve(n.source.getMenuItems(u)).then(function(u){u&&u.length?i.all(u.map(function(t){return r._getContextualMenuItemFromContributedMenuItemWithSource(t,n.contribution,n.source)})).then(function(n){t.resolve(n)}):t.resolve([])},t.reject)):this._getContextualMenuItemFromContribution(n.contribution,n.source).then(function(n){t.resolve([n])}),i.timeout(t.promise,c._contributionGetItemsTimeout,"Timed-out waiting for getMenuItems call from contribution: "+n.contribution.id)):this._immediateInstanceRequired(n.contribution)?i.resolve([]):this._getContextualMenuItemFromContribution(n.contribution,n.source).then(function(n){return[n]})},n.prototype._updateContributedMenuItems=function(n,t){var r=this;i.all(n.map(function(n){return r._getContextualMenuItemFromContributedMenuItemWithSource(n,t.contribution,t.source)})).then(function(n){r._onMenuItemsUpdated(n)})},n.prototype._getContextualMenuItemFromContribution=function(n,t){var r=this,f=n.properties.text||null,u=n.properties.title||null,o=i("");return typeof n.properties.icon=="string"&&(o=e.ExtensionHelper.resolveUriTemplateProperty(n,this._webContext,"icon")),o.then(function(i){var e={key:n.id||f||u,name:f||u,title:u,iconProps:r._getIconProps(i),onClick:r._getMenuAction(n,t,null)};return r._overrideMenuItemProps(e,n),{item:e,contribution:n}})},n.prototype._getContextualMenuItemFromContributedMenuItemWithSource=function(n,t,r){var s=this,u=this._getContextualMenuItemFromContributedMenuItem(n,t),f,o;return u.onClick=this._getMenuAction(t,r,n.action),f=i(""),o=this._extensionService.getBaseUri(t),typeof n.icon=="string"&&(f=e.ExtensionHelper.resolveUriTemplate(n.icon,this._webContext,o)),f.then(function(i){return u.iconProps=s._getIconProps(i),{item:u,contribution:t,contributedMenuItem:n}})},n.prototype._getContextualMenuItemFromContributedMenuItem=function(n,t,r){var f=this,u,e;return r===void 0&&(r=null),u={key:n.id||n.text||n.title,name:n.text||n.title,title:n.title,href:n.href,disabled:n.disabled,hidden:n.hidden,rank:n.rank},r||(r={item:u,contribution:t,contributedMenuItem:n}),$.isFunction(n.action)&&(u.onClick=function(){n.action(f._getExtensionContext(t))}),this._overrideMenuItemProps(u,t),n.childItems&&!u.hidden&&($.isArray(n.childItems)?u.items=n.childItems.map(function(n){return f._getContextualMenuItemFromContributedMenuItem(n,t,r)}):i.isPromise(n.childItems)&&(e=n.childItems,e.then(function(n){var i=n.map(function(n){return f._getContextualMenuItemFromContributedMenuItem(n,t,r)});u.items=i;f._onMenuItemsUpdated([r])}))),u},n.prototype._overrideMenuItemProps=function(n,t){this._providerOptions&&this._providerOptions.overrideMenuItemProps&&this._providerOptions.overrideMenuItemProps(n,t)},n.prototype._getContributions=function(){var n=this;return this._promise||(this._promise=this._ids.length>0?this._extensionService.queryContributions(this._ids,this._queryOptions).then(function(t){var r=i.defer(),u=[];return t.forEach(function(t){var i=n._getContributionWithSource(t);i&&u.push(i)}),i.allSettled(u).then(function(n){var t=[];n.forEach(function(n){n.state==="rejected"&&o.logError(n.reason);n.state==="fulfilled"&&n.value&&t.push(n.value)});r.resolve(t)},r.reject),r.promise}):i.resolve([])),this._promise},n.prototype._getContributionWithSource=function(n){var t=n.id||"";return this._immediateInstanceRequired(n)?f.getBackgroundInstance(n,n.properties.registeredObjectId||t,this._webContext,this._webContext,c._contributionSourceTimeout,"Timed-out waiting for menu source provider for contribution: "+t).then(function(t){return{contribution:n,source:t}}):n.type===c.ACTION_TYPE||n.type===c.HYPERLINK_ACTION_TYPE?i.resolve({contribution:n}):null},n.prototype._getIconProps=function(n){var t={className:"icon"},u,i;return n?n.match(/^https?:\/\//)?(t.imageProps={src:n,style:{width:14,height:14}},t.iconType=r.IconType.image):n.match(/^css:\/\//)?(u="vsts-fabric-contextual-menu-icon",i=n.substring(6),i.indexOf("bowtie-icon")>=0&&i.indexOf(u)<0&&(o.logInfo("Missing: "+u+" for '"+n+"' autocorrecting now..."),i+=" "+u),t.className=i):n.match(/^fabric:\/\//)?(i=n.substring(9),t.iconName=i,t.className=undefined,t.iconType=r.IconType.default):o.logError("Icon String: "+n+" is neither an external image url (https://) or internal icon (css:// or fabric://)."):t=null,t},n.prototype._getMenuAction=function(n,t,i){var r=this,u;return!i&&n.type===c.ACTION_TYPE?function(){f.getBackgroundInstance(n,n.properties.registeredObjectId||n.id,r._webContext,r._webContext,c._contributionSourceTimeout,"Timed-out waiting for menu action: "+n.id).then(function(t){t.execute(r._getExtensionContext(n))})}:$.isFunction(i)?function(){e.ExtensionHelper.publishTraceData(n);i(r._getExtensionContext(n))}:n.properties.targetUri?function(){var t=r._extensionService.getBaseUri(n),i=e.ExtensionHelper.resolveUriTemplate(n.properties.targetUri,r._extensionContext,t);i.then(function(t){e.ExtensionHelper.publishTraceData(n,t);window.location.href=t})}:t&&$.isFunction(t.execute)?function(){e.ExtensionHelper.publishTraceData(n);t.execute(r._getExtensionContext(n))}:u},n.prototype._immediateInstanceRequired=function(n){return n.id&&e.ExtensionHelper.hasContent(n)},n.prototype._getExtensionContext=function(n){return typeof this._extensionContext=="function"?this._extensionContext(n):this._extensionContext},n.ACTION_TYPE="ms.vss-web.action",n.HYPERLINK_ACTION_TYPE="ms.vss-web.hyperlink-action",n._contributionSourceTimeout=5e3,n._contributionGetItemsTimeout=2e3,n}();t.BaseContributableMenuItemProvider=l;c=function(n){function t(t,i,r,u){return n.call(this,t,i,r,u)||this}return __extends(t,n),t}(l);t.ContributableMenuItemProvider=c});

define("VersionControl/Scenarios/Explorer/Commands/ItemContribution",["require","exports","VSSPreview/Providers/ContributableMenuItemProvider","VersionControl/Scripts/RepositoryContext"],function(n,t,i,r){function f(n,t,f,e){var o=f.getRepositoryType()===r.RepositoryType.Git,s={gitRepository:o?f.getRepository():null,item:{sourceProvider:o?"Git":"Tfvc",path:n.serverItem,url:n.url,isFolder:n.isFolder,isSymLink:n.isSymLink,item:n,_links:null,content:null,contentMetadata:null},version:t.toDisplayText()};return new i.ContributableMenuItemProvider([u.item,e],__assign({getSourceItemContext:function(){return s}},s))}Object.defineProperty(t,"__esModule",{value:!0});var u;(function(n){n.item="ms.vss-code-web.source-item-menu";n.treeItem="ms.vss-code-web.source-tree-item-menu";n.gridItem="ms.vss-code-web.source-grid-item-menu"})(u=t.ContributionNames||(t.ContributionNames={}));t.getFilesItemProvider=f});

define("Presentation/Scripts/TFS/Components/HighlightableSpan",["require","exports","react"],function(n,t,i){function r(n){for(var r=n.text,f=n.highlight,e=r.toLocaleLowerCase().split(f.toLocaleLowerCase()),i=u(r,f.length),t=0;t<e.length;t++)t>0&&i.addMarker(),i.addRegular(e[t].length);return i.results}function u(n,t){function f(n,t){u.push(t||n);r+=n.length}var u=[],r=0;return{addRegular:function(t){f(n.substr(r,t))},addMarker:function(){var u=n.substr(r,t);f(u,i.createElement("mark",{key:r},u))},results:u}}Object.defineProperty(t,"__esModule",{value:!0});t.HighlightableSpan=function(n){return n.highlight?i.createElement("span",{className:n.className},r(n)):i.createElement("span",{className:n.className},n.text)}});

define("Presentation/Scripts/TFS/Components/Tree/ControlledTooltipHost",["require","exports","OfficeFabric/Utilities","VSSUI/Tooltip","react"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={isTooltipVisible:!1},t.onFocused=function(){var n=t.getTargetElement();(t.props.overflowMode===undefined||!n||i.hasOverflow(n))&&t.toggleTooltip(!0)},t.onLeft=function(){t.toggleTooltip(!1)},t.onDismiss=function(){t.toggleTooltip(!1)},t}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){n.isFocused!==this.props.isFocused&&(n.isFocused?this.onFocused():this.onLeft())},t.prototype.componentDidMount=function(){this.props.isFocused&&this.onFocused()},t.prototype.render=function(){var o=this,n=this.props,s=n.className,h=n.calloutProps,t=n.content,c=n.children,l=n.directionalHint,a=n.hasLongDelay,f=this.state.isTooltipVisible,e=i.getId("tooltip");return u.createElement("div",__assign({},i.getNativeProps(this.props,i.divProperties),{className:s,ref:function(n){return o.root=n},onFocusCapture:this.onFocused,onBlurCapture:this.onLeft,onMouseEnter:this.onFocused,onMouseLeave:this.onLeft,"aria-describedby":f&&t?e:undefined}),c,f&&u.createElement(r.Tooltip,{id:e,content:t,delay:a&&r.TooltipDelay.long,targetElement:this.getTargetElement(),directionalHint:l,calloutProps:__assign({},h,{onDismiss:this.onDismiss})}))},t.prototype.getTargetElement=function(){return this.props.overflowMode===r.TooltipOverflowMode.Parent?this.root.parentElement:this.root},t.prototype.toggleTooltip=function(n){this.setState({isTooltipVisible:n})},t}(u.Component);t.ControlledTooltipHost=f});

define("Presentation/Scripts/TFS/Components/Tree/TreeCell",["require","exports","OfficeFabric/Link","VSSUI/Tooltip","OfficeFabric/Utilities","react","Presentation/Scripts/TFS/Components/HighlightableSpan","Presentation/Scripts/TFS/Components/Tree/ControlledTooltipHost","VSS/LoaderPlugins/Css!Presentation/Components/Tree/TreeCell"],function(n,t,i,r,u,f,e,o){function c(n,t){return t.isDirty?n+" *":n}function l(n,t){return t.isDelete?f.createElement("span",{className:u.css({"deleted-item":t.isDelete})}," ",n," "):n}function a(n,t){return t.highlightText?f.createElement(e.HighlightableSpan,{className:"tree-cell-highlighted-span",text:n,highlight:t.highlightText}):n}function s(n){return l(a(c(n.name,n),n),n)}Object.defineProperty(t,"__esModule",{value:!0});var h={className:"vc-tree-cell-callout",isBeakVisible:!1};t.TreeCell=function(n){return f.createElement(o.ControlledTooltipHost,{className:u.css("vc-tree-cell",n.className),"aria-label":n.name,overflowMode:n.title?undefined:r.TooltipOverflowMode.Self,content:n.title||n.name,isFocused:n.isFocused,calloutProps:h,hasLongDelay:!0},n.iconUrl?f.createElement("span",{className:"type-icon"},f.createElement("img",{className:n.iconClass,src:n.iconUrl,alt:""})):f.createElement("span",{className:"type-icon bowtie-icon "+n.iconClass}),n.fileUrl?f.createElement(i.Link,{className:"file-name",href:n.fileUrl},s(n)):f.createElement("span",{className:"file-name"},s(n)),n.decorators)}});

define("VersionControl/Scenarios/Explorer/Components/FileNameCell",["require","exports","react","Presentation/Scripts/TFS/Components/Tree/DropTarget","Presentation/Scripts/TFS/Components/Tree/TreeCell","VSS/LoaderPlugins/Css!VersionControl/FileNameCell"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.FileNameCell=function(n){return i.createElement(r.FileDropTarget,{className:"vc-file-name-cell-drop-target",isEnabled:n.canDrop,onFilesDrop:n.onFilesDrop},i.createElement(u.TreeCell,__assign({},n)))}});

define("VersionControl/Scenarios/Shared/Path/PathParser",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i="/",r="$",u=new RegExp(i+"|\\\\"),f=function(){function n(n){if(this.fullPath=n,this.lastPartName="",!n){this.folders=[];this.isRoot=!0;return}var t=n.split(u);this.rootPartsCount=this.getRootParts(t);this.folders=t.slice(this.rootPartsCount);this.isRoot=this.folders.length===0;this.isRoot||(this.lastPartName=t[t.length-1],this.folders=this.folders.slice(0,this.folders.length-1))}return n.prototype.getFolderPath=function(n){return this.fullPath&&this.fullPath.split(i).slice(0,n+this.rootPartsCount+1).join(i)},n.prototype.getRootPath=function(){return this.fullPath==="$/"?"$":this.getFolderPath(-1)},n.prototype.getRootParts=function(n){var t;return t=n[0]===r?2:n[0]===""?1:0,n[t]===""&&t++,t},n}();t.PathParser=f});

define("VersionControl/Scenarios/Explorer/Components/Tree",["require","exports","react","VSS/Utils/String","Presentation/Scripts/TFS/Components/Tree/Tree","VersionControl/Scenarios/Explorer/Commands/ItemCommands","VersionControl/Scenarios/Explorer/Commands/ItemContribution","VersionControl/Scenarios/Explorer/Components/Container","VersionControl/Scenarios/Explorer/Components/FileNameCell","VersionControl/Scenarios/Shared/Path/PathParser","VSS/LoaderPlugins/Css!VersionControl/FilesTree"],function(n,t,i,r,u,f,e,o,s,h){function a(n){var i=n.selectedFullPath,e=n.isGit,o=n.items,t,u,f;if(e)return i;for(t=0,u=o;t<u.length;t++)if(f=u[t],r.ignoreCaseComparer(f.fullName,i)===0)return f.fullName;return i}function v(n,t,i){return i&&n.depth===0?t:n.name}function l(n){return n.fullName==="$"?"$/":n.fullName||"/"}function y(n){return n.fullName!=="$"}Object.defineProperty(t,"__esModule",{value:!0});t.TreeContainer=o.create(["knownItems","fileContent","permissions","path","version","extensions","smartFolderTree"],function(n,t){var o=n.knownItemsState,r=n.fileContentState,v=n.permissionsState,u=n.pathState,y=n.versionSpec,p=n.extensionsState,w=n.treeState,b=n.repositoryContext,k=n.isGit,e=t.actionCreator,s=w.visibleItems;e.notifyTreeRendered(s.length);var l=r.allowEditingFeatures&&r.allowEditingVersion,a=v.createOrModifyFiles,d=function(n){var t=n.fullName||"/",i=o.knownItems[t],s=new h.PathParser(t);return f.getCommands({allowEditing:l,hasEditPermissions:a,item:i,isCurrentItem:u.path===t,isEditing:r.isEditing,isDirty:u.isDirty,isNewFile:r.isNewFile,isRoot:s.isRoot,isGit:k,isTooBigToEdit:r.isTooBigToEdit,uiSource:"tree-context-menu",actionCreator:e,extraCommands:p.extraCommands})};return i.createElement(c,{items:s,itemsIconClasses:o.iconClasses,selectedFullPath:u.path,versionSpec:y,repositoryContext:b,knownItems:o.knownItems,isDirty:u.isDirty,isNewFile:r.isNewFile,rootName:u.repositoryName,rootPath:r.rootPath,isGit:u.isGit,allowEditing:l,hasEditPermissions:a,onItemSelected:function(n){return e.changePath(n,undefined,"item-selected-in-tree")},onItemExpand:e.expandTreeItem,onItemCollapse:e.collapseTreeItem,onFilesDrop:function(n,t){return e.promptUploadFiles(n,"drop-in-tree",t)},getItemCommands:d})});var c=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.getItemIsCollapsible=function(n){if(t.props.rootPath===n.fullName)return!1;var i=t.getItem(n);return!i||!i.childItems||i.childItems.length>0},t.onRenderItem=function(n,r){var f=v(n,t.props.rootName,t.props.isGit),u=l(n),e=t.props.selectedFullPath===u,o=t.getItem(n);return i.createElement(s.FileNameCell,__assign({},r,{name:f,iconClass:t.props.itemsIconClasses[u],item:o,isDirty:e&&t.props.isDirty,canDrop:t.props.allowEditing&&t.props.hasEditPermissions&&n.isFolder,onFilesDrop:function(n){return t.props.onFilesDrop&&t.props.onFilesDrop(u,n)}}))},t.getMenuItemProviders=function(n){return[e.getFilesItemProvider(t.getItem(n),t.props.versionSpec,t.props.repositoryContext,e.ContributionNames.treeItem)]},t}return __extends(t,n),t.prototype.render=function(){return i.createElement(u.Tree,{items:this.props.items,selectedFullPath:a(this.props),pathComparer:this.props.isGit?r.defaultComparer:r.ignoreCaseComparer,onItemSelected:this.props.onItemSelected,onItemExpand:this.props.onItemExpand,onItemCollapse:this.props.onItemCollapse,onRenderItem:this.onRenderItem,getItemIsCollapsible:this.getItemIsCollapsible,getItemCommands:this.props.getItemCommands,getMenuItemProviders:this.getMenuItemProviders,getItemIsDisabled:this.props.getItemIsDisabled,getItemHasCommands:this.props.getItemHasCommands||y})},t.prototype.getItem=function(n){return this.props.knownItems[l(n)]},t}(i.PureComponent);t.Tree=c});

define("VersionControl/Scenarios/Explorer/Components/SaveInfoBanner",["require","exports","react","VSS/Utils/String","VSS/Utils/UI","VersionControl/Scripts/GitRepositoryContext","VersionControl/Scripts/RepositoryContext","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/VersionControlUrls","VersionControl/Scenarios/Shared/FpsLink","VersionControl/Scripts/CodeHubContributionIds"],function(n,t,i,r,u,f,e,o,s,h,c){function y(n){var t,i;return n.repositoryContext.getRepositoryType()===e.RepositoryType.Git?(t=n.saveInfo.newRealVersionSpec,{url:s.getCommitUrl(n.repositoryContext,t.commitId),targetHubId:c.CodeHubContributionIds.historyHub,text:r.format(o.CommitSuccessLinkFormat,t.getShortCommitId(),n.saveInfo.comment),tooltip:o.CommitTooltipMessage,prefixMessage:n.saveInfo.newBranchVersionSpec?r.format(o.CommitToNewBranchSuccessMessageHtml,u.htmlEncode(n.saveInfo.newBranchVersionSpec.branchName)):o.CommitSuccessMessageHtml}):(i=n.saveInfo.newRealVersionSpec,{url:s.getChangesetUrl(i.changeset),targetHubId:c.CodeHubContributionIds.changesetsHub,text:r.format(o.CheckinSuccessLinkFormat,i.changeset,n.saveInfo.comment),tooltip:o.CheckinSuccessfulMessage,prefixMessage:o.CheckinSuccessMessageHtml})}function p(n){if(n.repositoryContext.getRepositoryType()===e.RepositoryType.Git){if(n.saveInfo.newBranchVersionSpec)return n.saveInfo.newBranchVersionSpec.branchName;if(!n.saveInfo.existingPullRequest)return n.versionSpec.branchName}}Object.defineProperty(t,"__esModule",{value:!0});t.SaveInfoBanner=function(n){var r=p(n),t=r&&n.canCreatePullRequest&&s.getCreatePullRequestUrl(n.repositoryContext,r),u=t||n.saveInfo.existingPullRequest;return i.createElement("span",{className:"commit-success-message"},i.createElement(l,__assign({},y(n))),u&&" \u2014 ",t&&i.createElement(a,{url:t}),n.saveInfo.existingPullRequest&&i.createElement(v,__assign({},n)))};var l=function(n){var t=n.prefixMessage,r=n.url,u=n.tooltip,f=n.text,e=n.targetHubId;return i.createElement("span",{className:"limited-text"},t,i.createElement(h.FpsLink,{targetHubId:e,href:r,title:u},i.createElement("div",{className:"bowtie-icon bowtie-tfvc-commit"}),i.createElement("span",null,f)))},a=function(n){var t=n.url;return i.createElement(h.FpsLink,{targetHubId:c.CodeHubContributionIds.pullRequestHub,className:"limited-text",href:t},o.CreatePullRequestLabel)},v=function(n){var t=n.saveInfo.existingPullRequest;return t&&i.createElement("span",null,o.UpdatedExistingPullRequestAfterCommit,i.createElement(h.FpsLink,{targetHubId:c.CodeHubContributionIds.pullRequestHub,className:"limited-text",href:s.getPullRequestUrl(f.GitRepositoryContext.create(t.repository,n.repositoryContext.getTfsContext()),t.pullRequestId)},i.createElement("span",{className:"bowtie-icon bowtie-tfvc-pull-request"}),t.title))}});

define("Favorites/Resources/TFS.Resources.Favorites",["require","exports"],function(require,exports){var e=exports;e.FavoriteItemPickerNoItemsMessage="Use the {0} to add favorites here";e.FavoriteItemPickerStarAriaLabel="star button";e.FavoriteItemPickerAriaDescription="Use right arrow to toggle favorite status.";e.FavoriteStarUnfavoritedTitle="Add to favorites";e.FavoriteItemPickerSearchHeader="Global search results";e.FavoriteItemPickerSearchNoResults="No favorites found";e.FavoriteStarFavoritedTitle="Remove from favorites";e.FavoriteItemPickerGroupHeader="Favorites";e.FavoriteLabel="Favorite";e.FavoriteItemPickerSearchText="Search favorites";e.FavoriteItemPickerBrowseAllText="Browse all items";e.FavoriteItemPickerLoadingMessage="Loading favorites...";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("Favorites/Controls/FavoriteStar",["require","exports","react","VSS/Utils/UI","Favorites/Resources/TFS.Resources.Favorites","VSSUI/Tooltip","Favorites/FavoritesService","VSS/LoaderPlugins/Css!Favorites"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.FavoriteStar=function(n){var s=function(t){(t.which===r.KeyCode.ENTER||t.which===r.KeyCode.SPACE)&&(n.onToggle(),t.preventDefault(),t.stopPropagation())},h=function(t){n.onToggle();t.currentTarget.blur();t.preventDefault();t.stopPropagation()},t="starbutton bowtie-icon",o;return(n.className&&(t=t+" "+n.className),!e.canUseFavorites())?i.createElement("div",{className:t}):(t+=n.isDeleted?" bowtie-edit-remove":n.isFavorite?" bowtie-favorite":" bowtie-favorite-outline",o=n.isFavorite?u.FavoriteStarFavoritedTitle:u.FavoriteStarUnfavoritedTitle,i.createElement(f.TooltipHost,{content:o},i.createElement("div",{title:n.title||null,"aria-label":o,"aria-pressed":n.isFavorite,tabIndex:0,role:"button",className:t,onClick:h,onKeyDown:s})))}});

define("VersionControl/Scripts/Utils/Format",["require","exports","react"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var n,r,e,t,s,f,h,o,u;if(!this.props.format)return null;for(n=this.props.format.split(/\{(?=[0-9]+\})/),r=[],n[0].length&&r.push(n[0]),e=i.Children.toArray(this.props.children),s=n.length,t=1;t<s;++t)f=parseInt(n[t]),f>=0&&f<e.length&&r.push(e[f]),h=n[t].indexOf("}"),o=n[t].substr(h+1),o.length&&r.push(o);return u=$.extend({},this.props),delete u.format,delete u.elementType,delete u.children,i.createElement(this.props.elementType?this.props.elementType:"span",u,r)},t}(i.Component);t.FormattedComponent=r});

define("VersionControl/Scripts/Components/PullRequestReview/RetargetDialog",["require","exports","react","OfficeFabric/Button","OfficeFabric/Dialog","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scenarios/Shared/GitRefDropdownSwitch","VSS/Utils/String","OfficeFabric/Utilities","OfficeFabric/Styling","OfficeFabric/Label","VSS/Telemetry/Services","VersionControl/Scripts/CustomerIntelligenceConstants","OfficeFabric/MessageBar","VSS/LoaderPlugins/Css!VersionControl/RetargetDialog"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});var y=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r._onBranchChanged=function(n){var t=!1,i=undefined;n?o.equals(n.toFullName(),r.props.currentTargetBranchRefName)?(t=!0,i=o.format(f.PullRequest_Retarget_AlreadyTargetedError,n.toFriendlyName())):r.props.sourceRepositoryContext.getRepositoryId()===r.props.targetRepositoryContext.getRepositoryId()&&o.equals(n.toFullName(),r.props.sourceBranchRefName)?(t=!0,i=f.PullRequest_Retarget_SameAsSourceError):t=!1:t=!0;r.setState({retargetDisabled:t,errorString:i,newTarget:n})},r._onRetarget=function(){if(r.state.newTarget){var n=new l.TelemetryEventData(a.VERSION_CONTROL_AREA,a.PULL_REQUEST_RETARGET_FEATURE,{});l.publishEvent(n);r.props.onRetarget(r.state.newTarget.toFullName())}r.props.onDismiss()},r.state={retargetDisabled:!0},r}return __extends(t,n),t.prototype.render=function(){return i.createElement(u.Dialog,{hidden:!1,modalProps:{className:"vc-pr-retarget-dialog",containerClassName:"vc-pr-retarget-dialog-container vc-dialog",isBlocking:!0},dialogContentProps:{type:u.DialogType.close},onDismiss:this.props.onDismiss,title:f.PullRequest_Retarget_Title,closeButtonAriaLabel:f.Cancel},i.createElement("div",{className:"vc-pr-target-dialog-content"},this._content(),this._errorMessage()),i.createElement(u.DialogFooter,null,i.createElement(r.PrimaryButton,{disabled:this.state.retargetDisabled,onClick:this._onRetarget},f.Change),i.createElement(r.DefaultButton,{onClick:this.props.onDismiss},f.Cancel)))},t.prototype._content=function(){return i.createElement(i.Fragment,null,this.props.autoCompleteSet&&this._autoCompleteWarning(),i.createElement(c.Label,{id:"target-selector-label"},f.PullRequest_Retarget_TargetBranchLabel),i.createElement(e.GitRefDropdownSwitch,{isDrodownFullWidth:!0,className:"vc-pr-retarget-branch-selector",repositoryContext:this.props.targetRepositoryContext,versionSpec:this.state.newTarget,onSelectionChanged:this._onBranchChanged,viewTagsPivot:!1,ariaLabelledBy:"target-selector-label"}))},t.prototype._autoCompleteWarning=function(){return i.createElement(v.MessageBar,{messageBarType:v.MessageBarType.warning},f.PullRequest_Retarget_AutocompleteCancelWarning)},t.prototype._errorMessage=function(){return this.state.errorString?i.createElement("div",{"aria-live":"assertive"},i.createElement(s.DelayedRender,null,i.createElement("span",{className:s.css("vc-pr-retarget-errormessage",h.AnimationClassNames.slideDownIn20),"data-automation-id":"error-message"},this.state.errorString))):null},t}(i.PureComponent);t.RetargetDialog=y});

var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__rest=this&&this.__rest||function(n,t){var u={},r;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(u[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&(u[i[r]]=n[i[r]]);return u};define("VersionControl/Scenarios/Shared/PullRequest/PullRequestBranchDetail",["require","exports","react","OfficeFabric/Link","VSSUI/Tooltip","OfficeFabric/Utilities","OfficeFabric/Button","Favorites/Controls/FavoriteStar","VersionControl/Scripts/CodeHubContributionIds","VersionControl/Scripts/Resources/TFS.Resources.Branches","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/Utils/Format","VersionControl/Scripts/Utils/XhrNavigationUtils","VersionControl/Scripts/Components/PullRequestReview/RetargetDialog","OfficeFabric/Spinner","VSS/LoaderPlugins/Css!VersionControl/PullRequestBranchDetail"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p,w,b;Object.defineProperty(t,"__esModule",{value:!0});p=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._onLinkClick=function(n){var t=n.currentTarget.href;a.onClickNavigationHandler(n,s.CodeHubContributionIds.gitFilesHub,t)},t}return __extends(t,n),t.prototype.render=function(){var t=[],u=f.getNativeProps(this.props,f.divProperties),p=u.className,w=__rest(u,["className"]),n=this.props,e=n.repositoryUrl,s=n.repositoryName,l=n.repositoryTooltip,k=n.repositoryClass,a=n.branchExplorerUrl,v=n.branchName,y=n.branchLabel,d=n.showRepository;return this.props.showRepository&&(t.push(i.createElement("span",{key:"repoIcon",className:f.css("bowtie-icon",k),role:"img","aria-label":c.RelatedArtifactRepositoryTitle})),e?t.push(i.createElement(r.Link,{key:"repoLink",className:"vc-pullrequest-repoLink",href:e,title:l},s)):t.push(i.createElement("span",{key:"repoSpan",className:"vc-pullrequest-repoLink",title:l},s))),t.push(i.createElement("span",{key:"branchIcon",className:"bowtie-icon bowtie-tfvc-branch",role:"img","aria-label":c.RelatedArtifactBranchTitle})),a?t.push(i.createElement(b,{key:"branchLink",className:"branch-link",onClick:d?null:this._onLinkClick,branchUrl:a,branchLabel:y,branchFriendlyName:v})):t.push(i.createElement("span",{className:"branch-link",key:"branchSpan",title:y},v)),i.createElement("span",__assign({className:f.css("inner-padding-span","vc-pullrequest-branchLink",p)},w),t,this.props.showBranchFavorite&&i.createElement(o.FavoriteStar,{onToggle:this.props.onToggleBranchFavorite,isFavorite:this.props.isBranchFavorite,arialabel:h.FavoriteMenuItemLabel}))},t}(i.Component);t.BranchDetail=p;w=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.onToggleSourceBranchFavorite=function(){r.onToggleBranchFavorite(r.props.pullRequestInfo.sourceBranchRefName,r.props.pullRequestInfo.sourceBranchFavoriteId)},r.onToggleTargetBranchFavorite=function(){r.onToggleBranchFavorite(r.props.pullRequestInfo.targetBranchRefName,r.props.pullRequestInfo.targetBranchFavoriteId)},r._showRetargetDialog=function(){r.setState({showRetargetDialog:!0})},r._hideRetargetDialog=function(){r.setState({showRetargetDialog:!1})},r.state={showRetargetDialog:!1},r}return __extends(t,n),t.prototype.render=function(){var n=this.props.pullRequestInfo;return i.createElement("div",{className:this.props.className},i.createElement(l.FormattedComponent,{format:c.PullRequest_SourceIntoTarget,className:"secondary-text"},i.createElement(p,{showRepository:n.isFork,repositoryClass:n.sourceRepositoryContext.getRepositoryClass(),repositoryUrl:n.sourceRepositoryUrl,repositoryName:n.sourceRepositoryName,repositoryTooltip:n.sourceRepositoryToolTip,branchExplorerUrl:n.sourceBranchExplorerUrl,branchName:n.sourceBranchName,branchLabel:n.sourceBranchLabel,showBranchFavorite:n.sourceBranchCanFavorite,isBranchFavorite:Boolean(n.sourceBranchFavoriteId),onToggleBranchFavorite:this.onToggleSourceBranchFavorite}),i.createElement(p,{branchExplorerUrl:n.targetBranchExplorerUrl,branchName:n.targetBranchName,branchLabel:n.targetBranchLabel,onToggleBranchFavorite:this.onToggleTargetBranchFavorite})),this.props.allowRetargeting&&!this.props.retargetInProgress&&!this.state.showRetargetDialog&&i.createElement(u.TooltipHost,{content:c.PullRequest_Retarget_Title,directionalHint:5},i.createElement(e.IconButton,{ariaLabel:c.PullRequest_Retarget_Title,className:"retarget-pr-button",iconProps:{className:"bowtie-icon bowtie-edit"},onClick:this._showRetargetDialog})),this.props.retargetInProgress&&i.createElement(y.Spinner,{className:"retarget-spinner",size:y.SpinnerSize.xSmall}),this.state.showRetargetDialog&&i.createElement(v.RetargetDialog,{sourceRepositoryContext:n.sourceRepositoryContext,targetRepositoryContext:this.props.repositoryContext,sourceBranchRefName:this.props.pullRequestInfo.sourceBranchRefName,currentTargetBranchRefName:this.props.pullRequestInfo.targetBranchRefName,onDismiss:this._hideRetargetDialog,onRetarget:this.props.onRetarget,autoCompleteSet:this.props.autoCompleteSet}))},t.prototype.onToggleBranchFavorite=function(n,t){if(t)this.props.onUnfavoriteBranch(t);else this.props.onFavoriteBranch(n)},t}(i.Component);t.PullRequestBranchDetail=w;b=function(n){return i.createElement(u.TooltipHost,{hostClassName:n.className,overflowMode:u.TooltipOverflowMode.Self,content:n.branchFriendlyName,directionalHint:5,calloutProps:{gapSpace:2}},i.createElement(r.Link,{className:"vc-pullrequest-detail-branch-name",onClick:n.onClick,href:n.branchUrl,"aria-label":n.branchLabel},n.branchFriendlyName))}});

define("VersionControl/Scenarios/Shared/Notifications/CreatePullRequestSuggestionBanner",["require","exports","react","VSS/Utils/Date","VSS/Utils/String","VersionControl/Scenarios/Shared/PullRequest/PullRequestBranchDetail","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scenarios/Shared/FpsLink","VersionControl/Scripts/CodeHubContributionIds"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.CreatePullRequestSuggestionBanner=function(n){if(!n.suggestion||!n.suggestion.repositoryContext)return null;var t=n.suggestion.sourceRepositoryContext?n.suggestion.sourceRepositoryContext:n.suggestion.repositoryContext;return i.createElement("span",{className:"vc-pullrequest-suggestion"},i.createElement("span",null,e.PullRequest_SuggestionBranchPushed1),i.createElement(f.BranchDetail,{key:"suggestionBranchDetail",showRepository:t.getRepositoryId()!==n.suggestion.repositoryContext.getRepositoryId(),className:"vc-suggestion-branchDetail",repositoryUrl:n.suggestion.explorerRepositoryUrl,repositoryName:t.getRepository().name,repositoryClass:t.getRepositoryClass(),branchExplorerUrl:n.suggestion.explorerBranchUrl,branchName:n.suggestion.sourceBranch,branchLabel:u.format(e.PullRequest_SuggestionBranchTitle,n.suggestion.sourceBranch)}),i.createElement("span",null,u.format(e.PullRequest_SuggestionBranchPushed2,r.ago(n.suggestion.pushDate))),i.createElement(o.FpsLink,{targetHubId:s.CodeHubContributionIds.pullRequestHub,href:n.suggestion.createPullRequestURL},e.CreatePullRequestLabel))}});

define("VersionControl/Scenarios/Shared/Notifications/NotificationArea",["require","exports","OfficeFabric/MessageBar","OfficeFabric/Utilities","react","react-dom","VersionControl/Scenarios/Shared/Notifications/NotificationStore","VersionControl/Scripts/Resources/TFS.Resources.VersionControl"],function(n,t,i,r,u,f,e,o){function c(n,i){f.render(u.createElement(t.NotificationArea,__assign({},i)),n)}function l(n){f.unmountComponentAtNode(n)}function a(n,t){var i=t&&t[n.specialType];return i&&i(n.specialContent)}var s,h;Object.defineProperty(t,"__esModule",{value:!0});t.renderInto=c;t.unmountComponent=l;t.NotificationArea=function(n){return u.createElement("div",null,n.notifications.map(function(t){var f=a(t,n.renderers)||t.message;return f&&u.createElement(i.MessageBar,{key:t.key,className:r.css("notification-message-bar",n.className),messageBarType:h[t.type],dismissButtonAriaLabel:o.VersionControl_MessageBar_DismissButton_AriaLabel,onDismiss:t.isDismissable&&n.onDismiss?function(){return n.onDismiss(t)}:undefined},f)}))};h=(s={},s[e.NotificationType.success]=i.MessageBarType.success,s[e.NotificationType.info]=i.MessageBarType.info,s[e.NotificationType.warning]=i.MessageBarType.warning,s[e.NotificationType.error]=i.MessageBarType.error,s)});

define("VersionControl/Scenarios/Explorer/Components/NotificationArea",["require","exports","react","VersionControl/Scenarios/Explorer/Stores/NotificationStore","VersionControl/Scenarios/Explorer/Components/Container","VersionControl/Scenarios/Explorer/Components/SaveInfoBanner","VersionControl/Scenarios/Shared/Notifications/CreatePullRequestSuggestionBanner","VersionControl/Scenarios/Shared/Notifications/NotificationArea"],function(n,t,i,r,u,f,e,o){function s(n,t,u){var o;return o={},o[r.NotificationSpecialType.createPullRequestSuggestion]=function(n){return i.createElement(e.CreatePullRequestSuggestionBanner,{suggestion:n})},o[r.NotificationSpecialType.commit]=function(r){return i.createElement(f.SaveInfoBanner,{saveInfo:r,versionSpec:t,repositoryContext:n,canCreatePullRequest:u})},o}Object.defineProperty(t,"__esModule",{value:!0});t.NotificationAreaContainer=u.create(["notification","context","permissions","version"],function(n,t){var r=n.notificationState,u=n.repositoryContext,f=n.permissionsState,e=n.versionSpec,h=t.actionCreator;return i.createElement(o.NotificationArea,{notifications:r.notifications,renderers:s(u,e,f.createPullRequest),onDismiss:h.dismissNotification})})});

define("Presentation/Scripts/TFS/Controls/Filters/FilterHelpers",["require","exports","VSS/Utils/Date"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){}return n.hasNonEmptyProperties=function(n){if(n==null||typeof n!="object")return!1;for(var t in n)if(n.hasOwnProperty(t)&&n[t]!=null)return!0;return!1},n.equalSearchCriteria=function(n,t){for(var i in n)if(!(i in t)||n[i]!==t[i])return!1;return!0},n.clearSearchCriteria=function(n){for(var t in n)n[t]=null;return n},n.getEndOfDay=function(n){var r=null,t;return n&&(t=new Date(n),t=i.convertClientTimeToUserTimeZone(t),t.setHours(23,59,59,999),t=i.convertUserTimeToClientTimeZone(t),r=t.toISOString()),r},n.getStartOfDay=function(n){var r=null,t;return n&&(t=new Date(n),t=i.convertClientTimeToUserTimeZone(t),t.setHours(0,0,0,0),t=i.convertUserTimeToClientTimeZone(t),r=t.toISOString()),r},n.swapFromAndToDatesIfRequired=function(n){var t=n.fromDate,i=n.toDate;!!t&&!!i&&new Date(t)>new Date(i)&&(n.fromDate=i,n.toDate=t)},n}();t.FilterHelpers=r});

define("Presentation/Scripts/TFS/Controls/Filters/IFilterPanel",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i;(function(n){n[n.FILTER_CLEARED=0]="FILTER_CLEARED";n[n.FILTER_SELECTED=1]="FILTER_SELECTED";n[n.FILTER_APPLIED=2]="FILTER_APPLIED"})(i=t.FilterState||(t.FilterState={}))});

define("VersionControl/Scenarios/Explorer/Components/ItemCommandBar",["require","exports","OfficeFabric/CommandBar","react","VersionControl/Scenarios/Explorer/Commands/ItemCommands","VersionControl/Scenarios/Explorer/Components/Container","VSS/LoaderPlugins/Css!VersionControl/ItemCommandBar"],function(n,t,i,r,u,f){function e(n,t){var i,u=!1,r,f,e;if(n.itemContentState.item)if(n.itemContentState.item.isFolder)if(r=n.folderContentState.selectedItems,r.length>1)throw new Error("Multiple selection is not supported.");else r.length?i=r[0]:(i=n.itemContentState.item,u=!0);else i=n.itemContentState.item,u=!0;return f=n.fileContentState.allowEditingFeatures&&n.fileContentState.allowEditingVersion,e=n.permissionsState.createOrModifyFiles,{item:i,isCurrentItem:u,isRoot:i&&i.serverItem===n.fileContentState.rootPath,allowEditing:f,hasEditPermissions:e,extraCommands:n.extensionsState.extraCommands,tab:n.pivotTabsState.currentTab,isEditing:n.fileContentState.isEditing,isNewFile:n.fileContentState.isNewFile,isDirty:n.pathState.isDirty,isDiffInline:n.fileContentState.isDiffInline,isGit:n.pathState.isGit,isTooBigToEdit:n.fileContentState.isTooBigToEdit,itemHistory:o(n),compareOptions:n.compareState,canGoToPreviousDiff:n.compareState.canGoToPreviousDiff,canGoToNextDiff:n.compareState.canGoToNextDiff,actionCreator:t,uiSource:"command-bar"}}function o(n){var u=n.isGit,i=n.historyListState,r=n.tfvcHistoryListState,t;return u?i.historyResults&&(t=i.historyResults.results):r.tfvcChangeSetsListItems&&(t=r.tfvcChangeSetsListItems.map(function(n){return n.item})),t||[]}Object.defineProperty(t,"__esModule",{value:!0});t.ItemCommandBarContainer=f.create(["pivotTabs","itemContent","folderContent","fileContent","permissions","path","compare"],function(n,i){var u=i.actionCreator;return r.createElement(t.ItemCommandBar,__assign({},e(n,u)))});t.ItemCommandBar=function(n){var t=u.getCommands(n);return r.createElement("div",{className:"vc-item-command-bar--right"},t.length>0&&r.createElement("div",{className:"vc-item-command-bar--separator"}),r.createElement(i.CommandBar,{className:"vc-item-command-bar",items:t,farItems:u.getSideCommands(__assign({isFullScreen:!1},n)),ref:n.actionCreator.focusManager.setCommandBar}))}});

define("VersionControl/Scenarios/Explorer/Components/PivotTabs",["require","exports","OfficeFabric/Pivot","react","VSS/Flux/AsyncLoadedComponent","Presentation/Scripts/TFS/Controls/Filters/FilterHelpers","Presentation/Scripts/TFS/Controls/Filters/IFilterPanel","VersionControl/Scenarios/Explorer/Components/Container","VersionControl/Scenarios/Explorer/Components/ItemCommandBar","VersionControl/Scripts/Controls/ControlsCommon"],function(n,t,i,r,u,f,e,o,s,h){function l(n){return"ExplorerTab_"+n}var c;Object.defineProperty(t,"__esModule",{value:!0});t.PivotTabsContainer=o.create(["pivotTabs","itemContent"],function(n,t){var i=n.pivotTabsState,e=n.itemContentState,o=n.isGit,u=t.actionCreator,f=t.storesHub;return!i.isFullScreen&&!e.notFoundErrorMessage&&r.createElement("div",{className:"pivot-tabs-container"},r.createElement(c,{visibleTabs:i.visibleTabs,currentTab:i.currentTab,onClick:u.changeTab}),i.currentTab!==h.VersionControlActionIds.History&&r.createElement(s.ItemCommandBarContainer,{actionCreator:u,storesHub:f}),r.createElement("div",{className:"filters"+(i.isHistoryFilterVisible?"":" hidden")},i.isHistoryFilterVisible&&(o?r.createElement(v,{actionCreator:u,storesHub:f}):r.createElement(a,{actionCreator:u,storesHub:f}))))});c=function(n){return r.createElement("div",{className:"views"},r.createElement(i.Pivot,{linkFormat:i.PivotLinkFormat.links,linkSize:i.PivotLinkSize.normal,selectedKey:n.currentTab,headersOnly:!0,getTabId:l,onLinkClick:function(t){return n.onClick(t.props.itemKey)}},n.visibleTabs.map(function(n){return r.createElement(i.PivotItem,{key:n.tabKey,linkText:n.title,itemKey:n.tabKey})})))};t.getExplorerTabId=l;var a=o.create(["tfvcHistoryFilter"],function(n,t){var i=n.tfvcHistoryFilterState,u=t.actionCreator;return r.createElement("div",{className:"explorer-history-pivot-filters"},r.createElement(p,{initialSearchCriteria:i,filterUpdatedCallback:u.updateTfvcHistoryFilters}))}),v=o.create(["historyList","context","settingsPermissions"],function(n,t){var i=n.historyListState,o=n.settingPermissionState,u=t.actionCreator,s=i.searchCriteria?{user:i.searchCriteria.user,alias:i.searchCriteria.alias,fromDate:i.searchCriteria.fromDate,toDate:i.searchCriteria.toDate,gitLogHistoryMode:i.searchCriteria.gitLogHistoryMode}:null,h=f.FilterHelpers.hasNonEmptyProperties(s)?e.FilterState.FILTER_APPLIED:e.FilterState.FILTER_CLEARED;return r.createElement("div",{className:"explorer-history-pivot-filters"},r.createElement(y,{onGraphColumnToggleClick:u.toggleHistoryGraph,onDismissMessage:u.dismissHistoryGraphInfo,isChecked:i.isGitGraphFeatureEnabled,message:i.gitGraphMessage,filterState:h,toggleFilterPanel:u.toggleFilterPanelVisibility,isFilterPanelVisible:i.isFilterPanelVisible,isGraphEnabled:o.Write}))}),y=u.getAsyncLoadedComponent(["VersionControl/Scenarios/Explorer/Components/GitHistoryPivotFilters"],function(n){return n.GitHistoryPivotFilters}),p=u.getAsyncLoadedComponent(["VersionControl/Scenarios/History/TfvcHistory/Components/ChangesetsFilter"],function(n){return n.ChangesetsFilter})});

define("VersionControl/Scenarios/Shared/Committing/EditDisabledDialog",["require","exports","react","OfficeFabric/Button","OfficeFabric/Dialog","VSS/Utils/String","VersionControl/Scripts/Resources/TFS.Resources.VersionControl"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.EditDisabledDialog=function(n){var t=f.format(e.EditDisabledDialogText,n.repositoryName,n.isGit?e.EditDisabledDialogPush:e.EditDisabledDialogCheckin);return i.createElement(u.Dialog,{hidden:!n.isDialogOpen,dialogContentProps:{type:u.DialogType.normal},title:e.EditDisabledDialogTitle,onDismiss:n.onDismiss,modalProps:{containerClassName:"vc-edit-disabled-dialog",isBlocking:!0}},t,i.createElement(u.DialogFooter,null,i.createElement(r.DefaultButton,{onClick:n.onDismiss},e.Cancel)))}});

define("VersionControl/Scenarios/Explorer/Components/EditDisabledDialogContainer",["require","exports","react","VersionControl/Scenarios/Explorer/Components/Container","VersionControl/Scenarios/Shared/Committing/EditDisabledDialog"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.EditDisabledDialogContainer=r.create(["editDisabledAlert"],function(n,t){var r=n.editDisabledAlertState,f=n.isGit,e=t.actionCreator;return i.createElement(u.EditDisabledDialog,{repositoryName:r.repositoryName,isDialogOpen:r.isAlertShowing,isGit:f,onDismiss:e.dismissEditDisabledDialog})})});

define("VersionControl/Scenarios/Shared/Committing/LoseChangesDialog",["require","exports","react","OfficeFabric/Button","OfficeFabric/Dialog","VSS/Utils/String","VersionControl/Scripts/Resources/TFS.Resources.VersionControl"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.LoseChangesDialog=function(n){return i.createElement(u.Dialog,{modalProps:{containerClassName:"vc-lose-changes-dialog"},hidden:!n.isDialogOpen,dialogContentProps:{type:u.DialogType.normal},title:e.UnsavedFileNavigateAwayTitle,onDismiss:n.onDismiss},f.format(e.UnsavedFileNavigateAwayFormat,n.dirtyFileName),i.createElement(u.DialogFooter,null,i.createElement(r.PrimaryButton,{className:"discard-button",onClick:n.onDiscardChanges},e.UnsavedFileDiscard),i.createElement(r.DefaultButton,{onClick:n.onDismiss},e.UnsavedFilePreserve)))}});

define("VersionControl/Scenarios/Explorer/Components/LoseChangesDialogContainer",["require","exports","react","VersionControl/Scenarios/Explorer/Components/Container","VersionControl/Scenarios/Shared/Committing/LoseChangesDialog"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.LoseChangesDialogContainer=r.create(["loseChangesPrompt"],function(n,t){var r=n.loseChangesPromptState,f=t.actionCreator;return i.createElement(u.LoseChangesDialog,{dirtyFileName:r.dirtyFileName,isDialogOpen:Boolean(r.tentativeAction),onDiscardChanges:r.tentativeAction,onDismiss:f.dismissLoseChangesDialog})})});

define("VersionControl/Scenarios/Explorer/Components/CommitDialogContainer",["require","exports","react","VSS/Flux/AsyncLoadedComponent","TFS/VersionControl/Contracts","VersionControl/Scenarios/Explorer/Components/Container"],function(n,t,i,r,u,f){function e(n,t,i){var r=t.editingPath,f=t.changeType,e=t.isUploading,o=t.isCreatingFolder,s=t.existingFileList;if(e)i.uploadFiles(r,n,s);else if(o)i.addNewFolder(r,n);else switch(f){case u.VersionControlChangeType.Add:case u.VersionControlChangeType.Edit:i.saveEditingFile(n);break;case u.VersionControlChangeType.Rename:i.renameItem(r,n);break;case u.VersionControlChangeType.Delete:i.deleteItem(r,n)}}Object.defineProperty(t,"__esModule",{value:!0});t.CommitDialogContainer=f.create(["commitPrompt","context","permissions","version"],function(n,t){var r=n.commitPromptState,f=n.repositoryContext,h=n.permissionsState,c=n.versionSpec,s=t.actionCreator;return r.isVisible&&i.createElement(o,__assign({},r,{tfsContext:f.getTfsContext(),rootPath:f.getRootPath(),currentBranchName:c.branchName,gatedCheckin:r.gatedCheckin,isRenaming:r.changeType===u.VersionControlChangeType.Rename,isUploading:r.isUploading,canCreatePullRequest:h.createPullRequest,onSave:function(n){return e(n,r,s)},onDismiss:s.dismissCommitDialog,existingFileList:r.existingFileList}))});var o=r.getAsyncLoadedComponent(["VersionControl/Scenarios/Shared/Committing/CommitDialog"],function(n){return n.CommitDialog})});

define("VersionControl/Scenarios/Explorer/Components/AddNewFileDialogContainer",["require","exports","react","VSS/Flux/AsyncLoadedComponent","VersionControl/Scenarios/Explorer/Components/Container"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.AddNewFileDialogContainer=u.create(["addNewFilePrompt"],function(n,t){var r=n.addNewFilePromptState,u=t.actionCreator;return r.isVisible&&i.createElement(f,__assign({},r,{onTargetFolderChanged:u.changeAddNewTargetFolder,onDismiss:u.dismissAddNewFileDialog,folderPath:r.folderPath,onAddNewFile:u.addNewFile}))});var f=r.getAsyncLoadedComponent(["VersionControl/Scenarios/Explorer/Components/AddNewFileDialog"],function(n){return n.AddNewFileDialog})});

define("VersionControl/Scenarios/Explorer/Components/ErrorContent",["require","exports","react","OfficeFabric/MessageBar","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/VersionControlPath","VersionControl/Scenarios/Explorer/Components/Container"],function(n,t,i,r,u,f,e){function h(n,t){for(var r,e=f.getParentPaths(n).slice(0,-1),i=0,u=e;i<u.length;i++)if(r=u[i],t[r])return r}function c(n){return Object.getOwnPropertyNames(n).length===0}var o,s;Object.defineProperty(t,"__esModule",{value:!0});o="not-found-error-page";t.ErrorContentContainer=e.create(["itemContent","knownItems","version"],function(n,t){var f=n.itemContentState,u=n.knownItemsState,l=n.versionState,r=t.actionCreator,e=h(f.path,u.knownItems);return i.createElement(s,{errorMessage:f.notFoundErrorMessage,parentPath:e,isVersionValid:!c(u.knownItems),isDefaultVersion:l.isDefaultBranch,onGoRootClick:function(){return r.goRoot(o)},onGoParentClick:function(){return r.changePath(e,undefined,o)},onGoToDefaultBranch:function(){return u.isGit?r.goToDefaultBranch(o):r.goLatestChangeset(o)}})});s=function(n){return i.createElement("div",{className:"vc-error-tab"},i.createElement(r.MessageBar,{messageBarType:r.MessageBarType.error,isMultiline:!0},n.errorMessage),i.createElement("ul",null,n.isVersionValid&&i.createElement("li",null,i.createElement("a",{onClick:n.onGoRootClick},u.GoToRepositoryRoot)),n.parentPath&&i.createElement("li",null,u.GoToParent+" ",i.createElement("a",{onClick:n.onGoParentClick},n.parentPath)),!n.isDefaultVersion&&i.createElement("li",null,i.createElement("a",{onClick:n.onGoToDefaultBranch},u.GoToDefaultBranch))))}});

define("VSSPreview/Resources/VSS.Resources.Preview",["require","exports"],function(require,exports){var e=exports;e.NoResultsAreAvailableText="No results are available.";e.MoreTabsMenu="More tabs menu";e.MoreIdentities="{0} more users or groups";e.EmailNotValidMessage="Not a valid email: emails must follow the pattern \u0027someone@example.com\u0027";e.InheritanceMenuText="Inheritance";e.SearchDefaultWaterMark="Search...";e.RemoveUserText="Remove user";e.AddUserTextboxLabel="User email address:";e.DatePicker_GoToPreviousYear="Go to previous year";e.ResetButtonTitle="Reset changes";e.AccessInherited="Inherited";e.DatePicker_GoToPreviousMonth="Go to previous month";e.SaveButtonText="Save changes";e.MobileTreeList_Expand="Expand {0}";e.DatePicker_PopupAriaLabel="Calendar";e.AccessColumn="Access";e.DatePicker_Placeholder="Select a date...";e.AssignedAccessString="Assigned";e.RemoveUserButtonText="Remove user from {0}";e.DatePicker_GoToNextMonth="Go to next month";e.MultiRowControl_RemoveButton="Delete Row";e.DatePicker_OutOfBoundsMessage="Selected date is not within the valid range";e.CopyButton_CopiedAnnouncement="Copied";e.InheritanceOnText="On";e.CannotEditRolesMessage="You do not have permission to edit roles for this resource.";e.AddUsersDialogTitle="Add user";e.ClassificationPickerMRUHeader="Suggestions";e.MultiRowControl_AddButtonText="Add";e.ResetButtonText="Reset";e.AddUserInputField="User or group";e.AddRoleInputField="Role";e.UserNotFoundMessage="Sorry, we couldn\u0027t find that user. Please try a different email address.";e.AddButtonTitle="Add user";e.CloseButtonLabelText="Close";e.AddUserWatermarkText="Search by email...";e.RoleColumn="Role";e.MobileTreeList_Collapse="Collapse {0}";e.UserColumn="User";e.ListRolePermissionsLabel="{0} role defines the following access:";e.RoleAssignmentGridLabel="Role Assignment Table";e.MultiRowControl_RemoveAllText="Remove All";e.SearchResultsAvailableMessage="{0} results are available. Use up/down arrow to move through results.";e.MultiRowControl_Tooltip="Remove Row";e.DatePicker_RequiredMessage="A valid date is required.";e.AddUserInstructions="To add a user, search for their email address";e.HistogramBarEmptyText="Histogram bar data is empty.";e.RolesGridLabel="Roles";e.DatePicker_GoToNextYear="Go to next year";e.DatePicker_InvalidDateMessage="Invalid date value specified.";e.AccessAssigned="Assigned";e.CannotAddIdentity="Sorry, we couldn\u0027t add the Identity. Please try a different Identity.";e.InheritanceOffText="Off";e.DatePicker_GoToToday="Go to today";e.AddUserSuccessfulMessage="User {0} was successfully added to {1} as a {2}!";e.DefaultFileDropText="Drop files here";e.AddButtonText="Add";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Utils/Clipboard",["require","exports","VSS/VSS"],function(n,t,i){function r(n,t){var u=!1,r,f,i;if(t||window.clipboardData===undefined){i=$("<div/>");try{i.css("background-color","white");t?i.append(n):(i.css("white-space","pre"),i.text(n));document.body.createTextRange?(i.prependTo($("body")),r=document.body.createTextRange(),r.moveToElementText(i[0]),r.select(),u=r.execCommand("copy")):document.createRange&&window.getSelection&&(i.appendTo($("body")),r=document.createRange(),f=window.getSelection(),f.removeAllRanges(),r.selectNodeContents(i[0]),f.addRange(r),u=document.execCommand("copy"))}finally{i.remove()}}else window.clipboardData.setData(o,n),u=!0;return u}function u(n,t){var r;t&&t.copyDialogOptions?(r=t.copyDialogOptions,r.data=n,r.copyAsHtml=t.copyAsHtml):(r={data:n},t&&(r.copyAsHtml=t.copyAsHtml));i.using(["VSS/Controls/Dialogs"],function(n){n.show(n.CopyContentDialog,r)})}function s(n,t){if(n&&typeof n=="string")if(t&&t.showCopyDialog)u(n,t);else{var i=!1;if(t&&t.copyAsHtml){if(e())try{i=r(n,!0)}catch(o){}}else if(f())try{i=r(n,!1)}catch(o){}i||u(n,t)}}function f(){return document.queryCommandSupported("copy")||window.clipboardData!==undefined}function e(){return document.body.createTextRange!==undefined||document.queryCommandSupported("copy")&&document.createRange!==undefined}Object.defineProperty(t,"__esModule",{value:!0});var o="text";t.copyToClipboard=s;t.supportsNativeCopy=f;t.supportsNativeHtmlCopy=e});

define("VSSPreview/Flux/Components/CopyButton",["require","exports","react","VSSUI/Tooltip","OfficeFabric/Utilities","VSSPreview/Resources/VSS.Resources.Preview","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Accessibility","VSS/Utils/Clipboard","VSS/Utils/Core","VSS/Utils/UI","VSS/LoaderPlugins/Css!VSSPreview/Flux/Components/CopyButton"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r._element=null,r._onClick=function(){s.copyToClipboard(r.props.copyText,{copyAsHtml:r.props.copyAsHtml});r.setState({wasCopied:!0});r.props.onCopied&&r.props.onCopied();o.announce(f.CopyButton_CopiedAnnouncement);(c.BrowserCheckUtils.isIE()||c.BrowserCheckUtils.isEdge())&&h.delay(r,0,function(){r._element.focus();r.setState({wasCopied:!0})})},r._handleBlur=function(){r.setState({wasCopied:!1})},r._handleMouseLeave=function(){r.setState({wasCopied:!1})},r._handleKeyDown=function(n){n.keyCode===c.KeyCode.SPACE&&n.stopPropagation()},r.state={wasCopied:!1},r}return __extends(t,n),t.prototype.render=function(){var t=this,n=this.state.wasCopied?this.props.copiedTitle||e.CopiedContentDialogTitle:this.props.copyTitle||e.CopyContentDialogTitle;return i.createElement(r.TooltipHost,{content:n,directionalHint:5},i.createElement("button",{className:u.css("copy-button",this.props.cssClass),"aria-label":n,onClick:this._onClick,autoFocus:this.props.autoFocus,onKeyDown:this._handleKeyDown,onMouseLeave:this._handleMouseLeave,onBlur:this._handleBlur,ref:function(n){return t._element=n}},i.createElement("span",{className:"bowtie-icon bowtie-edit-copy"})))},t}(i.PureComponent);t.CopyButton=l});

define("VersionControl/Scenarios/Shared/LinkWithTooltip",["require","exports","OfficeFabric/Link","VSSUI/Tooltip","OfficeFabric/Utilities","react"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={isTooltipVisible:!1},t.tooltipId=u.getId("link-tooltip"),t.ariaDescriptionDivId=u.getId("link-aria-description"),t}return __extends(t,n),t.prototype.render=function(){var n,t=this;return f.createElement(r.TooltipHost,{id:this.tooltipId,content:this.props.tooltipContent,directionalHint:this.props.directionalHint||5,onTooltipToggle:this.onTooltipToggle},f.createElement(i.Link,__assign({"aria-describedby":u.css((n={},n[this.tooltipId]=this.state.isTooltipVisible,n[this.ariaDescriptionDivId]=this.props.ariaDescription,n))||undefined,componentRef:function(n){return t.link=n}},this.props)),this.props.ariaDescription&&f.createElement("div",{id:this.ariaDescriptionDivId,className:"hidden"},this.props.ariaDescription))},t.prototype.focus=function(){this.link.focus()},t.prototype.onTooltipToggle=function(n){this.setState({isTooltipVisible:n})},__decorate([u.autobind],t.prototype,"onTooltipToggle",null),t}(f.PureComponent);t.LinkWithTooltip=e});

define("VersionControl/Scenarios/Shared/CommitHash",["require","exports","OfficeFabric/Link","react","VSS/Utils/String","VSSPreview/Flux/Components/CopyButton","VersionControl/Scenarios/Shared/LinkWithTooltip","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VSS/LoaderPlugins/Css!VersionControl/CommitHash"],function(n,t,i,r,u,f,e,o){function c(n){return n.overrideToolTipText?n.overrideToolTipText:u.format(o.VersionControlCommitDetailsNavigateToCommit,n.commitId.short)}var h,s;Object.defineProperty(t,"__esModule",{value:!0});h=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.rememberLink=function(n){t.link=n},t}return __extends(t,n),t.prototype.render=function(){return r.createElement("div",{className:"vc-commit-hash "+(this.props.className||"")},this.props.href?this.renderLink():r.createElement(s,__assign({},this.props)),this.props.showCopyButton&&r.createElement(f.CopyButton,{copyTitle:o.VersionControlCommitDetailsCopyShaToolTip,copyText:this.props.commitId.full,copyAsHtml:!1,cssClass:"copy-button",rightAlignCopyToolTip:this.props.rightAlignCopyToolTip,onCopied:this.props.onCopied}))},t.prototype.focus=function(){this.link.focus()},t.prototype.renderLink=function(){var n=c(this.props);return this.props.showTooltip&&n?r.createElement(e.LinkWithTooltip,__assign({tooltipContent:n,ref:this.rememberLink},this.getLinkProps())):r.createElement(i.Link,__assign({"aria-label":n,componentRef:this.rememberLink},this.getLinkProps()))},t.prototype.getLinkProps=function(){return{onClick:this.props.onLinkClick,onFocus:this.props.onFocus,href:this.props.href,children:r.createElement(s,__assign({},this.props))}},t.defaultProps={showTooltip:!0},t}(r.PureComponent);t.CommitHash=h;s=function(n){return r.createElement("span",{className:"commitId-text"},n.commitId.short)}});

define("VersionControl/Scenarios/Explorer/Components/FolderContent",["require","exports","OfficeFabric/DetailsList","OfficeFabric/Spinner","OfficeFabric/utilities/selection/interfaces","OfficeFabric/utilities/selection/Selection","react","react-dom","VSS/Utils/Date","VSS/Utils/String","VSSUI/Tooltip","VSSUI/VssDetailsList","Presentation/Scripts/TFS/Components/Tree/DropTarget","VersionControl/Scenarios/Explorer/Commands/ItemCommands","VersionControl/Scenarios/Explorer/Commands/ItemContribution","VersionControl/Scenarios/Explorer/Components/Container","VersionControl/Scenarios/Explorer/Components/FileNameCell","VersionControl/Scenarios/Shared/CommitHash","VersionControl/Scripts/CommitIdHelper","VersionControl/Scripts/Controls/ControlsCommon","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VSS/LoaderPlugins/Css!VersionControl/FolderContent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){function rt(n,t){return n===nt.name?function(n,i){var r=t.itemNames[n.serverItem],u=t.itemNames[i.serverItem];return h.localeIgnoreCaseComparer(r,u)}:n===nt.changeDate?function(n,i){var r=t.itemsChangeInfo[n.serverItem],u=t.itemsChangeInfo[i.serverItem];return r&&r.changeDate?u&&u.changeDate?r.changeDate.getTime()-u.changeDate.getTime():1:-1}:void 0}function st(n){return function(t,i){if(t.isFolder){if(!i.isFolder)return-1}else if(i.isFolder)return 1;return n(t,i)}}function pt(n){return{full:n,short:k.getShortCommitId(n)}}var tt,nt,it;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.name="name";n.changeDate="changeDate";n.comment="comments"}(nt=t.ColumnKeys||(t.ColumnKeys={}));var ut=(tt={},tt[nt.name]=240,tt[nt.changeDate]=180,tt[nt.comment]=1e4,tt),ft=36,et=10,ot=100;t.FolderContentContainer=p.create(["context","extensions","knownItems","fileContent","folderContent","permissions","path","version"],function(n,t){var f=n.repositoryContext,o=n.extensionsState,s=n.folderContentState,u=n.knownItemsState,r=n.fileContentState,h=n.permissionsState,c=n.path,l=n.versionSpec,a=n.isGit,i=t.actionCreator,v=r.allowEditingFeatures&&r.allowEditingVersion,y=h.createOrModifyFiles;return e.createElement(it,__assign({},s,{isGit:a,folderPath:c,versionSpec:l,repositoryContext:f,itemIconClasses:u.iconClasses,knownItems:u.knownItems,allowEditing:v,hasEditPermissions:y,rootPath:r.rootPath,extraCommands:o.extraCommands,onSearchClick:i.retrieveAllLastChanges,onSelectionChanged:i.selectFolderChildren,onContentFirstRendered:i.notifyContentRendered,onFilesDrop:i.promptUploadFilesFromFolderEmptySpace,onCommitClick:i.goToLatestChangeCommit,onCommitCopied:i.notifyCommitCopied,onColumnSorted:i.notifyColumnSorted,actionCreator:i}))});it=function(n){function t(t){var i=n.call(this,t)||this;return i.isFirstRendered=!1,i.wasFocusedBeforeUpdate=!1,i.getItemCommands=function(n){return v.getCommands(__assign({},i.props,{item:n,isCurrentItem:!1,isEditing:!1,isDirty:!1,isNewFile:!1,isRoot:n.serverItem===i.props.rootPath,uiSource:"grid-context-menu"}))},i.getMenuItemProviders=function(n){return[y.getFilesItemProvider(n,i.props.versionSpec,i.props.repositoryContext,y.ContributionNames.gridItem)]},i.getRowAriaLabel=function(n){return i.props.itemNames[n.serverItem]},i.onContentFirstRendered=function(){i.isFirstRendered||(i.isFirstRendered=!0,i.props.onContentFirstRendered())},i.onSelectionChanged=function(){if(i.state.selection.count>1)throw new Error("Multiple selection is not supported.");var n=i.state.selection.getSelection();i.props.onSelectionChanged(n)},i.onColumnClick=function(n,t){var u=rt(t.key,i.props),r;if(u){r=i.state.sortedColumnKey===t.key&&!t.isSortedDescending;i.setState({sortedColumnKey:t.key,isSortedDescending:r,sortedItems:i.props.items&&i.sortItems(i.props.items,u,r)});i.props.onColumnSorted(t.key,r)}},i.state={sortedItems:t.items&&i.sortItems(t.items,rt(nt.name,t),!1),sortedColumnKey:nt.name,isSortedDescending:!1,selection:new f.Selection({onSelectionChanged:i.onSelectionChanged})},i}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){var t=this,i=n.items!==this.props.items||this.state.sortedColumnKey===nt.changeDate&&n.itemsChangeInfo!==this.props.itemsChangeInfo;i&&this.setState(function(i){return{sortedItems:n.items&&t.sortItems(n.items,rt(i.sortedColumnKey,n),i.isSortedDescending)}})},t.prototype.componentWillUpdate=function(){this.wasFocusedBeforeUpdate=this.wasFocusedBeforeUpdate&&!this.props.items||this.isFocused()},t.prototype.render=function(){var f=this,t=this.state,n=t.sortedItems,s=t.selection;return!this.isFirstRendered&&n&&n.length===0&&this.onContentFirstRendered(),e.createElement(a.FileDropTarget,{className:"inner-content vc-folder-content",isEnabled:this.props.allowEditing,onFilesDrop:this.props.onFilesDrop},!n&&e.createElement("div",{className:"loading-items-spinner-container"},e.createElement(r.Spinner,{type:r.SpinnerType.large,label:g.LoadingText})),e.createElement(l.VssDetailsList,{ref:function(n){return f.detailsListDomNode=o.findDOMNode(n)},setKey:"don't reset selection",ariaLabelForGrid:this.getGridAriaLabel(),getRowAriaLabel:this.getRowAriaLabel,items:n||[],columns:this.getColumns(),selectionMode:u.SelectionMode.single,selection:s,constrainMode:i.ConstrainMode.unconstrained,layoutMode:i.DetailsListLayoutMode.justified,checkboxVisibility:i.CheckboxVisibility.hidden,onRowDidMount:!this.isFirstRendered&&this.onContentFirstRendered,actionsColumnKey:nt.name,getMenuItems:this.getItemCommands,getMenuItemProviders:this.getMenuItemProviders,initialFocusedIndex:this.wasFocusedBeforeUpdate?0:undefined,listProps:{getPageHeight:function(){return ft*et},onShouldVirtualize:function(){return n&&n.length>ot}}}))},t.prototype.isFocused=function(){return this.detailsListDomNode&&this.detailsListDomNode.querySelectorAll("a:focus").length>0},t.prototype.getGridAriaLabel=function(){return h.format(g.ExplorerFolderContentTitle,this.props.folderPath)},t.prototype.getColumns=function(){var n=this,t=function(t){return e.createElement(ht,{item:t,changeInfo:n.props.itemsChangeInfo[t.serverItem],lastExploredTime:n.props.lastExploredTime,loadingTriggerFullName:n.props.loadingRemainderLatestChangesTriggerFullName,onSearchClick:function(){return n.props.onSearchClick(t.serverItem)}})},i=function(t){return e.createElement(w.FileNameCell,{name:n.props.itemNames[t.serverItem],fileUrl:d.getFragmentAction(d.VersionControlActionIds.Default,t.serverItem,n.props.versionSpec.toVersionString()),iconClass:n.props.itemIconClasses[t.serverItem],item:n.props.knownItems[t.serverItem],canDrop:n.props.allowEditing&&t.isFolder,onFilesDrop:function(i){return n.props.actionCreator.promptUploadFilesFromFolderInGrid(t.serverItem,i)}})},r=function(t){var i=n.props.itemsChangeInfo[t.serverItem];return i?e.createElement(yt,{changeInfo:i,onLinkClick:n.props.onCommitClick,onCommitCopied:n.props.onCommitCopied}):null},u=this.props.isGit?g.FileListColumnCommits:g.FileListColumnChangesets;return[this.createColumn(nt.name,g.FileListColumnName,i),this.createColumn(nt.changeDate,g.FileListColumnLastChange,t),this.createColumn(nt.comment,u,r),]},t.prototype.createColumn=function(n,t,i){return{fieldName:n,key:n,name:t,onRender:i,onColumnClick:this.onColumnClick,minWidth:100,maxWidth:ut[n],isCollapsable:!0,isResizable:!0,isSorted:this.state.sortedColumnKey===n,isSortedDescending:this.state.isSortedDescending}},t.prototype.sortItems=function(n,t,i){var r=i?function(n,i){return t(i,n)}:t,u=st(r);return n.slice().sort(u)},t}(e.PureComponent);t.FolderContent=it;var ht=function(n){return n.changeInfo&&n.changeInfo.changeDate?e.createElement(ct,{changeInfo:n.changeInfo}):n.item.serverItem===n.loadingTriggerFullName?e.createElement(lt,null):e.createElement(at,{lastExploredTime:!n.changeInfo&&n.lastExploredTime,loadingTriggerFullName:n.loadingTriggerFullName,onSearchClick:n.onSearchClick})},ct=function(n){return e.createElement("span",{title:s.localeFormat(n.changeInfo.changeDate,"F")},s.friendly(n.changeInfo.changeDate))},lt=function(){return e.createElement("span",null,e.createElement(r.Spinner,{className:"loading-last-change-spinner"}),"Searching history...")},at=function(n){if(!n.lastExploredTime)return null;var t=h.format(g.FileListMoreThan,s.ago(n.lastExploredTime));return n.loadingTriggerFullName?e.createElement("span",null,t):e.createElement("a",{role:"button",title:g.FileListSearchInFullHistory,onClick:n.onSearchClick},t)},vt={isBeakVisible:!1},yt=function(n){return e.createElement("div",{className:"change-cell"},e.createElement(b.CommitHash,{className:"change-id",commitId:pt(n.changeInfo.changeId),href:n.changeInfo.changeUrl,onLinkClick:n.onLinkClick,showCopyButton:!0,onCopied:n.onCommitCopied}),e.createElement(c.TooltipHost,{directionalHint:2,overflowMode:c.TooltipOverflowMode.Parent,content:[n.changeInfo.comment,n.changeInfo.userName].join(" - "),calloutProps:vt},e.createElement("span",{className:"change-comment"},n.changeInfo.comment),e.createElement("span",{className:"change-author"}," "+(n.changeInfo.userName||""))))}});

define("VersionControl/Scenarios/Explorer/Stores/ItemContentStore",["require","exports","VSS/Flux/Store","VersionControl/Scripts/Controls/ControlsCommon"],function(n,t,i,r){var f,u,e,o;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.FileContent=0]="FileContent";n[n.FolderContent=1]="FolderContent";n[n.History=2]="History";n[n.Compare=3]="Compare";n[n.Error=4]="Error"}(u=t.ExplorerItemTab||(t.ExplorerItemTab={}));e=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={visibleItemTab:u.FolderContent},t.changeTab=function(n){t.updateTab(n.tab);t.emitChanged()},t.editOrAddNewFile=function(n){t.updateTab(r.VersionControlActionIds.Contents);t.state.path=n.serverItem;t.state.item=n;t.state.readMeItem=undefined;t.emitChanged()},t.commit=function(n){n.coercedTab&&t.updateTab(n.coercedTab);n.navigatePath&&(t.state.path=n.navigatePath,t.state.item=undefined,t.state.readMeItem=undefined);t.emitChanged()},t.discardEditingFile=function(n){t.state.path=n.navigatePath;n.coercedTab&&t.updateTab(n.coercedTab);t.loadItem(n.navigateItemInfo)},t.changeItem=function(n){t.updateTab(n.tab);t.state.path=n.path;n.notFoundError?t.failRetrieval({notFoundError:n.notFoundError}):t.loadItem(n.itemInfo)},t.loadItem=function(n,i){t.state.item=n&&n.item;t.state.readMeItem=n&&n.readMeItem;i&&(t.state.currentTab=i);t.emitChanged()},t.failRetrieval=function(n){t.state.notFoundErrorMessage=n.notFoundError&&n.notFoundError.message;t.emitChanged()},t}return __extends(t,n),t.prototype.emitChanged=function(){this.state.visibleItemTab=this.calculateVisibleItemTab();this.state.displayItem=this.calculateDisplayItem();n.prototype.emitChanged.call(this)},t.prototype.calculateDisplayItem=function(){return this.state.currentTab===r.VersionControlActionIds.Readme?this.state.readMeItem:this.state.item},t.prototype.calculateVisibleItemTab=function(){if(this.state.notFoundErrorMessage)return u.Error;if(this.state.currentTab===r.VersionControlActionIds.Contents){var n=!this.state.item||this.state.item.isFolder;return n?u.FolderContent:u.FileContent}return o[this.state.currentTab]},t.prototype.updateTab=function(n){this.state.currentTab=n;this.state.notFoundErrorMessage=undefined},t}(i.Store);t.ItemContentStore=e;o=(f={},f[r.VersionControlActionIds.Annotate]=u.FileContent,f[r.VersionControlActionIds.Readme]=u.FileContent,f[r.VersionControlActionIds.History]=u.History,f[r.VersionControlActionIds.Compare]=u.Compare,f[r.VersionControlActionIds.Preview]=u.FileContent,f[r.VersionControlActionIds.HighlightChanges]=u.FileContent,f)});

define("VersionControl/Scenarios/Explorer/Components/ItemContent",["require","exports","OfficeFabric/Spinner","react","VSS/Flux/AsyncLoadedComponent","VersionControl/Scenarios/Explorer/Components/Container","VersionControl/Scenarios/Explorer/Components/ErrorContent","VersionControl/Scenarios/Explorer/Components/FolderContent","VersionControl/Scenarios/Explorer/Components/PivotTabs","VersionControl/Scenarios/Explorer/Stores/ItemContentStore","VersionControl/Scripts/Resources/TFS.Resources.VersionControl"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.ItemContentContainer=f.create(["itemContent","pivotTabs","version","context"],function(n,t){var i=n.itemContentState,u=n.tab,f=n.version,e=n.isGit,o=n.repositoryContext;return r.createElement(v,__assign({isGit:e,version:f,repositoryContext:o,tab:u},i,t))});var l="inner-content absolute-full",v=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){return this.props.visibleItemTab===h.ExplorerItemTab.FileContent?this.isFileContentCreated=!0:this.props.visibleItemTab===h.ExplorerItemTab.Compare?this.isCompareCreated=!0:this.props.visibleItemTab!==h.ExplorerItemTab.History||this.props.isGit||(this.isTfvcHistoryCreated=!0),r.createElement("div",{className:"item-content",role:"tabpanel","aria-labelledby":s.getExplorerTabId(this.props.tab)},this.isFileContentCreated&&r.createElement("div",{key:"file-contents-tab",className:l},r.createElement(y,__assign({},this.props,{isVisible:this.props.visibleItemTab===h.ExplorerItemTab.FileContent}))),this.props.visibleItemTab===h.ExplorerItemTab.FolderContent&&r.createElement("div",{key:"folder-contents-tab",className:"absolute-full"},r.createElement(o.FolderContentContainer,__assign({},this.props))),this.props.visibleItemTab===h.ExplorerItemTab.History&&this.props.isGit&&r.createElement("div",{key:"folder-contents-tab",className:l},r.createElement(p,__assign({},this.props))),this.props.visibleItemTab===h.ExplorerItemTab.History&&!this.props.isGit&&r.createElement(w,__assign({className:l},this.props)),this.isCompareCreated&&r.createElement(b,__assign({className:l,isVisible:this.props.visibleItemTab===h.ExplorerItemTab.Compare,item:this.props.item},this.props)),this.props.visibleItemTab===h.ExplorerItemTab.Error&&r.createElement(e.ErrorContentContainer,__assign({},this.props)))},t}(r.Component),a=function(){return r.createElement(i.Spinner,{type:i.SpinnerType.large,label:c.LoadingText})},y=u.getAsyncLoadedComponent(["VersionControl/Scenarios/Explorer/Components/FileContent"],function(n){return n.FileContentContainer},a),p=u.getAsyncLoadedComponent(["VersionControl/Scenarios/Explorer/Components/History"],function(n){return n.HistoryContainer},a),w=u.getAsyncLoadedComponent(["VersionControl/Scenarios/Explorer/Components/TfvcHistory"],function(n){return n.TfvcHistoryContainer},a),b=u.getAsyncLoadedComponent(["VersionControl/Scenarios/Explorer/Components/Compare"],function(n){return n.CompareContainer},a)});

define("VersionControl/Scenarios/Explorer/Components/Page",["require","exports","OfficeFabric/Fabric","react","react-dom","Presentation/Scripts/TFS/Components/StatefulSplitter","Presentation/Scripts/TFS/Components/Tree/DropTarget","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scenarios/Explorer/Components/Container","VersionControl/Scenarios/Explorer/Components/Header","VersionControl/Scenarios/Explorer/Components/Tree","VersionControl/Scenarios/Explorer/Components/NotificationArea","VersionControl/Scenarios/Explorer/Components/PivotTabs","VersionControl/Scenarios/Explorer/Components/EditDisabledDialogContainer","VersionControl/Scenarios/Explorer/Components/LoseChangesDialogContainer","VersionControl/Scenarios/Explorer/Components/CommitDialogContainer","VersionControl/Scenarios/Explorer/Components/AddNewFileDialogContainer","VersionControl/Scenarios/Explorer/Components/ItemContent","VSS/LoaderPlugins/Css!fabric"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){function k(n,t){u.render(r.createElement(d,__assign({},t)),n)}Object.defineProperty(t,"__esModule",{value:!0});t.renderInto=k;var d=function(n){return r.createElement(e.DropForbiddenTarget,{className:"absolute-full"},r.createElement(i.Fabric,{className:"vc-page absolute-full "+(n.storesHub.getAggregateState().isGit?"git":"tfvc"),ref:function(t){n.actionCreator.focusManager.setPage(t)}},r.createElement(h.Header,__assign({},n)),r.createElement(g,__assign({},n)),r.createElement(v.EditDisabledDialogContainer,__assign({},n)),r.createElement(y.LoseChangesDialogContainer,__assign({},n)),r.createElement(p.CommitDialogContainer,__assign({},n)),r.createElement(w.AddNewFileDialogContainer,__assign({},n))))},g=s.create(["pivotTabs"],function(n,t){var i=n.pivotTabsState;return r.createElement(f.StatefulSplitter,{className:"vc-splitter",statefulSettingsPath:"Git.Explorer.LeftHubSplitter",left:r.createElement(c.TreeContainer,__assign({},t)),leftClassName:"vc-files-tree absolute-full",right:r.createElement(nt,__assign({},t)),isFixedPaneVisible:!i.isFullScreen,enableToggleButton:!0,collapsedLabel:o.CodeExplorer,toggleButtonExpandedTooltip:o.CollapseCodeExplorer,toggleButtonCollapsedTooltip:o.ExpandCodeExplorer})}),nt=function(n){return r.createElement("div",{className:"right-pane-holder absolute-full"},r.createElement(l.NotificationAreaContainer,__assign({},n)),r.createElement(a.PivotTabsContainer,__assign({},n)),r.createElement(b.ItemContentContainer,__assign({},n)))}});

define("VersionControl/Scenarios/Explorer/ExplorerShortcuts",["require","exports","TfsCommon/Scripts/KeyboardShortcuts","VersionControl/Scripts/Controls/ControlsCommon","VersionControl/Scripts/Resources/TFS.Resources.VersionControl"],function(n,t,i,r,u){var f,e;Object.defineProperty(t,"__esModule",{value:!0});f=function(n){function t(t){var i=n.call(this,u.KeyboardShortcutGroup_Explorer)||this;return i.registerShortcut("1",{description:u.Contents,action:function(){return t.changeTab(r.VersionControlActionIds.Contents)}}),i.registerShortcut("2",{description:u.History,action:function(){return t.changeTab(r.VersionControlActionIds.History)}}),i.registerShortcut("t",{description:u.ChangesetListPath,action:t.startPathEditing}),i}return __extends(t,n),t}(i.ShortcutGroupDefinition);t.ExplorerShortcutGroup=f;e=function(n){function t(t){var i=n.call(this,t)||this;return i.registerShortcut("w",{description:u.KeyboardShortcutDescription_SelectBranch,action:t.openBranchSelector}),i.registerShortcut("y",{description:u.KeyboardShortcutDescription_SwitchToCommit,action:function(){return t.goToRealCommit("keyboard-shortcut-switch-to-commit")}}),i.registerShortcut("c b",{description:u.KeyboardShortcutDescription_CreateBranch,action:function(){return t.promptCreateBranch()}}),i}return __extends(t,n),t}(f);t.GitExplorerShortcutGroup=e});

define("Dashboards/Scripts/Generated/Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.DashboardWidgetCatalogTargetContributionID="ms.vss-dashboards-web.widget-catalog";n.DashboardWidgetConfigurationCatalogTargetContributionID="ms.vss-dashboards-web.widget-configuration";n.WidgetTypeContributionID="ms.vss-dashboards-web.widget";n.WidgetConfigurationTypeContributionID="ms.vss-dashboards-web.widget-configuration"}(i=t.AppStoreConstants||(t.AppStoreConstants={})),function(n){n.Bowtie="bowtie";n.Icon="bowtie-icon";n.ArrowOpenIcon="bowtie-arrow-open";n.BrandVisualStudioIcon="bowtie-brand-visualstudio";n.Comment="bowtie-comment";n.SideBySide="side-by-side"}(r=t.BowTieClassNames||(t.BowTieClassNames={})),function(n){n.NewExperience="ms.vss-dashboards-web.dashboards-new-experience-feature"}(u=t.DashboardFeatureIds||(t.DashboardFeatureIds={})),function(n){n.MaxDashboardPerGroup="MaxDashboardPerGroup";n.MaxWidgetsPerDashboard="MaxWidgetsPerDashboard";n.IsStakeholder="IsStakeholder";n.Dashboard="Dashboard";n.IsNewDashboardFeatureEnabled="IsNewDashboardFeatureEnabled";n.TeamMembersOf="TeamMembersOf";n.RouteId="RouteId"}(f=t.DashboardPageDataProviderKeys||(t.DashboardPageDataProviderKeys={})),function(n){n.Dashboards="ms.vss-dashboards-web.dashboards-data-provider";n.DashboardsLegacy="ms.vss-dashboards-web.dashboards-legacy-data-provider";n.DashboardsNavigation="ms.vss-dashboards-web.dashboards-nav-data-provider";n.TeamContextData="ms.vss-dashboards-web.dashboards-team-context-data-provider";n.TeamData="ms.vss-dashboards-web.dashboards-team-data-provider";n.TeamList="ms.vss-dashboards-web.dashboards-team-list-data-provider";n.TeamMemberships="ms.vss-dashboards-web.dashboards-team-memberships-provider";n.DashboardsContent="ms.vss-dashboards-web.dashboards-content-provider";n.DashboardDirectoryData="ms.vss-dashboards-web.dashboards-directory-data-provider"}(e=t.DashboardProviderPropertyBagNames||(t.DashboardProviderPropertyBagNames={})),function(n){n.NewExperience="ms.vss-dashboards-web.dashboards-new-experience-route";n.NewExperienceEmbedded="ms.vss-dashboards-web.dashboards-new-experience-route-embed"}(o=t.DashboardRouteIds||(t.DashboardRouteIds={})),function(n){n.SecurityNamespaceGuid="8ADF73B7-389A-4276-B638-FE1653F7EFC7"}(s=t.DashboardSecurity||(t.DashboardSecurity={})),function(n){n.Read=1;n.Create=2;n.Edit=4;n.Delete=8;n.ManagePermissions=16;n.MaterializeDashboards=32}(h=t.DashboardsPermissions||(t.DashboardsPermissions={})),function(n){n.Dashboards="TFS.Dashboards.Widgets.Provider.DashboardsDataProvider";n.DashboardsLegacy="TFS.Dashboards.Widgets.Provider.DashboardsLegacyDataProvider";n.TeamContext="TFS.Dashboards.Widgets.Provider.TeamContextDataProvider";n.TeamData="TFS.Dashboards.Widgets.Provider.TeamDataProvider";n.TeamList="TFS.Dashboards.Widgets.Provider.TeamListDataProvider";n.TeamMemberships="TFS.Dashboards.Widgets.Provider.TeamMembershipsDataProvider";n.DashboardsContent="TFS.Dashboards.Widgets.Provider.DashboardsContentDataProvider";n.DashboardDirectoryData="TFS.Dashboards.Widgets.Provider.DashboardsDirectoryDataProvider"}(c=t.DashboardsProviderNames||(t.DashboardsProviderNames={})),function(n){n.ActiveDashboardId="activeDashboardId";n.IsNew="isNew"}(l=t.DashboardUrlParams||(t.DashboardUrlParams={})),function(n){n.MaxDashboardNameLength=32;n.MaxDashboardDescriptionLength=128;n.MaxWidgetNameLength=256;n.MaxWidgetTypeLength=1e3;n.MaxWidgetArtifactIdLength=256;n.MaxWidgetSettingsVersionLength=256;n.MaxWidgetArtifactContextLength=512;n.MaxWidgetLegacySettingsLength=4e3;n.MaxWidgetSettingsLength=16e3;n.MinRequiredRefreshInterval=30;n.MaxRowSpan=10;n.MaxColumnSpan=10}(a=t.DashboardWidgetLimits||(t.DashboardWidgetLimits={})),function(n){n.WidgetHideMenu="no-height";n.WidgetMenuContainer="widget-menu-header";n.WidgetLightboxMenuContainer="widget-lightbox-menu-header";n.WidgetMenuSubMenuContainer="ellipsis-menubar";n.EllipsisIcon="icon-ellipsis";n.DeleteIcon="bowtie-icon bowtie-edit-delete";n.AddIconThin="bowtie-icon bowtie-math-plus";n.SettingsIconGrey="icon-settings";n.ConfigureWidgetIcon="bowtie-icon bowtie-settings-gear";n.PinIcon="icon-pin";n.WidgetSearchTermInput="widget-searchterm-input";n.WidgetSearchButton="widget-search-button";n.WidgetSearchContainer="widget-search-container";n.Icon="icon";n.ManagerDialog="dashboards-manager-dialog";n.ManagerNewDashboardInput="new-dashboard-name-input";n.ManagerNewDashboardButton="new-dashboard-name-button";n.ManagerDashboardListContainer="dashboard-list-container";n.ManagerDashboardListItem="dashboard-list-item";n.ManagerDashboardListItemName="dashboard-list-item-name";n.ManagerDashboardListItemDelete="dashboard-list-item-delete";n.ManagerListHeaderContainer="dashboard-list-header-container";n.ManagerListHeaderName="dashboard-list-header-name";n.ManagerListHeaderAutorefresh="dashboard-list-header-autorefresh";n.ManagerCreateNewDashboardTextbox="new-dashboardname-textbox";n.ManagerCreateNewDashboardButton="new-dashboardname-create-button";n.ManagerMessageArea="dashboard-manager-message-area";n.DashboardAddWidget="add-widget-button";n.AddWidgetEmptySearchText="widget-search-watermark";n.WidgetEditMenuButtonContainer="widget-edit-menu-button-container";n.WidgetEditMenuButton="widget-edit-menu-button";n.WidgetHostInGridster="widgethost";n.ToggleForDashboardEdit="menu-toggle-button";n.LightboxButton="lightbox-button";n.DisabledColor="disabled-color"}(v=t.DomClassNames||(t.DomClassNames={})),function(n){n.DashboardsToolbarContainerID="dashboards-toolbar-container";n.DashboardsWidgetsContainerID="widgets-container";n.ManagerButton="dashboard-management";n.DashboardManager_CreateNewDashboard_Textbox="dashboard-manager-createnew"}(y=t.DomIds||(t.DomIds={})),function(n){n.MenuFocus=".menu-focus-receiver";n.DataGridWidgetIdAttribute="data-widget-id";n.ManagerListID="data-id"}(p=t.JQuerySelectors||(t.JQuerySelectors={})),function(n){n.DefaultDashboardId="dashboard-data-defaultDashboardId";n.Dashboards="dashboard-data-dashboards";n.DefaultDashboardWidgets="dashboard-data-defaultDashboardWidgets";n.MaxWidgetsPerDashboards="dashboard-data-maxWidgets";n.MaxDashboardsPerGroup="dashboard-data-maxDashboards";n.IsStakeholder="user-data-isStakeholder"}(w=t.JsonIslandDomClassNames||(t.JsonIslandDomClassNames={})),function(n){n.Read=1;n.Edit=2;n.Manage=4;n.ManagePermissions=8}(b=t.Permissions||(t.Permissions={})),function(n){n.WidgetConfigurationAction="widget-configuration";n.DashboardCreate="create-dashboard";n.DashboardManage="manage-dashboard";n.PushToDashboard="add-to-dashboard";n.PinToDashboard="pin-to-dashboard";n.WidgetRemoveAction="remove-widget"}(k=t.TfsCommands||(t.TfsCommands={})),function(n){n.CollectionTimeZone="TFS.Dashboards.Widgets.Provider.CollectionTimeZoneDataProvider";n.OtherLinksWidgetData="TFS.Dashboards.Widgets.Provider.OtherLinksWidgetDataProvider";n.LegacyProjectData="TFS.Dashboards.Widgets.Provider.LegacyProjectDataProvider"}(d=t.WidgetDataProviderNames||(t.WidgetDataProviderNames={})),function(n){n.CollectionTimeZoneData="ms.vss-dashboards-web.collection-time-zone-data-provider";n.OtherLinksWidgetData="ms.vss-dashboards-web.other-links-data-provider";n.LegacyProjectData="ms.vss-dashboards-web.legacy-project-data-provider"}(g=t.WidgetDataProviderPropertyBagNames||(t.WidgetDataProviderPropertyBagNames={})),function(n){n.WidgetContainer="widget";n.DarkWidget="dark-widget";n.ClickableWidgetContainer="clickable";n.WidgetDescription="description";n.TruncatedTextWithEllipsis="truncated-text-ellipsis";n.NoBulletList="no-bullets";n.Title="title";n.SubTitle="subtitle";n.IconContainer="icon-container";n.LinkWithIconAndText="link-with-icon-text";n.LinkWithIconAndTextList="link-with-icon-text-list";n.DaysRemaining="days-remaining";n.UserStoryProgress="user-story-progress";n.DaysProgressBar="days-progress-bar";n.WorkProgressBar="work-progress-bar"}(nt=t.WidgetDomClassNames||(t.WidgetDomClassNames={})),function(n){n.TCMChartContribution="ms.vss-dashboards-web.Microsoft.VisualStudioOnline.Dashboards.TcmChartWidget";n.WITChartContribution="ms.vss-dashboards-web.Microsoft.VisualStudioOnline.Dashboards.WitChartWidget";n.BuildChartContribution="ms.vss-dashboards-web.Microsoft.VisualStudioOnline.Dashboards.BuildChartWidget";n.QueryScalarContribution="ms.vss-dashboards-web.Microsoft.VisualStudioOnline.Dashboards.QueryScalarWidget";n.CodeScalarContribution="ms.vss-dashboards-web.Microsoft.VisualStudioOnline.Dashboards.CodeScalarWidget";n.MarkDownContribution="ms.vss-dashboards-web.Microsoft.VisualStudioOnline.Dashboards.MarkdownWidget";n.TestResultsFailureTrendContribution="ms.vss-test-web.Microsoft.VisualStudioTeamServices.Dashboards.TestResultsFailureTrendWidget";n.TestResultsDurationTrendContribution="ms.vss-test-web.Microsoft.VisualStudioTeamServices.Dashboards.TestResultsDurationTrendWidget";n.TestResultsTrendContribution="ms.vss-test-web.Microsoft.VisualStudioTeamServices.Dashboards.TestResultsTrendWidget"}(tt=t.WidgetIds||(t.WidgetIds={}))});

define("Dashboards/Scripts/Common.PageHelpers",["require","exports","Dashboards/Scripts/Generated/Constants","VSS/Serialization","VSS/Contributions/Services","VSS/Service","Dashboards/Scripts/Generated/Constants"],function(n,t,i,r,u,f,e){function o(n,t){var s=f.getService(u.WebPageDataService),o=s.getPageData(i.DashboardProviderPropertyBagNames.DashboardsContent),e;return o&&o.value&&(e=o.value[n]),!e&&t&&(e=r.deserializeJsonIsland($("."+t),null)),e}function s(){var n=o(e.DashboardPageDataProviderKeys.RouteId);return n===e.DashboardRouteIds.NewExperienceEmbedded}Object.defineProperty(t,"__esModule",{value:!0});t.getFromPage=o;t.isEmbeddedPage=s});

define("Dashboards/Scripts/Common.UserPermissionsHelper",["require","exports","Dashboards/Scripts/Generated/Constants","VSS/Contributions/Services","VSS/Service","VSS/User/Services","Dashboards/Scripts/Common.PageHelpers"],function(n,t,i,r,u,f,e){function o(){var t=u.getService(r.WebPageDataService),n=t.getPageData(i.DashboardProviderPropertyBagNames.TeamContextData);return n!=null?n.value:0}function c(){return o()}function l(){var n=o();return n!=null||n>0}function a(){return k()||s()}function v(){return d()||s()}function y(){return g()||s()}function p(){return nt()||s()}function w(){return s()}function b(){return f.getService().hasClaim(f.UserClaims.Member)}function k(){return(o()&i.DashboardsPermissions.Read)!=0}function d(){return(o()&i.DashboardsPermissions.Create)!=0}function g(){return(o()&i.DashboardsPermissions.Edit)!=0}function nt(){return(o()&i.DashboardsPermissions.Delete)!=0}function s(){return(o()&i.DashboardsPermissions.ManagePermissions)!=0}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function n(){}return n.isStakeholder=function(){return e.getFromPage(i.DashboardPageDataProviderKeys.IsStakeholder,i.JsonIslandDomClassNames.IsStakeholder)},n}();t.Utils=h;t.getDashboardsPrivilegesFromWebPageData=o;t.getTeamPermissions=c;t.isDashboardsPrivilegesLoaded=l;t.CanReadDashboards=a;t.CanCreateDashboards=v;t.CanEditDashboard=y;t.CanDeleteDashboards=p;t.CanManagePermissionsForDashboards=w;t.canSeeActions=b});

define("Presentation/Scripts/TFS/TFS.Using",["require","exports","q","VSS/VSS"],function(n,t,i,r){function u(n){return i.Promise(function(t){r.using([n],function(n){t(n)})})}Object.defineProperty(t,"__esModule",{value:!0});t.usingWithPromise=u});

define("Dashboards/Scripts/Resources/TFS.Resources.Dashboards",["require","exports"],function(require,exports){var e=exports;e.WidgetNotificationStakeholder_ScreenReaderSupportText="As a stakeholder, you cannot access {0} widget. Click to open a dialog box that has more details.";e.WidgetCatalog_AnnounceSingleSearchResultFormat="Found 1 result containing {0}";e.AutoRefreshOneMinuteTooltip="Updating in 1 minute";e.DeleteDashboardDialogTitle="Delete dashboard";e.DeleteDashboardDialogCancelButtonText="Cancel";e.WidgetNotificationError_ScreenReaderSupportText="{0} widget failed to load. Click to open a dialog box that has error details.";e.AutoRefreshAriaLabelFormat="Auto Refresh for {0} dashboard";e.Announce_DashboardHasNoWidgets="No widgets on dashboard";e.ErrorWidgetCountExceeded="You cannot add more than {0} widgets to a dashboard.";e.ConfigHost_EventNotSupported="The event {0} is not supported with the notify method.";e.AdminDashboardsHub="Dashboards";e.Widget_Load_Invalid_WidgetStatus="The {0} method in the widget should return a valid widget status. Please contact the widget author for more details.";e.Dashboard_Timer_Initialized="Updated less than a minute ago";e.TeamFilterPlaceholder="Filter by team";e.ManageDashboardsDialogAllOperationsNotPermitted="You do not have permissions to perform all operations. Contact your team adminstrator for permissions.";e.WidgetNotificationConfigure_ScreenReaderSupportText="{0} widget has not been configured. Talk to your team admin to get this widget configured.";e.BrowseAllDashboardsText="Browse all dashboards";e.NewDashboardLabelName="Dashboard title";e.Announce_LoadingWidgets="Loading {0} widgets";e.NewDashboardExperience_BrowseAllText="Browse all dashboards";e.BladeMenu_ServerSaveFail="VS403628: Saving settings to the server failed: {0}.";e.WidgetHost_MissingContributionData="VS403627: The widget {0} could not be loaded as the contribution data was missing from the marketplace";e.ConfigHost_onSaveBadData="onSave method implemented by the widget configuration returns data in the wrong format. Please contact the widget author for more details.";e.DashboardManager_List_AutorefreshTitle="Auto-refresh";e.ErrorMessage_ErrorDetails="Error details:";e.ExtentionDisabledWidget_DialogContentText="This widget has been disabled or removed by an administrator.​";e.MoveWidgetLeft="Move widget left";e.MoveWidgetDown="Move widget down";e.WidgetEditMenuDeleteButtonTooltipText="Delete widget from this dashboard";e.LightboxButton_AriaLabel="Open the detailed view of the widget";e.AdminDashboardsSecuritySubTitle="Security";e.DisabledWidget_DialogHeading="Access not supported";e.ManagePermissionsDialogOptionDelete="Delete dashboards";e.ErrorMessage_UpdateWidgetPositionConflict_DeleteAction="delete";e.ErrorMessage_UpdateWidgetPositionConflict_MoveAction="move";e.StakeholderView_DialogHeading="Stakeholder license access";e.CloseCatalog="Close";e.ManageDashboardsDialogInsufficientPermissions="You do not have permissions to manage dashboards. Contact your admin to grant you permissions.";e.NewDashboardExperience_RefreshDashboard="Refresh";e.NewDashboardDialogTeamFieldLabel="Team";e.VisualHostMenu_ViewAsTabularData="View as tabular data";e.DashboardDirectoryPicker_DisabledNewDashboardTooltip="You don’t have permission to create a dashboard";e.NewDashboardDialogSelectATeam="Select a team";e.WidgetError_Timeout="Widget took too long to load";e.WidgetCatalog_NetworkError="Error downloading widget catalog";e.DashboardDialogNameFieldDescription="Enter a name";e.Refresh_Link="Refresh";e.ManagePermissionsDialogOptionCreate="Create dashboards";e.Error_DashboardOutOfSync="Your dashboard is out of sync. You need to {0} the page before making changes.";e.DisabledWidgets_DialogLicenseTypesLinkText_AzureDevOps="Learn more about the different types of projects and access levels for Azure DevOps";e.InvalidWidget_Message="Something went wrong :(";e.EditModeBannerText="Add, edit, move or resize your widgets";e.MyEmptyMessage="Your favorite dashboards are just a click away. Use the {0} to favorite dashboards, so they appear here.";e.ManagePermissionsDialogOptionManage="View, Edit and Manage dashboards";e.QueryLinks_Title="Query Links";e.DashboardManager_SaveButtonText="Save";e.LoadingMessage="Loading...";e.MoveWidgetRight="Move widget right";e.ErrorWidgetSettingsVersionInvalid="Saving configuration failed. Please contact the widget author for more details. Reason: The settings version {{{0}}} is invalid for the widget. The major, minor and patch should be positive numbers.";e.DirectoryViewMinePivotName="Mine";e.ErrorWidgetSettingsVersionDowngrade="Saving configuration failed. Please contact the widget author for more details. Reason: The new version {{{0}}} for the settings cannot be lower than the previous one {{{1}}}.";e.MenuCancelNewDashboard="Cancel adding a new Dashboard";e.SaveConfiguration="Save";e.ErrorMessage_LoadDashboard="VS403626: We were unable to load your dashboard.";e.ManageDashboardDialogTitle="Settings for {0}";e.ManageDashboardsDialogCancelText="Cancel";e.DashboardDirectoryContextMenu_DisabledSecurityTooltip="You don’t have permission to manage dashboard permissions";e.ManageDashboardDialog_EditDisabled="You do not have permissions to manage this dashboard. Contact your team admin to grant you permissions.";e.EditModeBannerButtonText="Done Editing";e.DefaultGroupHeader="A to Z";e.BladeConfigurationTitle="Configuration";e.ManagePermissionsLegend="Select dashboard permissions for members of your team. ";e.DashboardNameForPageTitle="{0} dashboard";e.ManagerRemoveDashboardAriaLabelFormat="Remove {0} dashboard";e.DeleteWidgetOnDashboardTitle="Delete";e.Dashboard_Timer_Updated_hours="Updated 1 hour ago";e.LightboxButtonTooltipText="Expand view";e.DashboardInlineEditor_AnnounceSuccessfullyCreatedMessage="Created dashboard";e.SearchNoResultsText="No results found";e.DashboardInlineEditor_AnnounceSuccessfullyAddedMessage="New dashboard is added to list";e.DashboardEditMenuOpenEditMode="Edit Dashboard";e.DataQuality_Title="Data Quality";e.BladeDialogClosedAnnouncement="Dialog Closed";e.ManageDashboardDialogSubtext="Change the name or the description to help others quickly find this dashboard, as well as manage permissions.";e.StakeholderView_DialogSubHeading="You have been assigned a stakeholder license by your administrator.";e.ValidationErrorOnConfigurationSave="You have errors in your configuration settings. Please correct the errors and try again.";e.SearchTextPlaceholder="Search dashboards";e.Announce_LoadingSingleWidget="Loading 1 widget";e.BladeMenu_CustomCallbackWidgetStateRequest_OldRequest="VS403629: Request was cancelled as another request for widget state was made";e.DashboardManager_CreateNewDashboardLabel="Create new dashboard";e.BladeConfigurationWidgetSizeLabel="{0} x {1}";e.MineGroupHeader="Mine";e.WidgetHost_NotifyBeforePreview="The widget preview cannot be updated via the notify method till it has completed initializing.";e.ErrorMessage_UpdateWidgetPositionConflict_UpdateWidgetAction="update";e.ManagePermissionsDialogDescriptionEdit="Allows team members to modify widgets and settings on dashboards.";e.ManagePermissionsDialogDescriptionNone="Allows team members to view dashboards.";e.DeleteDashboardDialogConfirmationMessage="Are you sure you want to delete this dashboard?";e.Dashboards_Title="Dashboards";e.DashboardsCommandBar_DisabledConfigureTooltip="You don’t have permission to configure the dashboard";e.XamlDefinitions="XAML pipelines";e.NewDashboardDialogOKButtonText="Create";e.DashboardDialogCancelButtonText="Cancel";e.ErrorMessage_UpdateWidgetPositionConflict="Failed to {0} widgets. Changes have been made to the dashboard by another user. {1} and try again.";e.WidgetNotificationConfigure_ScreenReaderSupportText_Admin="{0} widget has not been configured. Click to configure.";e.WidgetNotificationErrorTitle="Widget failed to load";e.ConfigHost_NoOnSave="A widget configuration should implement the onSave method. Please contact the widget author for more details.";e.BladeCatalogTitle="Add Widget";e.InvalidWidgetSizeText="Please select a valid widget size.";e.WidgetContextMenu_DisabledDeleteTooltip="You don’t have permission to delete the widget";e.DirectoryView_SearchWatermark="Filter dashboards";e.NewDashboardDialogTitle="Create a dashboard";e.ErrorMessage_UpdateWidgetPositionConflict_AddAction="add";e.NoResultsFound="No results found.";e.Dashboard_Timer_Updating="Updating ...";e.DashboardZeroData_PrimaryText="This project doesn\u0027t have any dashboards yet!";e.NewDashboardExperience_EditDashboard="Edit";e.TeamFilterNoTeamsFound="No teams found";e.StakeholderView_DialogLicenseTypesLinkText="What are the license types for {0}?";e.PivotDataLoadFailed="VS403632: Loading the data failed. Please refresh the page to try again.";e.DashboardEditMenuCloseEditMode="Close Edit Mode";e.DisabledWidgets_DialogLicenseTypesLinkText_VSTS="Learn more about the different types of projects and access levels for Azure DevOps Services";e.ManageDashboardDialog_SecurityDialogLink="Manage permissions for this dashboard";e.ErrorMessage_PermissionDenied="You don\u0027t have the right permissions to make changes to the dashboard. {0} the page to try again.";e.ConfigureWidgetOnDashboardTitle="Configure";e.BuildDefinitions="Build pipelines";e.VisualHostMenu_GetQueryLinks="Get Query Links";e.DashboardDialogDescriptionField="Description";e.Navigation_NewDashboardActionText="New";e.MenuAddNewDashboard="Add a new Dashboard";e.Dashboard_Timer_Updated_minutes="Updated {0} minutes ago";e.NewDashboardExperience_NewDashboard="New dashboard";e.DashboardZeroData_NoWidgets_SecondaryText="Add one or more widgets to gain visibility into your team\u0027s progress.";e.WidgetLightboxConfigureButtonTooltipText="Configure";e.ConfigHost_onSaveRejectedPromise="Calling onSave method implemented by the widget configuration returns a failure. Please contact the widget author for more details.";e.DataQuality_Latency="Latency (s)";e.NewDashboardExperience_RefreshDashboardLabel="Refresh Dashboard";e.SavingConfiguration="Saving...";e.WidgetCatalog_GalleryLinkText="Extension Gallery";e.WidgetCatalog_SortDescending="Z-A";e.AutoRefreshMinutesTooltip="Updating in {0} minutes";e.ExtensionDisabledWidget_DialogHeading="Widget unavailable";e.DirectoryViewAllPivotName="All";e.DashboardZeroData_NoWidgets_PrimaryText="This dashboard doesn\u0027t have widgets just yet!";e.WidgetNotificationConfigureDialogTitle="Insufficient permissions";e.ErrorMessage_DashboardGroup="VS403625: We were unable to load your dashboards. Please refresh the page and try again.";e.DashboardContextMenu_Delete="Delete";e.DashboardDialogSaveButtonText="Save";e.DashboardContextMenu_Security="Security";e.WidgetCatalog_AddButtonTitle="Add";e.CopyToDashboardTitle="Copy to dashboard";e.ErrorMessage_UpdateWidgetPosition="Failed to save widget position. Please ensure there are no errors on Widgets, reload the page and try again. If this continues, contact your administrator.";e.NewDashboardExperience_EditDashboardLabel="Edit Dashboard";e.WidgetCatalog_GalleryLink="Don\u0027t see a widget? Explore the {0}";e.MyDashboards_TeamColumn="Team";e.DisabledWidget_DialogContentText_DialogSubHeading="You aren\u0027t logged in as a member of this team project.";e.ManageDashboardsDialogTitleText="Manage Dashboards";e.WidgetContextMenu_DisabledCopyTooltip="You don’t have permission to copy the widget";e.AllGroupHeader="All dashboards";e.NewDashboardExperience_DoneEditingDashboard="Exit edit mode";e.WidgetCatalog_AnnouncePluralSearchResultFormat="Found {0} results containing {1}";e.WidgetConfiguration_NoReload="A configurable widget should implement the reload method. Please contact the widget author for more details.";e.DashboardContextMenu_Manage="Manage";e.Config_NotifyChangeEvent_BadData="VS403630: The custom settings from the widget configuration view were in an invalid state when notify() was called. The custom data passed was either NULL or did not have a property \"data\". The contribution id: {0}";e.WidgetNotificationError_MoreDetails="More details";e.AutoRefreshAltText="Auto Refresh";e.WidgetNotificationErrorDialogTitle="Widget error";e.Widget_Noload="A widget should implement the load method. Please contact the widget author for more details.";e.ManagePermissionsDialogOptionEdit="Edit dashboards";e.ManagePermissionsDialogOptionNone="View dashboards";e.TeamProfileCard_Prefix="Team:";e.QueryLinks_QueryName="Query Name";e.ManageDashboardDialog_SecuritySectionLabel="Only team admins can set a team\u0027s permissions for a dashboard. The permissions set here will only affect this dashboard.";e.DisabledWidget_DialogMessage="Only logged in members can view this widget.";e.LoadingDashboardsText="Loading dashboards";e.SearchResultsLoadingText="Searching dashboards";e.WidgetCatalog_SortByTitle="Sort by";e.ManagePermissionsLearnMoreFwLink="Learn more";e.DashboardsCommandBar_DisabledEditTooltip="You don’t have permission to edit the dashboard";e.DashboardDirectoryContextMenu_DisabledDeleteTooltip="You don’t have permission to delete the dashboard";e.AllDashboardsHeading="All";e.NewDashboardExperience_DashboardsBreadcrumb="Dashboards";e.MyFavoritesText="My favorites";e.ExternalContentErrorFormat="{0} has a problem. ";e.ManagePermissionsDialogDescriptionCreate="Allows team members to create dashboards.";e.NoDashboardFound="No dashboards for the team.";e.MyDashboardsHeading="Mine";e.ConfirmCancelDialogText="You have unsaved changes made which will be lost. Are you sure you want to discard these changes?";e.Manager_Input_AriaLabel="Dashboard Name";e.WidgetContextMenu_DisabledConfigureTooltip="You don’t have permission to edit the widget";e.ErrorMessage_Configuration_NameWidget="Name should be between {0} and {1} characters";e.HubTitle="Dashboards_Hub";e.ManageDashboardDialog_SecuritySectionHeading="Security";e.DisabledWidget_ScreenReaderSupportText="The extension for {0} widget has been disabled or removed by an organization administrator.";e.BuildPicker_EmptyWatermark="Select a build pipeline";e.AddWidgetButtonText="Add a widget";e.WidgetCatalog_AnnounceWidgetAddedFormat="{0} widget was successfully added to the dashboard in column {1}, row {2}";e.DashboardDialogNameField="Name";e.DirectoryTabs_MineTabKey="Mine";e.MenuOverflowTooltip="Click here to see additional dashboard";e.ErrorMessage_UpdateWidgetPositionConflict_Refresh="Refresh the page";e.DeleteDashboardAccessDeniedError="You do not have permissions to delete this dashboard. Contact your team admin to grant you permissions.";e.MyDashboards_DescriptionColumn="Description";e.VisualHostMenu_CheckDataQuality="Check data quality";e.ManageDashboardsDialogNewDashboardPlaceholderText="Enter a title";e.MenuDashboardNamePlaceHolder="Enter dashboard title";e.WidgetEditMenuConfigureButtonAriaLabelFormat="Configure {0} widget";e.WidgetCatalog_SortAscending="A-Z";e.CloseConfiguration="Close";e.AutoRefreshLessThanOneMinuteTooltip="Updating in less than a minute";e.WidgetCatalog_Instructions="Use the Up and Down arrows to choose a widget. Press enter or space to add the widget to the dashboard. Press the right arrow key to learn more about the widget.";e.DashboardDialogNameFieldErrorMessage="Dashboard name must be less than 32 characters";e.WidgetConfiguration_ContextError="Widget context must be set before saving";e.ManagePermissionsDialogDescriptionDelete="Allows team members to delete dashboards.";e.NewDashboardsExperience_ManageDashboards_Tooltip="Manage dashboards";e.WidgetCatalog_LearnMore="Learn More";e.AdminDashboardsSecurityDescription="Only team admins can set a team\u0027s permissions for all dashboards. The permissions set here affect all dashboards for this team.";e.ErrorMessage_CreateNewDashboard="We were unable to create a new dashboard. Dashboard must contain between {0} and {1} characters and you can create a maximum of {2} dashboards.";e.DashboardDialogDescriptionFieldDescription="Enter a description";e.DashboardManager_DashboardsTabName="Dashboards";e.Dashboard_Timer_Updated_one_minute="Updated 1 minute ago";e.WidgetCatalog_PublisherTemplate="By {0}";e.DashboardZeroData_SecondaryText="Please come back later to view all the dashboards in this project.";e.WidgetNotificationDialogClose="Close";e.ManagePermissionsDialogDescriptionManage="Allows team members to view dashboards, create dashboards, delete dashboards and modify widgets on dashboards.";e.WidgetEditMenuConfigureButtonTooltipText="Configure Widget";e.ConfigHost_NoLoadImplemented="The widget configuration has not implemented the load method. Please contact the widget author for more details.";e.Configuration_MoreInfoLabelFormat="More info on {0} configuration";e.FavoriteNameSeperator="-";e.MoveWidgetUp="Move widget up";e.ErrorCreateDashboardNameAlreadyExists="Dashboard name is already in use. Try a different name.";e.ErrorCreateDashboardTooManyDashboard="Cannot add new dashboard. You can only create {0} dashboards. Delete an existing dashboard to add a new one.";e.ManageDashboardsDialog_RefreshLink="refresh";e.MyDashboards_NameColumn="Name";e.TabularData_Title="Tabular Data View";e.WidgetEditMenuDeleteButtonAriaLabelFormat="Delete {0} widget from this dashboard";e.BladeConfigurationWidgetSize="Size";e.BladeConfigurationWidgetName="Title";e.DirectoryTabs_AllTabKey="All";e.DashboardManager_PermissionsTabName="Permissions";e.DashboardDialogDescriptionFieldErrorMessage="Description must be less than 128 characters";e.QueryLinks_Description="Description";e.FavoriteGroupHeader="Favorites";e.BladeCatalog_NoResultsFound="No results found";e.DataQuality_Entity="Entity";e.StakeholderView_DialogMessage="As a stakeholder, you can add and edit work items and bugs. You can also view dashboards, backlogs, and Kanban boards. Other features like source code and builds require a different license type.";e.NewDashboardExperience_AddWidget="Add widget";e.ManageDashboardsDialogAutoRefresh="Auto-refresh dashboard";e.CancelConfiguration="Cancel";e.DashboardManager_List_NameTitle="Name";e.Grid_AnnounceWidgetRemovedFormat="{0} widget was successfully removed from the dashboard in column {1}, row {2}";e.DeleteDashboardDialogDeleteButtonText="Delete";e.ManageDashboardsDialogDoneText="Done";e.ViewContextMenu_Security="Security";e.NewDashboardDialogTeamsLoading="Loading Teams";e.ManageDashboardTooltip="Manage your dashboards";e.ErrorMessage_CreateNewDashboard_Details="VS403631: We were unable to create a new dashboard. Details: {0}";e.AutoRefreshSelected="Automatically refresh the dashboard every {0} minutes";e.WidgetNotificationConfigureDialogMessage="You do not have sufficient permissions to configure widgets for this team. You must either be a team administrator or a project administrator.";e.DashboardManager_CreateNewDashboard_ButtonText="Create";e.AddWidgetDialogSearchBoxWatermark="Search widgets";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("TFS/Dashboards/Contracts",["require","exports"],function(n,t){"use strict";var i,r,u,f;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Collection_User=0]="Collection_User";n[n.Project_Team=1]="Project_Team"}(i=t.DashboardScope||(t.DashboardScope={})),function(n){n[n.None=0]="None";n[n.Edit=1]="Edit";n[n.Manage=2]="Manage";n[n.ManagePermissions=3]="ManagePermissions"}(r=t.GroupMemberPermission||(t.GroupMemberPermission={})),function(n){n[n.None=0]="None";n[n.Read=1]="Read";n[n.Create=2]="Create";n[n.Edit=4]="Edit";n[n.Delete=8]="Delete";n[n.ManagePermissions=16]="ManagePermissions"}(u=t.TeamDashboardPermission||(t.TeamDashboardPermission={})),function(n){n[n.Collection_User=0]="Collection_User";n[n.Project_Team=1]="Project_Team"}(f=t.WidgetScope||(t.WidgetScope={}));t.TypeInfo={DashboardGroup:{},DashboardScope:{enumValues:{collection_User:0,project_Team:1}},GroupMemberPermission:{enumValues:{none:0,edit:1,manage:2,managePermissions:3}},TeamDashboardPermission:{enumValues:{none:0,read:1,create:2,edit:4,"delete":8,managePermissions:16}},WidgetMetadata:{},WidgetMetadataResponse:{},WidgetScope:{enumValues:{collection_User:0,project_Team:1}},WidgetTypesResponse:{}};t.TypeInfo.DashboardGroup.fields={permission:{enumType:t.TypeInfo.GroupMemberPermission},teamDashboardPermission:{enumType:t.TypeInfo.TeamDashboardPermission}};t.TypeInfo.WidgetMetadata.fields={supportedScopes:{isArray:!0,enumType:t.TypeInfo.WidgetScope}};t.TypeInfo.WidgetMetadataResponse.fields={widgetMetadata:{typeInfo:t.TypeInfo.WidgetMetadata}};t.TypeInfo.WidgetTypesResponse.fields={widgetTypes:{isArray:!0,typeInfo:t.TypeInfo.WidgetMetadata}}});

define("TFS/Dashboards/RestClient",["require","exports","TFS/Dashboards/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function d(n){return window.VSS&&window.VSS.VssSDKRestVersion&&b[window.VSS.VssSDKRestVersion]?r.getClient(b[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(s,undefined,undefined,undefined,n)}var e,f,o,s,h,c,l,a,v,y,p,w,k,b;Object.defineProperty(t,"__esModule",{value:!0});e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getWidgetTypes=function(n,t){var r={$scope:n};return this._beginRequest({httpMethod:"GET",area:"Dashboard",locationId:"6b3628d3-e96f-4fc7-b176-50240b03b515",resource:"WidgetTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{contributionId}",responseType:i.TypeInfo.WidgetTypesResponse,routeValues:{project:t},queryParams:r,apiVersion:this.widgetTypesApiVersion})},t.prototype.getWidgetMetadata=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Dashboard",locationId:"6b3628d3-e96f-4fc7-b176-50240b03b515",resource:"WidgetTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{contributionId}",responseType:i.TypeInfo.WidgetMetadataResponse,routeValues:{project:t,contributionId:n},apiVersion:this.widgetTypesApiVersion})},t}(u.VssHttpClient);t.CommonMethods2To5=e;f=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateWidgets=function(n,t,i,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"Dashboard",locationId:"bdcff53a-8355-4172-a00a-40497ea23afc",resource:"Widgets",routeTemplate:"{project}/{team}/_apis/{area}/dashboards/{dashboardId}/{resource}/{widgetId}",responseIsCollection:!0,routeValues:{project:u,team:f,dashboardId:i},customHeaders:{ETag:r},apiVersion:this.widgetsApiVersion,data:n},!0).then(function(n){var t=n[0],r=n[1],i=n[2];return{widgets:t,eTag:[i.getResponseHeader("ETag")]}})},t.prototype.updateWidget=function(n,t,i,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"Dashboard",locationId:"bdcff53a-8355-4172-a00a-40497ea23afc",resource:"Widgets",routeTemplate:"{project}/{team}/_apis/{area}/dashboards/{dashboardId}/{resource}/{widgetId}",routeValues:{project:u,team:f,dashboardId:i,widgetId:r},apiVersion:this.widgetsApiVersion,data:n})},t.prototype.replaceWidgets=function(n,t,i,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"Dashboard",locationId:"bdcff53a-8355-4172-a00a-40497ea23afc",resource:"Widgets",routeTemplate:"{project}/{team}/_apis/{area}/dashboards/{dashboardId}/{resource}/{widgetId}",responseIsCollection:!0,routeValues:{project:u,team:f,dashboardId:i},customHeaders:{ETag:r},apiVersion:this.widgetsApiVersion,data:n},!0).then(function(n){var t=n[0],r=n[1],i=n[2];return{widgets:t,eTag:[i.getResponseHeader("ETag")]}})},t.prototype.replaceWidget=function(n,t,i,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"Dashboard",locationId:"bdcff53a-8355-4172-a00a-40497ea23afc",resource:"Widgets",routeTemplate:"{project}/{team}/_apis/{area}/dashboards/{dashboardId}/{resource}/{widgetId}",routeValues:{project:u,team:f,dashboardId:i,widgetId:r},apiVersion:this.widgetsApiVersion,data:n})},t.prototype.getWidgets=function(n,t,i){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"Dashboard",locationId:"bdcff53a-8355-4172-a00a-40497ea23afc",resource:"Widgets",routeTemplate:"{project}/{team}/_apis/{area}/dashboards/{dashboardId}/{resource}/{widgetId}",responseIsCollection:!0,routeValues:{project:r,team:u,dashboardId:t},customHeaders:{ETag:i},apiVersion:this.widgetsApiVersion},!0).then(function(n){var t=n[0],r=n[1],i=n[2];return{widgets:t,eTag:[i.getResponseHeader("ETag")]}})},t.prototype.getWidget=function(n,t,i){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"Dashboard",locationId:"bdcff53a-8355-4172-a00a-40497ea23afc",resource:"Widgets",routeTemplate:"{project}/{team}/_apis/{area}/dashboards/{dashboardId}/{resource}/{widgetId}",routeValues:{project:r,team:u,dashboardId:t,widgetId:i},apiVersion:this.widgetsApiVersion})},t.prototype.deleteWidget=function(n,t,i){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"DELETE",area:"Dashboard",locationId:"bdcff53a-8355-4172-a00a-40497ea23afc",resource:"Widgets",routeTemplate:"{project}/{team}/_apis/{area}/dashboards/{dashboardId}/{resource}/{widgetId}",routeValues:{project:r,team:u,dashboardId:t,widgetId:i},apiVersion:this.widgetsApiVersion})},t.prototype.createWidget=function(n,t,i){var r=t.projectId||t.project,u=t.teamId||t.team;return this._beginRequest({httpMethod:"POST",area:"Dashboard",locationId:"bdcff53a-8355-4172-a00a-40497ea23afc",resource:"Widgets",routeTemplate:"{project}/{team}/_apis/{area}/dashboards/{dashboardId}/{resource}/{widgetId}",routeValues:{project:r,team:u,dashboardId:i},apiVersion:this.widgetsApiVersion,data:n})},t.prototype.replaceDashboards=function(n,t){var r=t.projectId||t.project,u=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"Dashboard",locationId:"454b3e51-2e6e-48d4-ad81-978154089351",resource:"Dashboards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{dashboardId}",requestType:i.TypeInfo.DashboardGroup,responseType:i.TypeInfo.DashboardGroup,routeValues:{project:r,team:u},apiVersion:this.dashboardsApiVersion,data:n})},t.prototype.replaceDashboard=function(n,t,i){var r=t.projectId||t.project,u=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"Dashboard",locationId:"454b3e51-2e6e-48d4-ad81-978154089351",resource:"Dashboards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{dashboardId}",routeValues:{project:r,team:u,dashboardId:i},apiVersion:this.dashboardsApiVersion,data:n})},t.prototype.getDashboards=function(n){var t=n.projectId||n.project,r=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"Dashboard",locationId:"454b3e51-2e6e-48d4-ad81-978154089351",resource:"Dashboards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{dashboardId}",responseType:i.TypeInfo.DashboardGroup,routeValues:{project:t,team:r},apiVersion:this.dashboardsApiVersion})},t.prototype.getDashboard=function(n,t){var i=n.projectId||n.project,r=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"Dashboard",locationId:"454b3e51-2e6e-48d4-ad81-978154089351",resource:"Dashboards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{dashboardId}",routeValues:{project:i,team:r,dashboardId:t},apiVersion:this.dashboardsApiVersion})},t.prototype.deleteDashboard=function(n,t){var i=n.projectId||n.project,r=n.teamId||n.team;return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Dashboard",locationId:"454b3e51-2e6e-48d4-ad81-978154089351",resource:"Dashboards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{dashboardId}",routeValues:{project:i,team:r,dashboardId:t},apiVersion:this.dashboardsApiVersion})},t.prototype.createDashboard=function(n,t){var i=t.projectId||t.project,r=t.teamId||t.team;return this._beginRequest({httpMethod:"POST",area:"Dashboard",locationId:"454b3e51-2e6e-48d4-ad81-978154089351",resource:"Dashboards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{dashboardId}",routeValues:{project:i,team:r},apiVersion:this.dashboardsApiVersion,data:n})},t}(e);t.CommonMethods3To5=f;o=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.widgetTypesApiVersion="5.0-preview.1",r.dashboardsApiVersion=r.widgetsApiVersion="5.0-preview.2",r}return __extends(t,n),t}(f);t.DashboardHttpClient5=o;s=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.widgetTypesApiVersion="4.1-preview.1",r.dashboardsApiVersion=r.widgetsApiVersion="4.1-preview.2",r}return __extends(t,n),t}(f);t.DashboardHttpClient4_1=s;h=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.widgetTypesApiVersion="4.0-preview.1",r.dashboardsApiVersion=r.widgetsApiVersion="4.0-preview.2",r}return __extends(t,n),t}(f);t.DashboardHttpClient4=h;c=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.widgetTypesApiVersion="3.2-preview.1",r.dashboardsApiVersion=r.widgetsApiVersion="3.2-preview.2",r}return __extends(t,n),t}(f);t.DashboardHttpClient3_2=c;l=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.widgetTypesApiVersion="3.1-preview.1",r.dashboardsApiVersion=r.widgetsApiVersion="3.1-preview.2",r}return __extends(t,n),t}(f);t.DashboardHttpClient3_1=l;a=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.widgetTypesApiVersion="3.0-preview.1",r.dashboardsApiVersion=r.widgetsApiVersion="3.0-preview.2",r}return __extends(t,n),t}(f);t.DashboardHttpClient3=a;v=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.widgetTypesApiVersion="2.3-preview.1",r}return __extends(t,n),t}(e);t.DashboardHttpClient2_3=v;y=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.widgetTypesApiVersion="2.2-preview.1",r}return __extends(t,n),t.prototype.createDashboard=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Dashboard",locationId:"8919bdc7-4441-4fdc-ad54-cbea63d950d4",resource:"Dashboards",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/{resource}/{dashboardId}",routeValues:{project:i,groupId:t},apiVersion:"2.2-preview.1",data:n})},t.prototype.deleteDashboard=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Dashboard",locationId:"8919bdc7-4441-4fdc-ad54-cbea63d950d4",resource:"Dashboards",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/{resource}/{dashboardId}",routeValues:{project:i,groupId:n,dashboardId:t},apiVersion:"2.2-preview.1"})},t.prototype.getDashboard=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Dashboard",locationId:"8919bdc7-4441-4fdc-ad54-cbea63d950d4",resource:"Dashboards",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/{resource}/{dashboardId}",routeValues:{project:i,groupId:n,dashboardId:t},apiVersion:"2.2-preview.1"})},t.prototype.replaceDashboard=function(n,t,i,r){return this._beginRequest({httpMethod:"PUT",area:"Dashboard",locationId:"8919bdc7-4441-4fdc-ad54-cbea63d950d4",resource:"Dashboards",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/{resource}/{dashboardId}",routeValues:{project:r,groupId:t,dashboardId:i},apiVersion:"2.2-preview.1",data:n})},t.prototype.getDashboardGroup=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Dashboard",locationId:"563a4f53-b86d-4b65-9755-d8a917fc9379",resource:"Groups",routeTemplate:"{project}/_apis/{area}/{resource}/{groupId}",responseType:i.TypeInfo.DashboardGroup,routeValues:{project:t,groupId:n},apiVersion:"2.2-preview.1"})},t.prototype.replaceDashboardGroup=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"Dashboard",locationId:"563a4f53-b86d-4b65-9755-d8a917fc9379",resource:"Groups",routeTemplate:"{project}/_apis/{area}/{resource}/{groupId}",requestType:i.TypeInfo.DashboardGroup,responseType:i.TypeInfo.DashboardGroup,routeValues:{project:r,groupId:t},apiVersion:"2.2-preview.1",data:n})},t.prototype.createWidget=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Dashboard",locationId:"95cf85db-c3fa-4d3f-8da2-09185b176364",resource:"Widgets",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/dashboards/{dashboardId}/{resource}/{widgetId}",routeValues:{project:r,groupId:t,dashboardId:i},apiVersion:"2.2-preview.1",data:n})},t.prototype.getWidget=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Dashboard",locationId:"95cf85db-c3fa-4d3f-8da2-09185b176364",resource:"Widgets",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/dashboards/{dashboardId}/{resource}/{widgetId}",routeValues:{project:r,groupId:n,dashboardId:t,widgetId:i},apiVersion:"2.2-preview.1"})},t.prototype.updateWidget=function(n,t,i,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Dashboard",locationId:"95cf85db-c3fa-4d3f-8da2-09185b176364",resource:"Widgets",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/dashboards/{dashboardId}/{resource}/{widgetId}",routeValues:{project:u,groupId:t,dashboardId:i,widgetId:r},apiVersion:"2.2-preview.1",data:n})},t}(e);t.DashboardHttpClient2_2=y;p=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.widgetTypesApiVersion="2.1-preview.1",r}return __extends(t,n),t.prototype.createDashboard=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Dashboard",locationId:"8919bdc7-4441-4fdc-ad54-cbea63d950d4",resource:"Dashboards",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/{resource}/{dashboardId}",routeValues:{project:i,groupId:t},apiVersion:"2.1-preview.1",data:n})},t.prototype.deleteDashboard=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Dashboard",locationId:"8919bdc7-4441-4fdc-ad54-cbea63d950d4",resource:"Dashboards",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/{resource}/{dashboardId}",routeValues:{project:i,groupId:n,dashboardId:t},apiVersion:"2.1-preview.1"})},t.prototype.getDashboard=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Dashboard",locationId:"8919bdc7-4441-4fdc-ad54-cbea63d950d4",resource:"Dashboards",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/{resource}/{dashboardId}",routeValues:{project:i,groupId:n,dashboardId:t},apiVersion:"2.1-preview.1"})},t.prototype.replaceDashboard=function(n,t,i,r){return this._beginRequest({httpMethod:"PUT",area:"Dashboard",locationId:"8919bdc7-4441-4fdc-ad54-cbea63d950d4",resource:"Dashboards",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/{resource}/{dashboardId}",routeValues:{project:r,groupId:t,dashboardId:i},apiVersion:"2.1-preview.1",data:n})},t.prototype.getDashboardGroup=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Dashboard",locationId:"563a4f53-b86d-4b65-9755-d8a917fc9379",resource:"Groups",routeTemplate:"{project}/_apis/{area}/{resource}/{groupId}",responseType:i.TypeInfo.DashboardGroup,routeValues:{project:t,groupId:n},apiVersion:"2.1-preview.1"})},t.prototype.replaceDashboardGroup=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"Dashboard",locationId:"563a4f53-b86d-4b65-9755-d8a917fc9379",resource:"Groups",routeTemplate:"{project}/_apis/{area}/{resource}/{groupId}",requestType:i.TypeInfo.DashboardGroup,responseType:i.TypeInfo.DashboardGroup,routeValues:{project:r,groupId:t},apiVersion:"2.1-preview.1",data:n})},t.prototype.createWidget=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Dashboard",locationId:"95cf85db-c3fa-4d3f-8da2-09185b176364",resource:"Widgets",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/dashboards/{dashboardId}/{resource}/{widgetId}",routeValues:{project:r,groupId:t,dashboardId:i},apiVersion:"2.1-preview.1",data:n})},t.prototype.getWidget=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Dashboard",locationId:"95cf85db-c3fa-4d3f-8da2-09185b176364",resource:"Widgets",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/dashboards/{dashboardId}/{resource}/{widgetId}",routeValues:{project:r,groupId:n,dashboardId:t,widgetId:i},apiVersion:"2.1-preview.1"})},t.prototype.updateWidget=function(n,t,i,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Dashboard",locationId:"95cf85db-c3fa-4d3f-8da2-09185b176364",resource:"Widgets",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/dashboards/{dashboardId}/{resource}/{widgetId}",routeValues:{project:u,groupId:t,dashboardId:i,widgetId:r},apiVersion:"2.1-preview.1",data:n})},t}(e);t.DashboardHttpClient2_1=p;w=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.widgetTypesApiVersion="2.0-preview.1",r}return __extends(t,n),t.prototype.createDashboard=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Dashboard",locationId:"8919bdc7-4441-4fdc-ad54-cbea63d950d4",resource:"Dashboards",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/{resource}/{dashboardId}",routeValues:{project:i,groupId:t},apiVersion:"2.0-preview.1",data:n})},t.prototype.deleteDashboard=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Dashboard",locationId:"8919bdc7-4441-4fdc-ad54-cbea63d950d4",resource:"Dashboards",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/{resource}/{dashboardId}",routeValues:{project:i,groupId:n,dashboardId:t},apiVersion:"2.0-preview.1"})},t.prototype.getDashboard=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Dashboard",locationId:"8919bdc7-4441-4fdc-ad54-cbea63d950d4",resource:"Dashboards",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/{resource}/{dashboardId}",routeValues:{project:i,groupId:n,dashboardId:t},apiVersion:"2.0-preview.1"})},t.prototype.replaceDashboard=function(n,t,i,r){return this._beginRequest({httpMethod:"PUT",area:"Dashboard",locationId:"8919bdc7-4441-4fdc-ad54-cbea63d950d4",resource:"Dashboards",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/{resource}/{dashboardId}",routeValues:{project:r,groupId:t,dashboardId:i},apiVersion:"2.0-preview.1",data:n})},t.prototype.getDashboardGroup=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Dashboard",locationId:"563a4f53-b86d-4b65-9755-d8a917fc9379",resource:"Groups",routeTemplate:"{project}/_apis/{area}/{resource}/{groupId}",responseType:i.TypeInfo.DashboardGroup,routeValues:{project:t,groupId:n},apiVersion:"2.0-preview.1"})},t.prototype.replaceDashboardGroup=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"Dashboard",locationId:"563a4f53-b86d-4b65-9755-d8a917fc9379",resource:"Groups",routeTemplate:"{project}/_apis/{area}/{resource}/{groupId}",requestType:i.TypeInfo.DashboardGroup,responseType:i.TypeInfo.DashboardGroup,routeValues:{project:r,groupId:t},apiVersion:"2.0-preview.1",data:n})},t.prototype.createWidget=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Dashboard",locationId:"95cf85db-c3fa-4d3f-8da2-09185b176364",resource:"Widgets",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/dashboards/{dashboardId}/{resource}/{widgetId}",routeValues:{project:r,groupId:t,dashboardId:i},apiVersion:"2.0-preview.1",data:n})},t.prototype.getWidget=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Dashboard",locationId:"95cf85db-c3fa-4d3f-8da2-09185b176364",resource:"Widgets",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/dashboards/{dashboardId}/{resource}/{widgetId}",routeValues:{project:r,groupId:n,dashboardId:t,widgetId:i},apiVersion:"2.0-preview.1"})},t.prototype.updateWidget=function(n,t,i,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Dashboard",locationId:"95cf85db-c3fa-4d3f-8da2-09185b176364",resource:"Widgets",routeTemplate:"{project}/_apis/{area}/groups/{groupId}/dashboards/{dashboardId}/{resource}/{widgetId}",routeValues:{project:u,groupId:t,dashboardId:i,widgetId:r},apiVersion:"2.0-preview.1",data:n})},t}(e);t.DashboardHttpClient2=w;k=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(o);t.DashboardHttpClient=k;b={"5.0":o,"4.1":s,"4.0":h,"3.2":c,"3.1":l,"3.0":a,"2.3":v,"2.2":y,"2.1":p,"2.0":w};t.getClient=d});

define("VSS/Resources/VSS.Resources.Common",["require","exports"],function(require,exports){var e=exports;e.TeamHomeShowAllMembers="Show all members";e.Header_WelcomePortal="Azure DevOps Services";e.InvalidArtifactUri="TF400897: Invalid artifact uri: {0}";e.GettingStartedCreatingCollection="Creating collection...";e.AgoAMonth="a month ago";e.WelcomePageCreateProjectTitle="Create a team project";e.ViewProcessGuidance="View process guidance";e.Header_Privacy="Privacy policy";e.ErrorDuplicateRouteArea="TF400913: RoutingArea \u0027{0}\u0027 already registered.";e.ReleaseManagementStakeholderName="View Releases and Manage Approvals";e.TimeStampFullDate="{0}, {1}";e.NotAuthorizedToAccessPage="TF400894: You are not authorized to access this page. Please contact your project administrator.";e.HostedWelcomePageTitle="Welcome to Azure DevOps Services";e.NavigationHelpMenuMsdn="MSDN";e.TeamHomeOpeningWorkItemForm="Opening work item form...";e.InvalidExtensionManifest="Extension manifest file format is invalid. ";e.AgileBoardsFeatureDescription="Agile project management taskboards";e.AddSearchFilterType="Work item type:";e.Header_ExitAdministration="Exit administration";e.BrowseForExtensions="Browse DevOps extensions";e.ErrorMissingManifestFileFormat="TF400903: Could not find manifest file ({0}) in the plugin archive";e.TrialModeReminderMessage_Today="\u003cb\u003etoday\u003c/b\u003e";e.ProjectNameNotSpecified="Project name must be specified.";e.NewTeamProjectText="New team project";e.Header_Support="Support";e.Backlog="Backlog";e.TeamDoesNotExistOrNoAccess="TF400914: The specified team, {0}, either does not exist or you do not have access to it.";e.OtherCollections="Other collections";e.ExpandAll="Expand all";e.PageTitleServerHome="Welcome to Azure DevOps Server";e.HighContrastThemeName="High contrast";e.FeedbackFeatureName="Request and Manage Feedback";e.StakeholderAccountExpiredReminderMessage="Your current license {0} has expired. You will be assigned a \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=403541\"\u003eStakeholder license\u003c/a\u003e temporarily. Please contact your organization administrator.";e.VersionControlProperty="Version control:";e.TestManagementForBasicUsersFeatureDescription="Run tests assigned to you using the web-based Test Runner.";e.WelcomePageGettingStarted="Getting started";e.ManageSecurity="Manage security";e.GettingStartedCreateCollectionProgressPart1="We are currently creating your first collection and finalizing your organization configuration.";e.TestManagementForStakeholderName="Test summary access to stakeholder license users";e.CollapseAllToolTip="Collapse all";e.TeamHomeConfigureAreas="Configure work areas...";e.MenuItemsLoading="Loading...";e.InvalidCallbackName="Callback name contains invalid characters.";e.HelpMenuLabel="Help";e.PageTitleProjectHome="{0} project";e.ErrorPluginNotFound="TF400906: The plugin {0} could not be found";e.Filter="Filter";e.NavigationContentMenuItem_Instance="Azure DevOps Server";e.PortfolioBacklogManagementFeatureDescription="Create a portfolio of features and initiatives and trace your product backlog items to portfolio items.";e.GettingStartedRetryTeamProjectCreationLink="Retry team project creation";e.GitSupport="Git support";e.AdministerServer="Manage server";e.Header_Administration="Administration";e.OpenInVisualStudioPartDesc="Open this Team Project in Visual Studio";e.TeamHomeManageMembers="Manage all members...";e.MoreMyTeams="More my teams...";e.WelcomePageBrowseAll="Browse all...";e.MyWork="My work";e.RemoveFromRecentItems="Remove from recent items";e.WelcomePageCreateProjectDescription="Add a team project to a team  project collection.";e.AgoAMinute="a minute ago";e.NavigationContextMenuDefaultLabelTitle="Select a project";e.Header_KeyboardShortcuts="Keyboard shortcuts";e.Header_Community="Community";e.WorkItems="Work items";e.SendMailSendButton="Send";e.TestManagementInBuildAndReleaseFeatureDescription="Test services in build and release.";e.HubGroupDashboards="Dashboards";e.GettingStartedPatchLink="Download software";e.GettingStartedPatchText="Download and install the software necessary to connect to your team project from Visual Studio, Eclipse, Excel, or Microsoft Test Manager.";e.Application_NoTeamProjects="There are no team projects.";e.TeamSettings="Team settings";e.GettingStartedTeamProjectPart1="When your organization is ready, you will then be able to create a new team project for your team to collaborate in.";e.GettingStartedTeamProjectPart2="Create a new team project for your team to collaborate in.";e.WelcomePageNoRecentProjects="You haven\u0027t recently visited any project or teams.";e.SourcePropertiesGitUrl="Git repository URL";e.InvalidParameterFormat="Format of the parameter \u0027{0}\u0027 is invalid.";e.ViewBacklog="View backlog";e.BranchToDeployLabel="Branch to Deploy";e.TeamTitleFormat="{0} / {1}";e.ErrorNoPluginElementsFormat="TF400904: No plugin elements ({0}) were found in the plugin manifest file";e.TimeStampYesterdayAt="Yesterday at {0}";e.UnableToFindWindowsIdentity="Unable to find Windows identity for {0}";e.Gallery="Available extensions";e.SubscriptionLabel="Subscription";e.AgoHours="{0} hours ago";e.ManageWorkAreas="Manage work areas";e.AgoAYear="a year ago";e.AgoAWeek="a week ago";e.ManageProject="Manage project";e.ManageProfile="My profile";e.AgoYears="{0} years ago";e.ErrorPluginNameInvalidCharsFormat="Invalid character(s) in the plugin name. Plugin name can contain only letters, digits, space and the following characters:\r\n\r\n    {0}";e.AgoWeeks="{0} weeks ago";e.TeamHomeConfigureIterations="Configure schedule and iterations...";e.PortfolioBacklogManagementFeatureName="Agile Portfolio Management";e.TestManagementForStakeholderDescription="Stakeholder license users can view test summary charts on dashboards";e.NavigationContextMenuDefaultLabel="Projects";e.FilterToolTip="Filter";e.NavigationContentMenuItem_TeamProjectCollection="Collection";e.MoreMyCollections="More my collections...";e.ProjectHomeBladeTitle="Team Project";e.ExtensionSlowLoadWarningHeader="A DevOps extension is loading slowly. Expand details to view options.";e.NavigationContextMenuBackToWelcomePage="Back to Welcome Page";e.TeamSettings_BacklogLevelsManualCorrectionStepsLink="https://go.microsoft.com/fwlink/?LinkId=615175";e.TeamHomeMembersTitleFormat="Members ({0})";e.HtmlContentMsdnEligible="\u003cspan class=\"refresh-action\" \u003e\u003cb\u003eRetry\u003c/b\u003e\u003c/span\u003e";e.BranchToDeployMessage="Since your repository does not yet have a branch created, we will automatically use the first branch you create for deployments.";e.PropertiesPartTitle="Properties";e.CreateTeamProjectTitle="Create Team Project";e.NewMenuTitle="New";e.GettingStartedTutorialFeedbackDesc="Provide suggestions for how we can improve our Azure DevOps Services.";e.AdvancedPortfolioBacklogManagementFeatureDescription="Advanced portfolio management.";e.GettingStartedErrorCreatingProject="TF400911: There was an error creating the project. Please try again and if the problem persists \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=534538\" target=\u0027_blank\u0027\u003econtact our support team\u003c/a\u003e";e.StakeholderExpiredLicenseReminderLink="https://go.microsoft.com/fwlink/?LinkID=403541";e.SetupDeploymentDescription="Build, test, and deploy your website automatically when you check in code.";e.TeamProjectRenamedGlobalMessage="The team project {0} has been renamed to {1}";e.ProjectPickerBladeTitle="Choose project";e.TestManagementFeatureDescription="Web-based Test Case Management functionality.";e.ProjectNameInvalid="The project name is not valid.";e.BacklogManagementFeatureName="Basic backlog and sprint planning tools";e.TeamProjectWatermark="Enter team project name...";e.WelcomePageProjectConnectionMessage="Click \"Browse all...\" to connect to a project.";e.ExtensionDoesNotExist="Extension does not exist.";e.ReleaseManagementStakeholderDescription="View Releases and Manage Approvals";e.CreateProjectFailedMessage="Create Project Failed";e.FeatureEnablementSettings_Error_Invalid_Admin="TF400917: The current configuration is not valid for this feature. This feature cannot be used until you correct the configuration.";e.ManageExtensions="Manage extensions";e.ChartAuthoringFeatureName="Chart Authoring";e.ProjectCreationErrorTryAgain="try again";e.SendMailNoSubjectWarning="Are you sure you want to send this mail without a subject?";e.SignOut="Sign out";e.SidebarSearchWatermark="Search...";e.BacklogManagementFeatureDescription="Basic agile project management product and sprint backlog";e.NavigationContextMenuTeamLabelTitleFormat="Team \u0027{0}\u0027 in Project \u0027{1}\u0027";e.CreateFirstProjectWelcomeText="Welcome.  Your organization, \u003ca href=\u0027{0}\u0027 target=\u0027_blank\u0027\u003e{0}\u003c/a\u003e, is created and ready to go.  Now create your first team project where you’ll host your code and backlog. ";e.ExtensionErrorHeader="Failed to load extension";e.ProjectTeams="{0} teams";e.ProjectTitleFormat="{0}";e.RequiredFieldWatermark="Required...";e.ChartViewingFeatureDescription="View custom charts of your work item data.";e.CloseBrowserToCompleteSignoutMessage="You must close your browser to complete the sign out process.";e.Administration="Administration";e.NotSupportedBrowserMessage="\u003ch2\u003eAzure DevOps is designed for you, but maybe not for your browser.\u003c/h2\u003e\r\n\u003cp\u003eSome Azure DevOps features might not work correctly with the version of the web browser you\u0027re currently using.\u003c/p\u003e\r\n\u003cp\u003eTo get the most out of DevOps, we recommend that you take a few minutes to upgrade to the current version of one of these browsers:\u003cbr\u003e\r\n  \u003cul\u003e\r\n\t\u003cli\u003e\u003ca href=\"https://windows.microsoft.com/en-US/internet-explorer/downloads/ie\"\u003eInternet Explorer\u003c/a\u003e\u003c/li\u003e\r\n  \u003cli\u003e\u003ca href=https://www.microsoft.com/en-us/windows/microsoft-edge\"\u003eMicrosoft Edge\u003c/a\u003e\u003c/li\u003e\r\n\t\u003cli\u003e\u003ca href=\"https://www.mozilla.com/en-US/firefox/new/\"\u003eMozilla Firefox\u003c/a\u003e\u003c/li\u003e\r\n\t\u003cli\u003e\u003ca href=\"https://www.google.com/chrome\"\u003eGoogle Chrome\u003c/a\u003e\u003c/li\u003e\r\n\t\u003cli\u003e\u003ca href=\"https://www.apple.com/safari/\"\u003eSafari\u003c/a\u003e\u003c/li\u003e\r\n  \u003cul\u003e\r\n\u003c/p\u003e";e.TeamHomeMoreWorkItemTypes="more";e.PinnedItemsTileInfoMessage="You can pin builds, version control paths, work item queries and charts to the team homepage to display them as tiles.";e.ProcessTemplateLabel="Process Template";e.ManageTeamMembers="Manage team members";e.ProjectSettings="Project settings";e.EarlyAdopterModeReminderMessage_MultipleDays="Your account is an Early Adopter account. In \u003cb\u003e{0} days\u003c/b\u003e your account will revert to a standard account. \u003ca href=\u0027{1}\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e.";e.PageTitle_Hosted="Microsoft Azure DevOps Services";e.RequestFeedback="Request feedback";e.WelcomePageServerAdministrationDescription="Manage team project collections, team projects, users, groups, and permissions.";e.StakeholderReminderMessage="As a stakeholder, you can access the backlog, task and Kanban boards, work items and manage approvals for Releases. {0}.";e.EarlyAdopterAccountLearnMoreUrl="https://go.microsoft.com/fwlink/?LinkID=330423";e.ManageTeams="Manage teams";e.AjaxRequestFailedWithStatus="Ajax request failed with status: {0}.";e.HomePageUpgradeToFullVersionMessage="Azure DevOps Services is live! Up to 5 users are free, plus for a limited time all use is free. \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkID=269576\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e.";e.CancelText="Cancel";e.GettingStartedTeamProject="Create a team project";e.ActionsTitle="Actions";e.ProjectHomeBladeSubTitle="Team Project";e.PinnedItemsTitle="Pinned Items";e.Marketplace="Marketplace";e.ErrorPluginElementMissingNameFormat="TF400905: A plugin element ({0}) was found with no \"{1}\" attribute";e.ReleaseManagementFeatureName="Author Release Pipelines and Manage Releases";e.UnsavedChanges="You have unsaved changes.";e.ManageSecurityPreferences="Security";e.AllItemsText="All";e.SignInAsDifferentUser="Sign in as...";e.StakeholderMsdnExpiredReminderMessage="Your MSDN subscription has expired. You will be assigned a \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=403541\"\u003eStakeholder license\u003c/a\u003e temporarily. Check your MSDN subscription status at \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=513087\"\u003eMy Account portal\u003c/a\u003e.";e.CollapseAll="Collapse all";e.Header_About="About";e.WelcomePageViewOnlineHelpTitle="Visit the MSDN Library";e.AdministerAccount="Manage organization";e.CDNDisclaimer="Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code, not by Microsoft.  See ASP.NET Ajax CDN Terms of Use – https://www.asp.net/ajaxlibrary/CDN.ashx.";e.SourceQuickStartBladeTitle="Add some code";e.Eclipse="Eclipse";e.SendMailTo="To";e.MoreMyProjects="More my projects...";e.InvalidZipArchiveFile="TF400900: Invalid zip archive file : {0}";e.AutomaticCulture="Browser";e.SendMailTitle="Send mail";e.CreateProjectBladeSubTitle="Create a team project for Azure DevOps Server.";e.SourcePropertiesPartTitle="Source";e.SearchWorkItems="Search work items";e.TestManagementForExpressSkuFeatureName="Analyze test results and manage machine groups";e.TeamSettings_BugsBehaviorManualCorrectionStepsLink="https://go.microsoft.com/fwlink/?LinkId=512868";e.ManageNotifications="Notification settings";e.CreateTeamProjectPartDesc="Create a team project for Azure DevOps Services";e.TeamHomeWorkItemCreatedMessage="{0} created {1}";e.SetUpContinuousDeploymentPartTitle="Set Up Continuous Deployment";e.UnableToAccessCollectionFromCompatUrl="TF400895: Unable to access collection specified : {0}";e.Team_Members="Members ({0})";e.AccountHomePage_ShowAboutTFSHosted_VSO="Display About Azure DevOps Services";e.AgoMinutes="{0} minutes ago";e.OpenInVisualStudioPartShortTitle="Open in VS";e.TestMailSuccess="Email was successfully sent from DevOps to the configured SMTP server.";e.ResourceUsageLoadTestingUnit="virtual user minutes";e.ResourceUsageLoadTestingName="Load Testing";e.NewTeamProjectGitText="New team project + Git";e.TeamHomeViewQueries="View queries";e.InvalidLicenseException="TF400409: You do not have licensing rights to access this feature: {0}";e.ProjectNotFound="TF400901: Project not found: {0}";e.TeamProjectSubHeader="Team Project";e.FirstProjectConfirmationLearn="Are you ready to write some code?  Get started by connecting your project directly to {0}, or learn how to connect with {1}, or {2}.  We think you and your team are going to absolutely love this.";e.AdvancedHomePageFeatureName="Advanced home page";e.NavigationContentMenuItem_Account="Your organization";e.WelcomePageVisitGalleryDescription="Access extensions, process templates, and power tools for Visual Studio and Azure DevOps Server.";e.TestManagementForBasicUsersFeatureName="Web-based Test Execution";e.XmlSchemaErrorLine="({0},{1}) {2}";e.AddSearchFilterCreatedBy="Created by:";e.ResourceUsageBlockedNoSubscription="Your organization has used all the free quantity of this resource. Click Learn more above to set up billing for your organization.";e.AccountHomePage_ShowAnnouncements="Display all announcements";e.InvalidParameter="Parameter \u0027{0}\u0027 is invalid";e.ExtensionsDisabledMessage="Extensions are disabled.";e.TeamHomeProjectAdminTitle="Administration";e.CollectionSettings="Collection settings";e.NavigationContextMenuTeamLabelFormat="{0} / {1}";e.WelcomePageVisitGalleryTitle="Visit the Visual Studio Gallery";e.NoImageDataUploaded="No image data uploaded.";e.FetchingSearches="Fetching recent searches";e.PageTitle="Azure DevOps Server";e.CreateDeploymentPartShortTitle="Create Deployment";e.SendMailAttachments="Attachments";e.TimeStampDayAt="{0} at {1}";e.GettingStartedTutorialLink="Beginner\u0027s guide";e.GettingStartedTutorialText="A step-by-step guide to help you get up and running now.";e.OpenVisualStudio="Open new instance of Visual Studio";e.InvalidRedirectException="The specified redirect URL failed validation - the validator returned {0}. Please check to make sure the provided redirect URL is well-formed.";e.UnknownArtifactType="Unknow artifact type: {0}";e.TimeStampTodayAt="Today at {0}";e.AddSearchFilterAssignedTo="Assigned to:";e.UnsupportedBrowserWarningMessageHosted="You are using an unsupported browser. For the best experience, please upgrade to a newer browser. \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=799815\" target=\"_blank\"\u003eLearn more\u003c/a\u003e";e.NewBacklogItemToolTip="Add an item to this backlog";e.AccountSettings="Organization settings";e.GettingStartedRetryCollectionCreationLink="Retry collection creation";e.WelcomePageSubmitFeedbackDescription="Provide suggestions for how we can improve Team Web Access and Azure DevOps Server.";e.ExtensionSlowLoadWarningBody="It is taking a long time to load the DevOps extension content from the following url: \u003cbr /\u003e\u003ca /\u003e";e.CreateTeamProjectPartShortTitle="Team Project";e.EarlyAdopterModeReminderMessage_Today="Your account is an Early Adopter account. \u003cb\u003eToday\u003c/b\u003e your account will revert to a standard account. \u003ca href=\u0027{0}\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e.";e.ChooseWebsiteWizardStepLabel="Choose Website";e.AdvancedHomePageFeatureDescription="Advanced home page.";e.ImageSizeTooLarge="Uploaded image exceeds maximum size.";e.NavigationHelpMenuGettingStarted="Getting started";e.NoCollectionSpecifiedInCompatUrl="TF401198: No project collection specified in the request.";e.UnsavedChangesWithNames="You have unsaved changes:";e.RequireOnPremiseDeploymentError="TF400915: This service is not available.";e.TestMailFailure="Error sending email message. Exception details: {0}";e.TfsAccountBoundToSubscriptionMessage="This DevOps organization is already bound to your subscription.";e.PlansFeatureName="Delivery Plans";e.InvalidErrorParameter="Invalid error parameter";e.CreateFirstProject="Create your first team project";e.Board="Board";e.CreateProjectFailed="Create Project Failed";e.SendMailSpecifyToAddress="There must be at least one email address for To field.";e.AgoDays="{0} days ago";e.AgoADay="a day ago";e.AccountHomePage_ShowAboutTFSHosted="Display About Azure DevOps Services";e.MoreCollectionProjects="More {0} projects...";e.XCode="Xcode";e.FeatureEnablementSettings_Error_Link_Invalid_Admin="https://go.microsoft.com/fwlink/?LinkId=298890";e.JobFailed="TF400902: There was a failure executing the job. Job Id for the failed creation:{0}";e.HubGroupRelease="Release";e.AccountHomePage_ShowAboutTFSOnPerm="Display About DevOps Server";e.NewTeamProjectProjectPickerItem="New Team Project";e.ConfirmToDiscardEditedEmail="Leaving this page will discard the email. Do you want to exit?";e.InvalidContentType="The uploaded file must be an image.";e.FeatureEnablementSettings_Error_Missing="This feature cannot be used until a DevOps Administrator configures it for this team project.";e.FullOnPremProductName="Azure DevOps Server 2019";e.ViewTaskBoard="View task board";e.TestMailMessage="This message was sent to verify DevOps email settings.";e.CreateTeamProjectPartTitle="Team Project";e.FeedbackFeatureDescription="Solicit feedback";e.ServerTimeZone="Server: {0}";e.VisualStudio="Visual Studio";e.StakeholderMsdnEligibleReminderMessage="\u003cdiv class=\"stakeholder-license-message\"\u003e We could not verify your Visual Studio subscription so we’ve downgraded you to Stakeholder. Please visit our \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=733421\u0026clcid=0x409\"\u003e\u003cb\u003etroubleshooting page\u003c/b\u003e\u003c/a\u003e for more details then click here to {0} \u003c/div\u003e";e.TeamHomeTeamsTitle="Teams";e.TeamFoundationServerName="Azure DevOps Server 2019";e.TeamHomeCreateWorkItemLink="+ {0}";e.TrialFeatureUrl="https://go.microsoft.com/fwlink/?LinkID=325554";e.ExpandAllToolTip="Expand all";e.ProjectQuickStartTitle="Your Team Project\u0027s up";e.OpenInVisualStudioPartTitle="Open in Visual Studio";e.NavigationContextMenuProjectLabelTitleFormat="Project \u0027{0}\u0027";e.WelcomePageRecentItems="Recent projects and teams";e.FeedbackMenuHint="Feedback";e.NoResultsToDisplay="There are no results to display.";e.AdvancedBacklogManagementFeatureDescription="Advanced backlog and sprint planning tools.";e.LearnGitMessage="Learn how you can use the Git distributed version control system in your team projects.";e.ProjectQuickStartDesc="Kick-start your project with these tools and tips";e.GettingStartedViewOnlineHelp="Learn more, dig deeper";e.HubGroupSource="Code";e.NavigationRecentProjectsAndTeams="Recent projects and teams";e.InternalServerError="Internal server error:";e.ChartAuthoringFeatureDescription="Create customized charts to view and visualize your work item data.";e.AdminFeatureDescription="Administer organization and team projects.";e.LearnMore="Learn more";e.PageTitleWithContent="{0} - Azure DevOps Server";e.SourceControlTitle="Source";e.Settings="Settings";e.StakeholderReminderLink="https://go.microsoft.com/fwlink/?LinkID=402656";e.EllipsisMenuTitle="Configure";e.NoFilesSelected="No files were selected to be uploaded.";e.InvalidEmailWithEmail="Please enter a valid email address ({0}).";e.PageTitleWithContent_Hosted="{0} - Azure DevOps Services";e.TestMailTitle="Test Mail Settings";e.ResourceUsageBuildUnit="minutes";e.ResourceUsageBuildName="Build";e.PageNotFound="Page not found.";e.AddASearchFilter="Add a search filter";e.FeatureEnablementSettings_Error_LinkText_Invalid_Admin="Learn about how to correct your configuration";e.StakeholderReminderLinkText="Learn more";e.BuildFeatureName="Build";e.ProjectDoesNotExistOrNoAccess="TF400896: The project with guid {0} does not exist or you do not have access.";e.Application_TeamProjects="Team projects ({0})";e.WebApiUndefinedRequestError="An undefined error occurred while attempting to connect to the server. Status code {0}: {1}.";e.GettingStartedErrorCreatingCollection="TF400910: There was an error creating the collection. Contact our support team by visiting https://www.visualstudio.com/support-overview-vs";e.GoToProjectPortal="Go to project portal";e.Activities="Activities";e.UnsupportedBrowserWarningMessage="You are using an unsupported browser. For the best experience, please upgrade to a newer browser. \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=799814\" target=\"_blank\"\u003eLearn more\u003c/a\u003e";e.NavigationContentMenuItem_Team="Team";e.Application_SelectTeamProject="To get started, select the team project you want to connect to.";e.AddSearchFilterState="State:";e.RetrievingWorkItemTypes="Retrieving work item types...";e.NavigationViewUnknownTabErrorFormat="Could not find navigation tab with id: {0}.";e.ChooseProjectWizardStepLabel="Choose Project";e.WelcomePageViewOnlineHelpDescription="Access online help for Visual Studio Application Lifecycle Management and Azure DevOps Server.";e.Security="Security";e.UnkownCompatibilityUrl="TF400907: The URL specified appears to be from an earlier version of Web Access.  The format was not recognized : {0}";e.ManageProjectMembers="Manage project members";e.BrowseAllTeams="Browse all";e.AdvancedPortfolioBacklogManagementFeatureName="Advanced portfolio management";e.EmailExceedsMaxBodySizeLimit="TF400582: The email body exceeds the maximum allowed size of {0} KB. Reduce the contents of the email body and try again.";e.Asterix="*";e.HubGroupHome="Home";e.HubGroupTest="Test";e.CodeFeatureName="Code";e.PinningBlankSlateMessage="Pin items to the homepage to display them here as tiles. You can pin work item queries, work item charts, build pipelines, and version control paths to the homepage.";e.ManageScheduleIterations="Manage schedule and iterations";e.UnsavedChangesMore="more...";e.BrowseTheMarketplace="Browse Marketplace";e.CreateProjectBladeTitle="Your new Team Project is almost ready.";e.AccountNameLabel="Organization Name";e.FeatureEnablementSettings_Error_LinkText_Missing_Admin="Configure feature";e.PluginNotFound="TF400912: Could not find plugin with name \"{0}\".";e.GettingStartedProgressNotStarted="Scheduling collection creation...";e.CodeFeatureDescription="Code repository functionality.";e.FollowingErrors="The following error(s) occurred:";e.MoreProjectTeams="More {0} teams";e.FeatureEnablementSettings_Error_Invalid="TF400916: The current configuration is not valid for this feature. This feature cannot be used until a DevOps Administrator corrects the configuration.";e.RequireHostedDeploymentError="TF400915: This service is not available.";e.NotAMemberOfATeam="You are not a member of a team.";e.ManageProjectGroups="Manage teams and project groups";e.TeamHomeManageTeams="Manage teams...";e.AccountNameCreateInfoMessage="This will be the organization name on your vanity URL, i.e., organizationname.visualstudio.com";e.GettingStartedAccountActive="The organization is active and ready for use.  Please save the above Url for your records.";e.ExternalControlLoading="Loading...";e.BuildFeatureDescription="Build services.";e.TeamHomeShowLessMembers="Show less members";e.StakeholderExpiredLicenseReminderLinkText="Learn more";e.VersionControlLabel="Version Control";e.NavigationContextMenuHostedBackTo="Organization home";e.TeamHomeActivitesTitle="Activities";e.TileEllipsisMenuTitle="Configure tile";e.ViewQueries="View queries";e.AgoLessThanAMinute="just now";e.ReleaseManagementFeatureDescription="Author release pipelines, create and manage releases";e.NotSupportedBrowser="Your browser is not supported";e.ProjectCreationError="There was an error creating your project. Please {0}.";e.SendMailFrom="From";e.DefaultThemeName="Default";e.TileLoading="loading...";e.ChartEllipsisMenuTitle="Configure chart";e.ResourceUsageBlockedWithSubscription="Your organization has used all the free quantity of this resource. Click Learn more above to enable paid resources.";e.Members="Members";e.ProcessTemplateProperty="Process template:";e.TeamHomePage_ShowHowTo="Display How to";e.ControlPanel="Control panel";e.TeamHomeLoadingMembers="Loading team members...";e.PlansDescription="Delivery Plans help you drive alignment across teams by overlaying several backlogs onto your delivery schedule.";e.UserNeedsToBeTeamAdmin="User needs to be a team administrator to perform this operation.";e.AccountNameWatermark="Enter organization name...";e.TrialModeReminderMessage="All features have been enabled during your trial. This trial will end {0}. \u003ca href=\u0027{1}\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e.";e.SourceQuickStartBladeSubTitle="Use your favorite tool to publish your project";e.AdvancedBacklogManagementFeatureName="Advanced backlog and sprint planning tools";e.NavigationContentMenuItem_TeamProject="Project";e.MyFavorites="My favorites";e.AjaxRequestTimedOut="Ajax request has been timed out.";e.NavigationContextMenuOnPremBackTo="Server home";e.TestManagementInBuildAndReleaseFeature="Test services in build and release";e.CloseBrowserToCompleteSignoutWarning="Sign out: close browser to complete sign out";e.TrialModeReminderMessage_MultipleDays="in \u003cb\u003e{0} days\u003c/b\u003e";e.ServerSettings="Server settings";e.GettingStartedTutorialFeedback="Make a suggestion";e.SendMailNoSubjectWarningTitle="Confirmation";e.AgoMonths="{0} months ago";e.HubGroupBuild="Build";e.HubGroupAdmin="Administration";e.YouAreAlmostThereMessagePart2="Click the {0}New Team Project{1} button below to create your first project. ";e.YouAreAlmostThereMessagePart3="The {0}beginner’s guide{1} has a step-by-step walkthrough on how to upload your source code, set up a build, and start managing your work. You’re almost there…";e.YouAreAlmostThereMessagePart1="Welcome to Azure DevOps Services!";e.ImageOf="Image of {0}";e.HubGroupUsers="Users";e.NetworkConnectionUnavailable="TF400893: Unable to contact the server. This is most likely caused by a network error. Please check your connection and try again.";e.HubGroupRooms="Rooms";e.AdminFeatureName="Administer organization";e.TrialFeatureExpiredUrl="https://go.microsoft.com/fwlink/?LinkID=328611";e.BuildTitle="Build";e.FeatureEnablementSettings_Error_Missing_Admin="This feature cannot be used until you configure it for this team project.";e.OpenWithVisualStudioTooltip="Open Visual Studio and connect Team Explorer to this project.";e.TeamFoundationServiceName="Azure DevOps Services";e.ExtensionErrorBody="We were unable to load a DevOps extension. To load this component, please ensure that you are able to access the following url: \u003cbr /\u003e\u003ca /\u003e";e.AccountTimeZone="Organization: {0}";e.ManageAlerts="Alerts";e.OpenWithVisualStudio="Open with Visual Studio to connect";e.NewBacklogItem="New";e.ErrorSendEmail="TF400969: An error occurred while attempting to send the email. Retry at a later time.";e.NavigationAdminMenuItemFormat="Administer {0}";e.TeamSettings_ManualCorrectionStepsLinkText="correct your configuration manually";e.SendMailSubject="Subject";e.TeamHomeLoadingActivities="Loading activities...";e.TestManagementFeatureName="Web-based Test Case Management";e.PersonalExtensionsDisabledMessage="Personal extensions are disabled.";e.TeamContextNotFound="TF400909: There is no team context.";e.CollectionProjects="{0} projects";e.Project_Teams="{0} teams ({1})";e.RequiresVS2012="Requires Visual Studio 2013+";e.ScrumTemplateInfoMessage="Scrum is an iterative, incremental framework for project management and agile software development. This template includes work items and reports to help your Scrum team be successful.";e.TestManagementForExpressSkuFeatureDescription="Analyze test results and manage machine groups.";e.CreateTeamProjectNoSubError="No subscriptions available to create project edit scope";e.AgileBoardsFeatureName="Agile boards";e.TeamHomeViewBoard="View board";e.RemoveMRUTeamTitle="Remove from this list";e.SendMailWarning="Unable to send message to the following recipients: {0}\r\nPreferred Email address is not configured within the user’s profile.";e.ProjectNameLabel="Name";e.TeamHomeViewBacklog="View backlog";e.InvalidEmailAddressFormat="The following email address is not valid: \u0027{0}\u0027. Please specify a valid email address in the form \u0027user@host\u0027 or \u0027Display name \u003cuser@host\u003e\u0027.";e.InvalidArgumentValue="Invalid argument value.";e.HubGroupWorkItems="Work";e.FirstProjectConfirmationHeader="Your new project, {0}, is ready!";e.ChartViewingFeatureName="Chart Viewing";e.Home="Home";e.PageTitleCollectionHome="{0} project collection";e.Save="Save";e.SendMailNotEnabled="Sending email is not enabled. Please contact your administrator.";e.EarlyAdopterModeReminderMessage_OneDay="Your account is an Early Adopter account. In \u003cb\u003e{0} day\u003c/b\u003e your account will revert to a standard account. \u003ca href=\u0027{1}\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e.";e.TrialModeReminderMessage_OneDay="in \u003cb\u003e{0} day\u003c/b\u003e";e.ViewReports="View reports";e.ConfigureOptionsWizardStepLabel="Configure Options";e.AgoAnHour="an hour ago";e.ExtensionErrorAdditionalSteps="You can try checking your network connection and refreshing this page.";e.WelcomePageSubmitFeedbackTitle="Make a suggestion";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("Dashboards/Scripts/Common",["require","exports","Dashboards/Scripts/Generated/Constants","Dashboards/Scripts/Resources/TFS.Resources.Dashboards","Presentation/Scripts/TFS/TFS.Host.TfsContext","TFS/Dashboards/RestClient","VSS/Common/Contracts/Platform","VSS/Contributions/Services","VSS/Locations","VSS/Navigation/Services","VSS/Resources/VSS.Resources.Platform","VSS/Utils/File","VSS/Utils/String","VSS/Service","VSS/VSS","VSS/Context","VSS/Resources/VSS.Resources.Common","q","VSS/Navigation/NavigationHistoryService","Dashboards/Scripts/Common.PageHelpers","VSS/WebApi/Constants","VSS/LWP"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){function tt(){var r=p.getDefaultWebContext(),u=v.getService(o.WebPageDataService),n=u.getPageData("ms.vss-dashboards-web.dashboards-team-data-provider"),t,i;return(n||(i=nt.getLWPService("IVssContributionService"),i&&(t=i.getData("ms.vss-dashboards-web.dashboards-team-data-provider"))),n&&n.value)?n.value:t&&t.value?t.value:r.team?r.team:null}function yt(){var n=p.getDefaultWebContext(),t=tt();return{projectId:n.project.id,teamId:t.id,team:t.name,project:n.project.name}}var it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt;Object.defineProperty(t,"__esModule",{value:!0});t.getDashboardTeamContext=tt;t.getTeamContext=yt;it=function(){function n(){}return n.getClient=function(){if(!this._dashboardHttpClient){var n=new v.VssConnection(u.TfsContext.getDefault().contextData);this._dashboardHttpClient=n.getHttpClient(f.DashboardHttpClient)}return this._dashboardHttpClient},n}();t.DashboardHttpClientFactory=it;rt=function(){function n(){}return n.getActiveDashboard=function(){var t=h.getHistoryService().getCurrentState();return t[n.FragmentID]||n.getDefaultDashboardIdFromDataIsland()||n.getDashboardIdFromRouteValues()||a.EmptyGuidString},n.getDashboardIdFromRouteValues=function(){var t=k.getNavigationHistoryService(),i=t.getState();return i[n.RouteParameterKey]},n.setActiveDashboard=function(t,i){i===void 0&&(i=!1);var r=h.getHistoryService().getCurrentState();r[n.FragmentID]=t;h.getHistoryService().addHistoryPoint(null,r,null,i)},n.getDefaultDashboardIdFromDataIsland=function(){return d.getFromPage(i.DashboardPageDataProviderKeys.Dashboard,i.JsonIslandDomClassNames.DefaultDashboardWidgets).id},n.getWidgetsFromDataIsland=function(){return d.getFromPage(i.DashboardPageDataProviderKeys.Dashboard,i.JsonIslandDomClassNames.DefaultDashboardWidgets)},n.getDashboardsFromWebPageData=function(){var n=v.getService(o.WebPageDataService);return n.getPageData(i.DashboardProviderPropertyBagNames.DashboardsLegacy)},n.getTeamsMembersOf=function(){var n=v.getService(o.WebPageDataService),t={id:i.DashboardProviderPropertyBagNames.TeamMemberships,properties:{serviceInstanceType:g.ServiceInstanceTypes.TFS}};return n.ensureDataProvidersResolved([t]).then(function(){return b.resolve(n.getPageData(i.DashboardProviderPropertyBagNames.TeamMemberships))},function(){return b.resolve([])})},n.getMaxWidgetsPerDashboard=function(){return d.getFromPage(i.DashboardPageDataProviderKeys.MaxWidgetsPerDashboard,i.JsonIslandDomClassNames.MaxWidgetsPerDashboards)},n.getMaxDashboardsPerGroup=function(){return d.getFromPage(i.DashboardPageDataProviderKeys.MaxDashboardPerGroup,i.JsonIslandDomClassNames.MaxDashboardsPerGroup)},n.isNewDashboardExperience=function(){return d.getFromPage(i.DashboardPageDataProviderKeys.IsNewDashboardFeatureEnabled)},n.validateDashboardNameIsUnique=function(n,t){var i=n.some(function(n){return n.name==t});return!i},n.getFormattedDashboardName=function(n){var t=p.getPageContext().webAccessConfiguration.isHosted?w.PageTitleWithContent_Hosted:w.PageTitleWithContent,i=a.format(r.DashboardNameForPageTitle,n);return a.format(t,i)},n.isNewDashboard=function(){var n=k.getNavigationHistoryService(),t=n.getState();return!!t[i.DashboardUrlParams.IsNew]||!1},n.removeIsNewFromUrl=function(){var n=k.getNavigationHistoryService(),t=n.getState();t[i.DashboardUrlParams.IsNew]=null;n.pushState(t)},n.FragmentID=i.DashboardUrlParams.ActiveDashboardId,n.RouteParameterKey="parameters",n}();t.DashboardPageExtension=rt;ut=function(){function n(){}return n.sortDashboardsByPosition=function(n){return n.sort(function(n,t){return n.position-t.position})},n}();t.DashboardContractsExtension=ut;ft=function(){function n(){}return n.WidgetLoadingAnimationStartTimeoutMs=250,n.WidgetLoadingTimeoutErrorMs=12e4,n.WidgetAjaxTimeoutMs=n.WidgetLoadingTimeoutErrorMs+2e3,n}();t.ClientConstants=ft;et=function(){function n(){}return n.isAnimationSupported=function(){var n=document.createElement("tempo");return"animation"in n.style||"OAnimation"in n.style||"MozAnimation"in n.style||"WebkitAnimation"in n.style},n.attachOneEventOnTransitionEnd=function(t,i){var r=this;if(n.isAnimationSupported())return t.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",i);t.delay(n.FakeDelayInMillisecond).queue(function(n){i.call(r);n()})},n.isInViewport=function(n,t){var i=n.get(0).getBoundingClientRect(),r=t||$(window);return i.top>=0&&i.top<r.height()&&i.left>=0&&i.left<r.width()},n.FakeDelayInMillisecond=200,n}();t.CssHtmlUtilities=et;ot=function(){function n(){}return n.verifyVersionValid=function(n){return!!n&&/^(0|[1-9]\d*)$/.test(n.major.toString())&&/^(0|[1-9]\d*)$/.test(n.minor.toString())&&/^(0|[1-9]\d*)$/.test(n.patch.toString())},n.verifyVersionForward=function(n,t){return t.major>n.major||t.major===n.major&&t.minor>n.minor||t.major===n.major&&t.minor===n.minor&&t.patch>=n.patch},n.verifyVersionsEqual=function(n,t){return t.major===n.major&&t.minor===n.minor&&t.patch===n.patch},n.versionToString=function(n){return a.format("{0}.{1}.{2}",n.major,n.minor,n.patch)},n.isInitialVersion=function(t){return n.verifyVersionsEqual(n.getInitialVersion(),t)},n.getInitialVersion=function(){return{major:1,minor:0,patch:0}},n}();t.SemanticVersionExtension=ot;st=function(){function n(){}return n.getExtensionUrl=function(t){return n.getGalleryUrl().then(function(i){return n.getExtensionUrlFromGalleryUrl(t,i)})},n.getExtensionUrlFromGalleryUrl=function(t,i){var r=o.ExtensionHelper.getPublisherId(t),u=o.ExtensionHelper.getExtensionId(t);return l.combinePaths(n.getExtensionHomepageFromGalleryUrl(i),"/items/"+r+"."+u)},n.getExtensionHomepageFromGalleryUrl=function(n){return u.TfsContext.getDefault().isHosted?n:l.combinePaths(n,"_gallery")},n.getGalleryUrl=function(){var n=b.defer();return y.using(["VSS/Gallery/RestClient"],function(t){s.beginGetServiceLocation(t.GalleryHttpClient.serviceInstanceId,e.ContextHostType.Deployment).then(n.resolve,n.reject)}),n.promise},n.getExtensionMessage=function(t){var u=o.ExtensionHelper.getPublisherId(t),f=v.getService(o.ExtensionService).getProviderDisplayName(t),e=a.format(c.ExtensionDisplayNameFormat,t.properties.name,f||u),i=$("<div />");return $("<span />").appendTo(i).text(a.format(r.ExternalContentErrorFormat,e)),n.getExtensionUrl(t).then(function(n){var t=$("<span />").appendTo(i).html(c.ExternalContentErrorLearnMoreContent);return t.find("a").attr("href",n).attr("target","_blank"),i.html()})},n}();t.GalleryHelper=st;ht=function(){function n(){}return n.getErrorMessage=function(t){return{message:n.parseErrorToString(t),isRichText:n.getRichTextOrDefault(t),isUserVisible:n.getUserVisibleOrDefault(t)}},n.getUserVisiblePlainTextMessage=function(t){return{message:n.parseErrorToString(t),isUserVisible:!0,isRichText:!1}},n.getConsoleMessage=function(t){return{message:n.parseErrorToString(t),isUserVisible:!1,isRichText:!1}},n.parseErrorToString=function(n){var t=null;return n==null?t:(typeof n=="string"?t=n:n.hasOwnProperty("message")&&(n.message==null?t="":typeof n.message=="string"?t=n.message:n.message.hasOwnProperty("message")&&(t=n.message.message)),t)},n.getUserVisibleOrDefault=function(n){var t=!0;return n!=null&&n.hasOwnProperty("isUserVisible")&&(t=n.isUserVisible),t},n.getRichTextOrDefault=function(n){var t=!1;return n!=null&&n.hasOwnProperty("isRichText")&&(t=n.isRichText),t},n}();t.ErrorMessageHelper=ht;ct=function(){function n(){}return n.ResetTimer="refreshtimer.reset",n.StopTimer="refreshtimer.stop",n.StartTimer="refreshtimer.start",n.OnRefresh="refreshtimer.on.refresh",n}();t.RefreshTimerEvents=ct;lt=function(){function n(){}return n.getFunctionName=function(n){var t=null,i;if($.isFunction(n))if(i=n.name,i!=null)t=i;else{var u=n+"",r=u.match(/function ([^(]*)/);if(r==null||r.length<2)throw new Error("Failed to find function name");t=r[1]}else throw new Error("Argument is not a function");return t},n.getMethodName=function(n,t){var i,r;for(i in n)if(r=n[i],r===t)return i;throw new Error("Could not find method in object");},n}();t.FunctionNameParser=lt;at=function(){function n(){}return n.isValidWidgetSize=function(n){return n!=null&&n.columnSpan>0&&n.columnSpan<=i.DashboardWidgetLimits.MaxColumnSpan&&n.rowSpan>0&&n.rowSpan<=i.DashboardWidgetLimits.MaxRowSpan},n}();t.WidgetSizeValidator=at;vt=function(){function n(){}return n.GalleryPromotion="https://go.microsoft.com/fwlink/?LinkId=785782",n.PermissionsOnManageDashboards="https://go.microsoft.com/fwlink/?LinkID=825563&clcid=0x409 ",n.StakeholderLicenseOnPrem="https://go.microsoft.com/fwlink/?LinkID=787012&clcid=0x409",n.StakeholderLicenseHosted="https://go.microsoft.com/fwlink/?LinkID=787012&clcid=0x409",n.PublicAnonLearnMore="https://go.microsoft.com/fwlink/?linkid=867452",n}();t.FwLinks=vt;t.ClassGridster="gridster";t.ClassWidgetEditOverlayControl="widget-edit-overlay-control"});

define("Dashboards/Scripts/Pinning.PushToDashboardConstants",["require","exports","Dashboards/Scripts/Generated/Constants"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.QueryScalar_WidgetTypeID=i.WidgetIds.QueryScalarContribution;t.CodeScalar_WidgetTypeID=i.WidgetIds.CodeScalarContribution;t.WITChart_WidgetTypeID=i.WidgetIds.WITChartContribution;t.Markdown_WidgetTypeID=i.WidgetIds.MarkDownContribution;t.TCMChart_WidgetTypeID=i.WidgetIds.TCMChartContribution;t.BuildChart_WidgetTypeID=i.WidgetIds.BuildChartContribution;t.TestResults_FailureTrend_WidgetTypeId=i.WidgetIds.TestResultsFailureTrendContribution;t.TestResults_DurationTrend_WidgetTypeId=i.WidgetIds.TestResultsDurationTrendContribution;t.TestResults_Trend_WidgetTypeId=i.WidgetIds.TestResultsTrendContribution;t.Dashboards_Source_Area="Dashboards";t.WITChart_Source_Area="WIT Chart";t.TCMChart_Source_Area="TCM Chart";t.QueryTree_Source_Area="WIT Query";t.CodeExplorer_Source_Area="Source Explorer";t.CodeMD_Source_Area="Code Markdown";t.Build_Source_Area="Build";t.Test_Source_Area="Test Management";t.PinToDashboardCommand=i.TfsCommands.PinToDashboard});

define("Dashboards/Scripts/Telemetry",["require","exports","TFS/Dashboards/Contracts","VSS/Context","VSS/Telemetry/Services","VSS/Utils/String","VSS/VSS","TFS/Core/Contracts","VSS/User/Services","Dashboards/Scripts/Common.UserPermissionsHelper","TfsCommon/Scripts/Navigation/PageService"],function(n,t,i,r,u,f,e,o,s,h,c){function g(){return window.performance&&window.performance.timing?!0:!1}var p,w,b,y,v,l,k,d,a;Object.defineProperty(t,"__esModule",{value:!0});p=function(){function n(){}return n.DashboardDataLoaded="DashboardDataLoaded",n.GridInitializationStarted="GridInitializationStarted",n.WidgetInitializationStarted="WidgetInitializationStarted",n.WidgetInitializationEnded="WidgetInitializationEnded",n.GridInitializationEnded="GridInitializationEnded",n.FirstWidgetLoaded="FirstWidgetLoaded",n.Widget25pctLoaded="Widgets25pctLoaded",n.Widget50pctLoaded="Widgets50pctLoaded",n.Widget75pctLoaded="Widgets75pctLoaded",n}();t.DashboardSplits=p;w=function(){function n(){}return n.WidgetInitialized="WidgetInitialized",n.WidgetRendered="WidgetRendered",n}();t.WidgetSplits=w;b=function(){function n(){}return n.AllWidgetsLoaded="Dashboards.Page.AllWidgetsLoaded",n.PageTTILoad="Dashboards.Page.Load",n.PageSwitch="Dashboards.Page.Switch",n.PageAutoRefresh="Dashboards.Page.AutoRefresh",n.CatalogOpen="Dashboards.Catalog.Open",n.CatalogAdd="Dashboards.Catalog.Add",n.ConfigOpen="Dashboards.Config.Open",n.SaveWidgetConfiguration="Dashboards.Config.Save",n.WidgetLoad="Widget.Load",n}();t.DashboardScenarios=b;y=function(){function n(){}return n.Area="Dashboards",n.WidgetLoadTelemetryMaxTime=6e4,n.WidgetLoadStartedSplitName="Widget.LoadStarted",n.DashboardViewModeMenu="viewModeMenuLink",n.DashboardEditModeMenu="editModeMenuLink",n.DirectoryScenario="Dashboards.Directory",n}();t.DashboardsTelemetryConstants=y;v=function(){function n(){}return n.CreateDashboard="CreateDashboard",n.ReplaceDashboards="ReplaceDashboards",n.SaveDashboards="SaveDashboards",n}();t.DashboardFeatureNames=v;t.HasPerformanceTiming=g;l=function(){function n(){}return n.publish=function(n,t,i,f){t||(t={});t.SessionId=r.getPageContext().diagnostics.sessionId;r.getPageContext().webContext.team&&(t.TeamId=r.getPageContext().webContext.team.id);t.isAdmin=h.CanManagePermissionsForDashboards();u.publishEvent(new u.TelemetryEventData(y.Area,n,t,i),f)},n.extractErrorId=function(n){var i=null,t=n.match("VS[0-9]+");return t!=null&&t.length>=1?i=t[0]:(t=n.match("TF[0-9]+"),t!=null&&t.length>=1&&(i=t[0])),i},n}();t.DashboardsTelemetryCore=l;k=function(){function n(){}return n.onWidgetLoadFailed=function(n,t,i){var r=e.getErrorMessage(n),u=l.extractErrorId(r),f=__assign({ErrorId:u,contributionId:t},i);l.publish("WidgetLoadFailed",f)},n.widgetsBelowFold=function(n,t,i){var r={belowFold:n,total:t,windowHeight:$(window).height(),windowWidth:$(window).width(),dashboardId:i};l.publish("widgetsBelowFold",r)},n.onDashboardRename=function(n,t,i){var r={OldName:n,NewName:t,DashboardId:i};l.publish("DashboardRenamed",r)},n.onCreateDashboard=function(n,t){var i=v.CreateDashboard,r={DashboardId:n,Position:t};l.publish(i,r,null,!0)},n.onReplaceDashboards=function(n){var t=v.ReplaceDashboards,r={DashboardCount:n.dashboardEntries.length,GroupPermission:i.GroupMemberPermission[n.permission]};l.publish(t,r,null,!0)},n.onSaveDashboards=function(n,t){var i=v.SaveDashboards,u={DashboardsAdded:n,DashboardsReordered:t,UserIdentifier:r.getDefaultWebContext().user.id};l.publish(i,u,null,!0)},n.onDashboardError=function(n,t,i){var t=e.getErrorMessage(t),r=l.extractErrorId(t),u={EventName:n,ErrorMessage:t,ErrorId:r,DashboardId:i};l.publish("DashboardError",u)},n.newAddToDashboardSucceeded=function(n,t,i,r){var u={WidgetTypeId:n,SourceDashboard:r,DestinationDashboard:t,Source:i};l.publish("NewAddToDashboardSucceeded",u)},n.newAddToDashboardFailed=function(n,t,i,r,u){var f={WidgetTypeId:n,SourceDashboard:u,DestinationDashboard:t,Source:r,Error:i};l.publish("NewAddToDashboardFailed",f)},n.onAddWidget=function(n){var t={InEditMode:n};l.publish("AddWidget",t)},n.onDashboardEditMenu=function(n){var t={EventName:n};l.publish("DashboardEditMenu",t)},n.onInlineEditorButton=function(n){var t={EventName:n};l.publish("onInlineEditorButton",t)},n.onRemoveWidget=function(n,t,i,r){var f=r?"RemoveWidgetLinkClick":"RemoveWidget",u={WidgetTypeId:n,DashboardId:t,WidgetId:i};r&&(u.LinkDescription=r);l.publish(f,u)},n.onAddWidgetFromCatalog=function(n,t,i){var r={WidgetTypeId:n,DashboardId:t,AddSource:i};l.publish("AddFromCatalog",r)},n.onConfigureWidget=function(n,t,i,r){var f=r?"ConfigureWidgetLinkClick":"ConfigureWidget",u={WidgetTypeId:n,DashboardId:t,WidgetId:i};r&&(u.LinkDescription=r);l.publish(f,u)},n.onShowWidgetLightbox=function(n,t,i){var r={DashboardId:n,WidgetTypeId:t,WidgetId:i};l.publish("ShowWidgetLightbox",r)},n.onLightboxWidgetLoaded=function(n,t,i,r){var u={DashboardId:n,WidgetTypeId:t,WidgetId:i,TimeTakenMs:r};l.publish("WidgetLightboxLoadedTime",u)},n.onWidgetResize=function(n,t,i,r){var u={WidgetTypeId:n,WidgetId:t,CurrentSize:i.columnSpan+"x"+i.rowSpan,PreviousSize:r.columnSpan+"x"+r.rowSpan};l.publish("WidgetResized",u)},n.onPermissionsChanged=function(n){var t={};t[i.GroupMemberPermission[n]]=!0;l.publish("PermissionsChanged",t,null,!0)},n.onEnablingAutoRefresh=function(n){var t={DashboardId:n};l.publish("DashboardAutoRefreshEnable",t)},n.onAutoRefresh=function(n,t){var i={DashboardId:n,minutesSinceLoad:t};l.publish("DashboardAutoRefreshHappen",i)},n.onClickingAutoRefresh=function(n){var t={Dashboardid:n};l.publish("DashboardAutoRefreshUserClick",t)},n.onCatalogDrag=function(){l.publish("DashboardCatalogDrag",{})},n.onCatalogClosed=function(n){var t={WidgetsAdded:n};l.publish("DashboardCatalogClosed",t)},n.onOpenDashboardManager=function(){l.publish("openDashboardManager")},n.onSwitchDashboard=function(n){var t={current:n};l.publish("SwitchDashboard")},n.contributionIdBelongsToFirstParty=function(n){return f.startsWith(n,"ms.vss")},n}();t.DashboardsTelemetry=k;d=function(){function n(){}return n.getUserType=function(){return this.hasStakeholderClaim?a.Stakeholder:this.hasMemberClaim?a.Member:this.hasPublicClaim?a.Public:this.hasAnonymousClaim?a.Anonymous:"Unknown"},n.getPublicProjectsTelemetryData=function(){var t=c.getProject()||{},i=o.ProjectVisibility[t.visibility];return{UserType:n.getUserType(),ProjectVisibility:i,ProjectId:t.id}},n.hasMemberClaim=s.getService().hasClaim(s.UserClaims.Member),n.hasStakeholderClaim=h.Utils.isStakeholder(),n.hasPublicClaim=s.getService().hasClaim(s.UserClaims.Public),n.hasAnonymousClaim=s.getService().hasClaim(s.UserClaims.Anonymous),n}();t.PublicProjectsTelemetryHelper=d;a=function(){function n(){}return n.Member="Member",n.Stakeholder="Stakeholder",n.Public="Public",n.Anonymous="Anonymous",n}();t.UserType=a});

define("Dashboards/Scripts/Pinning.PushToDashboardInternal",["require","exports","q","VSS/Context","Presentation/Scripts/TFS/TFS.Using","Dashboards/Scripts/Common","Dashboards/Scripts/Pinning.PushToDashboardConstants","Dashboards/Scripts/Telemetry"],function(n,t,i,r,u,f,e,o){var s,h;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Success=0]="Success";n[n.Failure=1]="Failure"}(s=t.PushToDashboardOutcome||(t.PushToDashboardOutcome={}));h=function(){function n(){}return n.copyToDashboard=function(n,t,r){var u=i.defer();return!t.projectId||!t.groupId||!t.dashboardId||!t.widgetData?(u.reject({dashboardId:t.dashboardId||undefined,outcome:s.Failure}),u.promise):this.pinWidgetOnDashboard(n,t).then(function(){return o.DashboardsTelemetry.newAddToDashboardSucceeded(t.widgetData.contributionId,t.dashboardId,e.Dashboards_Source_Area,r),u.resolve({dashboardId:t.dashboardId,outcome:s.Success}),u.promise},function(n){return o.DashboardsTelemetry.newAddToDashboardFailed(t.widgetData.contributionId,t.dashboardId,n,e.Dashboards_Source_Area,r),u.resolve({dashboardId:t.dashboardId,outcome:s.Failure}),u.promise})},n.addToDashboard=function(n,t,r){var f=this,u=i.defer();return!t.projectId||!t.groupId||!t.dashboardId||!t.widgetData?this.getPinningResponse(u,t.dashboardId||undefined,s.Failure):(r=r||this.getSourceArea(t.widgetData.contributionId),this.pinWidgetOnDashboard(n,t).then(function(){return o.DashboardsTelemetry.newAddToDashboardSucceeded(t.widgetData.contributionId,t.dashboardId,r),f.getPinningResponse(u,t.dashboardId,s.Success)},function(n){return o.DashboardsTelemetry.newAddToDashboardFailed(t.widgetData.contributionId,t.dashboardId,n,r),f.getPinningResponse(u,t.dashboardId,s.Failure)}))},n.pinWidgetOnDashboard=function(n,t){n||(n=f.DashboardHttpClientFactory.getClient());var i=this.createWidgetFromData(t.widgetData),r=this.getTeamContext(t);return n.createWidget(i,r,t.dashboardId)},n.getPinningResponse=function(n,t,i){return n.resolve({dashboardId:t,outcome:i}),n.promise},n.getDashboards=function(){return u.usingWithPromise("Dashboards/Scripts/Common").then(function(n){var t=n.DashboardHttpClientFactory.getClient();return t.getDashboards(n.getTeamContext())})},n.createWidgetFromData=function(n){return{size:n.size,id:null,position:{column:0,row:0},name:n.name,contributionId:n.contributionId,settings:n.settings,artifactId:"",settingsVersion:n.settingsVersion}},n.getTeamContext=function(n){var t=r.getDefaultWebContext();return{projectId:t.project.id,project:t.project.name,teamId:n.groupId||undefined,team:n.groupId||undefined}},n.getSourceArea=function(n){switch(n){case e.WITChart_WidgetTypeID:return e.WITChart_Source_Area;case e.TCMChart_WidgetTypeID:return e.TCMChart_Source_Area;case e.QueryScalar_WidgetTypeID:return e.QueryTree_Source_Area;case e.Markdown_WidgetTypeID:return e.CodeMD_Source_Area;case e.CodeScalar_WidgetTypeID:return e.CodeExplorer_Source_Area;case e.BuildChart_WidgetTypeID:return e.Build_Source_Area;case e.TestResults_Trend_WidgetTypeId:case e.TestResults_DurationTrend_WidgetTypeId:case e.TestResults_FailureTrend_WidgetTypeId:return e.Test_Source_Area;default:return undefined}},n}();t.PushToDashboardInternal=h});

define("VSS/Flux/Component",["require","exports","react","VSS/Utils/Core"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=0,f=function(n){function t(t,i){var u=n.call(this,t,i)||this;return u.state=u.getState(),u._changeDelegate=r.delegate(u,u.onChange),u}return __extends(t,n),t.prototype.getKey=function(n){return u+=1,""+n+u},t.prototype.getState=function(){return null},t.prototype.onChange=function(){var n=this.getState();this.setState(n)},t.prototype.getStore=function(){return null},t.prototype.componentDidMount=function(){var n=this.getStore();n&&n.addChangedListener(this._changeDelegate)},t.prototype.componentWillUnmount=function(){var n=this.getStore();n&&n.removeChangedListener(this._changeDelegate)},t}(i.Component);t.Component=f});

define("TFSUI/Resources/TFS.Resources.TFSUI",["require","exports"],function(require,exports){var e=exports;e.AddToDashboard_LoadingText="Loading...";e.AddToDashboard_GetDashboardsFailedError="We are unable to retrieve dashboards for this project.";e.AddToDashboardPanel_CancelButtonText="Cancel";e.AddToDashboard_FailureMessage="{0} was not successfully added to the {1} dashboard.";e.AddToDashboardPanel_SearchNoResultsFound="No results found.";e.AddToDashboardPanel_OKButtonText="OK";e.AddToCurrentDashboard_FailureMessage="{0} was not successfully added to this dashboard.";e.AddToDashboardPanel_Header="Select a dashboard";e.AddToDashboardPanel_SubHeaderPreText="By selecting a dashboard you will create a copy of ";e.AddToDashboardPanel_SearchTextPlaceholder="Search";e.AddToDashboardPanel_AllDashboardsGroupHeader="A to Z";e.AddToDashboard_SuccessMessage="{0} has been successfully added to the {1} dashboard.";e.AddToDashboardPanel_NoDashboardsFound="No dashboards found.";e.AddToCurrentDashboard_SuccessMessage="{0} has been successfully added to this dashboard.";e.AddToDashboardPanel_FavoritesGroupHeader="Favorites";e.AddToDashboardPanel_SubHeaderPostText=" as a widget on that dashboard";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("TFSUI/Dashboards/DashboardPickerProvider",["require","exports","OfficeFabric/Utilities","TFSUI/Resources/TFS.Resources.TFSUI"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(n){this._props=n}return Object.defineProperty(n.prototype,"isSearchable",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"searchTextPlaceholder",{get:function(){return r.AddToDashboardPanel_SearchTextPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"noItemsText",{get:function(){return r.AddToDashboardPanel_NoDashboardsFound},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"searchNoResultsText",{get:function(){return r.AddToDashboardPanel_SearchNoResultsFound},enumerable:!0,configurable:!0}),n.prototype.setSelectedItem=function(n){this._selectedItem=n},n.prototype.getItems=function(){return this._props.dashboardPickerItems},n.prototype.getListItem=function(t){return t?{name:n.getDashboardDisplayName(t),iconProps:{iconType:0,iconName:"ViewDashboard"},key:t.group+":"+t.dashboard.id,groupKey:t.group}:null},n.getDashboardDisplayName=function(n){return n.group===n.teamScope.teamName?n.dashboard.name:n.teamScope.teamName+" "+n.dashboard.name},n.prototype.onSelectedItemChanged=function(n){this.setSelectedItem(n);this._props.onItemSelected(n)},Object.defineProperty(n.prototype,"selectedItem",{get:function(){return this._selectedItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groups",{get:function(){var t=[],u,n,r,f;if(this._props.dashboardPickerItems)for(u=function(n){i.find(t,function(t){return t.key===n.group})||t.push({key:n.group,name:n.group})},n=0,r=this._props.dashboardPickerItems;n<r.length;n++)f=r[n],u(f);return t},enumerable:!0,configurable:!0}),n}();t.DashboardPickerProvider=u});

define("TFSUI/Dashboards/DashboardPicker",["require","exports","react","VSS/Flux/Component","VSSUI/Components/PickList/ItemPicker","TFSUI/Dashboards/DashboardPickerProvider","TFSUI/Resources/TFS.Resources.TFSUI"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(t){var i=n.call(this,t)||this;return i.dashboardPickerProvider=new f.DashboardPickerProvider(t),i}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:"dashboard-picker-container"},i.createElement(u.ItemPickerDropdown,{className:"dashboard-item-picker",pickListClassName:"dashboard-item-picker-dropdown",provider:this.dashboardPickerProvider,placeholderText:e.AddToDashboardPanel_Header}))},t}(r.Component);t.DashboardPicker=o});

define("TFSUI/Dashboards/AddToDashboardPanel",["require","exports","react","react-dom","OfficeFabric/Utilities","OfficeFabric/Button","OfficeFabric/Panel","OfficeFabric/Spinner","TFSUI/Dashboards/DashboardPicker","TFSUI/Resources/TFS.Resources.TFSUI","VSS/LoaderPlugins/Css!AddToDashboardPanel"],function(n,t,i,r,u,f,e,o,s,h){function v(n){c=document.createElement("div");document.body.appendChild(c);r.render(i.createElement(l,__assign({},n)),c)}function a(){c&&(r.unmountComponentAtNode(c),c.parentElement.removeChild(c),c=null)}var l,c;Object.defineProperty(t,"__esModule",{value:!0});l=function(n){function t(t){var i=n.call(this,t)||this;return i.state=i.props.store.getState(),i}return __extends(t,n),t.prototype.componentDidMount=function(){this.props.store.addChangedListener(this.storeListener);this.props.actionCreator.togglePanel(!0);this.props.actionCreator.updateActiveWidget(this.props.widgetOptions);this.props.actionCreator.getDashboards(this.props.projectId)},t.prototype.componentWillUnmount=function(){this.props.store.removeChangedListener(this.storeListener)},t.prototype.storeListener=function(){this.setState(this.props.store.getState())},t.prototype.render=function(){return i.createElement(e.Panel,{isOpen:this.state.showPanel,type:e.PanelType.medium,onDismiss:this.onClosePanel,headerText:h.AddToDashboardPanel_Header,isLightDismiss:!0,onRenderFooterContent:this.onRenderFooterContent},i.createElement("span",{className:"add-to-dashboard-subheader"},h.AddToDashboardPanel_SubHeaderPreText,i.createElement("b",null,this.state.widgetData&&this.state.widgetData.name),h.AddToDashboardPanel_SubHeaderPostText),this.state.isDashboardPickerLoading?this.renderSpinner():this.renderDashboardPicker())},t.prototype.renderSpinner=function(){return i.createElement(o.Spinner,{className:"add-to-dashboard-loading-spinner",size:o.SpinnerSize.large,label:h.AddToDashboard_LoadingText})},t.prototype.renderDashboardPicker=function(){var n=this;return this.state.isError?i.createElement("span",{className:"add-to-dashboard-error-field"},h.AddToDashboard_GetDashboardsFailedError):i.createElement(s.DashboardPicker,{dashboardPickerItems:this.state.dashboardsList,selectedItem:this.state.selectedDashboard,onItemSelected:function(t){n.props.actionCreator.setSelection(t)}})},t.prototype.onShowPanel=function(){this.props.actionCreator.togglePanel(!0)},t.prototype.onClosePanel=function(){this.props.actionCreator.togglePanel(!1);a()},t.prototype.onSaveAndClosePanel=function(){var n={dashboardId:this.state.selectedDashboard.dashboard.id,dashboardName:this.state.selectedDashboard.dashboard.name,groupId:this.state.selectedDashboard.teamScope&&this.state.selectedDashboard.teamScope.teamId,projectId:this.props.projectId,widgetData:this.state.widgetData};this.props.actionCreator.saveWidget(n,this.props.actionCallback,this.props.sourceArea);this.props.actionCreator.togglePanel(!1)},t.prototype.onRenderFooterContent=function(){return i.createElement("div",null,i.createElement(f.PrimaryButton,{onClick:this.onSaveAndClosePanel,style:{marginRight:"8px"},disabled:!this.state.selectedDashboard},h.AddToDashboardPanel_OKButtonText),i.createElement(f.DefaultButton,{onClick:this.onClosePanel},h.AddToDashboardPanel_CancelButtonText))},__decorate([u.autobind],t.prototype,"storeListener",null),__decorate([u.autobind],t.prototype,"onShowPanel",null),__decorate([u.autobind],t.prototype,"onClosePanel",null),__decorate([u.autobind],t.prototype,"onSaveAndClosePanel",null),__decorate([u.autobind],t.prototype,"onRenderFooterContent",null),t}(i.Component);t.AddToDashboardPanel=l;c=null;t.showAddToDashboardPanel=v;t.closeAddToDashboardPanel=a});

define("Favorites/Constants",["require","exports"],function(n,t){var i,r;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.Collection="Collection";n.Project="Project"}(i=t.FavoriteStorageScopes||(t.FavoriteStorageScopes={})),function(n){n.Team="Team";n.User="User"}(r=t.OwnerScopeTypes||(t.OwnerScopeTypes={}))});

define("VSS/Operations/Contracts",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;(function(n){n[n.NotSet=0]="NotSet";n[n.Queued=1]="Queued";n[n.InProgress=2]="InProgress";n[n.Cancelled=3]="Cancelled";n[n.Succeeded=4]="Succeeded";n[n.Failed=5]="Failed"})(i=t.OperationStatus||(t.OperationStatus={}));t.TypeInfo={Operation:{},OperationReference:{},OperationStatus:{enumValues:{notSet:0,queued:1,inProgress:2,cancelled:3,succeeded:4,failed:5}}};t.TypeInfo.Operation.fields={status:{enumType:t.TypeInfo.OperationStatus}};t.TypeInfo.OperationReference.fields={status:{enumType:t.TypeInfo.OperationStatus}}});

define("TFS/Core/RestClient",["require","exports","TFS/Core/Contracts","VSS/Operations/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f,e){"use strict";function rt(n){return window.VSS&&window.VSS.VssSDKRestVersion&&tt[window.VSS.VssSDKRestVersion]?u.getClient(tt[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):u.getClient(v,undefined,undefined,undefined,n)}var o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,it,tt;Object.defineProperty(t,"__esModule",{value:!0});o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateTeam=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:t,teamId:i},apiVersion:this.teamsApiVersion,data:n})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:this.teamsApiVersion})},t.prototype.deleteTeam=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:this.teamsApiVersion})},t.prototype.createTeam=function(n,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:t},apiVersion:this.teamsApiVersion,data:n})},t.prototype.getProxies=function(n){var t={proxyUrl:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"ec1f4311-f2b4-4c15-b2b8-8990b80d2908",resource:"proxies",routeTemplate:"_apis/{resource}",responseIsCollection:!0,queryParams:t,apiVersion:this.proxiesApiVersion})},t.prototype.updateProject=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:i.TypeInfo.TeamProject,responseType:r.TypeInfo.OperationReference,routeValues:{projectId:t},apiVersion:this.projectsApiVersion,data:n})},t.prototype.queueDeleteProject=function(n){return this._beginRequest({httpMethod:"DELETE",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:r.TypeInfo.OperationReference,routeValues:{projectId:n},apiVersion:this.projectsApiVersion})},t.prototype.queueCreateProject=function(n){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:i.TypeInfo.TeamProject,responseType:r.TypeInfo.OperationReference,apiVersion:this.projectsApiVersion,data:n})},t.prototype.getProjects=function(n,t,r,u){var f={stateFilter:n,$top:t,$skip:r,continuationToken:u};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:f,apiVersion:this.projectsApiVersion})},t.prototype.getProject=function(n,t,r){var u={includeCapabilities:t,includeHistory:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:i.TypeInfo.TeamProject,routeValues:{projectId:n},queryParams:u,apiVersion:this.projectsApiVersion})},t.prototype.getProjectCollections=function(n,t){var i={$top:n,$skip:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseIsCollection:!0,queryParams:i,apiVersion:this.projectCollectionsApiVersion})},t.prototype.getProjectCollection=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:i.TypeInfo.TeamProjectCollection,routeValues:{collectionId:n},apiVersion:this.projectCollectionsApiVersion})},t.prototype.getProcesses=function(){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"93878975-88c5-4e6a-8abb-7ddd77a8a7d8",resource:"processes",routeTemplate:"_apis/process/{resource}/{*processId}",responseType:i.TypeInfo.Process,responseIsCollection:!0,apiVersion:this.processesApiVersion})},t.prototype.getProcessById=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"93878975-88c5-4e6a-8abb-7ddd77a8a7d8",resource:"processes",routeTemplate:"_apis/process/{resource}/{*processId}",responseType:i.TypeInfo.Process,routeValues:{processId:n},apiVersion:this.processesApiVersion})},t.prototype.updateIdentityMru=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",routeValues:{mruName:t},apiVersion:this.identityMruApiVersion,data:n})},t.prototype.getIdentityMru=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",responseIsCollection:!0,routeValues:{mruName:n},apiVersion:this.identityMruApiVersion})},t.prototype.deleteIdentityMru=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",routeValues:{mruName:t},apiVersion:this.identityMruApiVersion})},t.prototype.createIdentityMru=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",routeValues:{mruName:t},apiVersion:this.identityMruApiVersion,data:n})},t.prototype.getConnectedServices=function(n,t){var r={kind:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:i.TypeInfo.WebApiConnectedService,responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:this.connectedServicesApiVersion})},t.prototype.getConnectedServiceDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:i.TypeInfo.WebApiConnectedServiceDetails,routeValues:{projectId:n,name:t},apiVersion:this.connectedServicesApiVersion})},t.prototype.createConnectedService=function(n,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",requestType:i.TypeInfo.WebApiConnectedServiceDetails,responseType:i.TypeInfo.WebApiConnectedService,routeValues:{projectId:t},apiVersion:this.connectedServicesApiVersion,data:n})},t.serviceInstanceId=e.ServiceInstanceTypes.TFS,t}(f.VssHttpClient);t.CommonMethods2To5=o;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.deleteProxy=function(n,t){var i={proxyUrl:n,site:t};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"ec1f4311-f2b4-4c15-b2b8-8990b80d2908",resource:"proxies",routeTemplate:"_apis/{resource}",queryParams:i,apiVersion:this.proxiesApiVersion})},t.prototype.createOrUpdateProxy=function(n){return this._beginRequest({httpMethod:"PUT",area:"core",locationId:"ec1f4311-f2b4-4c15-b2b8-8990b80d2908",resource:"proxies",routeTemplate:"_apis/{resource}",apiVersion:this.proxiesApiVersion,data:n})},t}(o);t.CommonMethods3_1To5=s;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.setProjectProperties=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"core",locationId:"4976a71a-4487-49aa-8aab-a1eda469037a",resource:"properties",routeTemplate:"_apis/projects/{projectId}/{resource}",routeValues:{projectId:n},customHeaders:{"Content-Type":"application/json-patch+json"},apiVersion:this.propertiesApiVersion,data:t})},t.prototype.getProjectProperties=function(n,t){var i={keys:t&&t.join(",")};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"4976a71a-4487-49aa-8aab-a1eda469037a",resource:"properties",routeTemplate:"_apis/projects/{projectId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:i,apiVersion:this.propertiesApiVersion})},t}(s);t.CommonMethods3_2To5=h;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getProjectHistoryEntries=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.ProjectInfo,responseIsCollection:!0,queryParams:t,apiVersion:this.projectHistoryApiVersion})},t}(h);t.CommonMethods4To5=c;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getAllTeams=function(n,t,i){var r={$mine:n,$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"7a4d9ee9-3433-4347-b47a-7a80f1cf307e",resource:"teams",routeTemplate:"_apis/{resource}",responseIsCollection:!0,queryParams:r,apiVersion:this.teamsApiVersion_7a4d9ee9})},t.prototype.getTeams=function(n,t,i,r){var u={$mine:t,$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:u,apiVersion:this.teamsApiVersion})},t.prototype.getTeamMembersWithExtendedProperties=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:this.membersApiVersion})},t}(c);t.CommonMethods4_1To5=l;a=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.connectedServicesApiVersion=r.identityMruApiVersion=r.processesApiVersion=r.propertiesApiVersion="5.0-preview.1",r.membersApiVersion=r.projectCollectionsApiVersion=r.projectHistoryApiVersion=r.proxiesApiVersion=r.teamsApiVersion=r.teamsApiVersion_7a4d9ee9="5.0-preview.2",r.projectsApiVersion="5.0-preview.3",r}return __extends(t,n),t}(l);t.CoreHttpClient5=a;v=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.membersApiVersion=r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="4.1",r.connectedServicesApiVersion=r.identityMruApiVersion=r.propertiesApiVersion="4.1-preview.1",r.projectHistoryApiVersion=r.proxiesApiVersion=r.teamsApiVersion_7a4d9ee9="4.1-preview.2",r}return __extends(t,n),t}(l);t.CoreHttpClient4_1=v;y=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="4.0",r.connectedServicesApiVersion=r.identityMruApiVersion=r.propertiesApiVersion="4.0-preview.1",r.projectHistoryApiVersion=r.proxiesApiVersion="4.0-preview.2",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"4.0"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"4.0"})},t}(c);t.CoreHttpClient4=y;p=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="3.2",r.connectedServicesApiVersion=r.identityMruApiVersion=r.propertiesApiVersion="3.2-preview.1",r.proxiesApiVersion="3.2-preview.2",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"3.2"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"3.2-preview.2"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"3.2"})},t}(h);t.CoreHttpClient3_2=p;w=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="3.1",r.connectedServicesApiVersion=r.identityMruApiVersion="3.1-preview.1",r.proxiesApiVersion="3.1-preview.2",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"3.1"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"3.1-preview.2"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"3.1"})},t}(s);t.CoreHttpClient3_1=w;b=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="3.0",r.connectedServicesApiVersion=r.identityMruApiVersion=r.proxiesApiVersion="3.0-preview.1",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"3.0"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"3.0-preview.2"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"3.0"})},t}(o);t.CoreHttpClient3=b;k=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="2.3",r.connectedServicesApiVersion=r.identityMruApiVersion=r.proxiesApiVersion="2.3-preview.1",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"2.3"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.3-preview.2"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"2.3"})},t}(o);t.CoreHttpClient2_3=k;d=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="2.2",r.connectedServicesApiVersion=r.identityMruApiVersion=r.proxiesApiVersion="2.2-preview.1",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"2.2"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.2-preview.2"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"2.2"})},t}(o);t.CoreHttpClient2_2=d;g=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="2.1",r.connectedServicesApiVersion=r.identityMruApiVersion=r.proxiesApiVersion="2.1-preview.1",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"2.1"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.1-preview.2"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"2.1"})},t}(o);t.CoreHttpClient2_1=g;nt=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="2.0",r.connectedServicesApiVersion=r.identityMruApiVersion=r.proxiesApiVersion="2.0-preview.1",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"2.0"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.0-preview.2"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"2.0"})},t}(o);t.CoreHttpClient2=nt;it=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(a);t.CoreHttpClient=it;tt={"5.0":a,"4.1":v,"4.0":y,"3.2":p,"3.1":w,"3.0":b,"2.3":k,"2.2":d,"2.1":g,"2.0":nt};t.getClient=rt});

define("TFSUI/Common/TFS.REST.Utils",["require","exports"],function(n,t){function i(n,t,r){return t===void 0&&(t=500),r===void 0&&(r=0),n(t,r).then(function(u){return u.length<t?u:i(n,t,r+u.length).then(function(n){return u.concat(n)})})}Object.defineProperty(t,"__esModule",{value:!0});t.batchGet=i});

define("TFSUI/Dashboards/DashboardsDataManager",["require","exports","q","VSS/Utils/String","VSS/Utils/Array","VSS/Service","VSS/Contributions/Services","VSS/WebApi/Constants","Favorites/Constants","Favorites/FavoritesService","TFS/Core/RestClient","TFS/Dashboards/RestClient","TFSUI/Common/TFS.REST.Utils"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});var v=function(){function n(){}return n.prototype.getDashboardsForAllTeamsInProject=function(t){var i=this;return this.dataLoaded||(this.dataLoaded=this.getDataProviderLoadedPromise(t).then(function(){var r=f.getService(e.WebPageDataService),u=r.getPageData(n.DASHBOARD_DATA_PROVIDER)||[],o=function(n,i){return f.getClient(c.CoreHttpClient4).getTeams(t,n,i)};return a.batchGet(o,500).then(function(n){return i.joinTeamsToDashboards(n,u)})})),this.dataLoaded},n.prototype.getDashboardsFromMyTeamsInProject=function(n){var e=this.getTeamsMembersOf(),o=l.getClient(),f=[],t=[];return e.then(function(e){return e.forEach(function(i){var r=o.getDashboards({project:n,projectId:n,team:i.id,teamId:i.id});r.then(function(n){n.dashboardEntries.forEach(function(n){var r={dashboard:n};r.teamScope={teamName:i.name,teamId:i.id};t.push(r)})});f.push(r)}),i.all(f).then(function(){return u.sortIfNotSorted(t,function(n,t){return r.localeIgnoreCaseComparer(n.dashboard.name,t.dashboard.name)}),t})})},n.prototype.getFavorites=function(t){var i=this,e=f.getService(h.FavoritesService),o=e.getFavorites(n.DASHBOARD_ARTIFACT_TYPE,s.FavoriteStorageScopes.Project,t,!0);return o.then(function(n){var t=[];return u.sortIfNotSorted(n,function(n,t){return r.localeIgnoreCaseComparer(n.artifactName,t.artifactName)}),n.forEach(function(n){if(!n.artifactIsDeleted){var r={favorite:n,dashboardItem:i.getDashboardItemFromFavorite(n)};t.push(r)}}),t})},n.prototype.getDashboardItemFromFavorite=function(n){return{dashboard:{id:n.artifactId,name:n.artifactName},teamScope:{teamId:n.artifactProperties.TeamId,teamName:n.artifactProperties.TeamName}}},n.prototype.getTeamsMembersOf=function(){var t=f.getService(e.WebPageDataService),r={id:n.TEAM_MEMBERSHIP_DATA_PROVIDER,properties:{serviceInstanceType:o.ServiceInstanceTypes.TFS}};return t.ensureDataProvidersResolved([r]).then(function(){return i.resolve(t.getPageData(n.TEAM_MEMBERSHIP_DATA_PROVIDER))},function(){return i.resolve([])})},n.prototype.joinTeamsToDashboards=function(n,t){var r=this,i=[];return t.forEach(function(t){var f=r.createDashboardItem(t),e=u.first(n,function(n){return n.id==f.teamScope.teamId});e&&(f.teamScope.teamName=e.name,i.push(f))}),i},n.prototype.createDashboardItem=function(n){var t={dashboard:n};return t.teamScope={},t.teamScope.teamId=t.dashboard.ownerId,t},n.prototype.getAllTeams=function(n){return f.getClient(c.CoreHttpClient4).getTeams(n)},n.prototype.getDataProviderLoadedPromise=function(t){var i=f.getService(e.WebPageDataService),r={id:n.DASHBOARD_DATA_PROVIDER,properties:{serviceInstanceType:o.ServiceInstanceTypes.TFS,pageSource:{project:{id:t}}}};return i.ensureDataProvidersResolved([r],!0)},n.DASHBOARD_DATA_PROVIDER="ms.vss-dashboards-web.dashboards-directory-data-provider",n.TEAM_MEMBERSHIP_DATA_PROVIDER="ms.vss-dashboards-web.dashboards-team-memberships-provider",n.DASHBOARD_ARTIFACT_TYPE="Microsoft.TeamFoundation.Dashboards.Dashboard",n}();t.DashboardsDataManager=v});

define("VSS/Flux/Diag",["require","exports","VSS/Flux/Action","VSS/Context"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.registerDiagActions=function(n){if(!!r.getPageContext().diagnostics.tracePointCollectionEnabled){var t=function(){for(var e,u=[],r=0;r<arguments.length;r++)u[r]=arguments[r];var t=new n(u),o=t,f=t.constructor?t.constructor.name:"",s=function(n){var r,u;t.hasOwnProperty(n)&&(r=t[n],r instanceof i.Action&&(u=f?f+"."+n:n,r.addListener(function(n){var t=(new Error).stack||"",i=new CustomEvent("ACTION_FIRED",{detail:{actionName:u,payload:n,stack:t,timestamp:new Date}});document.dispatchEvent(i)})))};for(e in o)s(e);return t};return t.prototype=n.prototype,t}return n}});

define("TFSUI/Dashboards/AddToDashboardActions",["require","exports","VSS/Flux/Action","VSS/Flux/Diag"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(){this.TogglePanel=new i.Action;this.UpdateActiveWidget=new i.Action;this.GetDashboards=new i.Action;this.GetDashboardsFailed=new i.Action;this.SetSelection=new i.Action;this.SaveWidget=new i.Action}return __decorate([r.registerDiagActions],n)}();t.AddToDashboardActions=u;t.AddToDashboardActionsInstance=new u});

define("TFSUI/Dashboards/AddToDashboardInternal",["require","exports","q","VSS/Context","TFS/Dashboards/RestClient"],function(n,t,i,r,u){var f,e;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Success=0]="Success";n[n.Failure=1]="Failure"}(f=t.PushToDashboardOutcome||(t.PushToDashboardOutcome={}));e=function(){function n(){}return n.addToDashboard=function(n,t){var u=this,r=i.defer();return!t.projectId||!t.groupId||!t.dashboardId||!t.widgetData?this.getPinningResponse(r,t.dashboardId||undefined,t.groupId,f.Failure):this.pinWidgetOnDashboard(n,t).then(function(){return u.getPinningResponse(r,t.dashboardId,t.groupId,f.Success)},function(){return u.getPinningResponse(r,t.dashboardId,t.groupId,f.Failure)})},n.pinWidgetOnDashboard=function(n,t){n||(n=u.getClient());var i=this.createWidgetFromData(t.widgetData),r=this.getTeamContext(t);return n.createWidget(i,r,t.dashboardId)},n.getPinningResponse=function(n,t,i,r){return n.resolve({dashboardId:t,groupId:i,outcome:r}),n.promise},n.createWidgetFromData=function(n){return{size:n.size,id:null,position:{column:0,row:0},name:n.name,contributionId:n.contributionId,settings:n.settings,artifactId:"",settingsVersion:n.settingsVersion}},n.getTeamContext=function(n){var t=r.getDefaultWebContext();return{projectId:t.project.id,project:t.project.name,teamId:n.groupId||undefined,team:n.groupId||undefined}},n}();t.AddToDashboardInternal=e});

define("TFSUI/Dashboards/AddToDashboardActionCreator",["require","exports","q","TFSUI/Dashboards/DashboardsDataManager","TFSUI/Dashboards/AddToDashboardActions","TFSUI/Dashboards/AddToDashboardInternal"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(){this.dataManager=new r.DashboardsDataManager}return n.prototype.togglePanel=function(n){u.AddToDashboardActionsInstance.TogglePanel.invoke(n)},n.prototype.updateActiveWidget=function(n){u.AddToDashboardActionsInstance.UpdateActiveWidget.invoke(n)},n.prototype.getDashboards=function(n){var t=this.dataManager.getDashboardsFromMyTeamsInProject(n),r=this.dataManager.getDashboardsForAllTeamsInProject(n),f=this.dataManager.getFavorites(n);i.all([t,r,f]).spread(function(n,t,i){u.AddToDashboardActionsInstance.GetDashboards.invoke({teamDashboards:n,allDashboards:t,favorites:i})},function(){u.AddToDashboardActionsInstance.GetDashboardsFailed.invoke(void 0)})},n.prototype.setSelection=function(n){u.AddToDashboardActionsInstance.SetSelection.invoke(n)},n.prototype.saveWidget=function(n,t,i){t===void 0&&(t=null);f.AddToDashboardInternal.addToDashboard(null,n,i).then(function(i){u.AddToDashboardActionsInstance.SaveWidget.invoke(void 0);t&&t({commandArgs:n,response:i})})},n}();t.AddToDashboardActionCreator=e});

define("TFSUI/Dashboards/AddToDashboardStore",["require","exports","VSS/Flux/Store","VSS/Utils/String","OfficeFabric/Utilities","TFSUI/Dashboards/AddToDashboardActions","TFSUI/Resources/TFS.Resources.TFSUI"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(){var t=n.call(this)||this;return t.initializeState(),t.addListeners(),t}return __extends(t,n),t.prototype.getState=function(){return this.currentState},t.prototype.dispose=function(){this.removeListeners()},t.prototype.initializeState=function(){this.currentState={showPanel:!1,selectedDashboard:undefined,dashboardsList:undefined,widgetData:undefined,isDashboardPickerLoading:!0,isError:!1}},t.prototype.addListeners=function(){f.AddToDashboardActionsInstance.TogglePanel.addListener(this.onTogglePanel);f.AddToDashboardActionsInstance.UpdateActiveWidget.addListener(this.onUpdateActiveWidget);f.AddToDashboardActionsInstance.GetDashboards.addListener(this.onGetDashboards);f.AddToDashboardActionsInstance.GetDashboardsFailed.addListener(this.onGetDashboardsFailed);f.AddToDashboardActionsInstance.SetSelection.addListener(this.onSetSelection);f.AddToDashboardActionsInstance.SaveWidget.addListener(this.onSaveWidget)},t.prototype.removeListeners=function(){f.AddToDashboardActionsInstance.TogglePanel.removeListener(this.onTogglePanel);f.AddToDashboardActionsInstance.UpdateActiveWidget.addListener(this.onUpdateActiveWidget);f.AddToDashboardActionsInstance.GetDashboards.removeListener(this.onGetDashboards);f.AddToDashboardActionsInstance.GetDashboardsFailed.addListener(this.onGetDashboardsFailed);f.AddToDashboardActionsInstance.SetSelection.removeListener(this.onSetSelection);f.AddToDashboardActionsInstance.SaveWidget.addListener(this.onSaveWidget)},t.prototype.onTogglePanel=function(n){this.currentState.showPanel=n;this.emitChanged()},t.prototype.onUpdateActiveWidget=function(n){this.currentState.widgetData=n;this.emitChanged()},t.prototype.onGetDashboards=function(n){var t=this,i=[];n.allDashboards.sort(function(n,i){return r.defaultComparer(t.getSortableDisplayName(n),t.getSortableDisplayName(i))});n.favorites.sort(function(n,i){return r.defaultComparer(t.getSortableDisplayName(n.dashboardItem),t.getSortableDisplayName(i.dashboardItem))});n.favorites.forEach(function(n){i.push({group:e.AddToDashboardPanel_FavoritesGroupHeader,teamScope:n.dashboardItem.teamScope,dashboard:n.dashboardItem.dashboard})});n.teamDashboards.forEach(function(n){i.push({group:n.teamScope.teamName,teamScope:n.teamScope,dashboard:n.dashboard})});n.allDashboards.forEach(function(n){i.push({group:e.AddToDashboardPanel_AllDashboardsGroupHeader,teamScope:n.teamScope,dashboard:n.dashboard})});this.currentState.dashboardsList=i;this.currentState.isDashboardPickerLoading=!1;this.emitChanged()},t.prototype.onGetDashboardsFailed=function(){this.currentState.isDashboardPickerLoading=!1;this.currentState.isError=!0;this.emitChanged()},t.prototype.onSetSelection=function(n){this.currentState.selectedDashboard=n;this.emitChanged()},t.prototype.onSaveWidget=function(){this.currentState.showPanel=!1;this.emitChanged()},t.prototype.getSortableDisplayName=function(n){return n.teamScope?n.teamScope.teamName+" "+n.dashboard.name:n.dashboard.name},__decorate([u.autobind],t.prototype,"onTogglePanel",null),__decorate([u.autobind],t.prototype,"onUpdateActiveWidget",null),__decorate([u.autobind],t.prototype,"onGetDashboards",null),__decorate([u.autobind],t.prototype,"onGetDashboardsFailed",null),__decorate([u.autobind],t.prototype,"onSetSelection",null),__decorate([u.autobind],t.prototype,"onSaveWidget",null),t}(i.Store);t.AddToDashboardStore=o});

define("TFSUI/Dashboards/AddToDashboard",["require","exports","TFSUI/Dashboards/AddToDashboardPanel","TFSUI/Dashboards/AddToDashboardActionCreator","TFSUI/Dashboards/AddToDashboardStore"],function(n,t,i,r,u){function f(n){var t={projectId:n.projectId,widgetOptions:n.widgetData,actionCreator:new r.AddToDashboardActionCreator,store:new u.AddToDashboardStore,actionCallback:n.actionCallback,sourceArea:n.sourceArea};i.showAddToDashboardPanel(t)}Object.defineProperty(t,"__esModule",{value:!0});t.showAddToDashboard=f});

define("Dashboards/Scripts/Pinning.PushToDashboard",["require","exports","VSS/Events/Page","VSS/Service","VSS/Contributions/Services","VSS/Context","Dashboards/Scripts/Generated/Constants","Dashboards/Scripts/Generated/Constants","Dashboards/Scripts/Pinning.PushToDashboardInternal","TFSUI/Dashboards/AddToDashboard","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});i.getService().subscribe(i.CommonPageEvents.PageInteractive,function(){var n=f.getDefaultWebContext();n.project&&r.getService(u.ExtensionService).getContribution(o.DashboardProviderPropertyBagNames.TeamContextData)});var l=function(){function n(){}return n.createMenu=function(n,t,i,r,u){return i===void 0&&(i=null),r===void 0&&(r=c.PushToDashboardTitle),{id:e.TfsCommands.PushToDashboard,text:r,icon:e.DomClassNames.AddIconThin,action:function(){var r={projectId:n.project.id,widgetData:t,actionCallback:i,sourceArea:u};h.showAddToDashboard(r)}}},n.getDashboards=function(){return s.PushToDashboardInternal.getDashboards()},n.pinToDashboard=function(n,t){return s.PushToDashboardInternal.addToDashboard(null,t)},n}();t.PushToDashboard=l});

define("Dashboards/Scripts/Pinning.WidgetDataForPinning",["require","exports","Dashboards/Scripts/Pinning.PushToDashboardConstants"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(n,t,r,u,f){if(this.settings=r,this.name=n,this.contributionId=t,this.settingsVersion=u,typeof f=="undefined"||f===null)switch(t){case i.WITChart_WidgetTypeID:case i.TCMChart_WidgetTypeID:this.size={columnSpan:2,rowSpan:2};break;case i.Markdown_WidgetTypeID:this.size={columnSpan:2,rowSpan:3};break;case i.BuildChart_WidgetTypeID:this.size={columnSpan:2,rowSpan:1};break;case i.TestResults_FailureTrend_WidgetTypeId:case i.TestResults_DurationTrend_WidgetTypeId:case i.TestResults_Trend_WidgetTypeId:this.size={columnSpan:2,rowSpan:2};break;default:this.size={rowSpan:1,columnSpan:1}}else this.size=f}return n.fromWidget=function(t){return new n(t.name,t.contributionId,t.settings,t.settingsVersion,t.size)},n}();t.WidgetDataForPinning=r});

define("VersionControl/Scenarios/Explorer/Sources/DashboardsSource",["require","exports","Dashboards/Scripts/Common.UserPermissionsHelper","Dashboards/Scripts/Pinning.PushToDashboard","Dashboards/Scripts/Pinning.PushToDashboardConstants","Dashboards/Scripts/Pinning.WidgetDataForPinning"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(n){this.repositoryContext=n}return n.prototype.canEditDashboard=function(){return i.isDashboardsPrivilegesLoaded()?i.CanEditDashboard():!0},n.prototype.getDashboards=function(){return r.PushToDashboard.getDashboards().then(function(n){return n.dashboardEntries})},n.prototype.pinToDashboard=function(n,t){var i=this.repositoryContext.getTfsContext().contextData;return r.PushToDashboard.pinToDashboard(i,{projectId:i.project.id,groupId:i.team.id,dashboardId:t,widgetData:this.getWidgetData(n)})},n.prototype.getWidgetData=function(n){var t=this.getArtifactId(n);return new f.WidgetDataForPinning("Pinned Markdown",u.Markdown_WidgetTypeID,t)},n.prototype.getArtifactId=function(n){return JSON.stringify({path:n.serverItem,version:n.version,repositoryId:this.repositoryContext.getRepositoryId()})},n}();t.DashboardsSource=e});

define("VersionControl/Scripts/Utils/GitSecuredUtils",["require","exports","VersionControl/Scripts/Generated/TFS.VersionControl.Common"],function(n,t,i){function r(n,t,r){r===void 0&&(r=null);var u=n?n+"/":"",f=u&&t?t+"/":"",e=f&&r?r.split("/").join("^")+"/":"";return i.GitConstants.SecurableRoot+u+f+e}Object.defineProperty(t,"__esModule",{value:!0});t.calculateGitSecuredToken=r});

define("VersionControl/Scripts/Services/GitUIService",["require","exports","q","VSS/VSS","VSS/Utils/String","VersionControl/Scripts/Controls/LazyDialog","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/Services/Service","VersionControl/Scripts/TFS.VersionControl.VersionSpecs","VersionControl/Scripts/GitRefUtility","VersionControl/Scripts/DeferredJobQueue","VersionControl/Scripts/Utils/GitSecuredUtils","VersionControl/Scripts/VersionControlUrls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){function y(n){return o.getRepositoryService(v.GitUIService,n)}Object.defineProperty(t,"__esModule",{value:!0});t.getGitUIService=y;var v;(function(n){c.queueModulePreload("VersionControl/Scripts/Controls/CreateBranchDialog");var t=function(){function n(n){this.repositoryContext=n}return n.prototype.createBranch=function(n){var r=!1,t=i.defer();return f.show("VersionControl/Scripts/Controls/CreateBranchDialog",function(n){return n.CreateBranchFromVersionSpecDialog},{title:e.CreateBranchDialogTitle,width:560,draggable:!0,repositoryContext:this.repositoryContext,sourceVersionSpec:n.sourceRef,branchName:n.suggestedFriendlyName,workItemIdsToShow:n.suggestedWorkItemsIds,projectName:n.suggestedProjectName,projectId:n.suggestedProjectId,okCallback:function(n){t.resolve({selectedFriendlyName:n.branchName,newObjectId:n.newObjectId,switchToBranch:n.switchToBranch,createPullRequest:n.createPullRequest,repositoryContext:n.repositoryContext,selectedWorkItemsIds:n.workItemIdsToLink,error:n.error});r=!0},close:function(){return!r&&t.resolve({selectedFriendlyName:undefined,cancelled:!0})}}),t.promise},n.prototype.navigateToBranch=function(n,t){if(n&&!n.cancelled){var i=new s.GitBranchVersionSpec(n.selectedFriendlyName);window.top.location.href=a.getExplorerUrl(n.repositoryContext,null,null,{version:i.toVersionString()},t?{project:t}:null)}},n.prototype.showBranchSecurityPermissions=function(n,t,i){var f=this;r.using(["Admin/Scripts/TFS.Admin.Security"],function(r){var s=r.SecurityManager.create(i,{projectGuid:t}),c=l.calculateGitSecuredToken(t,f.repositoryContext.getRepositoryId(),n),a=h.getRefFriendlyName(n),o=u.format(e.BranchSecurityTitleFormat,f.repositoryContext.getRepository().name,a);s.showPermissions(c,o,o,f.repositoryContext.getTfsContext())})},n}();n.GitUIService=t})(v||(v={}))});

define("VersionControl/Scenarios/Explorer/Sources/EditingDialogsSource",["require","exports","VersionControl/Scripts/Services/GitUIService"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(n){this.repositoryContext=n}return n.prototype.showCreateBranch=function(n,t){var r=i.getGitUIService(this.repositoryContext);return r.createBranch({sourceRef:n,suggestedFriendlyName:t})},n}();t.EditingDialogsSource=r});

define("VersionControl/Scenarios/Explorer/Sources/PageSource",["require","exports","VersionControl/Scripts/CodeHubContributionIds","VersionControl/Scripts/Utils/XhrNavigationUtils","VersionControl/Scripts/Utils/XhrNavigationUtilsNonReact","VersionControl/Scripts/VersionControlUrls"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(n,t){var i=this;this.navigationView=n;this.repositoryContext=t;this.setFullScreen=function(n){i.navigationView.setFullScreenMode(n);$(window).trigger("resize")}}return n.prototype.getOptions=function(){return this.navigationView._options},n.prototype.download=function(n){window.open(n,"_blank")},n.prototype.navigateToCreatePullRequest=function(n,t){var r=f.getCreatePullRequestUrl(this.repositoryContext,n,t);u.navigateToUrl(r,i.CodeHubContributionIds.pullRequestHub)},n.prototype.navigateToHistory=function(n,t,u){var f=n.currentTarget.href,e=t?i.CodeHubContributionIds.historyHub:u?i.CodeHubContributionIds.collectionChangesetsHub:i.CodeHubContributionIds.changesetsHub;r.onClickNavigationHandler(n,e,f)},n}();t.PageSource=e});

define("VersionControl/Scenarios/Shared/Suggestion",["require","exports","q","VSS/Serialization","VSS/Telemetry/Services","VSS/Utils/String","VersionControl/Scripts/CustomerIntelligenceConstants","VersionControl/Scripts/GitRefUtility","VersionControl/Scripts/GitRepositoryContext","VersionControl/Scripts/TFS.VersionControl.VersionSpecs","VersionControl/Scripts/VersionControlUrls","VSS/LoaderPlugins/Css!VersionControlControls"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function n(n,t){this._repositoryContext=t;var r=o.getRefFriendlyName(n.properties.sourceBranch),u=o.getRefFriendlyName(n.properties.targetBranch),i=n.properties.sourceRepository;i||(i=t.getRepository());this._pushDate=this.deserializePushDate(n.properties.pushDate);this._targetRepositoryId=n.properties.targetRepositoryId;this._targetBranch=u;this._sourceBranch=r;this._sourceRepositoryContext=s.GitRepositoryContext.create(i,t.getTfsContext())}return Object.defineProperty(n.prototype,"targetBranch",{get:function(){return this._targetBranch},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sourceBranch",{get:function(){return this._sourceBranch},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"explorerBranchUrl",{get:function(){return c.getExplorerUrl(this.sourceRepositoryContext,null,null,{version:new h.GitBranchVersionSpec(this.sourceBranch).toVersionString()})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"explorerRepositoryUrl",{get:function(){return c.getExplorerUrl(this.sourceRepositoryContext)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createPullRequestURL",{get:function(){var n=this.sourceRepositoryContext.getRepository();return this._createPullRequestURL=c.getCreatePullRequestUrl(this.repositoryContext,this.sourceBranch,this.targetBranch,!1,null,null,n.id,this._targetRepositoryId)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pushDate",{get:function(){return this._pushDate},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"repositoryContext",{get:function(){return this._repositoryContext},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sourceRepositoryContext",{get:function(){return this._sourceRepositoryContext},enumerable:!0,configurable:!0}),n.beginGetSuggestion=function(t){return i.Promise(function(i,r){return t.getGitClient().beginGetSuggestions(t,function(r){if(r&&r.length){var u=new n(r[0],t);u.isSuggestionAlreadyDismissed()?i(null):i(u)}else i(null)},r)})},n.prototype.invalidateSuggestion=function(){var t=this.getSuggestionIdentifier();try{localStorage.setItem(n.LOCAL_STORAGE_SUGGESTION_KEY,t)}catch(i){}u.publishEvent(new u.TelemetryEventData(e.VERSION_CONTROL_AREA,e.PULL_REQUEST_DISMISS_SUGGESTION,{SourceView:this.repositoryContext.getTfsContext().navigation.currentAction}))},n.prototype.isSuggestionAlreadyDismissed=function(){var i=this.getSuggestionIdentifier(),t="";try{t=localStorage.getItem(n.LOCAL_STORAGE_SUGGESTION_KEY)}catch(r){}return t===i},n.prototype.getSuggestionIdentifier=function(){return f.format("{0},{1},{2}",this.targetBranch,this.sourceBranch,this.pushDate)},n.prototype.deserializePushDate=function(n){var t=r.ContractSerializer.deserialize({date:n},{fields:{date:{isDate:!0}}});return t.date},n.LOCAL_STORAGE_SUGGESTION_KEY="TFS.VC.PullRequestSuggestion.Key",n}();t.Suggestion=l});

define("Presentation/Scripts/TFS/Generated/TFS.WebApi.Constants",["require","exports"],function(n,t){var i,r,u,f;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.ProjectCollectionsLocationId="8031090f-ef1d-4af6-85fc-698cd75d42bf";n.ProjectsLocationId="603fe2ac-9723-48b9-88ad-09305aa6c6e1";n.ProcessLocationId="93878975-88c5-4e6a-8abb-7ddd77a8a7d8";n.ProjectHistoryLocationId="6488a877-4749-4954-82ea-7340d36be9f2";n.TeamsLocationId="d30a3dd1-f8ba-442a-b86a-bd0c0c383e59";n.CollectionTeamsLocationId="7a4d9ee9-3433-4347-b47a-7a80f1cf307e";n.TeamMembersLocationId="294c494c-2600-4d7e-b76c-3dd50c3c95be";n.ConnectedServicesId="b4f70219-e18b-42c5-abe3-98b07d35525e";n.ProxyId="ec1f4311-f2b4-4c15-b2b8-8990b80d2908";n.PropertiesLocationId="4976a71a-4487-49aa-8aab-a1eda469037a";n.AreaId="79134C72-4A58-4B42-976C-04E7115F32BF";n.AreaName="core";n.ProcessAreaName="process";n.ApiString="_apis";n.JsonPatchMediaType="application/json-patch+json";n.ProcessResource="processes";n.ProjectsResource="projects";n.ProjectHistoryResource="projectHistory";n.ProjectCollectionsResource="projectCollections";n.TeamsResource="teams";n.TeamMembersResource="members";n.ConnectedServicesResource="connectedServices";n.ProxyResource="proxies";n.ProxyAuthorizationResource="proxyauthorization";n.PropertiesResource="properties";n.ProjectCollectionsRouteName="ProjectCollections";n.ProjectsRouteName="Projects";n.ProjectHistoryRouteName="ProjectHistory";n.ProcessesRouteName="Processes";n.TeamsRouteName="Teams";n.CollectionTeamsRouteName="CollectionTeams";n.TeamMembersRouteName="TeamMembers";n.ConnectedServicesRouteName="ConnectedServices";n.ProxyRouteName="Proxies";n.PropertiesRouteName="Properties";n.TeamsLocationIdString="D30A3DD1-F8BA-442A-B86A-BD0C0C383E59";n.CollectionTeamsLocationIdString="7A4D9EE9-3433-4347-B47A-7A80F1CF307E"}(i=t.CoreConstants||(t.CoreConstants={})),function(n){n[n.Deleting=2]="Deleting";n[n.New=0]="New";n[n.WellFormed=1]="WellFormed";n[n.CreatePending=3]="CreatePending";n[n.All=-1]="All";n[n.Unchanged=-2]="Unchanged";n[n.Deleted=4]="Deleted"}(r=t.ProjectState||(t.ProjectState={})),function(n){n.FeaturesCapabilityName="features";n.FeaturesEnabled="featuresEnabled";n.VersionControlCapabilityName="versioncontrol";n.VersionControlCapabilityAttributeName="sourceControlType";n.VersionControlGitEnabledAttributeName="gitEnabled";n.VersionControlTfvcEnabledAttributeName="tfvcEnabled";n.ProcessTemplateCapabilityName="processTemplate";n.ProcessTemplateCapabilityTemplateNameAttributeName="templateName";n.ProcessTemplateCapabilityTemplateTypeIdAttributeName="templateTypeId"}(u=t.TeamProjectCapabilitiesConstants||(t.TeamProjectCapabilitiesConstants={})),function(n){n.Project="Project";n.Team="Team";n.WebTeam="WebTeam";n.Repository="Repository"}(f=t.TfsSettingsScopeNames||(t.TfsSettingsScopeNames={}))});

define("Presentation/Scripts/TFS/TFS.Project.WebApi",["require","exports","VSS/WebApi/RestClient","Presentation/Scripts/TFS/Generated/TFS.WebApi.Constants"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.beginGetProjects=function(){return this._beginRequest({area:r.CoreConstants.AreaName,locationId:r.CoreConstants.ProjectsLocationId,responseIsCollection:!0})},t.prototype.beginGetProject=function(n){return this._beginRequest({area:r.CoreConstants.AreaName,locationId:r.CoreConstants.ProjectsLocationId,responseIsCollection:!0,routeValues:{projectId:n}})},t.prototype.beginUpdateProject=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:r.CoreConstants.AreaName,locationId:r.CoreConstants.ProjectsLocationId,routeValues:{projectId:n},data:t})},t}(i.VssHttpClient);t.ProjectHttpClient=u});

define("VersionControl/Scripts/VersionControlSettings",["require","exports","q","VSS/Service","VSS/Settings/RestClient","Presentation/Scripts/TFS/TFS.Project.WebApi"],function(n,t,i,r,u,f){function s(n){var t=o[n];return t&&t.expiry>Date.now()?i.resolve(t.isEditEnabled):y(n).then(function(t){var i=t[e.tfvcWebEditEnabled];return o[n]={isEditEnabled:i,expiry:Date.now()+l},i})}function a(n){var t=c[n.toLowerCase()];return t?s(t):r.getClient(f.ProjectHttpClient).beginGetProject(n).then(function(t){return c[n.toLowerCase()]=t.id,s(t.id)})}function v(n,t){return n[h.tfvcWebEditEnabled]!==undefined&&o[t]&&delete o[t],r.getClient(u.SettingsHttpClient).setEntriesForScope(n,"host","project",t)}function y(n){return r.getClient(u.SettingsHttpClient).getEntriesForScope("host","project",n,e.adminOptions).then(function(n){var t=n.value?n.value:{};return p(t,e.tfvcWebEditEnabled,!0),t})}function p(n,t,i){n[t]===undefined&&(n[t]=i)}var e,h;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.adminOptions="VersionControl/AdminOptions";n.tfvcWebEditEnabled="Tfvc/WebEditEnabled"}(e||(e={})),function(n){n.tfvcWebEditEnabled=e.adminOptions+"/"+e.tfvcWebEditEnabled}(h=t.SettingKeys||(t.SettingKeys={}));var c={},o={},l=6e5;t.getTfvcWebEditEnabled=s;t.getTfvcWebEditEnabledByProjectName=a;t.setTfvcRepositorySettings=v});

define("VersionControl/Scenarios/Explorer/Sources/RepositorySource",["require","exports","q","VSS/FeatureAvailability/Services","VSS/Service","VSS/Utils/String","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/TFS.ContentRendering","Presentation/Scripts/TFS/TFS.Using","TFS/VersionControl/Contracts","TFS/VersionControl/GitRestClient","VersionControl/Scenarios/Shared/Suggestion","VersionControl/Scripts/Services/GitRefService","VersionControl/Scripts/TFS.VersionControl.VersionSpecs","VersionControl/Scripts/VersionControlRegistryPath","VersionControl/Scripts/VersionControlSettings","VersionControl/Scripts/VersionControlUrls","VersionControl/Scripts/RepositoryContext","VersionControl/Scripts/GitRepositoryContext","VersionControl/Scripts/TfvcRepositoryContext","VersionControl/Scripts/GitRefUtility","VersionControl/Scripts/Generated/TFS.VersionControl.Legacy.Contracts","VersionControl/Scripts/VersionSpecUtils"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){Object.defineProperty(t,"__esModule",{value:!0});var it=function(){function n(n,t,i,r){this.userLastVisitedBranch=i;this.deletedUserDefaultBranchName=r;this.repositoryContext=t?k.GitRepositoryContext.create(t,n):d.TfvcRepositoryContext.create(n);this.clientService=this.repositoryContext.getClient();var f=new u.VssConnection(this.repositoryContext.getTfsContext().contextData);this.httpClient=f.getHttpClient(c.GitHttpClient3)}return n.prototype.getRepositoryContext=function(){return this.repositoryContext},n.prototype.getDefaultGitBranchName=function(){return this.isGit()&&g.getRefFriendlyName(this.repositoryContext.getRepository().defaultBranch)},n.prototype.isGit=function(){return this.repositoryContext.getRepositoryType()===b.RepositoryType.Git},n.prototype.isCollectionLevel=function(){return!this.repositoryContext.getTfsContext().contextData.project},n.prototype.getCurrentUserName=function(){return this.repositoryContext.getTfsContext().currentUser},n.prototype.getRepositoryName=function(){return this.isGit()?this.repositoryContext.getRepository().name:this.isCollectionLevel()?"$":this.repositoryContext.getRootPath()},n.prototype.getTfvcProjectName=function(n){var t="",i;return n&&n.length>2&&n.indexOf("$/")===0&&(t=n.substring(2),i=t.indexOf("/"),i>-1&&(t=t.substring(0,i))),t},n.prototype.allowEditingFeatures=function(){return r.FeatureAvailabilityService.isFeatureEnabled(e.FeatureAvailabilityFlags.WebAccessVersionControlEditing)},n.prototype.isEditingEnabled=function(n){var t=this.isGit()?"":this.getTfvcProjectName(n),r;return t?(r=this.repositoryContext.getTfsContext().navigation,f.ignoreCaseComparer(r.project,t)===0?p.getTfvcWebEditEnabled(r.projectId):p.getTfvcWebEditEnabledByProjectName(t)):i.resolve(!0)},n.prototype.getHistoryUrl=function(){return w.getExplorerUrl(this.repositoryContext)},n.prototype.getBranchesUrl=function(){return w.getBranchesUrl(this.repositoryContext)},n.prototype.getPullRequestsUrl=function(){return w.getPullRequestsUrl(this.repositoryContext)},n.prototype.getItems=function(n,t){var r=this,u={recursionLevel:nt.VersionControlRecursionType.OneLevelPlusNestedEmptyFolders,includeContentMetadata:t,includeVersionDescription:!1};return i.Promise(function(t,i){return r.clientService.beginGetItems(r.repositoryContext,n,u,t,i)})},n.prototype.getChangeListsForChildItems=function(n,t){var r=this.clientService;return i.Promise(function(i){return r.beginGetChangesets(n,t,i)})},n.prototype.getGitLastChangeForChildItems=function(n,t,r){var u=this,f=!0,e=this.clientService;return i.Promise(function(i){return e.beginGetLastChangeTreeItems(u.repositoryContext,t,n,r,f,i)})},n.prototype.calculateGitChangeUrls=function(n,t){for(var r,u=tt.getBranchFullName(v.VersionSpec.parse(t)),o=u?{refName:u}:undefined,f={},i=0,e=n;i<e.length;i++)r=e[i],f[r]=w.getCommitUrl(this.repositoryContext,r,!1,!1,undefined,o);return f},n.prototype.calculateTfvcChangeUrls=function(n){for(var i,r={},t=0,u=n;t<u.length;t++)i=u[t],r[i.changesetId.toString()]=w.getChangesetUrl(i.changesetId,this.repositoryContext.getTfsContext());return r},n.prototype.getCommitDetails=function(n){var t={ids:n};return this.httpClient.getCommitsBatch(t,this.repositoryContext.getRepositoryId())},n.prototype.getStats=function(){return r.FeatureAvailabilityService.isFeatureEnabled(e.FeatureAvailabilityFlags.WebAccessVersionControlExplorerVanityBadges)?this.httpClient.getStats(this.repositoryContext.getTfsContext().contextData.project.id,this.repositoryContext.getRepositoryId()):i.resolve(undefined)},n.prototype.getPullRequestSuggestion=function(){return l.Suggestion.beginGetSuggestion(this.repositoryContext)},n.prototype.dismissCreatePullRequestSuggestion=function(n){return n.invalidateSuggestion()},n.prototype.getPullRequest=function(n){var r=this,u=n.branchName,t;return u?(t=this.repositoryContext.getRepository(),i.Promise(function(i,u){var f={status:h.PullRequestStatus.Active,sourceRepositoryId:t.id,repositoryId:t.isFork?t.parentRepository.id:t.id,sourceRefName:n.toFullName()};r.clientService.beginGetPullRequestSearch(f,null,null,function(n){i(n[0])},u)})):i(undefined)},n.prototype.getFileContentUrl=function(n,t){return w.getFileContentUrl(this.repositoryContext,n,t)},n.prototype.getZippedFolderUrl=function(n,t){return w.getZippedContentUrl(this.repositoryContext,n,t)},n.prototype.getInitialContent=function(n,t){var i=this;return s.usingWithPromise("VersionControl/Scripts/TFS.VersionControl.FileDefaultContentProvider").then(function(r){var u=r.FileDefaultContentProviderFactory.getProvider(n.contentMetadata.extension,i.repositoryContext.getRepositoryType(),t);if(u)return u.getContent({repositoryContext:i.repositoryContext,item:n,repositoryExists:!0,showError:!0})})},n.prototype.loadContributedRenderers=function(){return o.ContentRendererFactory.ensureContributedRenderersLoaded()},n.prototype.getRendererForExtensionSync=function(n){return o.ContentRendererFactory.getRendererForExtensionSync(n)},n.prototype.changeUserDefaultVersion=function(n){if(n instanceof v.GitBranchVersionSpec){var t=n.branchName;y.setUserDefaultBranchSetting(t,this.repositoryContext)}},n.prototype.getExistingBranches=function(){return this.isGit()?a.getGitRefService(this.repositoryContext).getBranchNames():i([])},n.prototype.invalidateBranchesCache=function(){a.getGitRefService(this.repositoryContext).invalidateCache()},n}();t.RepositorySource=it});

define("VSS/Common/Contracts/System.Data",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i;(function(n){n[n.BigInt=0]="BigInt";n[n.Binary=1]="Binary";n[n.Bit=2]="Bit";n[n.Char=3]="Char";n[n.DateTime=4]="DateTime";n[n.Decimal=5]="Decimal";n[n.Float=6]="Float";n[n.Image=7]="Image";n[n.Int=8]="Int";n[n.Money=9]="Money";n[n.NChar=10]="NChar";n[n.NText=11]="NText";n[n.NVarChar=12]="NVarChar";n[n.Real=13]="Real";n[n.UniqueIdentifier=14]="UniqueIdentifier";n[n.SmallDateTime=15]="SmallDateTime";n[n.SmallInt=16]="SmallInt";n[n.SmallMoney=17]="SmallMoney";n[n.Text=18]="Text";n[n.Timestamp=19]="Timestamp";n[n.TinyInt=20]="TinyInt";n[n.VarBinary=21]="VarBinary";n[n.VarChar=22]="VarChar";n[n.Variant=23]="Variant";n[n.Xml=25]="Xml";n[n.Udt=29]="Udt";n[n.Structured=30]="Structured";n[n.Date=31]="Date";n[n.Time=32]="Time";n[n.DateTime2=33]="DateTime2";n[n.DateTimeOffset=34]="DateTimeOffset"})(i=t.SqlDbType||(t.SqlDbType={}));t.TypeInfo={SqlDbType:{enumValues:{BigInt:0,Binary:1,Bit:2,Char:3,DateTime:4,Decimal:5,Float:6,Image:7,Int:8,Money:9,NChar:10,NText:11,NVarChar:12,Real:13,UniqueIdentifier:14,SmallDateTime:15,SmallInt:16,SmallMoney:17,Text:18,Timestamp:19,TinyInt:20,VarBinary:21,VarChar:22,Variant:23,Xml:25,Udt:29,Structured:30,Date:31,Time:32,DateTime2:33,DateTimeOffset:34}}}});

define("TFS/TestManagement/Contracts",["require","exports","VSS/Common/Contracts/System.Data","TFS/Core/Contracts"],function(n,t,i,r){"use strict";var u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.GeneralAttachment=0]="GeneralAttachment";n[n.AfnStrip=1]="AfnStrip";n[n.BugFilingData=2]="BugFilingData";n[n.CodeCoverage=3]="CodeCoverage";n[n.IntermediateCollectorData=4]="IntermediateCollectorData";n[n.RunConfig=5]="RunConfig";n[n.TestImpactDetails=6]="TestImpactDetails";n[n.TmiTestRunDeploymentFiles=7]="TmiTestRunDeploymentFiles";n[n.TmiTestRunReverseDeploymentFiles=8]="TmiTestRunReverseDeploymentFiles";n[n.TmiTestResultDetail=9]="TmiTestResultDetail";n[n.TmiTestRunSummary=10]="TmiTestRunSummary";n[n.ConsoleLog=11]="ConsoleLog"}(u=t.AttachmentType||(t.AttachmentType={})),function(n){n[n.Failed=2]="Failed";n[n.InProgress=1]="InProgress";n[n.Queued=0]="Queued";n[n.Succeeded=3]="Succeeded"}(f=t.CloneOperationState||(t.CloneOperationState={})),function(n){n[n.Modules=1]="Modules";n[n.Functions=2]="Functions";n[n.BlockData=4]="BlockData"}(e=t.CoverageQueryFlags||(t.CoverageQueryFlags={})),function(n){n[n.None=0]="None";n[n.TestRun=1]="TestRun";n[n.TestResult=2]="TestResult";n[n.System=4]="System";n[n.All=7]="All"}(o=t.CustomTestFieldScope||(t.CustomTestFieldScope={})),function(n){n[n.Bit=2]="Bit";n[n.DateTime=4]="DateTime";n[n.Int=8]="Int";n[n.Float=6]="Float";n[n.String=12]="String";n[n.Guid=14]="Guid"}(s=t.CustomTestFieldType||(t.CustomTestFieldType={})),function(n){n[n.None=0]="None";n[n.Iterations=1]="Iterations";n[n.WorkItems=2]="WorkItems";n[n.SubResults=4]="SubResults";n[n.Point=8]="Point"}(h=t.ResultDetails||(t.ResultDetails={})),function(n){n[n.None=0]="None";n[n.Rerun=1]="Rerun";n[n.DataDriven=2]="DataDriven";n[n.OrderedTest=3]="OrderedTest";n[n.Generic=4]="Generic"}(c=t.ResultGroupType||(t.ResultGroupType={})),function(n){n[n.TestSuite=0]="TestSuite";n[n.TestPlan=1]="TestPlan"}(l=t.ResultObjectType||(t.ResultObjectType={})),function(n){n[n.Any=0]="Any";n[n.Tcm=1]="Tcm";n[n.Tfs=2]="Tfs"}(a=t.Service||(t.Service={})),function(n){n[n.Children=1]="Children";n[n.DefaultTesters=2]="DefaultTesters"}(v=t.SuiteExpand||(t.SuiteExpand={})),function(n){n[n.NotStarted=0]="NotStarted";n[n.InProgress=1]="InProgress";n[n.Completed=2]="Completed";n[n.Failed=3]="Failed"}(y=t.TCMServiceDataMigrationStatus||(t.TCMServiceDataMigrationStatus={})),function(n){n[n.Active=1]="Active";n[n.Inactive=2]="Inactive"}(p=t.TestConfigurationState||(t.TestConfigurationState={})),function(n){n[n.Run=0]="Run";n[n.Build=1]="Build"}(w=t.TestLogScope||(t.TestLogScope={})),function(n){n[n.Success=0]="Success";n[n.Failed=1]="Failed";n[n.FileAlreadyExists=2]="FileAlreadyExists";n[n.InvalidInput=3]="InvalidInput";n[n.InvalidFileName=4]="InvalidFileName";n[n.InvalidContainer=5]="InvalidContainer";n[n.TransferFailed=6]="TransferFailed";n[n.FeatureDisabled=7]="FeatureDisabled";n[n.BuildNotExist=8]="BuildNotExist";n[n.RunNotExist=9]="RunNotExist";n[n.ContainerNotCreated=10]="ContainerNotCreated";n[n.APINotSupported=11]="APINotSupported";n[n.FileSizeExceed=12]="FileSizeExceed"}(b=t.TestLogStatusCode||(t.TestLogStatusCode={})),function(n){n[n.Root=1]="Root";n[n.File=2]="File"}(k=t.TestLogStoreEndpointType||(t.TestLogStoreEndpointType={})),function(n){n[n.Read=1]="Read";n[n.Create=2]="Create";n[n.ReadAndCreate=3]="ReadAndCreate"}(d=t.TestLogStoreOperationType||(t.TestLogStoreOperationType={})),function(n){n[n.GeneralAttachment=1]="GeneralAttachment";n[n.CodeCoverage=2]="CodeCoverage";n[n.TestImpact=3]="TestImpact";n[n.Intermediate=4]="Intermediate"}(g=t.TestLogType||(t.TestLogType={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.None=1]="None";n[n.Passed=2]="Passed";n[n.Failed=3]="Failed";n[n.Inconclusive=4]="Inconclusive";n[n.Timeout=5]="Timeout";n[n.Aborted=6]="Aborted";n[n.Blocked=7]="Blocked";n[n.NotExecuted=8]="NotExecuted";n[n.Warning=9]="Warning";n[n.Error=10]="Error";n[n.NotApplicable=11]="NotApplicable";n[n.Paused=12]="Paused";n[n.InProgress=13]="InProgress";n[n.NotImpacted=14]="NotImpacted";n[n.MaxValue=14]="MaxValue"}(nt=t.TestOutcome||(t.TestOutcome={})),function(n){n[n.None=0]="None";n[n.Ready=1]="Ready";n[n.Completed=2]="Completed";n[n.NotReady=3]="NotReady";n[n.InProgress=4]="InProgress";n[n.MaxValue=4]="MaxValue"}(tt=t.TestPointState||(t.TestPointState={})),function(n){n[n.Branch=1]="Branch";n[n.Environment=2]="Environment"}(it=t.TestResultGroupBy||(t.TestResultGroupBy={})),function(n){n[n.Build=1]="Build";n[n.Release=2]="Release"}(rt=t.TestResultsContextType||(t.TestResultsContextType={})),function(n){n[n.Passed=0]="Passed";n[n.Failed=1]="Failed";n[n.NotImpacted=2]="NotImpacted";n[n.Others=3]="Others"}(ut=t.TestRunOutcome||(t.TestRunOutcome={})),function(n){n[n.Build=1]="Build";n[n.Release=2]="Release";n[n.All=3]="All"}(ft=t.TestRunPublishContext||(t.TestRunPublishContext={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.NotStarted=1]="NotStarted";n[n.InProgress=2]="InProgress";n[n.Completed=3]="Completed";n[n.Aborted=4]="Aborted";n[n.Waiting=5]="Waiting";n[n.NeedsInvestigation=6]="NeedsInvestigation"}(et=t.TestRunState||(t.TestRunState={})),function(n){n[n.None=0]="None";n[n.CreatingEnvironment=1]="CreatingEnvironment";n[n.RunningTests=2]="RunningTests";n[n.CanceledByUser=3]="CanceledByUser";n[n.AbortedBySystem=4]="AbortedBySystem";n[n.TimedOut=5]="TimedOut";n[n.PendingAnalysis=6]="PendingAnalysis";n[n.Analyzed=7]="Analyzed";n[n.CancellationInProgress=8]="CancellationInProgress"}(ot=t.TestRunSubstate||(t.TestRunSubstate={})),function(n){n[n.Unknown=0]="Unknown";n[n.XTDesktop=1]="XTDesktop";n[n.FeedbackDesktop=2]="FeedbackDesktop";n[n.XTWeb=3]="XTWeb";n[n.FeedbackWeb=4]="FeedbackWeb";n[n.XTDesktop2=5]="XTDesktop2";n[n.SessionInsightsForAll=6]="SessionInsightsForAll"}(st=t.TestSessionSource||(t.TestSessionSource={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.NotStarted=1]="NotStarted";n[n.InProgress=2]="InProgress";n[n.Paused=3]="Paused";n[n.Completed=4]="Completed";n[n.Declined=5]="Declined"}(ht=t.TestSessionState||(t.TestSessionState={}));t.TypeInfo={AfnStrip:{},AggregatedDataForResultTrend:{},AggregatedResultsAnalysis:{},AggregatedResultsByOutcome:{},AggregatedRunsByOutcome:{},AggregatedRunsByState:{},AttachmentType:{enumValues:{generalAttachment:0,afnStrip:1,bugFilingData:2,codeCoverage:3,intermediateCollectorData:4,runConfig:5,testImpactDetails:6,tmiTestRunDeploymentFiles:7,tmiTestRunReverseDeploymentFiles:8,tmiTestResultDetail:9,tmiTestRunSummary:10,consoleLog:11}},BatchResponse:{},BuildConfiguration:{},BuildCoverage:{},BuildReference2:{},BulkResultUpdateRequest:{},CloneOperationInformation:{},CloneOperationState:{enumValues:{failed:2,inProgress:1,queued:0,succeeded:3}},Coverage2:{},CoverageQueryFlags:{enumValues:{modules:1,functions:2,blockData:4}},CreateTestMessageLogEntryRequest:{},CreateTestResultsRequest:{},CreateTestRunRequest:{},CustomTestFieldDefinition:{},CustomTestFieldScope:{enumValues:{none:0,testRun:1,testResult:2,system:4,all:7}},CustomTestFieldType:{enumValues:{bit:2,dateTime:4,int:8,float:6,string:12,guid:14}},DatedTestFieldData:{},FailingSince:{},FetchTestResultsResponse:{},LastResultDetails:{},LegacyBuildConfiguration:{},LegacyReleaseReference:{},LegacyTestCaseResult:{},LegacyTestRun:{},LegacyTestSettings:{},QueryTestActionResultResponse:{},ReleaseReference:{},ReleaseReference2:{},RequirementsToTestsMapping2:{},Response:{},ResultDetails:{enumValues:{none:0,iterations:1,workItems:2,subResults:4,point:8}},ResultGroupType:{enumValues:{none:0,rerun:1,dataDriven:2,orderedTest:3,generic:4}},ResultObjectType:{enumValues:{testSuite:0,testPlan:1}},ResultRetentionSettings:{},ResultsByQueryResponse:{},ResultsFilter:{},ResultUpdateRequest:{},ResultUpdateRequestModel:{},ResultUpdateResponse:{},RunCreateModel:{},RunUpdateModel:{},Service:{enumValues:{any:0,tcm:1,tfs:2}},SuiteExpand:{enumValues:{children:1,defaultTesters:2}},TCMServiceDataMigrationStatus:{enumValues:{notStarted:0,inProgress:1,completed:2,failed:3}},TestActionResult:{},TestActionResult2:{},TestActionResultModel:{},TestAttachment:{},TestCaseReference2:{},TestCaseResult:{},TestConfiguration:{},TestConfigurationState:{enumValues:{active:1,inactive:2}},TestExecutionReportData:{},TestExtensionField:{},TestExtensionFieldDetails:{},TestFailuresAnalysis:{},TestHistoryQuery:{},TestIterationDetailsModel:{},TestLog:{},TestLogReference:{},TestLogScope:{enumValues:{run:0,build:1}},TestLogStatus:{},TestLogStatusCode:{enumValues:{success:0,failed:1,fileAlreadyExists:2,invalidInput:3,invalidFileName:4,invalidContainer:5,transferFailed:6,featureDisabled:7,buildNotExist:8,runNotExist:9,containerNotCreated:10,aPINotSupported:11,fileSizeExceed:12}},TestLogStoreEndpointDetails:{},TestLogStoreEndpointType:{enumValues:{root:1,file:2}},TestLogStoreOperationType:{enumValues:{read:1,create:2,readAndCreate:3}},TestLogType:{enumValues:{generalAttachment:1,codeCoverage:2,testImpact:3,intermediate:4}},TestMessageLogDetails:{},TestMessageLogEntry:{},TestMessageLogEntry2:{},TestOutcome:{enumValues:{unspecified:0,none:1,passed:2,failed:3,inconclusive:4,timeout:5,aborted:6,blocked:7,notExecuted:8,warning:9,error:10,notApplicable:11,paused:12,inProgress:13,notImpacted:14,maxValue:14}},TestParameter2:{},TestPlan:{},TestPlanCloneRequest:{},TestPlanHubData:{},TestPlansWithSelection:{},TestPoint:{},TestPointReference:{},TestPointsEvent:{},TestPointsQuery:{},TestPointState:{enumValues:{none:0,ready:1,completed:2,notReady:3,inProgress:4,maxValue:4}},TestPointsUpdatedEvent:{},TestResult2:{},TestResultAcrossProjectResponse:{},TestResultAttachment:{},TestResultGroupBy:{enumValues:{branch:1,environment:2}},TestResultHistory:{},TestResultHistoryDetailsForGroup:{},TestResultHistoryForGroup:{},TestResultModelBase:{},TestResultReset2:{},TestResultsContext:{},TestResultsContextType:{enumValues:{build:1,release:2}},TestResultsDetails:{},TestResultsDetailsForGroup:{},TestResultsEx2:{},TestResultsQuery:{},TestResultSummary:{},TestResultTrendFilter:{},TestRun:{},TestRun2:{},TestRunCanceledEvent:{},TestRunCreatedEvent:{},TestRunEvent:{},TestRunEx2:{},TestRunOutcome:{enumValues:{passed:0,failed:1,notImpacted:2,others:3}},TestRunPublishContext:{enumValues:{build:1,release:2,all:3}},TestRunStartedEvent:{},TestRunState:{enumValues:{unspecified:0,notStarted:1,inProgress:2,completed:3,aborted:4,waiting:5,needsInvestigation:6}},TestRunSubstate:{enumValues:{none:0,creatingEnvironment:1,runningTests:2,canceledByUser:3,abortedBySystem:4,timedOut:5,pendingAnalysis:6,analyzed:7,cancellationInProgress:8}},TestRunSummary2:{},TestSession:{},TestSessionExploredWorkItemReference:{},TestSessionSource:{enumValues:{unknown:0,xTDesktop:1,feedbackDesktop:2,xTWeb:3,feedbackWeb:4,xTDesktop2:5,sessionInsightsForAll:6}},TestSessionState:{enumValues:{unspecified:0,notStarted:1,inProgress:2,paused:3,completed:4,declined:5}},TestSettings2:{},TestSubResult:{},TestSuite:{},TestSummaryForWorkItem:{},UpdatedProperties:{},UpdateTestRunRequest:{},UpdateTestRunResponse:{},WorkItemToTestLinks:{}};t.TypeInfo.AfnStrip.fields={creationDate:{isDate:!0}};t.TypeInfo.AggregatedDataForResultTrend.fields={resultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},runSummaryByState:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunState,dictionaryValueTypeInfo:t.TypeInfo.AggregatedRunsByState},testResultsContext:{typeInfo:t.TypeInfo.TestResultsContext}};t.TypeInfo.AggregatedResultsAnalysis.fields={notReportedResultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},previousContext:{typeInfo:t.TypeInfo.TestResultsContext},resultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},runSummaryByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedRunsByOutcome},runSummaryByState:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunState,dictionaryValueTypeInfo:t.TypeInfo.AggregatedRunsByState}};t.TypeInfo.AggregatedResultsByOutcome.fields={outcome:{enumType:t.TypeInfo.TestOutcome}};t.TypeInfo.AggregatedRunsByOutcome.fields={outcome:{enumType:t.TypeInfo.TestRunOutcome}};t.TypeInfo.AggregatedRunsByState.fields={resultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},state:{enumType:t.TypeInfo.TestRunState}};t.TypeInfo.BatchResponse.fields={responses:{isArray:!0,typeInfo:t.TypeInfo.Response}};t.TypeInfo.BuildConfiguration.fields={creationDate:{isDate:!0}};t.TypeInfo.BuildCoverage.fields={configuration:{typeInfo:t.TypeInfo.BuildConfiguration}};t.TypeInfo.BuildReference2.fields={createdDate:{isDate:!0}};t.TypeInfo.BulkResultUpdateRequest.fields={requests:{isArray:!0,typeInfo:t.TypeInfo.ResultUpdateRequest}};t.TypeInfo.CloneOperationInformation.fields={completionDate:{isDate:!0},creationDate:{isDate:!0},resultObjectType:{enumType:t.TypeInfo.ResultObjectType},state:{enumType:t.TypeInfo.CloneOperationState}};t.TypeInfo.Coverage2.fields={dateCreated:{isDate:!0},dateModified:{isDate:!0}};t.TypeInfo.CreateTestMessageLogEntryRequest.fields={testMessageLogEntry:{isArray:!0,typeInfo:t.TypeInfo.TestMessageLogEntry}};t.TypeInfo.CreateTestResultsRequest.fields={results:{isArray:!0,typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.CreateTestRunRequest.fields={results:{isArray:!0,typeInfo:t.TypeInfo.LegacyTestCaseResult},testRun:{typeInfo:t.TypeInfo.LegacyTestRun},testSettings:{typeInfo:t.TypeInfo.LegacyTestSettings}};t.TypeInfo.CustomTestFieldDefinition.fields={fieldType:{enumType:t.TypeInfo.CustomTestFieldType},scope:{enumType:t.TypeInfo.CustomTestFieldScope}};t.TypeInfo.DatedTestFieldData.fields={date:{isDate:!0}};t.TypeInfo.FailingSince.fields={date:{isDate:!0},release:{typeInfo:t.TypeInfo.ReleaseReference}};t.TypeInfo.FetchTestResultsResponse.fields={actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResult},attachments:{isArray:!0,typeInfo:t.TypeInfo.TestResultAttachment},results:{isArray:!0,typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.LastResultDetails.fields={dateCompleted:{isDate:!0}};t.TypeInfo.LegacyBuildConfiguration.fields={completedDate:{isDate:!0},createdDate:{isDate:!0}};t.TypeInfo.LegacyReleaseReference.fields={environmentCreationDate:{isDate:!0},releaseCreationDate:{isDate:!0}};t.TypeInfo.LegacyTestCaseResult.fields={buildReference:{typeInfo:t.TypeInfo.LegacyBuildConfiguration},creationDate:{isDate:!0},customFields:{isArray:!0,typeInfo:t.TypeInfo.TestExtensionField},dateCompleted:{isDate:!0},dateStarted:{isDate:!0},failingSince:{typeInfo:t.TypeInfo.FailingSince},lastUpdated:{isDate:!0},releaseReference:{typeInfo:t.TypeInfo.LegacyReleaseReference},resultGroupType:{enumType:t.TypeInfo.ResultGroupType},stackTrace:{typeInfo:t.TypeInfo.TestExtensionField}};t.TypeInfo.LegacyTestRun.fields={buildReference:{typeInfo:t.TypeInfo.LegacyBuildConfiguration},completeDate:{isDate:!0},creationDate:{isDate:!0},customFields:{isArray:!0,typeInfo:t.TypeInfo.TestExtensionField},dueDate:{isDate:!0},lastUpdated:{isDate:!0},releaseReference:{typeInfo:t.TypeInfo.LegacyReleaseReference},startDate:{isDate:!0},testMessageLogEntries:{isArray:!0,typeInfo:t.TypeInfo.TestMessageLogDetails}};t.TypeInfo.LegacyTestSettings.fields={createdDate:{isDate:!0},lastUpdated:{isDate:!0}};t.TypeInfo.QueryTestActionResultResponse.fields={testActionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResult},testAttachments:{isArray:!0,typeInfo:t.TypeInfo.TestResultAttachment}};t.TypeInfo.ReleaseReference.fields={creationDate:{isDate:!0},environmentCreationDate:{isDate:!0}};t.TypeInfo.ReleaseReference2.fields={environmentCreationDate:{isDate:!0},releaseCreationDate:{isDate:!0}};t.TypeInfo.RequirementsToTestsMapping2.fields={creationDate:{isDate:!0},deletionDate:{isDate:!0}};t.TypeInfo.Response.fields={};t.TypeInfo.ResultRetentionSettings.fields={lastUpdatedDate:{isDate:!0}};t.TypeInfo.ResultsByQueryResponse.fields={testResults:{isArray:!0,typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.ResultsFilter.fields={executedIn:{enumType:t.TypeInfo.Service},maxCompleteDate:{isDate:!0},testResultsContext:{typeInfo:t.TypeInfo.TestResultsContext}};t.TypeInfo.ResultUpdateRequest.fields={actionResultDeletes:{isArray:!0,typeInfo:t.TypeInfo.TestActionResult},actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResult},attachments:{isArray:!0,typeInfo:t.TypeInfo.TestResultAttachment},testCaseResult:{typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.ResultUpdateRequestModel.fields={actionResultDeletes:{isArray:!0,typeInfo:t.TypeInfo.TestActionResultModel},actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResultModel}};t.TypeInfo.ResultUpdateResponse.fields={lastUpdated:{isDate:!0}};t.TypeInfo.RunCreateModel.fields={buildReference:{typeInfo:t.TypeInfo.BuildConfiguration},releaseReference:{typeInfo:t.TypeInfo.ReleaseReference}};t.TypeInfo.RunUpdateModel.fields={logEntries:{isArray:!0,typeInfo:t.TypeInfo.TestMessageLogDetails},substate:{enumType:t.TypeInfo.TestRunSubstate}};t.TypeInfo.TestActionResult.fields={creationDate:{isDate:!0},dateCompleted:{isDate:!0},dateStarted:{isDate:!0},lastUpdated:{isDate:!0}};t.TypeInfo.TestActionResult2.fields={creationDate:{isDate:!0},dateCompleted:{isDate:!0},dateStarted:{isDate:!0},lastUpdated:{isDate:!0}};t.TypeInfo.TestActionResultModel.fields={completedDate:{isDate:!0},startedDate:{isDate:!0}};t.TypeInfo.TestAttachment.fields={attachmentType:{enumType:t.TypeInfo.AttachmentType},createdDate:{isDate:!0}};t.TypeInfo.TestCaseReference2.fields={creationDate:{isDate:!0},lastRefTestRunDate:{isDate:!0}};t.TypeInfo.TestCaseResult.fields={completedDate:{isDate:!0},createdDate:{isDate:!0},failingSince:{typeInfo:t.TypeInfo.FailingSince},iterationDetails:{isArray:!0,typeInfo:t.TypeInfo.TestIterationDetailsModel},lastUpdatedDate:{isDate:!0},releaseReference:{typeInfo:t.TypeInfo.ReleaseReference},resultGroupType:{enumType:t.TypeInfo.ResultGroupType},startedDate:{isDate:!0},subResults:{isArray:!0,typeInfo:t.TypeInfo.TestSubResult}};t.TypeInfo.TestConfiguration.fields={lastUpdatedDate:{isDate:!0},state:{enumType:t.TypeInfo.TestConfigurationState}};t.TypeInfo.TestExecutionReportData.fields={reportData:{isArray:!0,typeInfo:t.TypeInfo.DatedTestFieldData}};t.TypeInfo.TestExtensionField.fields={field:{typeInfo:t.TypeInfo.TestExtensionFieldDetails}};t.TypeInfo.TestExtensionFieldDetails.fields={type:{enumType:i.TypeInfo.SqlDbType}};t.TypeInfo.TestFailuresAnalysis.fields={previousContext:{typeInfo:t.TypeInfo.TestResultsContext}};t.TypeInfo.TestHistoryQuery.fields={groupBy:{enumType:t.TypeInfo.TestResultGroupBy},maxCompleteDate:{isDate:!0},resultsForGroup:{isArray:!0,typeInfo:t.TypeInfo.TestResultHistoryForGroup}};t.TypeInfo.TestIterationDetailsModel.fields={actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResultModel},completedDate:{isDate:!0},startedDate:{isDate:!0}};t.TypeInfo.TestLog.fields={logReference:{typeInfo:t.TypeInfo.TestLogReference},modifiedOn:{isDate:!0}};t.TypeInfo.TestLogReference.fields={scope:{enumType:t.TypeInfo.TestLogScope},type:{enumType:t.TypeInfo.TestLogType}};t.TypeInfo.TestLogStatus.fields={status:{enumType:t.TypeInfo.TestLogStatusCode}};t.TypeInfo.TestLogStoreEndpointDetails.fields={endpointType:{enumType:t.TypeInfo.TestLogStoreEndpointType}};t.TypeInfo.TestMessageLogDetails.fields={dateCreated:{isDate:!0}};t.TypeInfo.TestMessageLogEntry.fields={dateCreated:{isDate:!0}};t.TypeInfo.TestMessageLogEntry2.fields={dateCreated:{isDate:!0}};t.TypeInfo.TestParameter2.fields={creationDate:{isDate:!0},dateModified:{isDate:!0}};t.TypeInfo.TestPlan.fields={endDate:{isDate:!0},startDate:{isDate:!0},updatedDate:{isDate:!0}};t.TypeInfo.TestPlanCloneRequest.fields={destinationTestPlan:{typeInfo:t.TypeInfo.TestPlan}};t.TypeInfo.TestPlanHubData.fields={testPlan:{typeInfo:t.TypeInfo.TestPlan},testPoints:{isArray:!0,typeInfo:t.TypeInfo.TestPoint},testSuites:{isArray:!0,typeInfo:t.TypeInfo.TestSuite}};t.TypeInfo.TestPlansWithSelection.fields={plans:{isArray:!0,typeInfo:t.TypeInfo.TestPlan}};t.TypeInfo.TestPoint.fields={lastResultDetails:{typeInfo:t.TypeInfo.LastResultDetails},lastUpdatedDate:{isDate:!0}};t.TypeInfo.TestPointReference.fields={state:{enumType:t.TypeInfo.TestPointState}};t.TypeInfo.TestPointsEvent.fields={testPoints:{isArray:!0,typeInfo:t.TypeInfo.TestPointReference}};t.TypeInfo.TestPointsQuery.fields={points:{isArray:!0,typeInfo:t.TypeInfo.TestPoint}};t.TypeInfo.TestPointsUpdatedEvent.fields={testPoints:{isArray:!0,typeInfo:t.TypeInfo.TestPointReference}};t.TypeInfo.TestResult2.fields={creationDate:{isDate:!0},dateCompleted:{isDate:!0},dateStarted:{isDate:!0},lastUpdated:{isDate:!0}};t.TypeInfo.TestResultAcrossProjectResponse.fields={testResult:{typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.TestResultAttachment.fields={attachmentType:{enumType:t.TypeInfo.AttachmentType},creationDate:{isDate:!0}};t.TypeInfo.TestResultHistory.fields={resultsForGroup:{isArray:!0,typeInfo:t.TypeInfo.TestResultHistoryDetailsForGroup}};t.TypeInfo.TestResultHistoryDetailsForGroup.fields={latestResult:{typeInfo:t.TypeInfo.TestCaseResult}};t.TypeInfo.TestResultHistoryForGroup.fields={results:{isArray:!0,typeInfo:t.TypeInfo.TestCaseResult}};t.TypeInfo.TestResultModelBase.fields={completedDate:{isDate:!0},startedDate:{isDate:!0}};t.TypeInfo.TestResultReset2.fields={dateModified:{isDate:!0}};t.TypeInfo.TestResultsContext.fields={contextType:{enumType:t.TypeInfo.TestResultsContextType},release:{typeInfo:t.TypeInfo.ReleaseReference}};t.TypeInfo.TestResultsDetails.fields={resultsForGroup:{isArray:!0,typeInfo:t.TypeInfo.TestResultsDetailsForGroup}};t.TypeInfo.TestResultsDetailsForGroup.fields={results:{isArray:!0,typeInfo:t.TypeInfo.TestCaseResult},resultsCountByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome}};t.TypeInfo.TestResultsEx2.fields={creationDate:{isDate:!0},dateTimeValue:{isDate:!0}};t.TypeInfo.TestResultsQuery.fields={results:{isArray:!0,typeInfo:t.TypeInfo.TestCaseResult},resultsFilter:{typeInfo:t.TypeInfo.ResultsFilter}};t.TypeInfo.TestResultSummary.fields={aggregatedResultsAnalysis:{typeInfo:t.TypeInfo.AggregatedResultsAnalysis},teamProject:{typeInfo:r.TypeInfo.TeamProjectReference},testFailures:{typeInfo:t.TypeInfo.TestFailuresAnalysis},testResultsContext:{typeInfo:t.TypeInfo.TestResultsContext}};t.TypeInfo.TestResultTrendFilter.fields={maxCompleteDate:{isDate:!0}};t.TypeInfo.TestRun.fields={buildConfiguration:{typeInfo:t.TypeInfo.BuildConfiguration},completedDate:{isDate:!0},createdDate:{isDate:!0},dueDate:{isDate:!0},lastUpdatedDate:{isDate:!0},release:{typeInfo:t.TypeInfo.ReleaseReference},startedDate:{isDate:!0},substate:{enumType:t.TypeInfo.TestRunSubstate}};t.TypeInfo.TestRun2.fields={completeDate:{isDate:!0},creationDate:{isDate:!0},deletedOn:{isDate:!0},dueDate:{isDate:!0},lastUpdated:{isDate:!0},startDate:{isDate:!0}};t.TypeInfo.TestRunCanceledEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestRunCreatedEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestRunEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestRunEx2.fields={createdDate:{isDate:!0},dateTimeValue:{isDate:!0}};t.TypeInfo.TestRunStartedEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestRunSummary2.fields={testRunCompletedDate:{isDate:!0}};t.TypeInfo.TestSession.fields={endDate:{isDate:!0},lastUpdatedDate:{isDate:!0},source:{enumType:t.TypeInfo.TestSessionSource},startDate:{isDate:!0},state:{enumType:t.TypeInfo.TestSessionState}};t.TypeInfo.TestSessionExploredWorkItemReference.fields={endTime:{isDate:!0},startTime:{isDate:!0}};t.TypeInfo.TestSettings2.fields={createdDate:{isDate:!0},lastUpdatedDate:{isDate:!0}};t.TypeInfo.TestSubResult.fields={completedDate:{isDate:!0},lastUpdatedDate:{isDate:!0},resultGroupType:{enumType:t.TypeInfo.ResultGroupType},startedDate:{isDate:!0},subResults:{isArray:!0,typeInfo:t.TypeInfo.TestSubResult}};t.TypeInfo.TestSuite.fields={children:{isArray:!0,typeInfo:t.TypeInfo.TestSuite},lastPopulatedDate:{isDate:!0},lastUpdatedDate:{isDate:!0}};t.TypeInfo.TestSummaryForWorkItem.fields={summary:{typeInfo:t.TypeInfo.AggregatedDataForResultTrend}};t.TypeInfo.UpdatedProperties.fields={lastUpdated:{isDate:!0}};t.TypeInfo.UpdateTestRunRequest.fields={attachmentsToAdd:{isArray:!0,typeInfo:t.TypeInfo.TestResultAttachment},testRun:{typeInfo:t.TypeInfo.LegacyTestRun}};t.TypeInfo.UpdateTestRunResponse.fields={updatedProperties:{typeInfo:t.TypeInfo.UpdatedProperties}};t.TypeInfo.WorkItemToTestLinks.fields={executedIn:{enumType:t.TypeInfo.Service}}});

define("TFS/Build/Contracts",["require","exports","TFS/Core/Contracts","TFS/TestManagement/Contracts"],function(n,t,i,r){"use strict";var u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Unavailable=0]="Unavailable";n[n.Available=1]="Available";n[n.Offline=2]="Offline"}(u=t.AgentStatus||(t.AgentStatus={})),function(n){n[n.Add=1]="Add";n[n.Update=2]="Update";n[n.Delete=3]="Delete"}(f=t.AuditAction||(t.AuditAction={})),function(n){n[n.ProjectCollection=1]="ProjectCollection";n[n.Project=2]="Project"}(e=t.BuildAuthorizationScope||(t.BuildAuthorizationScope={})),function(n){n[n.String=0]="String";n[n.Boolean=1]="Boolean";n[n.StringList=2]="StringList";n[n.Radio=3]="Radio";n[n.PickList=4]="PickList";n[n.MultiLine=5]="MultiLine";n[n.BranchFilter=6]="BranchFilter"}(o=t.BuildOptionInputType||(t.BuildOptionInputType={})),function(n){n[n.Unknown=0]="Unknown";n[n.Failed=1]="Failed";n[n.Succeeded=2]="Succeeded"}(s=t.BuildPhaseStatus||(t.BuildPhaseStatus={})),function(n){n[n.FinishTimeAscending=2]="FinishTimeAscending";n[n.FinishTimeDescending=3]="FinishTimeDescending";n[n.QueueTimeDescending=4]="QueueTimeDescending";n[n.QueueTimeAscending=5]="QueueTimeAscending";n[n.StartTimeDescending=6]="StartTimeDescending";n[n.StartTimeAscending=7]="StartTimeAscending"}(h=t.BuildQueryOrder||(t.BuildQueryOrder={})),function(n){n[n.None=0]="None";n[n.Manual=1]="Manual";n[n.IndividualCI=2]="IndividualCI";n[n.BatchedCI=4]="BatchedCI";n[n.Schedule=8]="Schedule";n[n.UserCreated=32]="UserCreated";n[n.ValidateShelveset=64]="ValidateShelveset";n[n.CheckInShelveset=128]="CheckInShelveset";n[n.PullRequest=256]="PullRequest";n[n.BuildCompletion=512]="BuildCompletion";n[n.Triggered=943]="Triggered";n[n.All=1007]="All"}(c=t.BuildReason||(t.BuildReason={})),function(n){n[n.None=0]="None";n[n.Succeeded=2]="Succeeded";n[n.PartiallySucceeded=4]="PartiallySucceeded";n[n.Failed=8]="Failed";n[n.Canceled=32]="Canceled"}(l=t.BuildResult||(t.BuildResult={})),function(n){n[n.None=0]="None";n[n.InProgress=1]="InProgress";n[n.Completed=2]="Completed";n[n.Cancelling=4]="Cancelling";n[n.Postponed=8]="Postponed";n[n.NotStarted=32]="NotStarted";n[n.All=47]="All"}(a=t.BuildStatus||(t.BuildStatus={})),function(n){n[n.Unavailable=0]="Unavailable";n[n.Available=1]="Available";n[n.Offline=2]="Offline"}(v=t.ControllerStatus||(t.ControllerStatus={})),function(n){n[n.Definition=1]="Definition";n[n.Draft=2]="Draft"}(y=t.DefinitionQuality||(t.DefinitionQuality={})),function(n){n[n.None=0]="None";n[n.LastModifiedAscending=1]="LastModifiedAscending";n[n.LastModifiedDescending=2]="LastModifiedDescending";n[n.DefinitionNameAscending=3]="DefinitionNameAscending";n[n.DefinitionNameDescending=4]="DefinitionNameDescending"}(p=t.DefinitionQueryOrder||(t.DefinitionQueryOrder={})),function(n){n[n.Enabled=0]="Enabled";n[n.Paused=1]="Paused";n[n.Disabled=2]="Disabled"}(w=t.DefinitionQueueStatus||(t.DefinitionQueueStatus={})),function(n){n[n.None=1]="None";n[n.ContinuousIntegration=2]="ContinuousIntegration";n[n.BatchedContinuousIntegration=4]="BatchedContinuousIntegration";n[n.Schedule=8]="Schedule";n[n.GatedCheckIn=16]="GatedCheckIn";n[n.BatchedGatedCheckIn=32]="BatchedGatedCheckIn";n[n.PullRequest=64]="PullRequest";n[n.BuildCompletion=128]="BuildCompletion";n[n.All=255]="All"}(b=t.DefinitionTriggerType||(t.DefinitionTriggerType={})),function(n){n[n.Xaml=1]="Xaml";n[n.Build=2]="Build"}(k=t.DefinitionType||(t.DefinitionType={})),function(n){n[n.None=0]="None";n[n.DropLocation=1]="DropLocation";n[n.TestResults=2]="TestResults";n[n.Label=4]="Label";n[n.Details=8]="Details";n[n.Symbols=16]="Symbols";n[n.All=31]="All"}(d=t.DeleteOptions||(t.DeleteOptions={})),function(n){n[n.None=0]="None";n[n.FolderAscending=1]="FolderAscending";n[n.FolderDescending=2]="FolderDescending"}(g=t.FolderQueryOrder||(t.FolderQueryOrder={})),function(n){n[n.LatestOnQueue=0]="LatestOnQueue";n[n.LatestOnBuild=1]="LatestOnBuild";n[n.Custom=2]="Custom"}(nt=t.GetOption||(t.GetOption={})),function(n){n[n.Error=1]="Error";n[n.Warning=2]="Warning"}(tt=t.IssueType||(t.IssueType={})),function(n){n[n.Custom=0]="Custom";n[n.Default=1]="Default";n[n.Upgrade=2]="Upgrade"}(it=t.ProcessTemplateType||(t.ProcessTemplateType={})),function(n){n[n.ExcludeDeleted=0]="ExcludeDeleted";n[n.IncludeDeleted=1]="IncludeDeleted";n[n.OnlyDeleted=2]="OnlyDeleted"}(rt=t.QueryDeletedOption||(t.QueryDeletedOption={})),function(n){n[n.None=0]="None";n[n.DoNotRun=1]="DoNotRun"}(ut=t.QueueOptions||(t.QueueOptions={})),function(n){n[n.Low=5]="Low";n[n.BelowNormal=4]="BelowNormal";n[n.Normal=3]="Normal";n[n.AboveNormal=2]="AboveNormal";n[n.High=1]="High"}(ft=t.QueuePriority||(t.QueuePriority={})),function(n){n[n.Source=0]="Source";n[n.SourceAndOutputDir=1]="SourceAndOutputDir";n[n.SourceDir=2]="SourceDir";n[n.AllBuildDir=3]="AllBuildDir"}(et=t.RepositoryCleanOptions||(t.RepositoryCleanOptions={})),function(n){n[n.All=0]="All";n[n.Top=1]="Top"}(ot=t.ResultSet||(t.ResultSet={})),function(n){n[n.None=0]="None";n[n.Monday=1]="Monday";n[n.Tuesday=2]="Tuesday";n[n.Wednesday=4]="Wednesday";n[n.Thursday=8]="Thursday";n[n.Friday=16]="Friday";n[n.Saturday=32]="Saturday";n[n.Sunday=64]="Sunday";n[n.All=127]="All"}(st=t.ScheduleDays||(t.ScheduleDays={})),function(n){n[n.Online=1]="Online";n[n.Offline=2]="Offline"}(ht=t.ServiceHostStatus||(t.ServiceHostStatus={})),function(n){n[n.Hosted=1]="Hosted";n[n.OnPremises=2]="OnPremises";n[n.All=3]="All"}(ct=t.SourceProviderAvailability||(t.SourceProviderAvailability={})),function(n){n[n.Unsupported=0]="Unsupported";n[n.Supported=1]="Supported";n[n.Required=2]="Required"}(lt=t.SupportLevel||(t.SupportLevel={})),function(n){n[n.Succeeded=0]="Succeeded";n[n.SucceededWithIssues=1]="SucceededWithIssues";n[n.Failed=2]="Failed";n[n.Canceled=3]="Canceled";n[n.Skipped=4]="Skipped";n[n.Abandoned=5]="Abandoned"}(at=t.TaskResult||(t.TaskResult={})),function(n){n[n.Pending=0]="Pending";n[n.InProgress=1]="InProgress";n[n.Completed=2]="Completed"}(vt=t.TimelineRecordState||(t.TimelineRecordState={})),function(n){n[n.OK=0]="OK";n[n.Warning=1]="Warning";n[n.Error=2]="Error"}(yt=t.ValidationResult||(t.ValidationResult={})),function(n){n[n.Map=0]="Map";n[n.Cloak=1]="Cloak"}(pt=t.WorkspaceMappingType||(t.WorkspaceMappingType={}));t.TypeInfo={AgentStatus:{enumValues:{unavailable:0,available:1,offline:2}},AuditAction:{enumValues:{add:1,update:2,"delete":3}},Build:{},BuildAgent:{},BuildAuthorizationScope:{enumValues:{projectCollection:1,project:2}},BuildCompletedEvent:{},BuildCompletionTrigger:{},BuildController:{},BuildDefinition:{},BuildDefinition3_2:{},BuildDefinitionReference:{},BuildDefinitionReference3_2:{},BuildDefinitionRevision:{},BuildDefinitionSourceProvider:{},BuildDefinitionTemplate:{},BuildDefinitionTemplate3_2:{},BuildDeletedEvent:{},BuildDeployment:{},BuildLog:{},BuildMetric:{},BuildOptionDefinition:{},BuildOptionInputDefinition:{},BuildOptionInputType:{enumValues:{string:0,boolean:1,stringList:2,radio:3,pickList:4,multiLine:5,branchFilter:6}},BuildPhaseStatus:{enumValues:{unknown:0,failed:1,succeeded:2}},BuildProcessTemplate:{},BuildQueryOrder:{enumValues:{finishTimeAscending:2,finishTimeDescending:3,queueTimeDescending:4,queueTimeAscending:5,startTimeDescending:6,startTimeAscending:7}},BuildReason:{enumValues:{none:0,manual:1,individualCI:2,batchedCI:4,schedule:8,userCreated:32,validateShelveset:64,checkInShelveset:128,pullRequest:256,buildCompletion:512,triggered:943,all:1007}},BuildReference:{},BuildRequestValidationResult:{},BuildResult:{enumValues:{none:0,succeeded:2,partiallySucceeded:4,failed:8,canceled:32}},BuildServer:{},BuildStatus:{enumValues:{none:0,inProgress:1,completed:2,cancelling:4,postponed:8,notStarted:32,all:47}},BuildSummary:{},BuildTagsAddedEvent:{},BuildTrigger:{},BuildUpdatedEvent:{},Change:{},ContinuousDeploymentDefinition:{},ContinuousIntegrationTrigger:{},ControllerStatus:{enumValues:{unavailable:0,available:1,offline:2}},DefinitionQuality:{enumValues:{definition:1,draft:2}},DefinitionQueryOrder:{enumValues:{none:0,lastModifiedAscending:1,lastModifiedDescending:2,definitionNameAscending:3,definitionNameDescending:4}},DefinitionQueueStatus:{enumValues:{enabled:0,paused:1,disabled:2}},DefinitionReference:{},DefinitionTriggerType:{enumValues:{none:1,continuousIntegration:2,batchedContinuousIntegration:4,schedule:8,gatedCheckIn:16,batchedGatedCheckIn:32,pullRequest:64,buildCompletion:128,all:255}},DefinitionType:{enumValues:{xaml:1,build:2}},DeleteOptions:{enumValues:{none:0,dropLocation:1,testResults:2,label:4,details:8,symbols:16,all:31}},DesignerProcess:{},Folder:{},FolderQueryOrder:{enumValues:{none:0,folderAscending:1,folderDescending:2}},GatedCheckInTrigger:{},GetOption:{enumValues:{latestOnQueue:0,latestOnBuild:1,custom:2}},InformationNode:{},Issue:{},IssueType:{enumValues:{error:1,warning:2}},Phase:{},ProcessTemplateType:{enumValues:{custom:0,"default":1,upgrade:2}},PullRequestTrigger:{},QueryDeletedOption:{enumValues:{excludeDeleted:0,includeDeleted:1,onlyDeleted:2}},QueueOptions:{enumValues:{none:0,doNotRun:1}},QueuePriority:{enumValues:{low:5,belowNormal:4,normal:3,aboveNormal:2,high:1}},RepositoryCleanOptions:{enumValues:{source:0,sourceAndOutputDir:1,sourceDir:2,allBuildDir:3}},RepositoryWebhook:{},ResultSet:{enumValues:{all:0,top:1}},Schedule:{},ScheduleDays:{enumValues:{none:0,monday:1,tuesday:2,wednesday:4,thursday:8,friday:16,saturday:32,sunday:64,all:127}},ScheduleTrigger:{},ServiceHostStatus:{enumValues:{online:1,offline:2}},SourceProviderAttributes:{},SourceProviderAvailability:{enumValues:{hosted:1,onPremises:2,all:3}},SupportedTrigger:{},SupportLevel:{enumValues:{unsupported:0,supported:1,required:2}},TaskResult:{enumValues:{succeeded:0,succeededWithIssues:1,failed:2,canceled:3,skipped:4,abandoned:5}},Timeline:{},TimelineRecord:{},TimelineRecordState:{enumValues:{pending:0,inProgress:1,completed:2}},TimelineRecordsUpdatedEvent:{},ValidationResult:{enumValues:{oK:0,warning:1,error:2}},WorkspaceMapping:{},WorkspaceMappingType:{enumValues:{map:0,cloak:1}},WorkspaceTemplate:{},XamlBuildDefinition:{}};t.TypeInfo.Build.fields={controller:{typeInfo:t.TypeInfo.BuildController},definition:{typeInfo:t.TypeInfo.DefinitionReference},deletedDate:{isDate:!0},finishTime:{isDate:!0},lastChangedDate:{isDate:!0},priority:{enumType:t.TypeInfo.QueuePriority},project:{typeInfo:i.TypeInfo.TeamProjectReference},queueOptions:{enumType:t.TypeInfo.QueueOptions},queueTime:{isDate:!0},reason:{enumType:t.TypeInfo.BuildReason},result:{enumType:t.TypeInfo.BuildResult},startTime:{isDate:!0},status:{enumType:t.TypeInfo.BuildStatus},triggeredByBuild:{typeInfo:t.TypeInfo.Build},validationResults:{isArray:!0,typeInfo:t.TypeInfo.BuildRequestValidationResult}};t.TypeInfo.BuildAgent.fields={createdDate:{isDate:!0},status:{enumType:t.TypeInfo.AgentStatus},updatedDate:{isDate:!0}};t.TypeInfo.BuildCompletedEvent.fields={build:{typeInfo:t.TypeInfo.Build},changes:{isArray:!0,typeInfo:t.TypeInfo.Change},testResults:{typeInfo:r.TypeInfo.AggregatedResultsAnalysis},timelineRecords:{isArray:!0,typeInfo:t.TypeInfo.TimelineRecord}};t.TypeInfo.BuildCompletionTrigger.fields={definition:{typeInfo:t.TypeInfo.DefinitionReference},triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.BuildController.fields={createdDate:{isDate:!0},status:{enumType:t.TypeInfo.ControllerStatus},updatedDate:{isDate:!0}};t.TypeInfo.BuildDefinition.fields={createdDate:{isDate:!0},draftOf:{typeInfo:t.TypeInfo.DefinitionReference},drafts:{isArray:!0,typeInfo:t.TypeInfo.DefinitionReference},jobAuthorizationScope:{enumType:t.TypeInfo.BuildAuthorizationScope},latestBuild:{typeInfo:t.TypeInfo.Build},latestCompletedBuild:{typeInfo:t.TypeInfo.Build},metrics:{isArray:!0,typeInfo:t.TypeInfo.BuildMetric},project:{typeInfo:i.TypeInfo.TeamProjectReference},quality:{enumType:t.TypeInfo.DefinitionQuality},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},triggers:{isArray:!0,typeInfo:t.TypeInfo.BuildTrigger},type:{enumType:t.TypeInfo.DefinitionType}};t.TypeInfo.BuildDefinition3_2.fields={createdDate:{isDate:!0},draftOf:{typeInfo:t.TypeInfo.DefinitionReference},drafts:{isArray:!0,typeInfo:t.TypeInfo.DefinitionReference},jobAuthorizationScope:{enumType:t.TypeInfo.BuildAuthorizationScope},latestBuild:{typeInfo:t.TypeInfo.Build},latestCompletedBuild:{typeInfo:t.TypeInfo.Build},metrics:{isArray:!0,typeInfo:t.TypeInfo.BuildMetric},project:{typeInfo:i.TypeInfo.TeamProjectReference},quality:{enumType:t.TypeInfo.DefinitionQuality},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},triggers:{isArray:!0,typeInfo:t.TypeInfo.BuildTrigger},type:{enumType:t.TypeInfo.DefinitionType}};t.TypeInfo.BuildDefinitionReference.fields={createdDate:{isDate:!0},draftOf:{typeInfo:t.TypeInfo.DefinitionReference},drafts:{isArray:!0,typeInfo:t.TypeInfo.DefinitionReference},latestBuild:{typeInfo:t.TypeInfo.Build},latestCompletedBuild:{typeInfo:t.TypeInfo.Build},metrics:{isArray:!0,typeInfo:t.TypeInfo.BuildMetric},project:{typeInfo:i.TypeInfo.TeamProjectReference},quality:{enumType:t.TypeInfo.DefinitionQuality},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},type:{enumType:t.TypeInfo.DefinitionType}};t.TypeInfo.BuildDefinitionReference3_2.fields={createdDate:{isDate:!0},draftOf:{typeInfo:t.TypeInfo.DefinitionReference},drafts:{isArray:!0,typeInfo:t.TypeInfo.DefinitionReference},metrics:{isArray:!0,typeInfo:t.TypeInfo.BuildMetric},project:{typeInfo:i.TypeInfo.TeamProjectReference},quality:{enumType:t.TypeInfo.DefinitionQuality},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},type:{enumType:t.TypeInfo.DefinitionType}};t.TypeInfo.BuildDefinitionRevision.fields={changedDate:{isDate:!0},changeType:{enumType:t.TypeInfo.AuditAction}};t.TypeInfo.BuildDefinitionSourceProvider.fields={lastModified:{isDate:!0},supportedTriggerTypes:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.BuildDefinitionTemplate.fields={template:{typeInfo:t.TypeInfo.BuildDefinition}};t.TypeInfo.BuildDefinitionTemplate3_2.fields={template:{typeInfo:t.TypeInfo.BuildDefinition3_2}};t.TypeInfo.BuildDeletedEvent.fields={build:{typeInfo:t.TypeInfo.Build}};t.TypeInfo.BuildDeployment.fields={deployment:{typeInfo:t.TypeInfo.BuildSummary}};t.TypeInfo.BuildLog.fields={createdOn:{isDate:!0},lastChangedOn:{isDate:!0}};t.TypeInfo.BuildMetric.fields={date:{isDate:!0}};t.TypeInfo.BuildOptionDefinition.fields={inputs:{isArray:!0,typeInfo:t.TypeInfo.BuildOptionInputDefinition}};t.TypeInfo.BuildOptionInputDefinition.fields={type:{enumType:t.TypeInfo.BuildOptionInputType}};t.TypeInfo.BuildProcessTemplate.fields={supportedReasons:{enumType:t.TypeInfo.BuildReason},templateType:{enumType:t.TypeInfo.ProcessTemplateType}};t.TypeInfo.BuildReference.fields={finishTime:{isDate:!0},queueTime:{isDate:!0},result:{enumType:t.TypeInfo.BuildResult},startTime:{isDate:!0},status:{enumType:t.TypeInfo.BuildStatus}};t.TypeInfo.BuildRequestValidationResult.fields={result:{enumType:t.TypeInfo.ValidationResult}};t.TypeInfo.BuildServer.fields={status:{enumType:t.TypeInfo.ServiceHostStatus},statusChangedDate:{isDate:!0}};t.TypeInfo.BuildSummary.fields={finishTime:{isDate:!0},reason:{enumType:t.TypeInfo.BuildReason},startTime:{isDate:!0},status:{enumType:t.TypeInfo.BuildStatus}};t.TypeInfo.BuildTagsAddedEvent.fields={build:{typeInfo:t.TypeInfo.Build}};t.TypeInfo.BuildTrigger.fields={triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.BuildUpdatedEvent.fields={build:{typeInfo:t.TypeInfo.Build}};t.TypeInfo.Change.fields={timestamp:{isDate:!0}};t.TypeInfo.ContinuousDeploymentDefinition.fields={project:{typeInfo:i.TypeInfo.TeamProjectReference}};t.TypeInfo.ContinuousIntegrationTrigger.fields={triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.DefinitionReference.fields={createdDate:{isDate:!0},project:{typeInfo:i.TypeInfo.TeamProjectReference},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},type:{enumType:t.TypeInfo.DefinitionType}};t.TypeInfo.DesignerProcess.fields={phases:{isArray:!0,typeInfo:t.TypeInfo.Phase}};t.TypeInfo.Folder.fields={createdOn:{isDate:!0},lastChangedDate:{isDate:!0},project:{typeInfo:i.TypeInfo.TeamProjectReference}};t.TypeInfo.GatedCheckInTrigger.fields={triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.InformationNode.fields={lastModifiedDate:{isDate:!0}};t.TypeInfo.Issue.fields={type:{enumType:t.TypeInfo.IssueType}};t.TypeInfo.Phase.fields={jobAuthorizationScope:{enumType:t.TypeInfo.BuildAuthorizationScope}};t.TypeInfo.PullRequestTrigger.fields={triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.RepositoryWebhook.fields={types:{isArray:!0,enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.Schedule.fields={daysToBuild:{enumType:t.TypeInfo.ScheduleDays}};t.TypeInfo.ScheduleTrigger.fields={schedules:{isArray:!0,typeInfo:t.TypeInfo.Schedule},triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.SourceProviderAttributes.fields={supportedTriggers:{isArray:!0,typeInfo:t.TypeInfo.SupportedTrigger}};t.TypeInfo.SupportedTrigger.fields={supportedCapabilities:{isDictionary:!0,dictionaryValueEnumType:t.TypeInfo.SupportLevel},type:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.Timeline.fields={lastChangedOn:{isDate:!0},records:{isArray:!0,typeInfo:t.TypeInfo.TimelineRecord}};t.TypeInfo.TimelineRecord.fields={finishTime:{isDate:!0},issues:{isArray:!0,typeInfo:t.TypeInfo.Issue},lastModified:{isDate:!0},result:{enumType:t.TypeInfo.TaskResult},startTime:{isDate:!0},state:{enumType:t.TypeInfo.TimelineRecordState}};t.TypeInfo.TimelineRecordsUpdatedEvent.fields={timelineRecords:{isArray:!0,typeInfo:t.TypeInfo.TimelineRecord}};t.TypeInfo.WorkspaceMapping.fields={mappingType:{enumType:t.TypeInfo.WorkspaceMappingType}};t.TypeInfo.WorkspaceTemplate.fields={lastModifiedDate:{isDate:!0},mappings:{isArray:!0,typeInfo:t.TypeInfo.WorkspaceMapping}};t.TypeInfo.XamlBuildDefinition.fields={controller:{typeInfo:t.TypeInfo.BuildController},createdDate:{isDate:!0},createdOn:{isDate:!0},project:{typeInfo:i.TypeInfo.TeamProjectReference},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},supportedReasons:{enumType:t.TypeInfo.BuildReason},triggerType:{enumType:t.TypeInfo.DefinitionTriggerType},type:{enumType:t.TypeInfo.DefinitionType}}});

define("TFS/Build/RestClient",["require","exports","TFS/Build/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f){"use strict";function rt(n){return window.VSS&&window.VSS.VssSDKRestVersion&&tt[window.VSS.VssSDKRestVersion]?r.getClient(tt[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(v,undefined,undefined,undefined,n)}var e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,it,tt;Object.defineProperty(t,"__esModule",{value:!0});e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getTags=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d84ac5c6-edc7-43d5-adc9-1b34be5dea09",resource:"tags",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.tagsApiVersion})},t.prototype.getBuildTags=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"6e6114b2-8161-44c8-8f6c-c5505782427f",resource:"tags",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,buildId:t},apiVersion:this.tagsApiVersion_6e6114b2})},t.prototype.deleteBuildTag=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",area:"build",locationId:"6e6114b2-8161-44c8-8f6c-c5505782427f",resource:"tags",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,buildId:t,tag:i},apiVersion:this.tagsApiVersion_6e6114b2})},t.prototype.addBuildTags=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"6e6114b2-8161-44c8-8f6c-c5505782427f",resource:"tags",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:t,buildId:i},apiVersion:this.tagsApiVersion_6e6114b2,data:n})},t.prototype.addBuildTag=function(n,t,i){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"6e6114b2-8161-44c8-8f6c-c5505782427f",resource:"tags",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,buildId:t,tag:i},apiVersion:this.tagsApiVersion_6e6114b2})},t.prototype.updateBuildSettings=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"aa8c1c9c-ef8b-474a-b8c4-785c7b191d0d",resource:"settings",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:this.settingsApiVersion,data:n})},t.prototype.getBuildSettings=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"aa8c1c9c-ef8b-474a-b8c4-785c7b191d0d",resource:"settings",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:n},apiVersion:this.settingsApiVersion})},t.prototype.getDefinitionRevisions=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"7c116775-52e5-453e-8c5d-914d9762d8c4",resource:"revisions",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseType:i.TypeInfo.BuildDefinitionRevision,responseIsCollection:!0,routeValues:{project:n,definitionId:t},apiVersion:this.revisionsApiVersion})},t.prototype.getResourceUsage=function(){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"3813d06c-9e36-4ea1-aac3-61a485d60e3d",resource:"ResourceUsage",routeTemplate:"_apis/build/{resource}",apiVersion:this.resourceUsageApiVersion})},t.prototype.getBuildOptionDefinitions=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"591cb5a4-2d46-4f3a-a697-5cd42b6bd332",resource:"options",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.BuildOptionDefinition,responseIsCollection:!0,routeValues:{project:n},apiVersion:this.optionsApiVersion})},t.prototype.getBuildControllers=function(n){var t={name:n};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"fcac1932-2ee1-437f-9b6f-7f696be858f6",resource:"Controllers",routeTemplate:"_apis/build/{resource}/{controllerId}",responseType:i.TypeInfo.BuildController,responseIsCollection:!0,queryParams:t,apiVersion:this.controllersApiVersion})},t.prototype.getBuildController=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"fcac1932-2ee1-437f-9b6f-7f696be858f6",resource:"Controllers",routeTemplate:"_apis/build/{resource}/{controllerId}",responseType:i.TypeInfo.BuildController,routeValues:{controllerId:n},apiVersion:this.controllersApiVersion})},t.prototype.getBuildBadgeData=function(n,t,i,r){var u={repoId:i,branchName:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"21b3b9ce-fad5-4567-9ad0-80679794e003",resource:"buildbadge",routeTemplate:"{project}/_apis/{area}/repos/{repoType}/badge",routeValues:{project:n,repoType:t},queryParams:u,apiVersion:this.buildbadgeApiVersion})},t.prototype.getBuildBadge=function(n,t,i,r){var u={repoId:i,branchName:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"21b3b9ce-fad5-4567-9ad0-80679794e003",resource:"buildbadge",routeTemplate:"{project}/_apis/{area}/repos/{repoType}/badge",routeValues:{project:n,repoType:t},queryParams:u,apiVersion:this.buildbadgeApiVersion})},t.prototype.getBadge=function(n,t,i){var r={branchName:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"de6a4df8-22cd-44ee-af2d-39f6aa7a4261",resource:"badge",routeTemplate:"_apis/public/{area}/definitions/{project}/{definitionId}/{resource}",routeValues:{project:n,definitionId:t},queryParams:r,apiVersion:this.badgeApiVersion})},t.serviceInstanceId=f.ServiceInstanceTypes.TFS,t}(u.VssHttpClient);t.CommonMethods2To5=e;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getWorkItemsBetweenBuilds=function(n,t,i,r){var u={fromBuildId:t,toBuildId:i,$top:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"52ba8915-5518-42e3-a4bb-b0182d159e2d",resource:"workitems",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:this.workitemsApiVersion})},t.prototype.getBuildWorkItemsRefsFromCommits=function(n,t,i,r){var u={$top:r};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:t,buildId:i},queryParams:u,apiVersion:this.workitemsApiVersion_5a21f5d2,data:n})},t.prototype.getBuildWorkItemsRefs=function(n,t,i){var r={$top:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:r,apiVersion:this.workitemsApiVersion_5a21f5d2})},t.prototype.getBuildReportHtmlContent=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/html",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:this.reportApiVersion})},t.prototype.getBuildReport=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:this.reportApiVersion})},t.prototype.getBuildLogsZip=function(n,t){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t},apiVersion:this.logsApiVersion})},t.prototype.getBuildLogs=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseType:i.TypeInfo.BuildLog,responseIsCollection:!0,routeValues:{project:n,buildId:t},apiVersion:this.logsApiVersion})},t.prototype.getBuildLogLines=function(n,t,i,r,u){var f={startLine:r,endLine:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseIsCollection:!0,routeValues:{project:n,buildId:t,logId:i},queryParams:f,apiVersion:this.logsApiVersion})},t.prototype.getBuildLog=function(n,t,i,r,u){var f={startLine:r,endLine:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:f,apiVersion:this.logsApiVersion})},t.prototype.updateFolder=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"a906531b-d2da-4f55-bda7-f3e676cc50d9",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",requestType:i.TypeInfo.Folder,responseType:i.TypeInfo.Folder,routeValues:{project:t,path:r},apiVersion:this.foldersApiVersion,data:n})},t.prototype.getFolders=function(n,t,r){var u={queryOrder:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"a906531b-d2da-4f55-bda7-f3e676cc50d9",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",responseType:i.TypeInfo.Folder,responseIsCollection:!0,routeValues:{project:n,path:t},queryParams:u,apiVersion:this.foldersApiVersion})},t.prototype.deleteFolder=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"a906531b-d2da-4f55-bda7-f3e676cc50d9",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",routeValues:{project:n,path:t},apiVersion:this.foldersApiVersion})},t.prototype.createFolder=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"a906531b-d2da-4f55-bda7-f3e676cc50d9",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",requestType:i.TypeInfo.Folder,responseType:i.TypeInfo.Folder,routeValues:{project:t,path:r},apiVersion:this.foldersApiVersion,data:n})},t.prototype.getChangesBetweenBuilds=function(n,t,r,u){var f={fromBuildId:t,toBuildId:r,$top:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f10f0ea5-18a1-43ec-a8fb-2042c7be9b43",resource:"changes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.changesApiVersion})},t.prototype.updateBuilds=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.buildsApiVersion,data:n})},t.prototype.updateBuild=function(n,t,r,u){var f={retry:u};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:r,buildId:t},queryParams:f,apiVersion:this.buildsApiVersion,data:n})},t.prototype.queueBuild=function(n,t,r,u,f){var e={ignoreWarnings:r,checkInTicket:u,sourceBuildId:f};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:t},queryParams:e,apiVersion:this.buildsApiVersion,data:n})},t.prototype.deleteBuild=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",routeValues:{project:t,buildId:n},apiVersion:this.buildsApiVersion})},t.prototype.getArtifacts=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",responseIsCollection:!0,routeValues:{project:t,buildId:n},apiVersion:this.artifactsApiVersion})},t.prototype.createArtifact=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:t},apiVersion:this.artifactsApiVersion,data:n})},t}(e);t.CommonMethods3To5=o;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getDefinitionTags=function(n,t,i){var r={revision:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"cb894432-134a-4d31-a839-83beceaace4b",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{DefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,definitionId:t},queryParams:r,apiVersion:this.tagsApiVersion_cb894432})},t.prototype.deleteDefinitionTag=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",area:"build",locationId:"cb894432-134a-4d31-a839-83beceaace4b",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{DefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,definitionId:t,tag:i},apiVersion:this.tagsApiVersion_cb894432})},t.prototype.addDefinitionTags=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"cb894432-134a-4d31-a839-83beceaace4b",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{DefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:t,definitionId:i},apiVersion:this.tagsApiVersion_cb894432,data:n})},t.prototype.addDefinitionTag=function(n,t,i){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"cb894432-134a-4d31-a839-83beceaace4b",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{DefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,definitionId:t,tag:i},apiVersion:this.tagsApiVersion_cb894432})},t.prototype.getDefinitionMetrics=function(n,t,r){var u={minMetricsTime:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d973b939-0ce0-4fec-91d8-da3940fa1827",resource:"Metrics",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseType:i.TypeInfo.BuildMetric,responseIsCollection:!0,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:this.metricsApiVersion})},t.prototype.getProjectMetrics=function(n,t,r){var u={minMetricsTime:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"7433fae7-a6bc-41dc-a6e2-eef9005ce41a",resource:"Metrics",routeTemplate:"{project}/_apis/{area}/{resource}/{metricAggregationType}",responseType:i.TypeInfo.BuildMetric,responseIsCollection:!0,routeValues:{project:n,metricAggregationType:t},queryParams:u,apiVersion:this.metricsApiVersion_7433fae7})},t}(o);t.CommonMethods3_1To5=s;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateDefinitionProperties=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"d9826ad7-2a68-46a9-a6e9-677698777895",resource:"properties",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",routeValues:{project:t,definitionId:i},customHeaders:{"Content-Type":"application/json-patch+json"},apiVersion:this.propertiesApiVersion,data:n})},t.prototype.getDefinitionProperties=function(n,t,i){var r={filter:i&&i.join(",")};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d9826ad7-2a68-46a9-a6e9-677698777895",resource:"properties",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",routeValues:{project:n,definitionId:t},queryParams:r,apiVersion:this.propertiesApiVersion})},t.prototype.updateBuildProperties=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0a6312e9-0627-49b7-8083-7d74a64849c9",resource:"properties",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:t,buildId:i},customHeaders:{"Content-Type":"application/json-patch+json"},apiVersion:this.propertiesApiVersion_0a6312e9,data:n})},t.prototype.getBuildProperties=function(n,t,i){var r={filter:i&&i.join(",")};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0a6312e9-0627-49b7-8083-7d74a64849c9",resource:"properties",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:this.propertiesApiVersion_0a6312e9})},t}(s);t.CommonMethods3_2To5=h;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate,responseType:i.TypeInfo.BuildDefinitionTemplate,routeValues:{project:t,templateId:r},apiVersion:this.templatesApiVersion,data:n})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate,responseIsCollection:!0,routeValues:{project:n},apiVersion:this.templatesApiVersion})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate,routeValues:{project:n,templateId:t},apiVersion:this.templatesApiVersion})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:this.templatesApiVersion})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition,responseType:i.TypeInfo.BuildDefinition,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:this.definitionsApiVersion,data:n})},t.prototype.getDefinition=function(n,t,r,u,f,e){var o={revision:r,minMetricsTime:u,propertyFilters:f&&f.join(","),includeLatestBuilds:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinition,routeValues:{project:t,definitionId:n},queryParams:o,apiVersion:this.definitionsApiVersion})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:this.definitionsApiVersion})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition,responseType:i.TypeInfo.BuildDefinition,routeValues:{project:t},queryParams:f,apiVersion:this.definitionsApiVersion,data:n})},t}(h);t.CommonMethods4To5=c;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.listWebhooks=function(n,t,r,u){var f={serviceEndpointId:r,repository:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8f20ff82-9498-4812-9f6e-9c01bdc50e99",resource:"webhooks",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",responseType:i.TypeInfo.RepositoryWebhook,responseIsCollection:!0,routeValues:{project:n,providerName:t},queryParams:f,apiVersion:this.webhooksApiVersion})},t.prototype.restoreWebhooks=function(n,t,r,u,f){var e={serviceEndpointId:u,repository:f};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"build",locationId:"793bceb8-9736-4030-bd2f-fb3ce6d6b478",resource:"webhooks",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",requestType:i.TypeInfo.DefinitionTriggerType,routeValues:{project:t,providerName:r},queryParams:e,apiVersion:this.webhooksApiVersion_793bceb8,data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:this.timelineApiVersion})},t.prototype.getTicketedLogsContentZip=function(n,t,i){var r={projectId:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"917890d1-a6b5-432d-832a-6afcf6bb0734",resource:"ticketedLogs",routeTemplate:"_apis/public/{area}/builds/{buildId}/{resource}",routeValues:{buildId:n},customHeaders:{"X-VSS-DownloadTicket":i},queryParams:r,apiVersion:this.ticketedLogsApiVersion})},t.prototype.getTicketedArtifactContentZip=function(n,t,i,r){var u={projectId:t,artifactName:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"731b7e7a-0b6c-4912-af75-de04fe4899db",resource:"ticketedArtifacts",routeTemplate:"_apis/public/{area}/builds/{buildId}/{resource}",routeValues:{buildId:n},customHeaders:{"X-VSS-DownloadTicket":r},queryParams:u,apiVersion:this.ticketedArtifactsApiVersion})},t.prototype.listSourceProviders=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"3ce81729-954f-423d-a581-9fea01d25186",resource:"sourceProviders",routeTemplate:"{project}/_apis/{resource}",responseType:i.TypeInfo.SourceProviderAttributes,responseIsCollection:!0,routeValues:{project:n},apiVersion:this.sourceProvidersApiVersion})},t.prototype.listRepositories=function(n,t,i,r,u,f,e){var o={serviceEndpointId:i,repository:r,resultSet:u,pageResults:f,continuationToken:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d44d1680-f978-4834-9b93-8c6e132329c9",resource:"repositories",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",routeValues:{project:n,providerName:t},queryParams:o,apiVersion:this.repositoriesApiVersion})},t.prototype.getPathContents=function(n,t,i,r,u,f){var e={serviceEndpointId:i,repository:r,commitOrBranch:u,path:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"7944d6fb-df01-4709-920a-7a189aa34037",resource:"pathContents",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",responseIsCollection:!0,routeValues:{project:n,providerName:t},queryParams:e,apiVersion:this.pathContentsApiVersion})},t.prototype.getFileContents=function(n,t,i,r,u,f){var e={serviceEndpointId:i,repository:r,commitOrBranch:u,path:f};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"build",locationId:"29d12225-b1d9-425f-b668-6c594a981313",resource:"fileContents",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",routeValues:{project:n,providerName:t},queryParams:e,apiVersion:this.fileContentsApiVersion})},t.prototype.getBuildChanges=function(n,t,r,u,f){var e={continuationToken:r,$top:u,includeSourceChange:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:e,apiVersion:this.changesApiVersion_54572c7b})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minTime:f,maxTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:this.buildsApiVersion})},t.prototype.getBuild=function(n,t,r){var u={propertyFilters:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:u,apiVersion:this.buildsApiVersion})},t.prototype.listBranches=function(n,t,i,r){var u={serviceEndpointId:i,repository:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e05d4403-9b81-4244-8763-20fde28d1976",resource:"branches",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",responseIsCollection:!0,routeValues:{project:n,providerName:t},queryParams:u,apiVersion:this.branchesApiVersion})},t.prototype.getAttachment=function(n,t,i,r,u,f){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"build",locationId:"af5122d3-3438-485e-a25a-2dbbfde84ee6",resource:"attachments",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{timelineId}/{recordId}/{resource}/{type}/{name}",routeValues:{project:n,buildId:t,timelineId:i,recordId:r,type:u,name:f},apiVersion:this.attachmentsApiVersion})},t.prototype.getAttachments=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f2192269-89fa-4f94-baf6-8fb128c55159",resource:"attachments",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{type}",responseIsCollection:!0,routeValues:{project:n,buildId:t,type:i},apiVersion:this.attachmentsApiVersion_f2192269})},t}(c);t.CommonMethods4_1To5=l;a=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.attachmentsApiVersion=r.attachmentsApiVersion_f2192269=r.branchesApiVersion=r.buildbadgeApiVersion=r.fileContentsApiVersion=r.foldersApiVersion=r.metricsApiVersion=r.metricsApiVersion_7433fae7=r.pathContentsApiVersion=r.propertiesApiVersion=r.propertiesApiVersion_0a6312e9=r.repositoriesApiVersion=r.settingsApiVersion=r.sourceProvidersApiVersion=r.ticketedArtifactsApiVersion=r.ticketedLogsApiVersion=r.webhooksApiVersion=r.webhooksApiVersion_793bceb8="5.0-preview.1",r.badgeApiVersion=r.changesApiVersion=r.changesApiVersion_54572c7b=r.controllersApiVersion=r.logsApiVersion=r.optionsApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.revisionsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.tagsApiVersion_cb894432=r.timelineApiVersion=r.workitemsApiVersion=r.workitemsApiVersion_5a21f5d2="5.0-preview.2",r.templatesApiVersion="5.0-preview.3",r.artifactsApiVersion=r.buildsApiVersion="5.0-preview.4",r.definitionsApiVersion="5.0-preview.6",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"5.0-preview.4"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"5.0-preview.4"})},t.prototype.getFile=function(n,t,i,r,u){var f={artifactName:t,fileId:i,fileName:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:u,buildId:n},queryParams:f,apiVersion:"5.0-preview.4"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){var k={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p,processType:w,yamlFilename:b};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:k,apiVersion:"5.0-preview.6"})},t.prototype.restoreDefinition=function(n,t,r){var u={deleted:t};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinition,routeValues:{project:r,definitionId:n},queryParams:u,apiVersion:"5.0-preview.6"})},t.prototype.getLatestBuild=function(n,t,r){var u={branchName:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54481611-01f4-47f3-998f-160da0f0c229",resource:"latest",routeTemplate:"{project}/_apis/{area}/{resource}/{*definition}",responseType:i.TypeInfo.Build,routeValues:{project:n,definition:t},queryParams:u,apiVersion:"5.0-preview.1"})},t.prototype.getBuildLogZip=function(n,t,i,r,u){var f={startLine:r,endLine:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:f,apiVersion:"5.0-preview.2"})},t.prototype.getPullRequest=function(n,t,i,r,u){var f={repositoryId:r,serviceEndpointId:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d8763ec7-9ff0-4fb4-b2b2-9d757906ff14",resource:"pullRequests",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}/{pullRequestId}",routeValues:{project:n,providerName:t,pullRequestId:i},queryParams:f,apiVersion:"5.0-preview.1"})},t.prototype.authorizeDefinitionResources=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"ea623316-1967-45eb-89ab-e9e6110cf2d6",resource:"resources",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseIsCollection:!0,routeValues:{project:t,definitionId:i},apiVersion:"5.0-preview.1",data:n})},t.prototype.getDefinitionResources=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"ea623316-1967-45eb-89ab-e9e6110cf2d6",resource:"resources",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseIsCollection:!0,routeValues:{project:n,definitionId:t},apiVersion:"5.0-preview.1"})},t.prototype.getStatusBadge=function(n,t,i,r,u,f,e){var o={branchName:i,stageName:r,jobName:u,configuration:f,label:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"07acfdce-4757-4439-b422-ddd13a2fcc10",resource:"status",routeTemplate:"{project}/_apis/{area}/{resource}/{*definition}",routeValues:{project:n,definition:t},queryParams:o,apiVersion:"5.0-preview.1"})},t}(l);t.BuildHttpClient5=a;v=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.artifactsApiVersion=r.badgeApiVersion=r.buildsApiVersion=r.changesApiVersion_54572c7b=r.controllersApiVersion=r.definitionsApiVersion=r.logsApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.templatesApiVersion=r.timelineApiVersion=r.workitemsApiVersion_5a21f5d2="4.1",r.attachmentsApiVersion=r.attachmentsApiVersion_f2192269=r.branchesApiVersion=r.buildbadgeApiVersion=r.fileContentsApiVersion=r.foldersApiVersion=r.metricsApiVersion=r.metricsApiVersion_7433fae7=r.pathContentsApiVersion=r.propertiesApiVersion=r.propertiesApiVersion_0a6312e9=r.repositoriesApiVersion=r.sourceProvidersApiVersion=r.ticketedArtifactsApiVersion=r.ticketedLogsApiVersion=r.webhooksApiVersion=r.webhooksApiVersion_793bceb8="4.1-preview.1",r.changesApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.tagsApiVersion_cb894432=r.workitemsApiVersion="4.1-preview.2",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"4.1"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"4.1"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"4.1"})},t}(l);t.BuildHttpClient4_1=v;y=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.artifactsApiVersion=r.badgeApiVersion=r.buildsApiVersion=r.controllersApiVersion=r.definitionsApiVersion=r.logsApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.templatesApiVersion=r.workitemsApiVersion_5a21f5d2="4.0",r.buildbadgeApiVersion=r.foldersApiVersion=r.metricsApiVersion=r.metricsApiVersion_7433fae7=r.propertiesApiVersion=r.propertiesApiVersion_0a6312e9="4.0-preview.1",r.changesApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.tagsApiVersion_cb894432=r.workitemsApiVersion="4.0-preview.2",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"4.0"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"4.0"})},t.prototype.getBuild=function(n,t,r){var u={propertyFilters:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:u,apiVersion:"4.0"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:"4.0"})},t.prototype.getBuildChanges=function(n,t,r,u,f){var e={continuationToken:r,$top:u,includeSourceChange:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:e,apiVersion:"4.0"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"4.0"})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"4.0"})},t}(c);t.BuildHttpClient4=y;p=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.artifactsApiVersion=r.badgeApiVersion=r.buildsApiVersion=r.controllersApiVersion=r.logsApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.workitemsApiVersion_5a21f5d2="3.2",r.buildbadgeApiVersion=r.foldersApiVersion=r.metricsApiVersion=r.metricsApiVersion_7433fae7=r.propertiesApiVersion=r.propertiesApiVersion_0a6312e9="3.2-preview.1",r.changesApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.tagsApiVersion_cb894432=r.workitemsApiVersion="3.2-preview.2",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.2"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.2"})},t.prototype.getBuild=function(n,t,r){var u={propertyFilters:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:u,apiVersion:"3.2"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:"3.2"})},t.prototype.getBuildChanges=function(n,t,r,u,f){var e={continuationToken:r,$top:u,includeSourceChange:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:e,apiVersion:"3.2"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"3.2",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"3.2"})},t.prototype.getDefinition=function(n,t,r,u,f,e){var o={revision:r,minMetricsTime:u,propertyFilters:f&&f.join(","),includeLatestBuilds:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t,definitionId:n},queryParams:o,apiVersion:"3.2"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"3.2"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"3.2",data:n})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"3.2"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"3.2"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.2"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"3.2",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"3.2"})},t}(h);t.BuildHttpClient3_2=p;w=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.artifactsApiVersion=r.badgeApiVersion=r.buildsApiVersion=r.controllersApiVersion=r.logsApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.workitemsApiVersion_5a21f5d2="3.1",r.buildbadgeApiVersion=r.foldersApiVersion=r.metricsApiVersion=r.metricsApiVersion_7433fae7="3.1-preview.1",r.changesApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.tagsApiVersion_cb894432=r.workitemsApiVersion="3.1-preview.2",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.1"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.1"})},t.prototype.getBuild=function(n,t,r){var u={propertyFilters:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:u,apiVersion:"3.1"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:"3.1"})},t.prototype.getBuildChanges=function(n,t,r,u,f){var e={continuationToken:r,$top:u,includeSourceChange:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:e,apiVersion:"3.1"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"3.1",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"3.1"})},t.prototype.getDefinition=function(n,t,r,u,f,e){var o={revision:r,minMetricsTime:u,propertyFilters:f&&f.join(","),includeLatestBuilds:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t,definitionId:n},queryParams:o,apiVersion:"3.1"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"3.1"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"3.1",data:n})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"3.1"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"3.1"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.1"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"3.1",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"3.1"})},t}(s);t.BuildHttpClient3_1=w;b=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.artifactsApiVersion=r.badgeApiVersion=r.buildsApiVersion=r.controllersApiVersion=r.logsApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.workitemsApiVersion_5a21f5d2="3.0",r.buildbadgeApiVersion=r.foldersApiVersion="3.0-preview.1",r.changesApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.workitemsApiVersion="3.0-preview.2",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.0"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.0"})},t.prototype.getBuild=function(n,t,r){var u={propertyFilters:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:u,apiVersion:"3.0"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:"3.0"})},t.prototype.getBuildChanges=function(n,t,r,u,f){var e={continuationToken:r,$top:u,includeSourceChange:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:e,apiVersion:"3.0"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"3.0",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"3.0"})},t.prototype.getDefinition=function(n,t,r,u,f,e){var o={revision:r,minMetricsTime:u,propertyFilters:f&&f.join(","),includeLatestBuilds:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t,definitionId:n},queryParams:o,apiVersion:"3.0"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"3.0"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"3.0",data:n})},t.prototype.getDefinitionMetrics=function(n,t,r){var u={minMetricsTime:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d973b939-0ce0-4fec-91d8-da3940fa1827",resource:"metrics",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseType:i.TypeInfo.BuildMetric,responseIsCollection:!0,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:"3.0-preview.1"})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"3.0"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"3.0"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.0"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"3.0",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"3.0"})},t}(o);t.BuildHttpClient3=b;k=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.badgeApiVersion=r.controllersApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2="2.3",r.buildbadgeApiVersion="2.3-preview.1",r.resourceUsageApiVersion="2.3-preview.2",r}return __extends(t,n),t.prototype.createArtifact=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:t},apiVersion:"2.3",data:n})},t.prototype.getArtifact=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getArtifactContentZip=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getArtifacts=function(n,t,i){var r={definitionType:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",responseIsCollection:!0,routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.3"})},t.prototype.deleteBuild=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.3"})},t.prototype.getBuild=function(n,t,r,u){var f={propertyFilters:r,type:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:f,apiVersion:"2.3"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var g={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),type:v,$top:y,continuationToken:p,maxBuildsPerDefinition:w,deletedFilter:b,queryOrder:k,branchName:d};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:g,apiVersion:"2.3"})},t.prototype.queueBuild=function(n,t,r,u,f){var e={ignoreWarnings:r,checkInTicket:u,type:f};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:t},queryParams:e,apiVersion:"2.3",data:n})},t.prototype.updateBuild=function(n,t,r,u){var f={type:u};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:r,buildId:t},queryParams:f,apiVersion:"2.3",data:n})},t.prototype.getBuildChanges=function(n,t,r,u,f,e){var o={continuationToken:r,$top:u,includeSourceChange:f,type:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:o,apiVersion:"2.3"})},t.prototype.getChangesBetweenBuilds=function(n,t,r,u){var f={fromBuildId:t,toBuildId:r,$top:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f10f0ea5-18a1-43ec-a8fb-2042c7be9b43",resource:"changes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"2.3-preview.2"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"2.3",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"2.3"})},t.prototype.getDefinition=function(n,t,r,u,f){var e={revision:r,propertyFilters:u&&u.join(","),type:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,routeValues:{project:t,definitionId:n},queryParams:e,apiVersion:"2.3"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o){var s={name:t,type:r,repositoryId:u,repositoryType:f,queryOrder:e,$top:o};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:s,apiVersion:"2.3"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"2.3",data:n})},t.prototype.getBuildLogJson=function(n,t,i,r,u,f){var e={startLine:r,endLine:u,type:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseIsCollection:!0,routeValues:{project:n,buildId:t,logId:i},queryParams:e,apiVersion:"2.3"})},t.prototype.getBuildLogs=function(n,t,r){var u={type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseType:i.TypeInfo.BuildLog,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.3"})},t.prototype.getBuildLogStream=function(n,t,i,r,u,f){var e={startLine:r,endLine:u,type:f};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:e,apiVersion:"2.3"})},t.prototype.getBuildLogsZip=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"2.3"})},t.prototype.createQueue=function(n){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",apiVersion:"2.3",data:n})},t.prototype.deleteQueue=function(n){var t={id:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",queryParams:t,apiVersion:"2.3"})},t.prototype.getAgentPoolQueue=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",routeValues:{controllerId:n},apiVersion:"2.3"})},t.prototype.getQueues=function(n){var t={name:n};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",responseIsCollection:!0,queryParams:t,apiVersion:"2.3"})},t.prototype.getBuildReport=function(n,t,i,r){var u={type:i,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.3-preview.2"})},t.prototype.getBuildReportHtmlContent=function(n,t,i,r){var u={type:i,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/html",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.3-preview.2"})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"2.3"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"2.3"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.3"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"2.3",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"2.3"})},t.prototype.getBuildWorkItemsRefs=function(n,t,i,r){var u={$top:i,type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.3"})},t.prototype.getBuildWorkItemsRefsFromCommits=function(n,t,i,r,u){var f={$top:r,type:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:t,buildId:i},queryParams:f,apiVersion:"2.3",data:n})},t.prototype.getWorkItemsBetweenBuilds=function(n,t,i,r){var u={fromBuildId:t,toBuildId:i,$top:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"52ba8915-5518-42e3-a4bb-b0182d159e2d",resource:"workitems",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:"2.3-preview.2"})},t}(e);t.BuildHttpClient2_3=k;d=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.badgeApiVersion=r.controllersApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2="2.2",r.buildbadgeApiVersion="2.2-preview.1",r.resourceUsageApiVersion="2.2-preview.2",r}return __extends(t,n),t.prototype.createArtifact=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:t},apiVersion:"2.2",data:n})},t.prototype.getArtifact=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getArtifactContentZip=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getArtifacts=function(n,t,i){var r={definitionType:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",responseIsCollection:!0,routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.2"})},t.prototype.deleteBuild=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.2"})},t.prototype.getBuild=function(n,t,r,u){var f={propertyFilters:r,type:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:f,apiVersion:"2.2"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var g={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),type:v,$top:y,continuationToken:p,maxBuildsPerDefinition:w,deletedFilter:b,queryOrder:k,branchName:d};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:g,apiVersion:"2.2"})},t.prototype.queueBuild=function(n,t,r,u,f){var e={ignoreWarnings:r,checkInTicket:u,type:f};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:t},queryParams:e,apiVersion:"2.2",data:n})},t.prototype.updateBuild=function(n,t,r,u){var f={type:u};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:r,buildId:t},queryParams:f,apiVersion:"2.2",data:n})},t.prototype.getBuildChanges=function(n,t,r,u,f,e){var o={continuationToken:r,$top:u,includeSourceChange:f,type:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:o,apiVersion:"2.2"})},t.prototype.getChangesBetweenBuilds=function(n,t,r,u){var f={fromBuildId:t,toBuildId:r,$top:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f10f0ea5-18a1-43ec-a8fb-2042c7be9b43",resource:"changes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"2.2-preview.2"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"2.2",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"2.2"})},t.prototype.getDefinition=function(n,t,r,u,f){var e={revision:r,propertyFilters:u&&u.join(","),type:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,routeValues:{project:t,definitionId:n},queryParams:e,apiVersion:"2.2"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o){var s={name:t,type:r,repositoryId:u,repositoryType:f,queryOrder:e,$top:o};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:s,apiVersion:"2.2"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"2.2",data:n})},t.prototype.getBuildDeployments=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f275be9a-556a-4ee9-b72f-f9c8370ccaee",resource:"deployments",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},apiVersion:"2.2"})},t.prototype.getBuildLog=function(n,t,i,r,u,f){var e={startLine:r,endLine:u,type:f};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:e,apiVersion:"2.2"})},t.prototype.getBuildLogs=function(n,t,r){var u={type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseType:i.TypeInfo.BuildLog,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.2"})},t.prototype.getBuildLogsZip=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"2.2"})},t.prototype.createQueue=function(n){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",apiVersion:"2.2",data:n})},t.prototype.deleteQueue=function(n){var t={id:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",queryParams:t,apiVersion:"2.2"})},t.prototype.getAgentPoolQueue=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",routeValues:{controllerId:n},apiVersion:"2.2"})},t.prototype.getQueues=function(n){var t={name:n};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",responseIsCollection:!0,queryParams:t,apiVersion:"2.2"})},t.prototype.getBuildReport=function(n,t,i,r){var u={type:i,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.2-preview.2"})},t.prototype.getBuildReportHtmlContent=function(n,t,i,r){var u={type:i,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/html",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.2-preview.2"})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"2.2"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"2.2"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.2"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"2.2",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"2.2"})},t.prototype.getBuildWorkItemsRefs=function(n,t,i,r){var u={$top:i,type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.2"})},t.prototype.getBuildWorkItemsRefsFromCommits=function(n,t,i,r,u){var f={$top:r,type:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:t,buildId:i},queryParams:f,apiVersion:"2.2",data:n})},t.prototype.getWorkItemsBetweenBuilds=function(n,t,i,r){var u={fromBuildId:t,toBuildId:i,$top:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"52ba8915-5518-42e3-a4bb-b0182d159e2d",resource:"workitems",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:"2.2-preview.2"})},t}(e);t.BuildHttpClient2_2=d;g=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.badgeApiVersion=r.controllersApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2="2.1",r.buildbadgeApiVersion="2.1-preview.1",r.resourceUsageApiVersion="2.1-preview.2",r}return __extends(t,n),t.prototype.createArtifact=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:t},apiVersion:"2.1",data:n})},t.prototype.getArtifact=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getArtifactContentZip=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getArtifacts=function(n,t,i){var r={definitionType:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",responseIsCollection:!0,routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.1"})},t.prototype.deleteBuild=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.1"})},t.prototype.getBuild=function(n,t,r,u){var f={propertyFilters:r,type:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:f,apiVersion:"2.1"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var g={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),type:v,$top:y,continuationToken:p,maxBuildsPerDefinition:w,deletedFilter:b,queryOrder:k,branchName:d};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:g,apiVersion:"2.1"})},t.prototype.queueBuild=function(n,t,r,u,f){var e={ignoreWarnings:r,checkInTicket:u,type:f};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:t},queryParams:e,apiVersion:"2.1",data:n})},t.prototype.updateBuild=function(n,t,r,u){var f={type:u};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:r,buildId:t},queryParams:f,apiVersion:"2.1",data:n})},t.prototype.getBuildChanges=function(n,t,r,u,f,e){var o={continuationToken:r,$top:u,includeSourceChange:f,type:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:o,apiVersion:"2.1"})},t.prototype.getChangesBetweenBuilds=function(n,t,r,u){var f={fromBuildId:t,toBuildId:r,$top:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f10f0ea5-18a1-43ec-a8fb-2042c7be9b43",resource:"changes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"2.1-preview.2"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"2.1",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"2.1"})},t.prototype.getDefinition=function(n,t,r,u,f){var e={revision:r,propertyFilters:u&&u.join(","),type:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,routeValues:{project:t,definitionId:n},queryParams:e,apiVersion:"2.1"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o){var s={name:t,type:r,repositoryId:u,repositoryType:f,queryOrder:e,$top:o};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:s,apiVersion:"2.1"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"2.1",data:n})},t.prototype.getBuildDeployments=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f275be9a-556a-4ee9-b72f-f9c8370ccaee",resource:"deployments",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},apiVersion:"2.1"})},t.prototype.getBuildLog=function(n,t,i,r,u,f){var e={startLine:r,endLine:u,type:f};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:e,apiVersion:"2.1"})},t.prototype.getBuildLogs=function(n,t,r){var u={type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseType:i.TypeInfo.BuildLog,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.1"})},t.prototype.getBuildLogsZip=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"2.1"})},t.prototype.createQueue=function(n){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",apiVersion:"2.1",data:n})},t.prototype.deleteQueue=function(n){var t={id:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",queryParams:t,apiVersion:"2.1"})},t.prototype.getAgentPoolQueue=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",routeValues:{controllerId:n},apiVersion:"2.1"})},t.prototype.getQueues=function(n){var t={name:n};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",responseIsCollection:!0,queryParams:t,apiVersion:"2.1"})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"2.1"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"2.1"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.1"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"2.1",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"2.1"})},t.prototype.getBuildWorkItemsRefs=function(n,t,i,r){var u={$top:i,type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.1"})},t.prototype.getBuildWorkItemsRefsFromCommits=function(n,t,i,r,u){var f={$top:r,type:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:t,buildId:i},queryParams:f,apiVersion:"2.1",data:n})},t.prototype.getWorkItemsBetweenBuilds=function(n,t,i,r){var u={fromBuildId:t,toBuildId:i,$top:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"52ba8915-5518-42e3-a4bb-b0182d159e2d",resource:"workitems",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:"2.1-preview.2"})},t}(e);t.BuildHttpClient2_1=g;nt=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.badgeApiVersion=r.controllersApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2="2.0",r.buildbadgeApiVersion="2.0-preview.1",r.resourceUsageApiVersion="2.0-preview.2",r}return __extends(t,n),t.prototype.createArtifact=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:t},apiVersion:"2.0",data:n})},t.prototype.getArtifact=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getArtifactContentZip=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getArtifacts=function(n,t,i){var r={definitionType:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",responseIsCollection:!0,routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.0"})},t.prototype.deleteBuild=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.0"})},t.prototype.getBuild=function(n,t,r,u){var f={propertyFilters:r,type:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:f,apiVersion:"2.0"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var g={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),type:v,$top:y,continuationToken:p,maxBuildsPerDefinition:w,deletedFilter:b,queryOrder:k,branchName:d};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:g,apiVersion:"2.0"})},t.prototype.queueBuild=function(n,t,r,u,f){var e={ignoreWarnings:r,checkInTicket:u,type:f};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:t},queryParams:e,apiVersion:"2.0",data:n})},t.prototype.updateBuild=function(n,t,r,u){var f={type:u};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:r,buildId:t},queryParams:f,apiVersion:"2.0",data:n})},t.prototype.getBuildChanges=function(n,t,r,u,f,e){var o={continuationToken:r,$top:u,includeSourceChange:f,type:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:o,apiVersion:"2.0"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"2.0",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"2.0"})},t.prototype.getDefinition=function(n,t,r,u,f){var e={revision:r,propertyFilters:u&&u.join(","),type:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,routeValues:{project:t,definitionId:n},queryParams:e,apiVersion:"2.0"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o){var s={name:t,type:r,repositoryId:u,repositoryType:f,queryOrder:e,$top:o};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:s,apiVersion:"2.0"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"2.0",data:n})},t.prototype.getBuildDeployments=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f275be9a-556a-4ee9-b72f-f9c8370ccaee",resource:"deployments",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},apiVersion:"2.0"})},t.prototype.getBuildLog=function(n,t,i,r,u,f){var e={startLine:r,endLine:u,type:f};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:e,apiVersion:"2.0"})},t.prototype.getBuildLogs=function(n,t,r){var u={type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseType:i.TypeInfo.BuildLog,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.0"})},t.prototype.getBuildLogsZip=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"2.0"})},t.prototype.createQueue=function(n){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",apiVersion:"2.0",data:n})},t.prototype.deleteQueue=function(n){var t={id:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",queryParams:t,apiVersion:"2.0"})},t.prototype.getAgentPoolQueue=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",routeValues:{controllerId:n},apiVersion:"2.0"})},t.prototype.getQueues=function(n){var t={name:n};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",responseIsCollection:!0,queryParams:t,apiVersion:"2.0"})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"2.0"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"2.0"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.0"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"2.0",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"2.0"})},t.prototype.getBuildWorkItemsRefs=function(n,t,i,r){var u={$top:i,type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.0"})},t.prototype.getBuildWorkItemsRefsFromCommits=function(n,t,i,r,u){var f={$top:r,type:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:t,buildId:i},queryParams:f,apiVersion:"2.0",data:n})},t}(e);t.BuildHttpClient2=nt;it=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(a);t.BuildHttpClient=it;tt={"5.0":a,"4.1":v,"4.0":y,"3.2":p,"3.1":w,"3.0":b,"2.3":k,"2.2":d,"2.1":g,"2.0":nt};t.getClient=rt});

define("Build.Common/Scripts/Generated/TFS.Build2.Common",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.Normal=0;n.VariableMultipliers=1;n.MultipleAgents=2}(i=t.AgentTargetExecutionType||(t.AgentTargetExecutionType={})),function(n){n.FilePath="FilePath";n.SymbolStore="SymbolStore";n.VersionControl="VersionControl";n.Container="Container";n.GitRef="GitRef";n.TfvcLabel="TfvcLabel";n.SymbolRequest="SymbolRequest";n.PipelineArtifact="PipelineArtifact"}(r=t.ArtifactResourceTypes||(t.ArtifactResourceTypes={})),function(n){n.Builds="0cd358e1-9217-4d94-8269-1c1ee6f93dcf";n.LatestBuildLocationId="54481611-01f4-47f3-998f-160da0f0c229";n.Definitions="dbeaf647-6167-421a-bda9-c9327b25e2e6";n.Templates="e884571e-7f92-4d6a-9274-3f5649900835";n.Settings="aa8c1c9c-ef8b-474a-b8c4-785c7b191d0d";n.DefinitionRevisions="7c116775-52e5-453e-8c5d-914d9762d8c4";n.DefinitionMetrics="d973b939-0ce0-4fec-91d8-da3940fa1827";n.Folders="a906531b-d2da-4f55-bda7-f3e676cc50d9";n.Options="591cb5a4-2d46-4f3a-a697-5cd42b6bd332";n.Queues="09f2a4b8-08c9-4991-85c3-d698937568be";n.Artifacts="1db06c96-014e-44e1-ac91-90b2d4b3e984";n.TicketedArtifacts="731b7e7a-0b6c-4912-af75-de04fe4899db";n.TicketedLogs="917890d1-a6b5-432d-832a-6afcf6bb0734";n.BuildChangesBetweenBuilds="f10f0ea5-18a1-43ec-a8fb-2042c7be9b43";n.BuildChanges="54572c7b-bbd3-45d4-80dc-28be08941620";n.Sources="56efdcdc-cf90-4028-9d2f-d41000682202";n.BuildDeployments="f275be9a-556a-4ee9-b72f-f9c8370ccaee";n.BuildReport="45bcaa88-67e1-4042-a035-56d3b4a7d44c";n.BuildWorkItemsBetweenBuilds="52ba8915-5518-42e3-a4bb-b0182d159e2d";n.BuildWorkItems="5a21f5d2-5642-47e4-a0bd-1356e6731bee";n.BuildLogs="35a80daf-7f30-45fc-86e8-6b813d9c90df";n.Tags="d84ac5c6-edc7-43d5-adc9-1b34be5dea09";n.BuildTags="6e6114b2-8161-44c8-8f6c-c5505782427f";n.DefinitionTags="cb894432-134a-4d31-a839-83beceaace4b";n.InputValuesQuery="2182a7f0-b363-4b2d-b89e-ed0a0b721e95";n.SourceProviders="3ce81729-954f-423d-a581-9fea01d25186";n.SourceProviderRepositoriesLocationId="d44d1680-f978-4834-9b93-8c6e132329c9";n.SourceProviderBranchesLocationId="e05d4403-9b81-4244-8763-20fde28d1976";n.SourceProviderWebhooksLocationId="8f20ff82-9498-4812-9f6e-9c01bdc50e99";n.SourceProviderRestoreWebhooksLocationId="793bceb8-9736-4030-bd2f-fb3ce6d6b478";n.SourceProviderFileContentsLocationId="29d12225-b1d9-425f-b668-6c594a981313";n.SourceProviderPathContentsLocationId="7944d6fb-df01-4709-920a-7a189aa34037";n.SourceProviderPullRequestsLocationId="d8763ec7-9ff0-4fb4-b2b2-9d757906ff14";n.SourceProviderRelatedWorkItemsLocationId="caca4f48-db96-4935-9b76-71de7d9d69dc";n.BuildDefinitionBadge="de6a4df8-22cd-44ee-af2d-39f6aa7a4261";n.BuildBadge="21b3b9ce-fad5-4567-9ad0-80679794e003";n.StatusBadgeLocationId="07acfdce-4757-4439-b422-ddd13a2fcc10";n.Controllers="fcac1932-2ee1-437f-9b6f-7f696be858f6";n.Timelines="8baac422-4c6e-4de5-8532-db96d92acffa";n.Usage="3813d06c-9e36-4ea1-aac3-61a485d60e3d";n.Metrics="104ad424-b758-4699-97b7-7e7da427f9c2";n.ProjectMetrics="7433fae7-a6bc-41dc-a6e2-eef9005ce41a";n.BuildProperties="0a6312e9-0627-49b7-8083-7d74a64849c9";n.DefinitionProperties="d9826ad7-2a68-46a9-a6e9-677698777895";n.Attachments="f2192269-89fa-4f94-baf6-8fb128c55159";n.Attachment="af5122d3-3438-485e-a25a-2dbbfde84ee6";n.InformationNodes="9f094d42-b41c-4920-95aa-597581a79821";n.AreaId="5D6898BB-45EC-463F-95F9-54D49C71752E";n.AreaName="build";n.BuildsResource="builds";n.LatestBuildResource="latest";n.DefinitionsResource="definitions";n.TemplatesResource="templates";n.SettingsResource="settings";n.DefinitionRevisionsResource="revisions";n.DefinitionMetricsLocationString="D973B939-0CE0-4FEC-91D8-DA3940FA1827";n.DefinitionMetricsResource="metrics";n.FoldersResource="folders";n.OptionsResource="options";n.QueuesResource="queues";n.ArtifactsResource="artifacts";n.TicketedArtifactsResource="ticketedArtifacts";n.TicketedLogsResource="ticketedLogs";n.BuildChangesLocationId="54572C7B-BBD3-45D4-80DC-28BE08941620";n.BuildChangesResource="changes";n.SourcesLocationId="56EFDCDC-CF90-4028-9D2F-D41000682202";n.SourcesResource="sources";n.BuildDeploymentsResource="deployments";n.BuildReportResource="report";n.BuildWorkItemsLocationId="5A21F5D2-5642-47E4-A0BD-1356E6731BEE";n.BuildWorkItemsResource="workitems";n.BuildLogsResource="logs";n.TagsLocationIdString="D84AC5C6-EDC7-43D5-ADC9-1B34BE5DEA09";n.BuildTagsLocationIdString="6E6114B2-8161-44C8-8F6C-C5505782427F";n.DefinitionTagsLocationIdString="CB894432-134A-4D31-A839-83BECEAACE4B";n.BuildTagsResource="tags";n.InputValuesQueryResource="InputValuesQuery";n.SourceProvidersResource="sourceProviders";n.SourceProvidersLocationIdString="3CE81729-954F-423D-A581-9FEA01D25186";n.SourceProviderRepositoriesResource="repositories";n.SourceProviderRepositoriesLocationIdString="D44D1680-F978-4834-9B93-8C6E132329C9";n.SourceProviderBranchesResource="branches";n.SourceProviderBranchesLocationIdString="E05D4403-9B81-4244-8763-20FDE28D1976";n.SourceProviderWebhooksResource="webhooks";n.SourceProviderWebhooksLocationIdString="8F20FF82-9498-4812-9F6E-9C01BDC50E99";n.SourceProviderRestoreWebhooksLocationIdString="793BCEB8-9736-4030-BD2F-FB3CE6D6B478";n.SourceProviderFileContentsResource="fileContents";n.SourceProviderFileContentsLocationIdString="29D12225-B1D9-425F-B668-6C594A981313";n.SourceProviderPathContentsResource="pathContents";n.SourceProviderPathContentsLocationIdString="7944D6FB-DF01-4709-920A-7A189AA34037";n.SourceProviderPullRequestsResource="pullRequests";n.SourceProviderPullRequestsLocationIdString="D8763EC7-9FF0-4FB4-B2B2-9D757906FF14";n.SourceProviderRelatedWorkItemsResource="relatedWorkItems";n.SourceProviderRelatedWorkItemsLocationIdString="CACA4F48-DB96-4935-9B76-71DE7D9D69DC";n.BuildDefinitionBadgeResource="badge";n.BuildBadgeResource="buildbadge";n.StatusBadgeLocationIdString="07ACFDCE-4757-4439-B422-DDD13A2FCC10";n.StatusBadgeResource="status";n.ControllersLocationString="{FCAC1932-2EE1-437F-9B6F-7F696BE858F6}";n.ControllersResource="Controllers";n.TimelinesResource="Timeline";n.UsageResource="ResourceUsage";n.MetricsResource="Metrics";n.ProjectMetricsLocationString="7433FAE7-A6BC-41DC-A6E2-EEF9005CE41A";n.BuildPropertiesLocationString="0A6312E9-0627-49B7-8083-7D74A64849C9";n.DefinitionPropertiesLocationString="D9826AD7-2A68-46A9-A6E9-677698777895";n.PropertiesResource="properties";n.AttachmentsLocation="F2192269-89FA-4F94-BAF6-8FB128C55159";n.AttachmentLocation="AF5122D3-3438-485E-A25A-2DBBFDE84EE6";n.AttachmentsResource="attachments"}(u=t.Build2ResourceIds||(t.Build2ResourceIds={})),function(n){n.Drop="drop";n.SourceLabel="build.SourceLabel"}(f=t.BuildArtifactConstants||(t.BuildArtifactConstants={})),function(n){n.BuildOptionAdditionalFieldsName="additionalFields"}(e=t.BuildConstants||(t.BuildConstants={})),function(n){n.Area="Build"}(o=t.BuildCustomerIntelligenceInfo||(t.BuildCustomerIntelligenceInfo={})),function(n){n.ArtifactAdded="artifactAdded";n.BuildUpdated="buildUpdated";n.ChangesCalculated="changesCalculated";n.ConsoleLinesReceived="consoleLinesReceived";n.TagsAdded="tagsAdded";n.TimelineRecordsUpdated="timelineRecordsUpdated"}(s=t.BuildEvents||(t.BuildEvents={})),function(n){n.Build=1;n.Cleanup=2}(h=t.BuildOrchestrationType||(t.BuildOrchestrationType={})),function(n){n.ViewBuilds=1;n.EditBuildQuality=2;n.RetainIndefinitely=4;n.DeleteBuilds=8;n.ManageBuildQualities=16;n.DestroyBuilds=32;n.UpdateBuildInformation=64;n.QueueBuilds=128;n.ManageBuildQueue=256;n.StopBuilds=512;n.ViewBuildDefinition=1024;n.EditBuildDefinition=2048;n.DeleteBuildDefinition=4096;n.OverrideBuildCheckInValidation=8192;n.AdministerBuildPermissions=16384;n.AllPermissions=32767}(c=t.BuildPermissions||(t.BuildPermissions={})),function(n){n.BuildNamespaceId="33344d9c-fc72-4d6f-aba5-fa317101a7e9"}(l=t.BuildSecurity||(t.BuildSecurity={})),function(n){n.All="All";n.Build="Build";n.Utility="Utility";n.Test="Test";n.Package="Package";n.Deploy="Deploy";n.Tool="Tool";n.Custom="Custom";n.AllCategories=["All","Build","Utility","Test","Package","Deploy","Tool","Custom"]}(a=t.BuildTemplateCategories||(t.BuildTemplateCategories={})),function(n){n.CollectionId="system.collectionId";n.DefinitionId="system.definitionId";n.HostType="system.hosttype";n.IsFork="system.pullRequest.isFork";n.PullRequestId="system.pullRequest.pullRequestId";n.PullRequestNumber="system.pullRequest.pullRequestNumber";n.PullRequestSourceBranch="system.pullRequest.sourceBranch";n.PullRequestTargetBranch="system.pullRequest.targetBranch";n.PullRequestSourceRepositoryUri="system.pullRequest.sourceRepositoryUri";n.PullRequestSourceCommitId="system.pullRequest.sourceCommitId";n.PullRequestMergedAt="system.pullRequest.mergedAt";n.System="system";n.TeamProject="system.teamProject";n.TeamProjectId="system.teamProjectId";n.BuildId="build.buildId";n.BuildNumber="build.buildNumber";n.BuildUri="build.buildUri";n.ContainerId="build.containerId";n.DefinitionName="build.definitionName";n.DefinitionVersion="build.definitionVersion";n.JobAuthorizeAs="Job.AuthorizeAs";n.JobAuthorizeAsId="Job.AuthorizeAsId";n.QueuedBy="build.queuedBy";n.QueuedById="build.queuedById";n.Reason="build.reason";n.RepoUri="build.repository.uri";n.RequestedFor="build.requestedFor";n.RequestedForEmail="build.requestedForEmail";n.RequestedForId="build.requestedForId";n.SourceBranch="build.sourceBranch";n.SourceBranchName="build.sourceBranchName";n.SourceTfvcShelveset="build.sourceTfvcShelveset";n.SourceVersion="build.sourceVersion";n.SourceVersionAuthor="build.sourceVersionAuthor";n.SourceVersionMessage="build.sourceVersionMessage";n.SyncSources="build.syncSources"}(v=t.BuildVariables||(t.BuildVariables={})),function(n){n.SuccessfulBuilds="SuccessfulBuilds";n.FailedBuilds="FailedBuilds";n.PartiallySuccessfulBuilds="PartiallySuccessfulBuilds";n.CanceledBuilds="CanceledBuilds";n.TotalBuilds="TotalBuilds";n.CurrentBuildsInQueue="CurrentBuildsInQueue";n.CurrentBuildsInProgress="CurrentBuildsInProgress"}(y=t.DefinitionMetrics||(t.DefinitionMetrics={})),function(n){n.BuildDefinitionFavoriteId="Microsoft.TeamFoundation.Build.Definition"}(p=t.Favorites||(t.Favorites={})),function(n){n.Self="self";n.Web="web";n.Editor="editor";n.Badge="badge";n.Timeline="timeline";n.Details="details";n.SourceVersionDisplayUri="sourceVersionDisplayUri"}(w=t.Links||(t.Links={})),function(n){n.Hourly="Hourly";n.Daily="Daily"}(b=t.MetricAggregationTypes||(t.MetricAggregationTypes={})),function(n){n.Agent=1;n.Server=2}(k=t.PhaseTargetType||(t.PhaseTargetType={})),function(n){n.Designer=1;n.Yaml=2}(d=t.ProcessType||(t.ProcessType={})),function(n){n.AcceptUntrustedCertificates="acceptUntrustedCerts";n.ApiUrl="apiUrl";n.BranchesUrl="branchesUrl";n.CheckoutNestedSubmodules="checkoutNestedSubmodules";n.CleanOptions="cleanOptions";n.CloneUrl="cloneUrl";n.ConnectedServiceId="connectedServiceId";n.FetchDepth="fetchDepth";n.Fullname="fullName";n.GitLfsSupport="gitLfsSupport";n.ManageUrl="manageUrl";n.LabelSources="labelSources";n.LabelSourcesFormat="labelSourcesFormat";n.Password="password";n.ReportBuildStatus="reportBuildStatus";n.SkipSyncSource="skipSyncSource";n.SvnMapping="svnMapping";n.TfvcMapping="tfvcMapping";n.TokenType="tokenType";n.Username="username";n.IsPrivate="isPrivate";n.DefaultBranch="defaultBranch";n.RefsUrl="refsUrl"}(g=t.RepositoryProperties||(t.RepositoryProperties={})),function(n){n.TfsVersionControl="TfsVersionControl";n.TfsGit="TfsGit";n.Git="Git";n.GitHub="GitHub";n.GitHubEnterprise="GitHubEnterprise";n.Bitbucket="Bitbucket";n.Svn="Svn"}(nt=t.RepositoryTypes||(t.RepositoryTypes={})),function(n){n.Normal=0;n.VariableMultipliers=1}(tt=t.ServerTargetExecutionType||(t.ServerTargetExecutionType={})),function(n){n.Definition=1;n.Process=2}(it=t.SettingsSourceType||(t.SettingsSourceType={}))});

define("Build.Common/Scripts/Navigation",["require","exports"],function(n,t){var i,r,u;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.BuildId="buildId"}(i=t.BuildStateProperties||(t.BuildStateProperties={})),function(n){n.Context="context";n.CloneId="cloneId";n.DefinitionId="definitionId";n.Path="path"}(r=t.DefinitionStateProperties||(t.DefinitionStateProperties={})),function(n){n.Action="_a"}(u=t.RawStateProperties||(t.RawStateProperties={}))});

define("TFS/Build/ExtensionContracts",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.BuildResultsViewTabIds={Summary:"summary",Console:"console",Logs:"details",Timeline:"timeline",Artifacts:"artifacts",XamlLog:"xamllog",XamlDiagnostics:"xamldiagnostics"};t.BuildResultsSummaryTabSectionIds={BuildDetails:"BuildDetails",BuildIssues:"BuildIssues",AssociatedChangeset:"AssociatedChangeset",DeploymentInformation:"DeploymentInformation",BuildTags:"BuildTags",TestSummary:"TestSummary",CodeCoverageSummary:"CodeCoverageSummary",AssociatedWorkItem:"AssociatedWorkItem",DiagnosticLogs:"DiagnosticLogs"}});

define("Build.Common/Scripts/Linking",["require","exports","Presentation/Scripts/TFS/TFS.Host.TfsContext","Build.Common/Scripts/Navigation","TFS/Build/ExtensionContracts","VSS/FeatureAvailability/Services","VSS/Navigation/HubsService","VSS/Service","VSS/Utils/Url"],function(n,t,i,r,u,f,e,o,s){function a(n){var t={};return Object.keys(n||{}).forEach(function(i){t[i]=n[i]}),t}var h,v,p,y,w,b,k,d,c,l,g;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.Controller="build";n.DefaultAction="index";n.DetailAction="detail";n.DesignerAction="definitionEditor"}(h=t.Mvc||(t.Mvc={})),function(n){n.Mine="mine";n.All="allDefinitions";n.All2="allDefinitions2";n.AllBuilds="allBuilds";n.Queued="queued";n.Xaml="xaml"}(v=t.DefinitionsActions||(t.DefinitionsActions={})),function(n){n.Summary="summary";n.History="history";n.Deleted="deleted"}(p=t.DefinitionActions||(t.DefinitionActions={})),function(n){n.General="general";n.SimpleProcess="simple-process";n.Triggers="triggers";n.Repositories="repositories";n.Variables="variables";n.Settings="settings";n.History="history";n.Retention="retention"}(y=t.DesignerActions||(t.DesignerActions={})),function(n){n.QueuedBuilds="queued";n.CompletedBuilds="completed";n.DeletedBuilds="deleted"}(w=t.ExplorerActions||(t.ExplorerActions={})),function(n){n.Artifacts=u.BuildResultsViewTabIds.Artifacts;n.Console=u.BuildResultsViewTabIds.Console;n.Logs=u.BuildResultsViewTabIds.Logs;n.Summary=u.BuildResultsViewTabIds.Summary;n.Timeline=u.BuildResultsViewTabIds.Timeline;n.Details="details";n.Diagnostics="diagnostics";n.Drop="drop"}(b=t.BuildActions||(t.BuildActions={})),function(n){n.Log=u.BuildResultsViewTabIds.XamlLog;n.Diagnostics=u.BuildResultsViewTabIds.XamlDiagnostics}(k=t.XamlBuildActions||(t.XamlBuildActions={})),function(n){n.QueueNewBuild="queuebuild";n.NewDefinition="new"}(d=t.UserActions||(t.UserActions={})),function(n){n.GettingStarted="build-definition-getting-started";n.EditBuildDefinition="edit-build-definition";n.CloneBuildDefinition="clone-build-definition";n.ContributionId="ms.vss-ciworkflow.build-ci-hub"}(c=t.EditorActions||(t.EditorActions={})),function(n){n.Path="path";n.Source="source";n.Id="id"}(l=t.EditorParameter||(t.EditorParameter={})),function(n){function k(n){var t={};return t[r.RawStateProperties.Action]=v.All,t[r.DefinitionStateProperties.Path]=n,i.TfsContext.getDefault().getActionUrl(h.DefaultAction,h.Controller,t)}function d(n,t,u){return u=a(u),u[r.BuildStateProperties.BuildId]=n,u[r.RawStateProperties.Action]=t||p.Summary,i.TfsContext.getDefault().getActionUrl("","build/results",u)}function g(n,t,u){u=a(u);u[r.DefinitionStateProperties.DefinitionId]=n;var e=b.Summary;return f.FeatureAvailabilityService.isFeatureEnabled("WebAccess.Build.Definitions",!1)||(e=w.CompletedBuilds),u[r.RawStateProperties.Action]=t||e,i.TfsContext.getDefault().getActionUrl(h.DefaultAction,h.Controller,u)}function nt(n,t,u){return u=a(u),u[r.DefinitionStateProperties.CloneId]||(u[r.DefinitionStateProperties.DefinitionId]=n),u[r.RawStateProperties.Action]=t||y.SimpleProcess,i.TfsContext.getDefault().getActionUrl(h.DesignerAction,h.Controller,u)}function tt(){var n={};return n[r.RawStateProperties.Action]=v.Mine,i.TfsContext.getDefault().getActionUrl(h.DefaultAction,h.Controller,n)}function it(n,t){return t=a(t),t[r.RawStateProperties.Action]=n||y.SimpleProcess,i.TfsContext.getDefault().getActionUrl(h.DesignerAction,h.Controller,t)}function rt(n){var t=i.TfsContext.getDefault();return t.getActionUrl(null,"AgentQueue",{project:t.navigation.project,area:"admin",queueId:n})}function ut(n,t,r){var f=i.TfsContext.getDefault(),u={project:null,area:"admin",poolId:n,_a:t};return r&&r.agentId&&$.extend(u,{agentId:r.agentId}),f.getActionUrl(null,"AgentPool",u)}function et(n,i){var r=t(c.GettingStarted);return r?(n&&r.addQueryParam(l.Path,n),i&&r.addQueryParam(l.Source,i),r.absoluteUri):null}function ot(n){var i=t(c.EditBuildDefinition);return i?(n&&i.addQueryParam(l.Id,n.toString()),i.absoluteUri):null}function st(n){var i=t(c.CloneBuildDefinition);return i?(n&&i.addQueryParam(l.Id,n.toString()),i.absoluteUri):null}function t(n){var f=o.getLocalService(e.HubsService),u=f.getHubById(c.ContributionId),t;return u?(t=new s.Uri(i.TfsContext.getDefault().getHostUrl()),t.path=s.Uri.parse(u.uri).path,n&&t.addQueryParam(r.RawStateProperties.Action,n),t):null}var ft,u;n.getAllDefinitionsLink=k;n.getBuildDetailLink=d;n.getDefinitionLink=g;n.getDefinitionEditorLink=nt;n.getMyDefinitionsLink=tt;n.getNewDefinitionLink=it;n.getQueueLink=rt;n.getPoolLink=ut,function(n){n.Agents="agents";n.Roles="roles"}(ft=n.PoolPageAction||(n.PoolPageAction={}));u=function(){function n(){}return n}();n.PoolPageConfiguration=u;n.getGettingStartedUrl=et;n.getEditDefinitionUrl=ot;n.getCloneDefinitionUrl=st}(g=t.BuildLinks||(t.BuildLinks={}));t.copy=a});

define("VersionControl/Scripts/Utils/Build",["require","exports","VSS/Artifacts/Constants","Build.Common/Scripts/Generated/TFS.Build2.Common","Build.Common/Scripts/Linking","VersionControl/Scripts/RepositoryContext","VSS/Artifacts/Services","VSS/Utils/Number"],function(n,t,i,r,u,f,e,o){function h(n){switch(n){case f.RepositoryType.Git:return r.RepositoryTypes.TfsGit;case f.RepositoryType.GitHub:return r.RepositoryTypes.GitHub;case f.RepositoryType.Tfvc:return r.RepositoryTypes.TfsVersionControl;default:return undefined}}function c(n,t){var i,r,u;if(!n||!t)return[];for(i=0,r=n;i<r.length;i++)u=r[i],u.targetUrl=s(u.targetUrl,t);return n}function s(n){if(n&&l(n)){var t=e.LinkingUtilities.decodeUri(n),i=o.parseInvariant(t.id);return u.BuildLinks.getBuildDetailLink(i)}return n}function l(n){n=n.trim().toUpperCase();var t=n.split("/",6),r=t[0],u=t[3],f=t[4],e=t[5];return r==="VSTFS:"&&u===i.ToolNames.TeamBuild.toUpperCase()&&f===i.ArtifactTypeNames.Build.toUpperCase()&&!!e}Object.defineProperty(t,"__esModule",{value:!0});t.getStringRepoType=h;t.convertArtifactUriToPublicUrl=c;t.convertArtifactUriToPublicBuildUrl=s});

define("VersionControl/Scenarios/Explorer/Sources/StatusesSource",["require","exports","q","VSS/VSS","VSS/Common/Contracts/Platform","VSS/Navigation/HubsService","VSS/Service","VSS/Contributions/Services","VSS/Utils/Url","VSS/Utils/String","VSS/Locations","VSS/WebApi/Constants","VSS/User/Services","VersionControl/Scripts/CodeHubContributionIds","TFS/Build/RestClient","TFS/Build/Contracts","Presentation/Scripts/TFS/TFS.Using","VersionControl/Scripts/TFS.VersionControl.VersionSpecs","VersionControl/Scripts/RepositoryContext","VersionControl/Scripts/Utils/Build"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){Object.defineProperty(t,"__esModule",{value:!0});var g="0000000D-0000-8888-8000-000000000000",nt=function(){function n(n){var t=this;this.repositoryContext=n;this.hubService=new f.HubsService;this.getBuildDefinitions=function(n){var i=t.tfsConnection.getHttpClient(y.BuildHttpClient),r=d.getStringRepoType(t.repositoryContext.getRepositoryType());return i.getDefinitions(n,undefined,t.repositoryContext.getRepositoryId(),r,p.DefinitionQueryOrder.LastModifiedDescending)};this.getHasReleaseDefinitions=function(n,r){return a.getService().hasClaim(a.UserClaims.Member)?t._hasRMServiceProvisioned().then(function(u){return u?t._loadReleaseManagementDataProviders().then(function(){var u=e.getService(o.WebPageDataService).getPageData("ms.vss-releaseManagement-web.release-definitions-exists-data-provider");return u?!u||u.provisioned&&u.exists?t._loadReleaseManagemementModulesAndFetchDefinitions(n,r):i.resolve(!1):i.resolve(!0)},function(){return!0}):i.resolve(!1)},function(){return!0}):i.resolve(!0)};this.getBuildStatusForBranch=function(n,i){return t.getGitHttpClient().then(function(r){var u=t.getBranchName(n,i);return r.getRefs(t.repositoryContext.getRepositoryId(),n,u.replace("refs/",""),!1,!0).then(function(n){return n&&n.filter(function(n){return n.name===u})}).then(function(n){return t.getFirstOrUndefined(n)}).then(function(n){return n?n.statuses:[]})})};this.convertArtifactUriToPublicUrl=function(n){return d.convertArtifactUriToPublicUrl(n,t.repositoryContext)};this.tfsConnection=new e.VssConnection(n.getTfsContext().contextData);this.isHosted=n.getTfsContext().isHosted}return n.prototype.isNewBuildAvailable=function(){return Boolean(this.hubService.getHubById(v.CodeHubContributionIds.newBuildEditorContributionId))},n.prototype.fetchCreateReleaseDefinitionUrl=function(){return Promise.resolve(this._getLinkToNewReleaseDefinitionEditor())},n.prototype.getGitHttpClient=function(){var n=this;return w.usingWithPromise("TFS/VersionControl/GitRestClient").then(function(t){return n.tfsConnection.getHttpClient(t.GitHttpClient)})},n.prototype.openCreateBuildDefinitionWindow=function(){var n=this.repositoryContext?this.repositoryContext.getRepository():null,i=n?n.name:null,r=n?n.id:null,u=n?n.defaultBranch:null,f=this.repositoryContext?this.repositoryContext.getRepositoryType():null,e=this._getLinkToNewBuildEditor(i,r,u,f),t=window.open();t.opener=null;t.location.href=e},n.prototype._getLinkToNewReleaseDefinitionEditor=function(){var t=this._getUrlForHubContribution(v.CodeHubContributionIds.newReleaseDefinitionEditorContributionId),n;if(t)return n=s.Uri.parse(t),n.addQueryParam("_a","action-create-definition"),n.addQueryParam("source","code"),n.addQueryParam("definitionId","0"),n.absoluteUri},n.prototype._getLinkToNewBuildEditor=function(n,t,i,r){var f=this._getUrlForHubContribution(v.CodeHubContributionIds.newBuildEditorContributionId),u;if(f)return u=s.Uri.parse(f),u.addQueryParam("_a","build-definition-getting-started"),u.addQueryParam("source","code"),n&&u.addQueryParam("repository",n),t&&u.addQueryParam("repositoryId",t),i&&u.addQueryParam("branchName",i),r&&u.addQueryParam("repositoryType",d.getStringRepoType(r)),u.absoluteUri},n.prototype._getUrlForHubContribution=function(n){var t=this.hubService.getHubById(n);return t?t.uri:null},n.prototype.getBranchName=function(n,t){if(this.isGit()){var i=b.VersionSpec.parse(t);return i.toFullName()}return"$/"+n},n.prototype.isGit=function(){return this.repositoryContext.getRepositoryType()===k.RepositoryType.Git},n.prototype.getFirstOrUndefined=function(n){return n&&n.length&&n[0]},n.prototype._loadReleaseManagementDataProviders=function(){return e.getService(o.ExtensionService).getContributions(["ms.vss-releaseManagement-web.release-service-data-external","ms.vss-releaseManagement-web.release-definitions-exists-data-provider"],!0,!1).then(function(){return!0},function(){})},n.prototype._loadReleaseManagemementModulesAndFetchDefinitions=function(n,t){var u=this,f=i.defer();return r.using(["ReleaseManagement/Core/Contracts","ReleaseManagement/Core/Constants","ReleaseManagement/Core/RestClient"],function(r,e,o){var s=u.tfsConnection.getHttpClient(o.ReleaseHttpClient),h=u._getHasReleaseDefintionsWithBuildArtifacts(n,t,s,r,e),c=u._getHasReleaseDefintionsWithGitArtifacts(n,u.repositoryContext.getRepositoryId(),s,r,e);i.spread([h,c],function(n,t){f.resolve(n||t)},function(n){f.reject(n)})},function(n){return f.reject(n)}),f.promise},n.prototype._getHasReleaseDefintionsWithBuildArtifacts=function(n,t,i,r,u){return i.getReleaseDefinitions(n,null,r.ReleaseDefinitionExpands.None,u.ArtifactTypes.BuildArtifactType,t.map(function(n){return n.toString(10)}).join(","),1).then(function(n){return!!(n&&n.length>0)})},n.prototype._getHasReleaseDefintionsWithGitArtifacts=function(n,t,i,r,u){return i.getReleaseDefinitions(n,null,r.ReleaseDefinitionExpands.None,u.ArtifactTypes.GitArtifactType,h.format("{0}:{1}",n,t),1).then(function(n){return!!(n&&n.length>0)})},n.prototype._hasRMServiceProvisioned=function(){var f=this,n=i.defer(),t;return this.isHosted?(t=["VSS/Locations/Contracts","VSS/Locations/RestClient","VSS/Authentication/Contracts","VSS/Authentication/RestClient","VSS/Authentication/Services"],r.using(t,function(t,r,e,o,s){var y=!1,w=c.getCachedServiceLocation(l.ServiceInstanceTypes.SPS,u.ContextHostType.ProjectCollection),a=new r.LocationsHttpClient3(w),b=f.tfsConnection.getHttpClient(o.AuthenticationHttpClient),k={appId:h.EmptyGuidString,force:!1,name:h.EmptyGuidString,tokenType:e.DelegatedAppTokenType.Session,namedTokenId:null,validTo:null,token:null},v=i.defer(),d=v.promise.then(function(n){a.authTokenManager=new s.BearerAuthTokenManager(n)}),p;b.createSessionToken(k).then(function(n){v.resolve(n.token)},function(n){v.reject(n)});a._setInitializationPromise(d);p=a.getServiceDefinitions("LocationService2");p.then(function(n){y=!!n&&n.length>0&&n.some(function(n){return h.equals(n.identifier,g,!0)&&(n.status==null||n.status===t.ServiceStatus.Active)})}).fin(function(){n.resolve(y)})},function(t){return n.reject(t)})):n.resolve(!0),n.promise},n}();t.StatusesSource=nt});

define("VersionControl/Scenarios/Explorer/Sources/TelemetrySpy",["require","exports","VersionControl/Scripts/Generated/TFS.VersionControl.Legacy.Contracts"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(n,t){this.telemetryWriter=n;this.isTabViewed={};this.registerActionsHubHandlers(t);this.registerCommandHandlers(t);this.registerErrorHandlers(t)}return n.prototype.registerActionsHubHandlers=function(n){var t=this;n.currentRepositoryChanged.addListener(this.telemetryWriter.initialScenario.notifyInitialized);n.itemChanged.addListener(function(n){return t.isPageViewed&&n.hasChangedVersion?t.publishVersionChanged(n.tab,n.uiSource):t.publishItemChanged(n.tab,n.uiSource)});n.editingFileDiscarded.addListener(function(n){return n.navigateVersionSpec?t.publishVersionChanged(n.coercedTab,n.uiSource):t.publishItemChanged(n.coercedTab,n.uiSource)});n.tabChanged.addListener(function(n){return t.publishTabChanged(n.tab,"explorer-tabs")});n.pathEditingStarted.addListener(function(){return t.publish("pathEditingStarted")});n.itemRetrieved.addListener(function(n){t.updateTab(n.coercedTab);t.telemetryWriter.initialScenario.notifyItemRetrieved();n.notFoundError&&t.publishNotFoundError({isMitigated:!0})});n.folderLatestChangesRetrieved.addListener(this.telemetryWriter.initialScenario.notifyFolderLatestChangesRetrieved);n.commitDetailsRetrieved.addListener(this.telemetryWriter.initialScenario.notifyCommitDetailsRetrieved);n.fileContentLoaded.addListener(this.telemetryWriter.initialScenario.notifyContentRendered)},n.prototype.registerCommandHandlers=function(n){var t=this;n.newFileAsked.addListener(function(n){return t.publish("newFileAsked",{uiSource:n.uiSource})});n.editFileStarted.addListener(function(n){return t.publish("editFileStarted",{uiSource:n.uiSource})});n.editingFileDiscarded.addListener(function(n){return t.publish("editingFileDiscarded",{uiSource:n.uiSource})});n.commitPrompted.addListener(function(n){return t.publish("commitPrompted",{changeType:i.VersionControlChangeType[n.changeType],uiSource:n.uiSource})});n.commitSaved.addListener(function(n){t.updateTab(n.coercedTab);t.publish("commitSaved",{changeType:i.VersionControlChangeType[n.changeType],newBranch:n.newBranchVersionSpec&&n.newBranchVersionSpec.toDisplayText(),hasLinkedWorkitems:n.hasLinkedWorkitems,isCommentDefault:n.isCommentDefault,isFolder:n.isFolder})});n.commitDialogDismissed.addListener(function(n){return t.publish("commitDialogDismissed",{changeType:i.VersionControlChangeType[n.changeType]})});n.goToPreviousDiffRequested.addListener(function(){return t.publish("goToPreviousDiffRequested")});n.goToNextDiffRequested.addListener(function(){return t.publish("goToNextDiffRequested")});n.diffInlineToggled.addListener(function(){return t.publish("diffInlineToggled")});n.fullScreenChanged.addListener(function(n){return t.publish("fullScreenChanged",{isFullScreen:n})})},n.prototype.registerErrorHandlers=function(n){var t=this;n.itemRetrievalFailed.addListener(function(n){t.telemetryWriter.initialScenario.notifyContentRendered();n.notFoundError?t.publishNotFoundError({}):n.resumableError&&t.publishNotFoundError({isResumable:!0})});n.commitFailed.addListener(function(){return t.publish("commitFailed")});n.pathSearchFailed.addListener(function(){return t.publish("pathSearchFailed")});n.historyItemsLoadErrorRaised.addListener(function(){return t.publish("historyItemsLoadErrorRaised")})},n.prototype.publishTabChanged=function(n,t){this.updateTab(n);this.publish("tabChanged",{isTabFirstView:!this.isTabViewed[this.currentTab],uiSource:t});this.isTabViewed[this.currentTab]=!0},n.prototype.publishItemChanged=function(n,t){this.updateTab(n);this.publish("itemChanged",{isPageFirstView:!this.isPageViewed,uiSource:t});this.isPageViewed=!0;this.isTabViewed[this.currentTab]=!0},n.prototype.publishVersionChanged=function(n,t){this.updateTab(n);this.publish("versionChanged",{uiSource:t})},n.prototype.updateTab=function(n){n&&(this.currentTab=n)},n.prototype.publishNotFoundError=function(n){this.telemetryWriter.publish("notFoundError",n)},n.prototype.publish=function(n,t){t===void 0&&(t={});this.telemetryWriter.publish(n,__assign({tab:this.currentTab},t))},n}();t.TelemetrySpy=r});

define("VersionControl/Scenarios/Explorer/Sources/TelemetryWriter",["require","exports","VSS/Performance","VSS/Telemetry/Services","VersionControl/Scripts/CustomerIntelligenceConstants","VersionControl/Scripts/GitItemFromJsonIsland","VersionControl/Scripts/RepositoryContext"],function(n,t,i,r,u,f,e){function c(n,t,i){i===void 0&&(i={});var f=t.getTfsContext().contextData.project;return new r.TelemetryEventData(u.VERSION_CONTROL_AREA,h.viewName+"."+n,__assign({repositoryType:e.RepositoryType[t.getRepositoryType()],repositoryId:t.getRepositoryId(),projectId:f?f.id:"(collection-level)"},i))}var s,h,l,o;Object.defineProperty(t,"__esModule",{value:!0});s=function(){function n(n,t){t===void 0&&(t=r.publishEvent);var i=this;this.repositoryContext=n;this.publishEventFunction=t;this.publish=function(n,t){t===void 0&&(t={});i.publishEventFunction(c(n,i.repositoryContext,t))};this.initialScenario=new o(n.getRepositoryType())}return n}();t.TelemetryWriter=s,function(n){n.viewName="ExplorerView"}(h=t.Constants||(t.Constants={}));t.createExplorerEventData=c;l=!0;o=function(){function n(n){var t=this;this.repositoryType=n;this.performanceScenario=i.getScenarioManager().startScenarioFromNavigation(u.VERSION_CONTROL_AREA,"NewExplorerViewPerformance",l);this.isRecordedLatestChanges=!1;this.notifyInitialized=function(){t.performanceScenario.isActive()&&t.performanceScenario.addSplitTiming("initialized")};this.notifyItemRetrieved=function(){t.performanceScenario.isActive()&&t.performanceScenario.addSplitTiming("itemRetrieved")};this.notifyFolderLatestChangesRetrieved=function(){t.isRecordedLatestChanges||t.performanceScenario.addSplitTiming("folderLatestChangesRetrieved")};this.notifyCommitDetailsRetrieved=function(){t.isRecordedLatestChanges||(t.performanceScenario.addSplitTiming("commitDetailsRetrieved"),t.isRecordedLatestChanges=!0)};this.notifyTreeRendered=function(n){t.performanceScenario.isActive()&&n>0&&t.performanceScenario.addSplitTiming("treeRendered")};this.notifyContentRendered=function(){t.performanceScenario.isActive()&&(t.performanceScenario.addSplitTiming("contentRendered"),t.performanceScenario.end())};this.performanceScenario.addSplitTiming("startedInitialization");n===e.RepositoryType.Git&&this.performanceScenario.addData({numberOfSeededGitItems:f.GitItemFromJsonIsland.seededItemCount})}return n}();t.TTIScenario=o});

define("VersionControl/Scenarios/Explorer/Stores/AddNewFilePromptStore",["require","exports","VSS/Flux/Store","VSS/Utils/String","VersionControl/Scripts/VersionControlPath"],function(n,t,i,r,u){function f(n,t){return n.map(function(n){var i=n.serverItem.indexOf(u.pathSeparator,t.length+1);return i<0?n.serverItem:n.serverItem.substring(0,i)})}Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={isVisible:!1},t.initialize=function(n){t.state.isGit=n;t.emitChanged()},t.prompt=function(n){t.state.isVisible=!0;t.state.folderPath=n.folderPath;t.state.newSubfolder="";t.state.fileUsedAsFolder="";t.state.existingPaths=f(n.childItems,t.getCombinedFolderPath());t.state.isLoadingChildItems=n.isLoadingChildItems;t.state.isCreatingFolder=n.isCreatingFolder;t.emitChanged()},t.hide=function(){t.state.isVisible=!1;t.emitChanged()},t.changeTargetFolder=function(n){t.state.newSubfolder=n.newSubfolder;t.state.fileUsedAsFolder=n.fileUsedAsFolder;t.state.existingPaths=f(n.childItems,t.getCombinedFolderPath());t.state.isLoadingChildItems=n.isLoadingChildItems;t.emitChanged()},t.updateChildren=function(n){var e,u,o,i;if(t.state.isVisible)for(e=t.getCombinedFolderPath(),u=0,o=n;u<o.length;u++)if(i=o[u],i&&r.localeIgnoreCaseComparer(i.serverItem,e)===0){i.isFolder||(t.state.fileUsedAsFolder=i.serverItem);i.childItems?t.state.existingPaths=f(i.childItems,e):t.state.isLoadingChildItems=!0;t.emitChanged();return}},t}return __extends(t,n),t.prototype.getCombinedFolderPath=function(){return u.combinePaths(this.state.folderPath,this.state.newSubfolder)},t}(i.Store);t.AddNewFilePromptStore=e});

define("VersionControl/Scenarios/Explorer/Stores/CompareStore",["require","exports","VSS/Flux/Store"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={isDiffInline:!1,diffLines:[],currentDiffIndex:0},t.update=function(n){n&&(t.state.mpath=n.mpath||"",t.state.mversion=n.mversion||"",t.state.opath=n.opath||"",t.state.oversion=n.oversion||"",t.emitChanged())},t.toggleDiffInline=function(){t.state.isDiffInline=!t.state.isDiffInline;t.emitChanged()},t.loadDiffLines=function(n){t.state.diffLines=n;t.state.currentDiffIndex=0;t.refreshCanGo();t.emitChanged()},t.goToPreviousDiff=function(){t.state.canGoToPreviousDiff&&(t.state.currentDiffIndex--,t.refreshCanGo(),t.emitChanged())},t.goToNextDiff=function(){t.state.canGoToNextDiff&&(t.state.currentDiffIndex++,t.refreshCanGo(),t.emitChanged())},t}return __extends(t,n),t.prototype.refreshCanGo=function(){this.state.canGoToPreviousDiff=this.state.currentDiffIndex>0;this.state.canGoToNextDiff=this.state.currentDiffIndex<this.state.diffLines.length-1},t}(i.Store);t.CompareStore=r});

define("VersionControl/Scenarios/Explorer/Stores/EditDisabledAlertStore",["require","exports","VSS/Flux/Store"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={isAlertShowing:!1},t.prompt=function(n){t.state.isAlertShowing=!0;t.state.repositoryName=n.repositoryName;t.emitChanged()},t.dismiss=function(){t.state.isAlertShowing=!1;t.state.repositoryName=undefined;t.emitChanged()},t}return __extends(t,n),t}(i.Store);t.EditDisabledAlertStore=r});

define("VersionControl/Scenarios/Shared/Permissions/PermissionsStore",["require","exports","OfficeFabric/Utilities","VSS/Flux/Store"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.onPermissionsUpdated=function(n){this._rawPermissions=n;this.updatePermissions();this.emitChanged()},t.prototype.getPermissions=function(){return this._permissions||{}},t.prototype.arePermissionsLoading=function(){return!this._rawPermissions},t.prototype.updatePermissions=function(){this._permissions=this.evaluatePermissions(this._rawPermissions);this._loading=this.arePermissionsLoading()},t.prototype.evaluatePermissions=function(n){return n},__decorate([i.autobind],t.prototype,"onPermissionsUpdated",null),t}(r.RemoteStore);t.PermissionsStore=u});

define("VersionControl/Scenarios/Explorer/Stores/ExplorerPermissionsStore",["require","exports","VersionControl/Scenarios/Shared/Permissions/GitPermissionsSource","VersionControl/Scenarios/Shared/Permissions/PermissionsStore","VersionControl/Scripts/GitRefUtility","VersionControl/Scripts/TFS.VersionControl.VersionSpecs"],function(n,t,i,r,u,f){function e(){return{createBranch:!0,createOrModifyFiles:!0,createPullRequest:!0,setUpBuild:!0,viewMyBranches:!0,isLoading:!1}}Object.defineProperty(t,"__esModule",{value:!0});t.getTfvcExplorerPermissions=e;var o=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.setVersion=function(n){var i=n.versionSpec;t.currentBranchRefName=i instanceof f.GitBranchVersionSpec?u.getFullRefNameFromBranch(i.branchName):undefined;t.emitChanged()},t}return __extends(t,n),t.prototype.getPermissions=function(){var t=n.prototype.getPermissions.call(this);return(t.isLoading===null||t.isLoading===undefined)&&(t.isLoading=n.prototype.arePermissionsLoading.call(this)),t},t.prototype.evaluatePermissions=function(t){var r,u;if(!t)return null;if(r=t.repository.GenericContribute,this.currentBranchRefName){if(u=t.branches[this.currentBranchRefName],!u)return null;r=u.GenericContribute}return{createBranch:t.repository.CreateBranch,createOrModifyFiles:r||t.repository.CreateBranch,createPullRequest:t.repository.PullRequestContribute,setUpBuild:t.repository.GenericContribute,viewMyBranches:i.getCanViewMyBranches(t),isLoading:n.prototype.arePermissionsLoading.call(this)}},t}(r.PermissionsStore);t.ExplorerPermissionsStore=o});

define("VersionControl/Scenarios/Explorer/Stores/ExtensionsStore",["require","exports","VSS/Flux/Store"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={extraCommands:[]},t.load=function(n){t.state.extraCommands.push(n);t.emitChanged()},t}return __extends(t,n),t}(i.Store);t.ExtensionsStore=r});

define("VersionControl/Scenarios/Explorer/Stores/FileContentStore",["require","exports","VSS/Flux/Store"],function(n,t,i){function u(n){var t=n&&n.match(/\n/g);return t?t.length+1:1}Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={isEditing:!1,isNewFile:!1,isDiffInline:!1},t.changeRepository=function(n){t.state.rootPath=n.rootPath;t.state.allowEditingFeatures=n.allowEditing;t.emitChanged()},t.selectItem=function(n){t.state.allowEditingVersion=n.allowEditingVersion;t.state.originalContent=undefined;t.state.originalLinesCount=0;t.state.isLoadingInitialContent=!1;t.state.line=n.options&&n.options.line;t.state.scrollToAnchor=n.options&&n.options.anchor;t.state.createIfNew=n.options&&n.options.createIfNew;t.emitChanged()},t.editFile=function(){t.state.isNewFile=!1;t.startEditing();t.emitChanged()},t.addNewFile=function(){t.state.isNewFile=!0;t.state.originalContent=undefined;t.state.originalLinesCount=0;t.state.isLoadingInitialContent=!0;t.startEditing();t.emitChanged()},t.loadOriginalContent=function(n){t.state.originalContent=n.originalContent;t.state.originalLinesCount=u(n.originalContent);t.state.isLoadingInitialContent=!1;t.state.isTooBigToEdit=n.isTooBigToEdit;t.state.isTooBigToEdit&&(t.state.isEditing=!1);t.emitChanged()},t.editContent=function(n){if(t.state.isEditing)t.state.editingContent=n;else throw new Error("content cannot be changed if not editing.");t.emitChanged()},t.commit=function(n){var i=!1;t.state.isEditing&&(t.state.isEditing=!1,t.state.isNewFile=!1,t.state.originalContent=t.state.editingContent,i=!0);n.newBranchVersionSpec&&t.state.allowEditingVersion!==n.newBranchVersionAllowEditing&&(t.state.allowEditingVersion=n.newBranchVersionAllowEditing,i=!0);i&&t.emitChanged()},t.discardEditingFile=function(n){t.state.isNewFile=!1;t.state.isEditing=!1;n.navigateVersionSpec&&(t.state.allowEditingVersion=n.navigateVersionAllowEditing);t.emitChanged()},t.toggleDiffInline=function(){t.state.isDiffInline=!t.state.isDiffInline;t.emitChanged()},t}return __extends(t,n),t.prototype.startEditing=function(){this.state.isEditing=!0;this.state.editingContent=this.state.originalContent||""},t}(i.Store);t.FileContentStore=r});

define("VersionControl/Scenarios/Explorer/Stores/FolderContentStore",["require","exports","VSS/Flux/Store","VersionControl/Scripts/VersionControlPath"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={items:undefined,selectedItems:[],knownCommits:{},itemsChangeInfo:{},itemNames:{}},t.changeItem=function(n,i){var r=i&&i.item.isFolder&&i.item.childItems;t.setState({items:r,selectedItems:[],itemNames:r?t.generateItemNames(r,i.item.serverItem):{},itemsChangeInfo:r?t.generateChangeInfoFromItemsOnly(r):{},latestChangesPayload:undefined,areFolderLatestChangesRequested:i&&i.areFolderLatestChangesRequested||!1,lastExploredTime:null,loadingRemainderLatestChangesTriggerFullName:null})},t.commit=function(n){var i=t.updateKnownCommitsAfterCommit(n);t.setState({itemsChangeInfo:{},latestChangesPayload:undefined,lastExploredTime:null,areFolderLatestChangesRequested:!1,selectedItems:[],knownCommits:i})},t.changeTab=function(n){t.setState({areFolderLatestChangesRequested:n.areFolderLatestChangesRequested||t.state.areFolderLatestChangesRequested})},t.loadItems=function(n){if(n&&n.item.isFolder){var i=n.item.childItems,r=i?t.generateItemNames(i,n.item.serverItem):{},u=i?t.state.latestChangesPayload?t.generateChangeInfo(i,r,t.state.latestChangesPayload,t.state.knownCommits):t.generateChangeInfoFromItemsOnly(i):{};t.setState({items:i,itemNames:r,itemsChangeInfo:u,areFolderLatestChangesRequested:n.areFolderLatestChangesRequested||t.state.areFolderLatestChangesRequested})}},t.loadLatestChanges=function(n){var i=n.gitCommits?t.addNewCommits(t.state.knownCommits,n.gitCommits):t.state.knownCommits,r=t.state.items?t.generateChangeInfo(t.state.items,t.state.itemNames,n,i):{};t.setState({knownCommits:i,itemsChangeInfo:r,latestChangesPayload:n,lastExploredTime:n.lastExploredTime,areFolderLatestChangesRequested:!0})},t.selectChildren=function(n){if(!n)throw new Error("selectedItems argument is required.");t.setState({selectedItems:n})},t}return __extends(t,n),t.prototype.addNewCommits=function(n,t){for(var r,u=$.extend({},n),i=0,f=t;i<f.length;i++)r=f[i],u[r.commitId]=r;return u},t.prototype.updateKnownCommitsAfterCommit=function(){return this.state.knownCommits},t.prototype.mapObject=function(n,t){var i={};for(var r in n)i[r]=t(n[r]);return i},t.prototype.generateItemNames=function(n,t){for(var u,f={},i=0,e=n;i<e.length;i++)u=e[i],f[u.serverItem]=r.getFileOrFolderDisplayName(u,t);return f},t.prototype.setState=function(n){this.state=__assign({},this.state,n);this.emitChanged()},t}(i.Store);t.FolderContentStore=u});

define("VersionControl/Scenarios/Explorer/Stores/GitFolderContentStore",["require","exports","VersionControl/Scenarios/Explorer/Stores/FolderContentStore","VersionControl/Scripts/ChangeListIdentityHelper"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.loadCommitDetails=function(n){var i=t.addNewCommits(t.state.knownCommits,n),r=t.buildChangeInfoFromCommits(i);t.setState({knownCommits:i,itemsChangeInfo:r,loadingRemainderLatestChangesTriggerFullName:null})},t.showLoadingRemainderLatestChanges=function(n){t.setState({loadingRemainderLatestChangesTriggerFullName:n.triggerFullName})},t}return __extends(t,n),t.prototype.updateKnownCommitsAfterCommit=function(n){var t,i=n.newRealVersionSpec.commitId;return __assign({},this.state.knownCommits,(t={},t[i]={commitId:i,comment:n.comment,author:{name:n.userName,date:new Date}},t))},t.prototype.generateChangeInfo=function(n,t,i,r){for(var u,f,o,s={},h={},e=0,c=i.gitLastChanges;e<c.length;e++)u=c[e],h[u.path]=u;for(f=0,o=n;f<o.length;f++){var l=o[f],a=this.getFirstPartOfName(t[l.serverItem]),u=h[a];u&&(s[l.serverItem]=this.createChangeInfoFromCommitId(u.commitId,i.changeUrls[u.commitId],r))}return s},t.prototype.generateChangeInfoFromItemsOnly=function(){return{}},t.prototype.getFirstPartOfName=function(n){return n.split("/")[0]},t.prototype.buildChangeInfoFromCommits=function(n){var t=this;return this.mapObject(this.state.itemsChangeInfo,function(i){return t.createChangeInfoFromCommitId(i.changeId,i.changeUrl,n)})},t.prototype.createChangeInfoFromCommitId=function(n,t,i){var u=i[n],f;return u?(f=u.author||u.committer,{changeId:u.commitId,changeUrl:t,changeDate:f.date,userName:r.getUserNameWithoutEmail(f.name),userNameWithEmail:f.name,comment:u.comment}):{changeId:n}},t}(i.FolderContentStore);t.GitFolderContentStore=u});

define("VersionControl/Scenarios/Explorer/Stores/KnownItemsStore",["require","exports","VSS/Flux/Store","VSS/Utils/String","VersionControl/Scripts/Generated/TFS.VersionControl.Legacy.Contracts","VersionControl/Scripts/VersionControlFileIconPicker","VersionControl/Scripts/VersionControlPath"],function(n,t,i,r,u,f,e){function s(n,t){if(t)return n==="/";var i=n.split("/").length-1;return i===1}function h(n){return n.slice().sort(c)}function c(n,t){var i=n?n.serverItem.length:0,r=t?t.serverItem.length:0;return i===r?0:i<r?-1:1}function l(n,t){return __assign({},t,{serverItem:n})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={isGit:undefined,rootNodeIconClass:undefined,knownItems:{},lowerCaseKnownItems:{},iconClasses:{},creatingItemPaths:undefined},t.initializeRepository=function(n,i){t.state.isGit=n;t.state.rootNodeIconClass=i;t.emitChanged()},t.reset=function(){t.state.knownItems={};t.state.lowerCaseKnownItems={};t.state.iconClasses={};t.emitChanged()},t.addNewItem=function(n){var i=n.newFileItem,r=n.newFolders,u=n.allRetrievedItems;t.state.creatingItemPaths=[i].concat(r).map(function(n){return n.serverItem});t.loadItems([i].concat(r,u))},t.loadItems=function(n){var o,r,f,i,u,e,s;if(n&&n.length)for(o=h(n),r=0,f=o;r<f.length;r++)if(i=f[r],i&&(t.saveItem(i),i.childItems))for(u=0,e=i.childItems;u<e.length;u++)s=e[u],t.saveItem(s);t.emitChanged()},t.discardEdit=function(n){var f=n.navigateVersionSpec,i,r,u;if(f)t.reset();else if(t.state.creatingItemPaths){for(i=0,r=t.state.creatingItemPaths;i<r.length;i++)u=r[i],delete t.state.knownItems[u],delete t.state.lowerCaseKnownItems[u.toLowerCase()];t.state.creatingItemPaths=undefined;t.emitChanged()}},t.confirmSavedItems=function(n){var i,u,r,f;for(t.state.creatingItemPaths=undefined,i=0,u=n;i<u.length;i++)r=u[i],delete t.state.knownItems[r],delete t.state.lowerCaseKnownItems[r.toLowerCase()],f=e.getFolderName(r),delete t.state.knownItems[f],delete t.state.lowerCaseKnownItems[f.toLowerCase()];t.emitChanged()},t}return __extends(t,n),t.prototype.saveItem=function(n){var t=this.state.knownItems[n.serverItem];t&&t.contentMetadata&&!n.contentMetadata||t&&t.childItems&&!n.childItems||(this.addToLookup(n,n.serverItem),this.state.isGit?this.ensureCompactedParentsAreKnown(n):this.addCasingVariants(n))},t.prototype.addCasingVariants=function(n){var f=this,o=e.getParentPaths(n.serverItem).every(function(n){return Boolean(f.state.knownItems[n])}),r,t,i,u;if(!o)for(r=e.getFolderName(n.serverItem),t=0,i=this.findCasingVariants(r);t<i.length;t++)u=i[t],this.addToLookup(n,e.combinePaths(u,e.getFileName(n.serverItem)))},t.prototype.findCasingVariants=function(n){return Object.keys(this.state.knownItems).filter(function(t){return r.ignoreCaseComparer(t,n)===0&&t!==n})},t.prototype.ensureCompactedParentsAreKnown=function(n){for(var t=e.getFolderName(n.serverItem);!this.state.knownItems[t];)this.addToLookup(l(t,n),t),t=e.getFolderName(t)},t.prototype.addToLookup=function(n,t){this.state.knownItems[t]=n;this.state.lowerCaseKnownItems[t.toLowerCase()]=n;this.state.iconClasses[t]=this.calculateItemIconClass(n)},t.prototype.calculateItemIconClass=function(n){return s(n.serverItem,this.state.isGit)?this.state.rootNodeIconClass:n.isBranch?"bowtie-tfvc-branch":n.gitObjectType===u.GitObjectType.Commit?"bowtie-repository-submodule":n.isSymLink?"bowtie-file-symlink":n.isFolder?"bowtie-folder":f.getIconNameForFile(n.serverItem)},t}(i.Store);t.KnownItemsStore=o});

define("VersionControl/Scenarios/Explorer/Stores/LoseChangesPromptStore",["require","exports","VSS/Flux/Store"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={},t.prompt=function(n){t.state.dirtyFileName=n.dirtyFileName;t.state.tentativeAction=n.tentativeAction;t.emitChanged()},t.dismiss=function(){t.state.dirtyFileName=undefined;t.state.tentativeAction=undefined;t.emitChanged()},t}return __extends(t,n),t}(i.Store);t.LoseChangesPromptStore=r});

define("VersionControl/Scenarios/Explorer/Stores/PivotTabsStore",["require","exports","VSS/Flux/Store","VersionControl/Scripts/Controls/ControlsCommon","VersionControl/Scripts/Resources/TFS.Resources.VersionControl"],function(n,t,i,r,u){function f(n){return[{title:u.Contents,tabKey:r.VersionControlActionIds.Contents},{title:u.Preview,tabKey:r.VersionControlActionIds.Preview},{title:u.History,tabKey:r.VersionControlActionIds.History},{title:u.Compare,tabKey:r.VersionControlActionIds.Compare},{title:n?u.Blame:u.Annotate,tabKey:r.VersionControlActionIds.Annotate},{title:u.Readme,tabKey:r.VersionControlActionIds.Readme},{title:u.HighlightChanges,tabKey:r.VersionControlActionIds.HighlightChanges},]}Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={currentTab:r.VersionControlActionIds.Contents,defaultTab:r.VersionControlActionIds.Contents,tabItems:[]},t.changeRepository=function(n){t.state={currentTab:r.VersionControlActionIds.Contents,defaultTab:r.VersionControlActionIds.Contents,tabItems:f(n.isGit),pageOptions:n.pageOptions,isFullScreen:!1,isPreviewModeAvailable:!1};t.emitChanged()},t.changeTab=function(n){t.state.currentTab=n.tab;t.state.isPreviewModeAvailable&&(t.state.currentTab===r.VersionControlActionIds.Contents?t.state.preferContentOverPreview=!0:t.state.currentTab===r.VersionControlActionIds.Preview&&(t.state.preferContentOverPreview=!1));t.emitChanged()},t.selectItem=function(n){t.state.currentTab=n.tab;n.options&&(t.state.isFullScreen=Boolean(n.options.isFullScreen));n.isTabExplicit&&n.tab===r.VersionControlActionIds.Contents&&(t.state.preferContentOverPreview=!0);t.changePreviewMode(n);t.setItem(n.itemInfo)},t.editNewOrExistingFile=function(n){t.state.currentTab=r.VersionControlActionIds.Contents;t.state.isEditing=!0;t.state.isFolder=!1;t.state.hasReadMe=!1;t.changePreviewMode(n);t.emitChanged()},t.commit=function(n){t.state.isEditing=!1;n.coercedTab&&(t.state.currentTab=n.coercedTab);t.emitChanged()},t.discardEditingFile=function(n){t.state.isEditing=!1;n.coercedTab&&(t.state.currentTab=n.coercedTab);t.changePreviewMode(n);n.navigateItemInfo?t.setItem(n.navigateItemInfo):t.emitChanged()},t.changeFullScreen=function(n){t.state.isFullScreen=Boolean(n);t.emitChanged()},t.setItem=function(n,i){n&&(t.state.isFolder=n.item.isFolder,t.state.isBinary=n.item.contentMetadata&&n.item.contentMetadata.isBinary,t.state.hasReadMe=Boolean(n.readMeItem));t.state.isFolder&&(t.state.isPreviewModeAvailable=!1,t.state.defaultTab=r.VersionControlActionIds.Contents);i&&(t.state.currentTab=i);t.emitChanged()},t.changePreviewMode=function(n){var f=n.isPreviewAvailable,u=n.isPreviewDefault,i;t.state.isPreviewModeAvailable=f;t.state.defaultTab=u?r.VersionControlActionIds.Preview:r.VersionControlActionIds.Contents;t.state.isEditing||(i=u&&!t.state.preferContentOverPreview,t.state.currentTab===r.VersionControlActionIds.Contents?i&&(t.state.currentTab=r.VersionControlActionIds.Preview):t.state.currentTab===r.VersionControlActionIds.Preview&&(i||(t.state.currentTab=r.VersionControlActionIds.Contents)))},t}return __extends(t,n),t.prototype.emitChanged=function(){var i=this,u=this.calculateHiddenTabs(),t;this.state.visibleTabs=this.state.tabItems.filter(function(n){return n.tabKey===i.state.currentTab||u.indexOf(n.tabKey)<0});t=this.state.currentTab===r.VersionControlActionIds.History;this.state.isHistoryFilterVisible=t;this.state.isPreviewMode=this.state.currentTab===r.VersionControlActionIds.Readme||this.state.currentTab===r.VersionControlActionIds.Preview;this.state.isAnnotate=this.state.currentTab===r.VersionControlActionIds.Annotate;n.prototype.emitChanged.call(this)},t.prototype.calculateHiddenTabs=function(){var n=[];return this.state.isEditing?(n.push(r.VersionControlActionIds.History),n.push(r.VersionControlActionIds.Compare),n.push(r.VersionControlActionIds.Annotate)):(n.push(r.VersionControlActionIds.HighlightChanges),this.state.isFolder?(n.push(r.VersionControlActionIds.Compare),n.push(r.VersionControlActionIds.Annotate),n.push(r.VersionControlActionIds.Preview)):this.state.isBinary&&n.push(r.VersionControlActionIds.Annotate)),this.state.hasReadMe||n.push(r.VersionControlActionIds.Readme),this.state.isPreviewModeAvailable||n.push(r.VersionControlActionIds.Preview),n},t}(i.Store);t.PivotTabsStore=e});

define("VersionControl/Scenarios/Explorer/Stores/RepositoryBadgesStore",["require","exports","VSS/Flux/Store"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={},t.changeRepository=function(n){t.state={pullRequestsUrl:n.pullRequestsUrl,branchesUrl:n.branchesUrl,commitsUrl:n.historyUrl,omitStats:!0};t.emitChanged()},t.loadStats=function(n){n?(t.state.omitStats=!1,t.state.commitsCount=n.commitsCount,t.state.branchesCount=n.branchesCount,t.state.pullRequestsCount=n.activePullRequestsCount):t.state.omitStats=!0;t.emitChanged()},t}return __extends(t,n),t}(i.Store);t.RepositoryBadgesStore=r});

define("VersionControl/Scenarios/Explorer/Stores/StatusesStore",["require","exports","VSS/Flux/Store"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={},t.clearStatuses=function(){t.state.statuses=undefined;t.state.isSetupExperienceVisible=undefined;t.state.isSetupReleaseExperienceVisible=undefined;t.emitChanged()},t.loadStatuses=function(n){t.state.statuses=n?t.removeOldDuplicates(n):[];t.state.statuses.length&&(t.state.isSetupExperienceVisible=!1);t.emitChanged()},t.loadHasBuildDefinitions=function(n){t.state.isSetupExperienceVisible=t.state.statuses&&t.state.statuses.length===0&&!n.hasBuildDefinitions&&n.canCreateBuildDefinitions;t.state.fetchedBuildDefinitionIds=n.buildDefinitionIds;t.emitChanged()},t.loadHasReleaseDefinitions=function(n){t.state.isSetupReleaseExperienceVisible=!n;t.emitChanged()},t.createReleaseDefinitionUrlFetched=function(n){t.state.createReleaseDefinitionUrl=n;t.emitChanged()},t}return __extends(t,n),t.prototype.removeOldDuplicates=function(n){for(var f,i,t={},r=0,e=n;r<e.length;r++){var u=e[r],i=this.getStatusTypeUniqueKey(u),o=t[i];(!o||o.creationDate<u.creationDate)&&(t[i]=u)}f=[];for(i in t)f.push(t[i]);return f},t.prototype.getStatusTypeUniqueKey=function(n){return n.context.genre+"/"+n.context.name},t}(i.Store);t.StatusesStore=r});

define("VersionControl/Scenarios/Explorer/Stores/TfvcFolderContentStore",["require","exports","VersionControl/Scripts/ChangeListIdentityHelper","VersionControl/Scenarios/Explorer/Stores/FolderContentStore"],function(n,t,i,r){function u(n){return{changeId:n.versionDescription}}function e(n,t){return{changeId:n.version,changeDate:n.creationDate,userName:i.getUserNameWithoutEmail(n.ownerDisplayName),userNameWithEmail:n.ownerDisplayName,comment:n.comment,changeUrl:t}}Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.generateChangeInfoFromItemsOnly=function(n){for(var i,r={},t=0,f=n;t<f.length;t++)i=f[t],r[i.serverItem]=u(i);return r},t.prototype.generateChangeInfo=function(n,t,i){for(var h,f,c,o,r,l={},s=0,a=i.changeLists;s<a.length;s++)r=a[s],l[r.version]=r;for(h={},f=0,c=n;f<c.length;f++)o=c[f],r=l[o.versionDescription],h[o.serverItem]=r?e(r,i.changeUrls[r.version]):u(o);return h},t}(r.FolderContentStore);t.TfvcFolderContentStore=f});

define("Presentation/Scripts/TFS/Stores/Callback",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){this._callback=null}return n.prototype.register=function(n,t){t===void 0&&(t=null);this._callback=t?n.bind(t):n},n.prototype.unregister=function(){this._callback=null},n.prototype.invoke=function(n){this._callback&&this._callback(n)},n}();t.Callback=i});

define("Presentation/Scripts/TFS/Stores/TreeStore",["require","exports","VSS/Flux/Store","VSS/Utils/String","Presentation/Scripts/TFS/Stores/Callback"],function(n,t,i,r,u){function l(n,i,r){var u,f;return i===void 0&&(i=t.DEFAULT_SEPARATOR),u=n.split(i),u[u.length-1]===""&&u.pop(),r?{folderParts:u,itemName:null}:(f=u.pop(),{folderParts:u,itemName:f})}var o,f,e,s,h,c;Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT_SEPARATOR="/";o=function(){function n(){this.itemsAdded=new u.Callback;this.itemsRemoved=new u.Callback;this.itemMoved=new u.Callback;this.itemRenamed=new u.Callback;this.foldersAdded=new u.Callback;this.folderRemoved=new u.Callback;this.folderMoved=new u.Callback;this.folderRenamed=new u.Callback;this.folderExpanded=new u.Callback;this.folderExpanding=new u.Callback;this.folderCollapsed=new u.Callback;this.expandAll=new u.Callback;this.collapseAll=new u.Callback;this.refreshItemsAndExpand=new u.Callback;this.refresh=new u.Callback;this.emitIfPending=new u.Callback}return n.prototype.dispose=function(){this.itemsAdded.unregister();this.itemsRemoved.unregister();this.itemMoved.unregister();this.itemRenamed.unregister();this.foldersAdded.unregister();this.folderRemoved.unregister();this.folderExpanded.unregister();this.folderExpanding.unregister();this.folderCollapsed.unregister();this.folderMoved.unregister();this.folderRenamed.unregister();this.expandAll.unregister();this.collapseAll.unregister();this.refreshItemsAndExpand.unregister();this.refresh.unregister();this.emitIfPending.unregister()},n}();t.ActionAdapter=o;f=function(){function n(n,t){this.name=n;this.getLookupName=t;this._expanded=!1;this._expanding=!1;this._folders={};this._foldersList=[];this._items=[];this._itemsLookup={}}return Object.defineProperty(n.prototype,"expanded",{get:function(){return this._expanded},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"expanding",{get:function(){return this._expanding},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"folders",{get:function(){return this._foldersList},enumerable:!0,configurable:!0}),n.prototype.expand=function(){this._expanded=!0;this._expanding=!1},n.prototype.startExpanding=function(){this._expanding=!0},n.prototype.collapse=function(){this._expanded=!1},n.prototype.folderCount=function(){return this._foldersList.length},n.prototype.itemCount=function(){return this._items.length},n.prototype.addItem=function(n){this._items.push(n);this._itemsLookup[this.getLookupName(n)]=!0},n.prototype.hasItem=function(n){var t=this.getLookupName(n);return this._itemsLookup[t]},n.prototype.removeItem=function(n){var t=this._items.indexOf(n);t>=0&&(this._items.splice(t,1),delete this._itemsLookup[this.getLookupName(n)])},n.prototype.addFolder=function(t){return this.addFolderNode(new n(t,this.getLookupName))},n.prototype.addFolderNode=function(n){if(this.hasFolder(n.name))throw new Error("Already have a folder named "+n.name+" in "+this.name);return this._folders[this.getLookupName(n.name)]=n,this._foldersList.push(n),n},n.prototype.hasFolder=function(n){return this._folders.hasOwnProperty(this.getLookupName(n))},n.prototype.getFolder=function(n){var t=this.getLookupName(n);return this._folders.hasOwnProperty(t)&&this._folders[t]},n.prototype.removeFolder=function(n){this.hasFolder(n)&&(delete this._folders[n],this._foldersList=this._foldersList.filter(function(t){return t.name!==n}))},n.prototype.sort=function(){this._items.sort(r.ignoreCaseComparer);this._foldersList.sort(function(n,t){return r.ignoreCaseComparer(n.name,t.name)})},n}();t.Node=f;e=function(){function n(n,t,i,r,u,f,e,o){this.name=n;this.fullName=t;this.isFolder=i;this.depth=r;this.expanded=u;this.expanding=f;this.setSize=e;this.indexInParent=o}return n.folder=function(t,i,r,u,f,e,o){return new n(t,i,!0,r,u,f,e,o)},n.item=function(t,i,r,u,f){return new n(t,i,!1,r,!1,!1,u,f)},n}();t.Item=e,function(n){n.singleFolders=function(n){return n.itemCount()===0&&n.folderCount()===1};n.singleFoldersExceptFirstlevel=function(t,i){return n.singleFolders(t,i)&&i>0};n.none=function(){return!1}}(s=t.CompactMode||(t.CompactMode={}));h=function(n){function i(t){var i=n.call(this)||this;if(i._initializeOptions(t),i._reset(),i.emitManager=new c(!i._options.compareChildren,function(){return i.emitChanged()}),!i._options.adapter)throw new Error("Adapter is required in TreeStore options.");return i._adapter=i._options.adapter,i._adapter.refresh.register(i._onRefresh,i),i._adapter.refreshItemsAndExpand.register(i._onItemsRefreshedExpand,i),i._adapter.itemsAdded.register(i._onItemsAdded,i),i._adapter.itemsRemoved.register(i._onItemsRemoved,i),i._adapter.itemMoved.register(i._onItemMoved,i),i._adapter.itemRenamed.register(i._onItemRenamed,i),i._adapter.foldersAdded.register(i._onFoldersAdded,i),i._adapter.folderRemoved.register(i._onFolderRemoved,i),i._adapter.folderRenamed.register(i._onFolderRenamed,i),i._adapter.folderExpanded.register(i._onFolderExpanded,i),i._adapter.folderMoved.register(i._onFolderMoved,i),i._adapter.folderCollapsed.register(i._onFolderCollapsed,i),i._adapter.expandAll.register(i._onExpandAll,i),i._adapter.collapseAll.register(i._onCollapseAll,i),i._adapter.folderExpanding.register(i._onFolderExpanding,i),i._adapter.emitIfPending.register(i.emitIfPending,i),i}return __extends(i,n),i.prototype.dispose=function(){this._adapter&&(this._adapter.dispose&&this._adapter.dispose(),this._adapter=null);this._options=null},i.prototype.emitIfPendingInternal=function(){this._options.isDeferEmitChangedMode||this.emitIfPending()},i.prototype.emitIfPending=function(){this.emitManager.emitIfPending()},i.prototype.getAll=function(){var n=[],t=this._root.folders.length+this._root.items.length;return this._visit(this._root,-1,-1,null,null,n,!1,t,0),n},i.prototype.getVisible=function(){var n=[],t=this._root.folders.length+this._root.items.length;return this._visit(this._root,-1,-1,null,null,n,!0,t,0),n},i.prototype._visit=function(n,t,i,r,u,o,s,h,c){var nt=this,k,l,a,y,d,g;s===void 0&&(s=!1);var w=n!==this._root,b=this._options.canCompactNodeIntoChild(n,t),p=this._maybePrepend(r,n.name);w&&!b&&(k=p||this._options.separator,o.push(e.folder(this._maybePrepend(u,n.name),k,i,n.expanded,n.expanding,h,c)));l=n.folders.concat(n.items);this._options.compareChildren&&l.sort(function(n,t){return nt._options.compareChildren(p,n,t)});var v=w&&b,tt=v?0:1,it=v?this._maybePrepend(u,n.name):null;for(a=0;a<l.length;++a)y=l[a],y instanceof f?(!s||s&&n.expanded||v)&&(d=v?h:l.length,g=v?c:a,this._visit(y,t+1,i+tt,p,it,o,s,d,g)):(!s||n.expanded)&&o.push(e.item(y,this._maybePrepend(p,y),i+1,l.length,a))},i.prototype._maybePrepend=function(n,t){return n!==null?n+this._options.separator+t:t},i.prototype._onItemsRefreshedExpand=function(n){var t,i,r;for(this._reset(),t=0,i=n;t<i.length;t++)r=i[t],this._addItem(r);this._onExpandAll();this.emitIfPendingInternal()},i.prototype._onRefresh=function(){this._reset();this.emitManager.setPending();this.emitIfPendingInternal()},i.prototype._reset=function(){this._root=new f(null,this._options.getLookupName);this._root.expand()},i.prototype._onItemsAdded=function(n){for(var r,t=0,i=n;t<i.length;t++)r=i[t],this._addItem(r);this.emitIfPendingInternal()},i.prototype._onItemsRemoved=function(n){for(var r,t=0,i=n;t<i.length;t++)r=i[t],this._removeItem(r);this.emitIfPendingInternal()},i.prototype._onItemMoved=function(n){var t=n.source,r=n.target,u=this._options.splitItemPath(t).itemName,i=this._findNodeOrDeepestParent(r);this._removeItem(t);i.addItem(u);this.emitManager.setSortPending(i);this.emitIfPendingInternal()},i.prototype._onItemRenamed=function(n){var t=n.original,i=n.renamed;this._removeItem(t);this._addItem(i);this.emitIfPendingInternal()},i.prototype._onFoldersAdded=function(n){for(var r,t=0,i=n;t<i.length;t++)r=i[t],this._addFolder(r);this.emitIfPendingInternal()},i.prototype._onFolderRemoved=function(n){this._removeItemOrFolder(n,!0);this.emitIfPendingInternal()},i.prototype._onFolderMoved=function(n){var t=n.source,r=n.target,u=this._findNodeOrDeepestParent(t),i=this._findNodeOrDeepestParent(r);this._removeItemOrFolder(t,!0);i.addFolderNode(u);this.emitManager.setSortPending(i);this.emitIfPendingInternal()},i.prototype._onFolderRenamed=function(n){var t=n.original,i=n.renamed,r=this._findNodeOrDeepestParent(t),u=this._findNodeOrDeepestParent(i),f;this._removeItemOrFolder(t,!0);f=this._options.splitItemPath(i).itemName;r.name=f;u.addFolderNode(r);this.emitManager.setSortPending(u);this.emitIfPendingInternal()},i.prototype._onFolderExpanding=function(n){var t=this._findNodeOrDeepestParent(n);t&&!t.expanding&&(t.startExpanding(),this.emitManager.setPending());this.emitIfPendingInternal()},i.prototype._onFolderExpanded=function(n){this._visitPath(n,function(n){return n.expand()},null);this.emitManager.setPending();this.emitIfPendingInternal()},i.prototype._onFolderCollapsed=function(n){this._visitPath(n,null,function(n){return n.collapse()});this.emitManager.setPending();this.emitIfPendingInternal()},i.prototype._findNodeOrDeepestParent=function(n){return this._visitPath(n,null,null)},i.prototype._visitPath=function(n,t,i){for(var e,o,s=this._options.splitItemPath(n,this._options.separator,!0),r=this._root,u=0,f=s.folderParts;u<f.length;u++){if(e=f[u],o=r,r=r.getFolder(e),!r)return o;t&&t(r)}return i&&i(r),r},i.prototype._onExpandAll=function(){this._visitAll(function(n){return n.expand()});this.emitManager.setPending();this.emitIfPendingInternal()},i.prototype._onCollapseAll=function(){this._visitAll(function(n){return n.collapse()});this.emitManager.setPending();this.emitIfPendingInternal()},i.prototype._visitAll=function(n){for(var r=[this._root],t,i,u,f;r.length;){for(t=r.pop(),i=0,u=t.folders;i<u.length;i++)f=u[i],r.push(f);t!==this._root&&n(t)}},i.prototype._addItem=function(n){for(var f,i=this._options.splitItemPath(n,this._options.separator,!1),t=this._root,r=0,u=i.folderParts;r<u.length;r++)f=u[r],t=this.getOrAddFolder(t,f);t.hasItem(i.itemName)||(t.addItem(i.itemName),this.emitManager.setSortPending(t))},i.prototype.getOrAddFolder=function(n,t){var i=n.getFolder(t);return i||(i=n.addFolder(t),this.emitManager.setSortPending(n)),i},i.prototype._removeItem=function(n){this._removeItemOrFolder(n,!1)},i.prototype._removeItemOrFolder=function(n,t){for(var l,e,r,o=this._options.splitItemPath(n),a=o.folderParts,s=o.itemName,h=this._root,i=this._root,u=[],f=0,c=a;f<c.length;f++)if(l=c[f],i=i.getFolder(l),u.push({current:i,previous:h}),h=i,!i)return;if(t?i.removeFolder(s):i.removeItem(s),this.emitManager.setPending(),!this._options.keepEmptyFolders)while(u.length)e=u.pop(),r=e.current,r.itemCount()===0&&r.folderCount()===0&&(e.previous.removeFolder(r.name),this.emitManager.setPending())},i.prototype._addFolder=function(n){for(var u,f=this._options.splitItemPath(n,this._options.separator,!0),i=this._root,t=0,r=f.folderParts;t<r.length;t++)u=r[t],i=this.getOrAddFolder(i,u)},i.prototype.updateOptions=function(n){this._options=this._options&&__assign({},this._options,n)},i.prototype._initializeOptions=function(n){this._options=__assign({splitItemPath:l,separator:t.DEFAULT_SEPARATOR,getLookupName:function(n){return n},canCompactNodeIntoChild:s.singleFolders},n)},i}(i.Store);t.TreeStore=h;c=function(){function n(n,t){this.shouldSort=n;this.emitChanged=t;this.nodesSortPending=[]}return n.prototype.setPending=function(){this.isRemovalEmitPending=!0},n.prototype.setSortPending=function(n){this.shouldSort&&this.nodesSortPending.indexOf(n)<0&&this.nodesSortPending.push(n)},n.prototype.emitIfPending=function(){var n,t,i;if(this.isRemovalEmitPending||this.nodesSortPending.length){for(n=0,t=this.nodesSortPending;n<t.length;n++)i=t[n],i.sort();this.emitChanged();this.isRemovalEmitPending=!1;this.nodesSortPending=[]}},n}();t.defaultSplitItemPath=l});

define("VersionControl/Scenarios/Explorer/Stores/TreeStore",["require","exports","Presentation/Scripts/TFS/Stores/TreeStore","VersionControl/Scripts/VersionControlPath"],function(n,t,i,r){function e(n,t){return new i.TreeStore({adapter:n,isDeferEmitChangedMode:!0,keepEmptyFolders:!t,getLookupName:t?function(n){return n}:function(n){return n.toLowerCase()},canCompactNodeIntoChild:t?i.CompactMode.singleFoldersExceptFirstlevel:f})}function o(n){return n.isFolder?n.serverItem:r.getFolderName(n.serverItem)}function s(n){for(var t,i,u,h,f=[],e=[],o=function(n){return(n.isFolder?e:f).push(n.serverItem)},r=0,s=n;r<s.length;r++)if(t=s[r],t&&(o(t),t.childItems))for(i=0,u=t.childItems;i<u.length;i++)h=u[i],o(h);return{files:f,folders:e}}function h(n,t){return n.reduce(function(n,i){return t(n)>t(i)?n:i},undefined)}var u,f;Object.defineProperty(t,"__esModule",{value:!0});u=function(n){function t(t){var i=n.call(this)||this;return i.isGit=t,i.startExpand=function(n){i.folderExpanding.invoke(n);i.emitIfPending.invoke(null)},i.collapse=function(n){i.folderCollapsed.invoke(n);i.emitIfPending.invoke(null)},i}return __extends(t,n),t.prototype.selectItem=function(n,t,i,r){t?this.refresh.invoke(null):i?this.folderExpanded.invoke(i.serverItem):r||this.folderExpanding.invoke(n);this.emitIfPending.invoke(null)},t.prototype.renameOrDeleteItem=function(n,t,i,r){t?this.folderRemoved.invoke(n):this.itemsRemoved.invoke([n]);this.preserveRoot();r&&(t?this.foldersAdded.invoke([r]):this.itemsAdded.invoke([r]));i&&this.folderExpanding.invoke(i);this.emitIfPending.invoke(null)},t.prototype.addItemsAndExpandParent=function(n,t){this.addItemsAndExpand(n,t&&o(t))},t.prototype.addNewPathsAndExpand=function(n){this.addItemsAndExpand(n.map(function(n){return{serverItem:n}}))},t.prototype.addItemsAndExpand=function(n,t){var i;if(n){var r=s(n),u=r.files,f=r.folders;this.foldersAdded.invoke(f);this.itemsAdded.invoke(u)}t||(i=h(n,function(n){return n?n.serverItem.length:0}),t=i&&i.serverItem);t&&this.folderExpanded.invoke(t);this.emitIfPending.invoke(null)},t.prototype.deleteDiscardedNewFile=function(n){var r=n===void 0?[]:n,u=r[0],e=r.slice(1),t,i,f;if(u){for(this.itemsRemoved.invoke([u]),t=0,i=e;t<i.length;t++)f=i[t],this.folderRemoved.invoke(f);this.preserveRoot();this.emitIfPending.invoke(null)}},t.prototype.preserveRoot=function(){this.isGit&&this.foldersAdded.invoke(["/"])},t}(i.ActionAdapter);t.ExplorerTreeAdapter=u;f=function(n,t){return t===0&&i.CompactMode.singleFolders(n,t)};t.createTreeStore=e});

define("VersionControl/Scenarios/History/GitHistory/Stores/HistoryListPermissionsStore",["require","exports","VersionControl/Scenarios/Shared/Permissions/PermissionsStore"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.evaluatePermissions=function(n){if(!n)return null;var t=n.repository;return{hasCreateTagPermission:t.CreateTag,hasCreateBranchPermission:t.CreateBranch,isPermissionLoaded:!0}},t}(i.PermissionsStore);t.HistoryListPermissionsStore=r});

define("VersionControl/Scenarios/History/GitHistory/GitGraph/HistoryGraphRenderContracts",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i;(function(n){n[n.LeftJustify=0]="LeftJustify";n[n.RightJustify=1]="RightJustify"})(i=t.HistoryGraphOrientation||(t.HistoryGraphOrientation={}))});

define("VersionControl/Scenarios/History/GitHistory/GitGraph/VisualizationContracts",["require","exports"],function(n,t){var i,r,u;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.None=0]="None";n[n.TopLeft=1]="TopLeft";n[n.TopMiddle=2]="TopMiddle";n[n.TopRight=4]="TopRight";n[n.LeftCenter=8]="LeftCenter";n[n.BottomRight=16]="BottomRight";n[n.BottomMiddle=32]="BottomMiddle";n[n.BottomLeft=64]="BottomLeft";n[n.RightCenter=128]="RightCenter";n[n.Circle=256]="Circle";n[n.LeftMerge=512]="LeftMerge";n[n.RightMerge=1024]="RightMerge";n[n.OctopusMerge=2048]="OctopusMerge";n[n.MergeNode=4096]="MergeNode"}(i=t.VisComponents||(t.VisComponents={})),function(n){n[n.None=0]="None";n[n.OutgoingExcision=1]="OutgoingExcision";n[n.IncomingExcision=2]="IncomingExcision";n[n.OutgoingSelectedExcision=4]="OutgoingSelectedExcision";n[n.IncomingSelectedExcision=8]="IncomingSelectedExcision";n[n.ContinuingSelectedTrackingLine=16]="ContinuingSelectedTrackingLine";n[n.ExcisionHorizontal=32]="ExcisionHorizontal"}(r=t.ExcisionVisComponents||(t.ExcisionVisComponents={})),function(n){n[n.All=0]="All";n[n.FromAbove=1]="FromAbove";n[n.FromBelow=2]="FromBelow";n[n.SelectionRow=3]="SelectionRow"}(u=t.HighlightDirection||(t.HighlightDirection={}))});

define("VersionControl/Scenarios/History/GitHistory/GitGraph/HistoryGraph",["require","exports","VersionControl/Scenarios/History/GitHistory/GitGraph/VisualizationContracts"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(n,t,i){this._rows=n;this._rowIdCommitIdMap=t;this._settings=i;this._selectedCommitId=null;this._selectedExcisedParentCommitIds=[];this._selectedExcisedChildCommitIds=[];this._selectedOldestExcisedParentRowId=null;this._selectedYoungestExcisedChildRowId=null}return Object.defineProperty(n.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowIdCommitIdMap",{get:function(){return this._rowIdCommitIdMap},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"settings",{get:function(){return this._settings},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedCommitId",{get:function(){return this._selectedCommitId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedExcisedParentCommitIds",{get:function(){return this._selectedExcisedParentCommitIds},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedExcisedChildCommitIds",{get:function(){return this._selectedExcisedChildCommitIds},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedOldestExcisedParentRowId",{get:function(){return this._selectedOldestExcisedParentRowId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedYoungestExcisedChildRowId",{get:function(){return this._selectedYoungestExcisedChildRowId},enumerable:!0,configurable:!0}),n.prototype.select=function(n){var t=this,r;this.selectedCommitId!==n&&(this.selectedCommitId&&this.unSelect(),n&&this.rows[n])&&(this._selectedCommitId=n,r=this.rows[this._selectedCommitId],r.hasIncomingExcisedCommits?r.childCommitIds.forEach(function(n){t.rows[n]?t.rows[n].hasOutgoingExcisedCommits&&(t._selectedExcisedChildCommitIds.push(n),t._selectedYoungestExcisedChildRowId=t._selectedYoungestExcisedChildRowId?Math.min(t.rows[n].id,t._selectedYoungestExcisedChildRowId):t.rows[n].id,t._highlightRows(t.rows[n],i.HighlightDirection.FromBelow)):t._selectedYoungestExcisedChildRowId=Number.MIN_VALUE}):this._selectedYoungestExcisedChildRowId=r.id,r.hasOutgoingExcisedCommits?r.parentCommitIds.forEach(function(n){t.rows[n]?t.rows[n].hasIncomingExcisedCommits&&(t._selectedExcisedParentCommitIds.push(n),t._selectedOldestExcisedParentRowId=t._selectedOldestExcisedParentRowId?Math.max(t.rows[n].id,t._selectedOldestExcisedParentRowId):t.rows[n].id,t._highlightRows(t.rows[n],i.HighlightDirection.FromAbove)):t._selectedOldestExcisedParentRowId=Number.MAX_VALUE}):this._selectedOldestExcisedParentRowId=r.id,this._highlightRows(r))},n.prototype.unSelect=function(){this.selectedCommitId&&(this._unHighlightRows(),this._selectedCommitId=null,this._selectedExcisedChildCommitIds=[],this._selectedExcisedParentCommitIds=[],this._selectedOldestExcisedParentRowId=null,this._selectedYoungestExcisedChildRowId=null)},n.prototype._highlightRows=function(n,t){var e,o,s,u,f,r;if(t||(t=i.HighlightDirection.All),n.cells&&Object.keys(n.cells).length!==0)for(e=t===i.HighlightDirection.All||t===i.HighlightDirection.FromBelow,o=t===i.HighlightDirection.All||t===i.HighlightDirection.FromAbove,n.highlightHorizontal(n.commitCellId,i.HighlightDirection.SelectionRow,e,o),s=Object.keys(this.rows).length,u=1;u<s;u++)if(f=!1,u<=n.id&&e&&(r=this.rows[this.rowIdCommitIdMap[n.id-u]],r&&r.belowCommitId&&(f=!0,r.highlightFromBelow(this.rows[r.belowCommitId].cells))),n.id+u<s&&o&&(r=this.rows[this.rowIdCommitIdMap[n.id+u]],r&&r.aboveCommitId&&(f=!0,r.highlightFromAbove(this.rows[r.aboveCommitId].cells))),!f)break},n.prototype._unHighlightRows=function(){var n,t;for(n in this.rows)t=this.rows[n],t.unHighlight()},n}();t.HistoryGraph=r});

define("VersionControl/Scenarios/History/GitHistory/GitGraph/VisualizationCell",["require","exports","VersionControl/Scenarios/History/GitHistory/GitGraph/VisualizationContracts"],function(n,t,i){var f,r,u;Object.defineProperty(t,"__esModule",{value:!0});f=function(){function n(n,t,r){this._id=n;this._components=t;this._excisionComponents=r;this._highlitComponents=i.VisComponents.None;this._highlitExcisionComponents=i.ExcisionVisComponents.None}return n.prototype.setComponents=function(n){this._components|=n},n.prototype.hasComponent=function(n){return r.HasComponent(this._components,n)},n.prototype.setExcisionComponents=function(n){this._excisionComponents|=n},n.prototype.hasExcisionComponent=function(n){return u.HasComponent(this._excisionComponents,n)},n.prototype.hasHighlights=function(){return this._highlitComponents!=i.VisComponents.None||this._highlitExcisionComponents!=i.ExcisionVisComponents.None},n.prototype.hasHighlitComponent=function(n){return r.HasComponent(this._highlitComponents,n)},n.prototype.hasHighlitExcisionComponent=function(n){return u.HasComponent(this._highlitExcisionComponents,n)},n.prototype.setHighlights=function(n){var u=this,t=!1;return r.ToList(this._components).forEach(function(r){t=(r&n)!=i.VisComponents.None||t;u._highlitComponents|=r&n}),t},n.prototype.setExcisionHighlights=function(n){var r=this,t=!1;return u.ToList(this._excisionComponents).forEach(function(u){t=(u&n)!=i.ExcisionVisComponents.None||t;r._highlitExcisionComponents|=u&n}),t},n.prototype.highlightAll=function(){this._highlitComponents=this._components;this._highlitExcisionComponents=this._excisionComponents},n.prototype.unsetAllHighlights=function(){this._highlitComponents=i.VisComponents.None;this._highlitExcisionComponents=i.ExcisionVisComponents.None},Object.defineProperty(n.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"components",{get:function(){return this._components},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"excisionComponents",{get:function(){return this._excisionComponents},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"highlitComponents",{get:function(){return this._highlitComponents},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"highlitExcisionComponents",{get:function(){return this._highlitExcisionComponents},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this._components===i.VisComponents.None&&this._excisionComponents===i.ExcisionVisComponents.None},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isMerge",{get:function(){return this.hasComponent(i.VisComponents.MergeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftMiddle",{get:function(){return this.hasComponent(i.VisComponents.LeftCenter)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topLeft",{get:function(){return this.hasComponent(i.VisComponents.TopLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topMiddle",{get:function(){return this.hasComponent(i.VisComponents.TopMiddle)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topRight",{get:function(){return this.hasComponent(i.VisComponents.TopRight)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightMiddle",{get:function(){return this.hasComponent(i.VisComponents.RightCenter)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomRight",{get:function(){return this.hasComponent(i.VisComponents.BottomRight)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomMiddle",{get:function(){return this.hasComponent(i.VisComponents.BottomMiddle)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomLeft",{get:function(){return this.hasComponent(i.VisComponents.BottomLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"circle",{get:function(){return this.hasComponent(i.VisComponents.Circle)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftMerge",{get:function(){return this.hasComponent(i.VisComponents.LeftMerge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightMerge",{get:function(){return this.hasComponent(i.VisComponents.RightMerge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"octopusMerge",{get:function(){return this.hasComponent(i.VisComponents.OctopusMerge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"incomingExcision",{get:function(){return this.hasExcisionComponent(i.ExcisionVisComponents.IncomingExcision)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"outgoingExcision",{get:function(){return this.hasExcisionComponent(i.ExcisionVisComponents.OutgoingExcision)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"incomingSelectedExcision",{get:function(){return this.hasExcisionComponent(i.ExcisionVisComponents.IncomingSelectedExcision)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"outgoingSelectedExcision",{get:function(){return this.hasExcisionComponent(i.ExcisionVisComponents.OutgoingSelectedExcision)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"continuingSelectedTrackingLine",{get:function(){return this.hasExcisionComponent(i.ExcisionVisComponents.ContinuingSelectedTrackingLine)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"excisionHorizontal",{get:function(){return this.hasExcisionComponent(i.ExcisionVisComponents.ExcisionHorizontal)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftMiddleHighlit",{get:function(){return this.hasHighlitComponent(i.VisComponents.LeftCenter)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topLeftHighlit",{get:function(){return this.hasHighlitComponent(i.VisComponents.TopLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topMiddleHighlit",{get:function(){return this.hasHighlitComponent(i.VisComponents.TopMiddle)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topRightHighlit",{get:function(){return this.hasHighlitComponent(i.VisComponents.TopRight)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightMiddleHighlit",{get:function(){return this.hasHighlitComponent(i.VisComponents.RightCenter)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomRightHighlit",{get:function(){return this.hasHighlitComponent(i.VisComponents.BottomRight)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomMiddleHighlit",{get:function(){return this.hasHighlitComponent(i.VisComponents.BottomMiddle)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomLeftHighlit",{get:function(){return this.hasHighlitComponent(i.VisComponents.BottomLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"circleHighlit",{get:function(){return this.hasHighlitComponent(i.VisComponents.Circle)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftMergeHighlit",{get:function(){return this.hasHighlitComponent(i.VisComponents.LeftMerge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightMergeHighlit",{get:function(){return this.hasHighlitComponent(i.VisComponents.RightMerge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"octopusMergeHighlit",{get:function(){return this.hasHighlitComponent(i.VisComponents.OctopusMerge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"incomingExcisionHighlit",{get:function(){return this.hasHighlitExcisionComponent(i.ExcisionVisComponents.IncomingExcision)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"outgoingExcisionHighlit",{get:function(){return this.hasHighlitExcisionComponent(i.ExcisionVisComponents.OutgoingExcision)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"incomingSelectedExcisionHighlit",{get:function(){return this.hasHighlitExcisionComponent(i.ExcisionVisComponents.IncomingSelectedExcision)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"outgoingSelectedExcisionHighlit",{get:function(){return this.hasHighlitExcisionComponent(i.ExcisionVisComponents.OutgoingSelectedExcision)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"continuingSelectedTrackingLineHighlit",{get:function(){return this.hasHighlitExcisionComponent(i.ExcisionVisComponents.ContinuingSelectedTrackingLine)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"excisionHorizontalHighlit",{get:function(){return this.hasHighlitExcisionComponent(i.ExcisionVisComponents.ExcisionHorizontal)},enumerable:!0,configurable:!0}),n}();t.VisualizationCell=f;r=function(){function n(){}return n.SetComponents=function(n,t){return n|t},n.UnsetComponents=function(n,t){return n&~t},n.GetComponentsFromString=function(t){var r=i.VisComponents.None;return t=t.toLowerCase(),Object.keys(i.VisComponents).map(function(n){return n.toLowerCase()}).forEach(function(u){var e=parseInt(u),f;!isNaN(e)&&t.indexOf(i.VisComponents[u].toLowerCase())>=0&&(f=i.VisComponents[u],r=n.SetComponents(r,i.VisComponents[f]))}),r},n.HasComponent=function(n,t){return(n&t)!=0},n.ToList=function(n){var t=[];return Object.keys(i.VisComponents).map(function(n){return i.VisComponents[n]}).forEach(function(i){(n&i)!=0&&t.push(i)}),t},n.mirrorHorizontal=function(t){var r=i.VisComponents.None;return n.ToList(t).forEach(function(n){r|=n===i.VisComponents.BottomLeft?i.VisComponents.BottomRight:n===i.VisComponents.BottomRight?i.VisComponents.BottomLeft:n===i.VisComponents.TopLeft?i.VisComponents.TopRight:n===i.VisComponents.TopRight?i.VisComponents.TopLeft:n===i.VisComponents.LeftMerge?i.VisComponents.RightMerge:n===i.VisComponents.RightMerge?i.VisComponents.LeftMerge:n===i.VisComponents.RightCenter?i.VisComponents.LeftCenter:n===i.VisComponents.LeftCenter?i.VisComponents.RightCenter:n}),r},n}();t.VisComponentsHelper=r;u=function(){function n(){}return n.SetComponents=function(n,t){return n|t},n.UnsetComponents=function(n,t){return n&~t},n.GetComponentsFromString=function(t){var r=i.ExcisionVisComponents.None;return t=t.toLowerCase(),Object.keys(i.ExcisionVisComponents).map(function(n){return n.toLowerCase()}).forEach(function(u){var e=parseInt(u),f;!isNaN(e)&&t.indexOf(i.ExcisionVisComponents[u].toLowerCase())>=0&&(f=i.VisComponents[u],r=n.SetComponents(r,i.ExcisionVisComponents[f]))}),r},n.HasComponent=function(n,t){return(n&t)!=0},n.ToList=function(n){var t=[];return Object.keys(i.ExcisionVisComponents).map(function(n){return i.ExcisionVisComponents[n]}).forEach(function(i){(n&i)!=0&&t.push(i)}),t},n}();t.ExcisionVisComponentsHelper=u});

define("VersionControl/Scenarios/History/GitHistory/GitGraph/HistoryGraphRow",["require","exports","VersionControl/Scenarios/History/GitHistory/GitGraph/VisualizationContracts","VersionControl/Scenarios/History/GitHistory/GitGraph/VisualizationCell"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(n){this._id=n.id;this._commit=n.commit;this._commitCellId=n.commitCellId;this._maxCellId=n.maxCellId;this._cells=n.cells;this._hasOutgoingExcisedCommits=n.hasOutgoingExcisedCommits;this._hasIncomingExcisedCommits=n.hasIncomingExcisedCommits;this._aboveCommitId=n.aboveCommitId;this._belowCommitId=n.belowCommitId}return Object.defineProperty(n.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"commit",{get:function(){return this._commit},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"commitCellId",{get:function(){return this._commitCellId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxCellId",{get:function(){return this._maxCellId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cells",{get:function(){return this._cells},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasOutgoingExcisedCommits",{get:function(){return this._hasOutgoingExcisedCommits},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasIncomingExcisedCommits",{get:function(){return this._hasIncomingExcisedCommits},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasOngoingExcisedCommitTrackingLine",{get:function(){return!!(this.parentGraph&&this.parentGraph.selectedCommitId&&!this.isSelected&&this.parentGraph.selectedOldestExcisedParentRowId!==this.id&&this.parentGraph.selectedYoungestExcisedChildRowId!==this.id&&this._isInSelectedRange())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSelected",{get:function(){return!!(this.parentGraph&&this.parentGraph.selectedCommitId===this.commit.commitId)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSelectedExcisedCommitParent",{get:function(){return!!(this.parentGraph&&this.parentGraph.selectedCommitId&&(this.parentGraph.selectedExcisedParentCommitIds&&this.parentGraph.selectedExcisedParentCommitIds.indexOf(this.commit.commitId)>=0||this.isSelected&&this.hasIncomingExcisedCommits))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSelectedExcisedCommitChild",{get:function(){return!!(this.parentGraph&&this.parentGraph.selectedCommitId&&(this.parentGraph.selectedExcisedChildCommitIds&&this.parentGraph.selectedExcisedChildCommitIds.indexOf(this.commit.commitId)>=0||this.isSelected&&this.hasOutgoingExcisedCommits))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"aboveCommitId",{get:function(){return this._aboveCommitId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"belowCommitId",{get:function(){return this._belowCommitId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentCommitIds",{get:function(){return this._parentCommitIds},set:function(n){this._parentCommitIds=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"childCommitIds",{get:function(){return this._childCommitIds},set:function(n){this._childCommitIds=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentGraph",{get:function(){return this._parentGraph},set:function(n){this._parentGraph=n},enumerable:!0,configurable:!0}),n.prototype.getExcisionCell=function(){var o=i.VisComponents.None,n=i.ExcisionVisComponents.None,u,f,t,e;for((this.hasOutgoingExcisedCommits||this.hasIncomingExcisedCommits)&&(n|=this.hasOutgoingExcisedCommits&&!this.isSelectedExcisedCommitChild?i.ExcisionVisComponents.OutgoingExcision:i.ExcisionVisComponents.None,n|=this.hasIncomingExcisedCommits&&!this.isSelectedExcisedCommitParent?i.ExcisionVisComponents.IncomingExcision:i.ExcisionVisComponents.None,n|=this.hasOutgoingExcisedCommits&&this.isSelectedExcisedCommitChild?i.ExcisionVisComponents.ExcisionHorizontal:i.ExcisionVisComponents.None,n|=this.hasIncomingExcisedCommits&&this.isSelectedExcisedCommitParent?i.ExcisionVisComponents.ExcisionHorizontal:i.ExcisionVisComponents.None),u=new r.VisualizationCell(-1,o,n),f=!1,t=0;t<=this.maxCellId;t++)if(e=this.cells[t],e){f=e.leftMiddleHighlit;break}return(this.isSelectedExcisedCommitChild||this.isSelectedExcisedCommitParent||f)&&u.setExcisionHighlights(n),u},n.prototype.getTracingCell=function(){var u=i.VisComponents.None,n=i.ExcisionVisComponents.None,t;return(this.hasOutgoingExcisedCommits||this.hasIncomingExcisedCommits||this.hasOngoingExcisedCommitTrackingLine||this.isSelectedExcisedCommitParent||this.isSelectedExcisedCommitChild)&&(n|=this.hasOngoingExcisedCommitTrackingLine?i.ExcisionVisComponents.ContinuingSelectedTrackingLine:i.ExcisionVisComponents.None,n|=this.hasOutgoingExcisedCommits&&this.isSelectedExcisedCommitChild?i.ExcisionVisComponents.OutgoingSelectedExcision:i.ExcisionVisComponents.None,n|=this.hasIncomingExcisedCommits&&this.isSelectedExcisedCommitParent?i.ExcisionVisComponents.IncomingSelectedExcision:i.ExcisionVisComponents.None),t=new r.VisualizationCell(-2,u,n),t.highlightAll(),t},n.prototype.highlightFromBelow=function(n){var r,u,t,c,f;if(this.cells&&Object.keys(this.cells).length!==0&&n){r={};for(f in n)if(u=n[f],t=u.id,u.hasHighlights()){var o=this.cells[t-1],e=this.cells[t],s=this.cells[t+1],h=i.VisComponents.TopLeft|i.VisComponents.TopMiddle|i.VisComponents.TopRight|i.VisComponents.Circle;o&&u.topLeftHighlit&&o.bottomRight&&(o.setHighlights(i.VisComponents.BottomRight|h),o.setHighlights(i.VisComponents.RightCenter)&&!r[t-1]&&(r[t-1]=!0));e&&u.topMiddleHighlit&&(e.bottomMiddle||e.octopusMerge)&&(e.setHighlights(i.VisComponents.BottomMiddle|i.VisComponents.OctopusMerge|h),e.setHighlights(i.VisComponents.LeftMerge|i.VisComponents.RightMerge)&&!r[t]&&(r[t]=!0));s&&u.topRightHighlit&&s.bottomLeft&&(s.setHighlights(i.VisComponents.BottomLeft|h),s.setHighlights(i.VisComponents.LeftCenter)&&!r[t+1]&&(r[t+1]=!0))}for(c in r)f=parseInt(c),isNaN(f)||this.highlightHorizontal(f,i.HighlightDirection.FromBelow,!1,!1)}},n.prototype.highlightFromAbove=function(n){var r,u,t,c,f;if(this.cells&&Object.keys(this.cells).length!==0&&n){r={};for(f in n)if(u=n[f],t=u.id,u.hasHighlights()){var e=this.cells[t-1],o=this.cells[t],s=this.cells[t+1],h=i.VisComponents.BottomLeft|i.VisComponents.BottomMiddle|i.VisComponents.BottomRight|i.VisComponents.Circle;e&&e.topRight&&u.bottomLeftHighlit&&(e.setHighlights(i.VisComponents.TopRight|h),e.circle&&e.setHighlights(i.VisComponents.RightCenter)&&!r[t-1]&&(r[t-1]=!0));o&&o.topMiddle&&(u.bottomMiddleHighlit||u.octopusMergeHighlit)&&(o.setHighlights(i.VisComponents.TopMiddle|h),o.circle&&o.setHighlights(i.VisComponents.LeftCenter|i.VisComponents.RightCenter)&&!r[t]&&(r[t]=!0));s&&s.topLeft&&u.bottomRightHighlit&&(s.setHighlights(i.VisComponents.TopLeft|h),s.circle&&s.setHighlights(i.VisComponents.LeftCenter)&&!r[t+1]&&(r[t+1]=!0))}for(c in r)f=parseInt(c),isNaN(f)||this.highlightHorizontal(f,i.HighlightDirection.FromAbove,!1,!1)}},n.prototype.highlightHorizontal=function(n,t,r,u){var e=null,f=null,h=this.cells[n],o=n-1,s;if(h){for(f=h,e=f,t===i.HighlightDirection.SelectionRow?(r&&f.setHighlights(i.VisComponents.TopLeft|i.VisComponents.TopRight|i.VisComponents.TopMiddle|i.VisComponents.LeftCenter|i.VisComponents.RightCenter),u&&f.setHighlights(i.VisComponents.BottomLeft|i.VisComponents.BottomRight|i.VisComponents.BottomMiddle|i.VisComponents.LeftCenter|i.VisComponents.RightCenter)):t===i.HighlightDirection.FromAbove?f.setHighlights(i.VisComponents.BottomLeft|i.VisComponents.BottomRight|i.VisComponents.BottomMiddle):t===i.HighlightDirection.FromBelow&&f.setHighlights(i.VisComponents.TopLeft|i.VisComponents.TopRight|i.VisComponents.TopMiddle),f=this.cells[o];e&&(e.leftMiddleHighlit||e.leftMergeHighlit)&&f&&o>=0;){if(o--,s=!1,(f.setHighlights(i.VisComponents.LeftCenter)||f.setHighlights(i.VisComponents.RightCenter))&&(s=!0,f.setHighlights(i.VisComponents.RightCenter),t===i.HighlightDirection.FromAbove&&f.circle&&f.setHighlights(i.VisComponents.BottomMiddle|i.VisComponents.BottomLeft|i.VisComponents.BottomRight),t===i.HighlightDirection.FromBelow&&f.circle&&f.setHighlights(i.VisComponents.TopMiddle|i.VisComponents.TopLeft|i.VisComponents.TopRight)),(t===i.HighlightDirection.FromAbove||t===i.HighlightDirection.SelectionRow)&&f.setHighlights(i.VisComponents.RightMerge)&&(s=!0,f.setHighlights(i.VisComponents.OctopusMerge)),!s)break;e=f;f=this.cells[o]}for(o=n+1,e=h,f=this.cells[o];e&&(e.rightMiddleHighlit||e.rightMergeHighlit)&&f;){if(o++,s=!1,(f.setHighlights(i.VisComponents.RightCenter)||f.setHighlights(i.VisComponents.LeftCenter))&&(s=!0,f.setHighlights(i.VisComponents.LeftCenter),t===i.HighlightDirection.FromAbove&&f.circle&&f.setHighlights(i.VisComponents.BottomMiddle|i.VisComponents.BottomLeft|i.VisComponents.BottomRight),t===i.HighlightDirection.FromBelow&&f.circle&&f.setHighlights(i.VisComponents.TopMiddle|i.VisComponents.TopLeft|i.VisComponents.TopRight)),(t===i.HighlightDirection.FromAbove||t===i.HighlightDirection.SelectionRow)&&f.setHighlights(i.VisComponents.LeftMerge)&&(s=!0,f.setHighlights(i.VisComponents.OctopusMerge)),!s)break;e=f;f=this.cells[o]}}},n.prototype.unHighlight=function(){for(var n in this.cells)this.cells[n].unsetAllHighlights()},n.prototype._isInSelectedRange=function(){return!!(this.parentGraph&&this.parentGraph.selectedOldestExcisedParentRowId>=0&&this.parentGraph.selectedYoungestExcisedChildRowId>=0&&this.id<this.parentGraph.selectedOldestExcisedParentRowId&&this.id>this.parentGraph.selectedYoungestExcisedChildRowId)},n}();t.HistoryGraphRow=u});

define("VersionControl/Scenarios/History/GitHistory/GitGraph/HistoryGraphHelper",["require","exports","VersionControl/Scenarios/History/GitHistory/GitGraph/HistoryGraphRenderContracts","VersionControl/Scenarios/History/GitHistory/GitGraph/HistoryGraph","VersionControl/Scenarios/History/GitHistory/GitGraph/HistoryGraphRow","VersionControl/Scenarios/History/GitHistory/GitGraph/VisualizationCell","VersionControl/Scenarios/History/GitHistory/GitGraph/GraphConstants"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function n(){}return n.getHistoryGraph=function(n){var o=this,t,f,e;return n?(t={},f={},n.forEach(function(i,r){var e=n[r-1],s=n[r+1],h=new u.HistoryGraphRow({id:r,commit:i.commit,cells:o._getGraphCell(i.cells),maxCellId:i.maxCellId,commitCellId:i.commitLane,hasIncomingExcisedCommits:i.hasIncomingExcisedCommits,hasOutgoingExcisedCommits:i.hasOutgoingExcisedCommits,aboveCommitId:e?e.commit.commitId:null,belowCommitId:s?s.commit.commitId:null});t[i.commit.commitId]=h;f[r]=i.commit.commitId}),this._populateChildAndParentCommitIds(t),e=new r.HistoryGraph(t,f,{orientation:i.HistoryGraphOrientation.RightJustify,excisionSettings:this.getDefaultExcisionSettings(),renderSettings:this.getDefaultRendererSettings()}),this._setParentGraph(e),e):null},n.getDefaultExcisionSettings=function(){return{excisionEnabled:!0,emptyLineLengthLimit:e.GraphSettingsConstants.EmptyLineLengthLimit,emptyLineLengthMultiplier:undefined}},n.getDefaultRendererSettings=function(){return{nodeStrokeWidth:1,mergeStrokeWidth:1,nodeRadius:4,mergeRadius:4,nodeHighlightRadius:4,mergeHighlightRadius:4,nodeColor:"#3399FF",mergeColor:"#6D6D6D",nodeHighlightColor:"#3399FF",mergeHighlightColor:"#6D6D6D",nodeFillColor:"#3399FF",mergeFillColor:"#6D6D6D",nodeHighlightFillColor:"#3399FF",mergeHighlightFillColor:"#6D6D6D",lineWidth:1,lineHighlightWidth:2,lineColor:"#8D8D8D",lineHighlightColor:"#3399FF",cellStaticWidth:16,cellStaticHeight:32}},n._populateChildAndParentCommitIds=function(n){var r=function(t){var i=n[t];i.commit.parents&&i.commit.parents.length>0&&i.commit.parents.map(function(t){if(n[t]){var r=n[t];return r.childCommitIds==undefined&&(r.childCommitIds=[]),r.childCommitIds.push(i.commit.commitId),t}return"-1"}).forEach(function(n){i.parentCommitIds==undefined&&(i.parentCommitIds=[]);i.parentCommitIds.push(n)})},i,t;for(i in n)r(i);for(t in n)n[t].childCommitIds&&n[t].childCommitIds.sort(),n[t].parentCommitIds&&n[t].parentCommitIds.sort()},n._getGraphCell=function(n){var r=[];for(var i in n){var t=n[i],u=typeof t.components=="string"?f.VisComponentsHelper.GetComponentsFromString(t.components):t.components,e=typeof t.excisionComponents=="string"?f.ExcisionVisComponentsHelper.GetComponentsFromString(t.excisionComponents):t.excisionComponents;r[i]=new f.VisualizationCell(parseInt(i),u,e)}return r},n._setParentGraph=function(n){for(var t in n.rows)n.rows[t].parentGraph=n},n}();t.HistoryGraphHelper=o});

define("VersionControl/Scenarios/History/GitHistory/Stores/HistoryListStore",["require","exports","VSS/Utils/String","VSS/Flux/Store","VersionControl/Scenarios/History/GitHistory/GitGraph/GraphConstants","VersionControl/Scenarios/History/GitHistory/GitGraph/HistoryGraphHelper","VersionControl/Scripts/Resources/TFS.Resources.VersionControl"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={},t.populateHistoryList=function(n){var h=t.state.isArtifactsLoading,i=$.extend(!0,{},n.gitHistoryQueryResult),u=i.results,e=t.state.historyResults,c=t.state.isGitGraphFeatureEnabled,r,o,s;i.results=[];e&&n.appendToExistingResults&&(i.results=e.results);u.length>0&&(i.results=i.results.concat(u));n.webClientGraphRows&&n.webClientGraphRows.length>i.results.length&&(n.webClientGraphRows=n.webClientGraphRows.splice(0,i.results.length));n.searchCriteria.user||(r=f.HistoryGraphHelper.getHistoryGraph(n.webClientGraphRows),n.isGitGraphFeatureEnabled&&(r=r||t.state.gitGraph),t.state.gitGraph&&t.state.gitGraph.selectedCommitId&&r&&r.select(t.state.gitGraph.selectedCommitId));o=t._getLastDisplayedCommitId(i.results);s=i.results&&i.results.length>0;t.state={historyResults:i,searchCriteria:n.searchCriteria,dataOptions:n.dataOptions,skipResultsForShowMore:n.skipResultsForNextFetch,isLoading:!1,isArtifactsLoading:h,shouldFetchRenameHistory:u.length>0,resultsObjectType:n.resultsObjectType,lastDisplayedCommit:o,gitGraph:r,isGitGraphFeatureEnabled:n.isGitGraphFeatureEnabled,gitGraphMessage:t._getGraphMessage(c,s,n),fetchRenameHistoryCalled:t.state.fetchRenameHistoryCalled||n.fetchRenameHistoryCalled,fetchRenameHistoryCalloutDismissed:t.state.fetchRenameHistoryCalloutDismissed,isFilterPanelVisible:t.state.isFilterPanelVisible,clearSelection:!1};t.emitChanged()},t.mergeArtifactsToHistoryList=function(n){var i=t.state.historyResults;i!=null&&i.results!=null&&i.results.length>0&&Object.keys(n).length>0&&($.each(i.results,function(t,i){var r=i.changeList,f=r.commitId.full,u;n.hasOwnProperty(f)&&(u=n[f],r.statuses=u.statuses,r.pullRequest=u.pullRequest,r.tags=u.tags)}),t.state.historyResults=i,t.state.isArtifactsLoading=!1,t.emitChanged())},t.updateFullComment=function(n){t.state.historyResults.results.forEach(function(t){t.changeList.version===n.version&&(t.changeList.comment=n.comment,t.changeList.commentTruncated=!1)});t.emitChanged()},t.clearAndStartLoading=function(n){t.state=t._getDefaultState();n&&(t.state.searchCriteria=n);t.startLoading()},t.startLoading=function(){t.state.isLoading=!0;t.state.historyResults=undefined;t.state.dataOptions=undefined;t.state.fetchRenameHistoryCalled=undefined;t.state.fetchRenameHistoryCalloutDismissed=undefined;t.state.clearSelection=!0;t.emitChanged()},t.failLoad=function(n){t.state.error=n;t.state.isLoading=!1;t.emitChanged()},t.startLoadingMore=function(){t.state.isLoading=!1;t.emitChanged()},t.startLoadingArtifacts=function(){t.state.isArtifactsLoading=!0;t.emitChanged()},t.toggleFilterPanelVisibility=function(){t.state.isFilterPanelVisible=!t.state.isFilterPanelVisible;try{localStorage.setItem(e.GitHistoryTab_Ls_Key_isFilterPanelVisible,t.state.isFilterPanelVisible?"true":"false")}catch(n){}t.emitChanged()},t.historyGraphUpdated=function(n){t.state.gitGraph=n;t.emitChanged()},t.clear=function(){t.state=t._getDefaultState();t.emitChanged()},t.dismissGraphMessage=function(n){t.state.gitGraphMessage=null;t._updateGraphUserMessageDismissed(n);t.emitChanged()},t._getDefaultState=function(){var n,i=t.state.isFilterPanelVisible;return t.state&&(n=t.state.isGitGraphFeatureEnabled),{historyResults:null,searchCriteria:null,dataOptions:null,isLoading:null,error:null,isGitGraphFeatureEnabled:n,fetchRenameHistoryCalled:null,fetchRenameHistoryCalloutDismissed:undefined,isFilterPanelVisible:i,clearSelection:!1}},t}return __extends(t,n),t.prototype.dispose=function(){this.state=null},t.prototype._getLastDisplayedCommitId=function(n){var i="",r,t;return n&&n.length>0&&(r=n[n.length-1],t=r.changeList,t&&t.commitId&&(i=t.commitId.full)),i},t.prototype._getGraphMessage=function(n,t,r){if(r.isGitGraphFeatureEnabled){if(t&&r.searchCriteria&&r.searchCriteria.user&&this._canShowEngagementMessageToUser(u.GraphMessageDismissedKeys.AuthorFilteredMessageDismissed))return{key:u.GraphMessageType.AuthorFiltered,title:e.GitGraphMessage_Title_NoGraph,content:e.GitGraphMessage_Content_AuthorFiltered};if(r.searchCriteria&&r.searchCriteria.skip>u.GraphSettingsConstants.GraphRowLimit&&this._canShowEngagementMessageToUser(u.GraphMessageDismissedKeys.RowLimitReachedMessageDismissed))return{key:u.GraphMessageType.RowLimitReached,title:e.GitGraphMessage_Title_NoGraph,content:i.format(e.GitGraphMessage_Content_RowLimitReached,u.GraphSettingsConstants.GraphRowLimit)};if(!n&&t&&this._canShowEngagementMessageToUser(u.GraphMessageDismissedKeys.FeatureEnabledMessageDismissed))return{key:u.GraphMessageType.FeatureEnabled,title:e.GitGraphMessage_Title_FeatureEnabled,content:e.GitGraphMessage_Content_FeatureEnabled};if((r.fetchRenameHistoryCalled||this.state.fetchRenameHistoryCalled)&&!this.state.fetchRenameHistoryCalloutDismissed)return{key:u.GraphMessageType.RenameHistory,title:e.GitGraphMessage_Title_NoGraph,content:e.GitGraphMessage_Content_RenameHistory}}return this.state.gitGraphMessage},t.prototype._canShowEngagementMessageToUser=function(n){try{return localStorage.getItem(n)!=="true"}catch(t){return!1}},t.prototype._updateGraphUserMessageDismissed=function(n){var t=null;switch(n){case u.GraphMessageType.AuthorFiltered:t=u.GraphMessageDismissedKeys.AuthorFilteredMessageDismissed;break;case u.GraphMessageType.FeatureEnabled:t=u.GraphMessageDismissedKeys.FeatureEnabledMessageDismissed;break;case u.GraphMessageType.RowLimitReached:t=u.GraphMessageDismissedKeys.RowLimitReachedMessageDismissed;break;case u.GraphMessageType.RenameHistory:this.state.fetchRenameHistoryCalloutDismissed=!0}if(t)try{localStorage.setItem(t,"true")}catch(i){}},t}(r.Store);t.HistoryListStore=o});

define("VersionControl/Scenarios/History/TfvcHistory/Stores/TfvcChangesetsFilterStore",["require","exports","VSS/Flux/Store"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={},t.updateFilters=function(n){t.state={userName:n.userName,userId:n.userId,fromDate:n.fromDate,toDate:n.toDate,fromVersion:n.fromVersion,toVersion:n.toVersion};t.emitChanged()},t}return __extends(t,n),t}(i.Store);t.TfvcChangesetsFilterStore=r});

define("VersionControl/Scenarios/History/TfvcHistory/Stores/TfvcChangeSetsStore",["require","exports","VSS/Flux/Store","VersionControl/Scripts/Generated/TFS.VersionControl.Legacy.Contracts","VersionControl/Scripts/TFS.VersionControl"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.DEFAULT_CACHE_KEY=-1,t.expandedChangesets={},t._getDefaultState=function(){return{knownHistoryItems:{},tfvcChangeSetsListItems:[],hasMoreChangeSets:!1,isLoading:!0,isSetBefore:!1,error:null}},t.state=t._getDefaultState(),t.loadHistoryList=function(n){t.state.error=null;t.state.isLoading=!1;t.state.isSetBefore=!0;var i=t.DEFAULT_CACHE_KEY;n.changesetId&&(t.expandedChangesets[n.changesetId]=!0,i=n.changesetId);n.historyList&&n.historyList.results&&(t.state.hasMoreChangeSets=n.historyList.moreResultsAvailable,t.updateCache(i,n.historyList,n.isLoadMore));t._refreshChangesetsListItems();t.emitChanged()},t.collapseChangeset=function(n){t.expandedChangesets[n]&&(t.expandedChangesets[n]=null);t._refreshChangesetsListItems();t.emitChanged()},t.setLoadingStarted=function(n){n&&n.changesetId?t._setLinkLoading(n.changesetId,!0):n&&n.isLoadMore?t.state.isLoading=!0:t._setDefaultState();t.emitChanged()},t.clearAllErrors=function(){t.state.error=null;t.emitChanged()},t.clear=function(){t._setDefaultState();t.emitChanged()},t.failLoad=function(n){t.state.isLoading=!1;n&&(t.state.error=n.error,n.changesetId&&t._setLinkLoading(n.changesetId,!1));t.emitChanged()},t._setDefaultState=function(){t.expandedChangesets=[];t.state=t._getDefaultState()},t}return __extends(t,n),t.prototype.dispose=function(){this.state.tfvcChangeSetsListItems=null;this.expandedChangesets=null;this.state.knownHistoryItems=null},t.prototype._setLinkLoading=function(n,t){var i=this._findLinkItemIndex(n);i>0&&(this.state.tfvcChangeSetsListItems[i].changeLinkRow.isLoadingHistory=t)},t.prototype._findLinkItemIndex=function(n){for(var i,u,r=-1,t=0;t<this.state.tfvcChangeSetsListItems.length;t++)if(i=this.state.tfvcChangeSetsListItems[t],u=i.item.changeList.changesetId,n===u&&i.changeLinkRow){r=t;break}return r},t.prototype._constructHistoryListRenameRowItem=function(n,t,i,r,u){return{item:n,itemDepth:r,changeLinkRow:{isExpanded:t,changeType:n.itemChangeType,oldFileName:i,isExpandedHistoryEmpty:u?u:null}}},t.prototype.updateCache=function(n,t,i){i===void 0&&(i=!1);var r=t.results;n||(n=-1);this.state.knownHistoryItems[n]=i&&this.state.knownHistoryItems[n]?this.state.knownHistoryItems[n].concat(r):r},t.prototype._refreshChangesetsListItems=function(){var n=this.state.knownHistoryItems[this.DEFAULT_CACHE_KEY];this.state.tfvcChangeSetsListItems=[];this._traverseRecursivelyToConstructFinalList(n,0)},t.prototype._traverseRecursivelyToConstructFinalList=function(n,t){for(var s,h,e,f=0;f<n.length;f++){var i=n[f],o=i.changeList.changesetId,c={item:i,itemDepth:t};this.state.tfvcChangeSetsListItems.push(c);s=i&&(u.ChangeType.hasChangeFlag(i.itemChangeType,r.VersionControlChangeType.Rename)&&f+1===n.length||u.ChangeType.hasChangeFlag(i.itemChangeType,r.VersionControlChangeType.Branch)||u.ChangeType.hasChangeFlag(i.itemChangeType,r.VersionControlChangeType.Merge));s&&(this.expandedChangesets[o]?(h="",e=this.state.knownHistoryItems[o],e&&e.length>0?(this.state.tfvcChangeSetsListItems.push(this._constructHistoryListRenameRowItem(i,!0,e[0].serverItem,t)),this._traverseRecursivelyToConstructFinalList(e,t+1)):this.state.tfvcChangeSetsListItems.push(this._constructHistoryListRenameRowItem(i,!0,h,t,!0))):this.state.tfvcChangeSetsListItems.push(this._constructHistoryListRenameRowItem(i,!1,"",t)))}},t}(i.RemoteStore);t.TfvcChangeSetsStore=f});

define("VersionControl/Scenarios/Shared/Committing/CommitPromptStore",["require","exports","VSS/Flux/Store","VSS/Utils/String","TFS/VersionControl/Contracts","VersionControl/Scripts/Resources/TFS.Resources.VersionControl","VersionControl/Scripts/VersionControlPath"],function(n,t,i,r,u,f,e){function c(n,t,i,e,o){return o||e?"":n===u.VersionControlChangeType.Add&&i?r.format(f.DefaultAddSingleFileIntoNewSubfolderCommentFormat,t,i):r.format(s[n],t)}Object.defineProperty(t,"__esModule",{value:!0});var o,s=(o={},o[u.VersionControlChangeType.Edit]=f.AddFileDialogDefaultCommentSingleFileWithEdit,o[u.VersionControlChangeType.Add]=f.FileViewerDefaultCommitMessageForAdd,o[u.VersionControlChangeType.Rename]=f.DefaultRenameCommentFormat,o[u.VersionControlChangeType.Delete]=f.DefaultDeleteCommentFormat,o),h=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={isVisible:!1,initialComment:"",isSaving:!1},t.initialize=function(n){t.state.isGit=n;t.emitChanged()},t.prompt=function(n){t.state.isVisible=!0;t.state.editingPath=n.path;t.state.changeType=n.changeType;t.state.itemName=e.getFileName(n.path);t.state.initialComment=c(n.changeType,t.state.itemName,n.newSubfolder,n.isCreatingFolder,n.isUploading);t.state.isSaving=!1;t.state.errorMessage=undefined;t.state.initialDrop=n.initialDrop;t.state.isUploading=n.isUploading;t.state.existingFileList=n.existingFileList;t.state.isCreatingFolder=n.isCreatingFolder;t.emitChanged()},t.start=function(){t.state.isSaving=!0;t.state.errorMessage=undefined;t.state.gatedCheckin=undefined;t.emitChanged()},t.notifyGatedCheckin=function(n){t.state.gatedCheckin=n;t.state.isSaving=!1;t.emitChanged()},t.notifyError=function(n){t.state.errorMessage=n.message;t.state.isSaving=!1;t.state.gatedCheckin=undefined;t.emitChanged()},t.hide=function(){t.state.isVisible=!1;t.state.gatedCheckin=undefined;t.emitChanged()},t.hideAndRememberBranch=function(n){t.state.existingBranches&&n.newBranchVersionSpec&&(t.state.existingBranches=t.state.existingBranches.concat(n.newBranchVersionSpec.branchName));t.hide()},t.loadExistingBranches=function(n){t.state.existingBranches=n;t.emitChanged()},t.updateChildren=function(n){t.state.isVisible&&(n&&n.forEach(function(n){r.localeIgnoreCaseComparer(n.serverItem,t.state.editingPath)===0&&(t.state.existingFileList=n.childItems)}),t.emitChanged())},t}return __extends(t,n),t}(i.Store);t.CommitPromptStore=h});

define("VersionControl/Scenarios/Shared/Path/PathSearchStore",["require","exports","VSS/Flux/Store"],function(n,t,i){function u(n,t){if(!n.length||!t.length)return n;var i={};return t.forEach(function(n){return i[n.path]=!0}),n.filter(function(n){return!i[n.path]})}Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var i=n!==null&&n.apply(this,arguments)||this;return i._state=t._getEmptyState(),i.onPathEdit=function(n){i._state.searchText=n;i._state.inputTextEdited=!0},i.setInitialSearchText=function(n){i._state.searchText=n},i.setGlobalSearchResults=function(n){i._setSearchResults(i._state.inFolderSearchResults,n);i.emitChanged()},i.setInFolderSearchResults=function(n){i._setSearchResults(n,i._state.globalSearchResults);i.emitChanged()},i.reset=function(){i._state=t._getEmptyState();i.emitChanged()},i.selectItem=function(n){i._state.selectedItemIdentifier=n;i.emitChanged()},i.failPathSearch=function(n){i._state.errorMessage=n.message;i.emitChanged()},i.getState=function(){return i._state},i}return __extends(t,n),t.prototype._setSearchResults=function(n,i){var r=!0;n&&this._state.searchText===n.searchText?this._state.inFolderSearchResults=n:(this._state.inFolderSearchResults=t._getEmptyState().inFolderSearchResults,r=!1);i&&this._state.searchText===i.searchText?(this._state.globalSearchResults=$.extend({},i),this._state.globalSearchResults.results=u(this._state.globalSearchResults.results,this._state.inFolderSearchResults.results)):(this._state.globalSearchResults=t._getEmptyState().globalSearchResults,r=!1);this._state.areAllResultsSet=r;this._state.selectedItemIdentifier=null;this._state.resultsSetAtLeastOnce=!0},t._getEmptyState=function(){return{searchText:null,inputTextEdited:!1,globalSearchResults:{searchText:null,results:[]},inFolderSearchResults:{searchText:null,results:[]},selectedItemIdentifier:null,resultsSetAtLeastOnce:!1,areAllResultsSet:!1,errorMessage:null}},t}(i.Store);t.PathSearchStore=r});

define("VersionControl/Scenarios/Shared/Path/PathStore",["require","exports","VSS/Flux/Store","VersionControl/Scenarios/Shared/Path/PathParser"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={},t.changeRepository=function(n,i){t.state={isGit:i,repositoryName:n,folders:[],inputText:""};t.emitChanged()},t.startEditing=function(n){t.state.isEditing=!0;t.state.inputText=n||"";t.emitChanged()},t.cancelEditing=function(){t.state.isEditing=!1;t.state.inputText="";t.emitChanged()},t.changeInputText=function(n){n!=undefined&&(t.state.inputText=n,t.emitChanged())},t.setPath=function(n){if(t.state.path!==n||t.state.isEditing||t.state.isDirty){t.state.path=n;t.state.isEditing=!1;t.state.inputText="";var i=new r.PathParser(n);t.state.isRoot=i.isRoot;t.state.folders=i.folders.map(function(n,t){return{name:n,path:i.getFolderPath(t)}});t.state.itemName=i.lastPartName;t.state.isDirty=!1;t.state.isGit||(t.state.repositoryName=i.getRootPath());t.emitChanged()}},t.changeDirty=function(n){t.state.isDirty!==n&&(t.state.isDirty=n,t.emitChanged())},t}return __extends(t,n),t}(i.Store);t.PathStore=u});

define("VersionControl/Scenarios/Shared/Stores/ContextStore",["require","exports","VSS/Flux/Store"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=n.call(this)||this;return t.onContextUpdated=function(n){t._tfsContext=n.tfsContext;t._repositoryContext=n.repositoryContext;t._projectId=n.tfsContext&&n.tfsContext.navigation?n.tfsContext.navigation.projectId:null;t._loading=!1;t.emitChanged()},t._tfsContext=null,t._repositoryContext=null,t}return __extends(t,n),t.prototype.getRepositoryContext=function(){return this._repositoryContext},t.prototype.getTfsContext=function(){return this._tfsContext},t.prototype.getProjectId=function(){return this._projectId},t}(i.RemoteStore);t.ContextStore=r});

define("VersionControl/Scenarios/Explorer/Stores/StoresHub",["require","exports","VSS/Diag","VSS/Flux/Store","VersionControl/Scenarios/Explorer/Stores/AddNewFilePromptStore","VersionControl/Scenarios/Explorer/Stores/CompareStore","VersionControl/Scenarios/Explorer/Stores/EditDisabledAlertStore","VersionControl/Scenarios/Explorer/Stores/ExplorerPermissionsStore","VersionControl/Scenarios/Explorer/Stores/ExtensionsStore","VersionControl/Scenarios/Explorer/Stores/FileContentStore","VersionControl/Scenarios/Explorer/Stores/GitFolderContentStore","VersionControl/Scenarios/Explorer/Stores/ItemContentStore","VersionControl/Scenarios/Explorer/Stores/KnownItemsStore","VersionControl/Scenarios/Explorer/Stores/LoseChangesPromptStore","VersionControl/Scenarios/Explorer/Stores/NotificationStore","VersionControl/Scenarios/Explorer/Stores/PivotTabsStore","VersionControl/Scenarios/Explorer/Stores/RepositoryBadgesStore","VersionControl/Scenarios/Explorer/Stores/StatusesStore","VersionControl/Scenarios/Explorer/Stores/TfvcFolderContentStore","VersionControl/Scenarios/Explorer/Stores/TreeStore","VersionControl/Scenarios/Explorer/Stores/VersionStore","VersionControl/Scenarios/History/GitHistory/Stores/HistoryListPermissionsStore","VersionControl/Scenarios/History/GitHistory/Stores/HistoryListStore","VersionControl/Scenarios/History/TfvcHistory/Stores/TfvcChangesetsFilterStore","VersionControl/Scenarios/History/TfvcHistory/Stores/TfvcChangeSetsStore","VersionControl/Scenarios/Shared/Committing/CommitPromptStore","VersionControl/Scenarios/Shared/Path/PathSearchStore","VersionControl/Scenarios/Shared/Path/PathStore","VersionControl/Scenarios/Shared/Permissions/PermissionsStore","VersionControl/Scenarios/Shared/Stores/ContextStore","VersionControl/Scripts/Generated/TFS.VersionControl.Legacy.Contracts"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht){function wt(n,t){return n.length===t.length&&at(n,t).length===n.length}function at(n,t){return n.filter(function(n){return t.indexOf(n)>=0})}var ct;Object.defineProperty(t,"__esModule",{value:!0});ct=function(){function n(n,t,i){var r=this;this.onDispatched=i;this.compositeStores=new pt;this.emitChanged=function(n,t,i){if(r.aggregateState=r.createAggregateState(n),r.compositeStores.emitCompositeChanged(n),r.onDispatched)r.onDispatched(n,t,i)};this.getAggregateState=function(){return r.aggregateState};this.listener=new yt(this.emitChanged);this.commitPromptStore=this.createCommitPromptStore(n);this.compareStore=this.createCompareStore(n);this.contextStore=this.createContextStore(n);this.editDisabledAlertStore=this.createEditDisabledAlertStore(n);this.extensionsStore=this.createExtensionsStore(n);this.fileContentStore=this.createFileContentStore(n);this.folderContentStore=this.createFolderContentStore(n,t);this.itemContentStore=this.createItemContentStore(n);this.knownItemsStore=this.createKnownItemsStore(n);this.loseChangesPromptStore=this.createLoseChangesPromptStore(n);this.addNewFileStore=this.createAddNewFileStore(n);this.notificationStore=this.createNotificationStore(n);this.pathStore=this.createPathStore(n);this.pathSearchStore=this.createPathSearchStore(n);this.pivotTabsStore=this.createPivotTabsStore(n);this.repositoryBadgesStore=this.createRepositoryBadgesStore(n);this.smartFolderTreeStore=this.createSmartFolderTreeStore(n,t);this.statusesStore=this.createStatusesStore(n);this.versionStore=this.createVersionStore(n);t?(this.explorerPermissionsStore=this.createExplorerPermissionsStore(n),this.historyListPermissionStore=this.createHistoryListPermissionStore(n),this.settingsPermissionsStore=this.createSettingsPermissionStore(n),this.historyListStore=this.createHistoryListStore(n)):(this.tfvcHistoryListStore=this.createTfvcHistoryListStore(n),this.tfvcHistoryFilterStore=this.createTfvcHistoryFilterStore(n))}return n.prototype.createAggregateState=function(n){var t=n.indexOf("smartFolderTree")>=0,i=this.aggregateState&&!t?this.aggregateState.treeState:{visibleItems:this.smartFolderTreeStore.getVisible()};return{pathState:this.pathStore.state,pathSearchState:this.pathSearchStore.getState(),versionState:this.versionStore.state,repositoryBadgesState:this.repositoryBadgesStore.state,statusesState:this.statusesStore.state,pivotTabsState:this.pivotTabsStore.state,knownItemsState:this.knownItemsStore.state,notificationState:this.notificationStore.state,itemContentState:this.itemContentStore.state,folderContentState:this.folderContentStore.state,fileContentState:this.fileContentStore.state,commitPromptState:this.commitPromptStore.state,compareState:this.compareStore.state,editDisabledAlertState:this.editDisabledAlertStore.state,extensionsState:this.extensionsStore.state,loseChangesPromptState:this.loseChangesPromptStore.state,addNewFilePromptState:this.addNewFileStore.state,historyListState:this.historyListStore&&this.historyListStore.state,permissionsState:this.explorerPermissionsStore?this.explorerPermissionsStore.getPermissions():o.getTfvcExplorerPermissions(),tfvcHistoryFilterState:this.tfvcHistoryFilterStore&&this.tfvcHistoryFilterStore.state,tfvcHistoryListState:this.tfvcHistoryListStore&&this.tfvcHistoryListStore.state,treeState:i,repositoryContext:this.contextStore.getRepositoryContext(),projectId:this.contextStore.getProjectId(),isGit:this.pathStore.state.isGit,rootPath:this.fileContentStore.state.rootPath,tab:this.pivotTabsStore.state.currentTab,path:this.pathStore.state.path,isFolder:this.itemContentStore.state.item&&this.itemContentStore.state.item.isFolder,version:this.versionStore.state.versionSpec&&this.versionStore.state.versionSpec.toVersionString(),versionSpec:this.versionStore.state.versionSpec,settingPermissionState:this.settingsPermissionsStore?this.settingsPermissionsStore.getPermissions():this.getDefaultSettingsPermissions()}},n.prototype.getCompositeStore=function(n){return this.compositeStores.getOrCreate(n)},n.prototype.createCommitPromptStore=function(n){var t=new ut.CommitPromptStore;return this.listen(n.currentRepositoryChanged,"commitPrompt",function(n){return t.initialize(n.isGit)}),this.listen(n.commitPrompted,"commitPrompt",t.prompt),this.listen(n.commitStarted,"commitPrompt",t.start),this.listen(n.commitSaved,"commitPrompt",t.hideAndRememberBranch),this.listen(n.filesUploaded,"commitPrompt",t.hideAndRememberBranch),this.listen(n.commitGatedCheckin,"commitPrompt",t.notifyGatedCheckin),this.listen(n.commitFailed,"commitPrompt",t.notifyError),this.listen(n.commitDialogDismissed,"commitPrompt",t.hide),this.listen(n.existingBranchesLoaded,"commitPrompt",t.loadExistingBranches),this.listen(n.itemRetrieved,"commitPrompt",function(n){return t.updateChildren(n.allRetrievedItems)}),this.listen(n.editDisabledAlerted,"commitPrompt",t.hide),t},n.prototype.createAddNewFileStore=function(n){var t=new u.AddNewFilePromptStore;return this.listen(n.currentRepositoryChanged,"addNewFilePrompt",function(n){return t.initialize(n.isGit)}),this.listen(n.newFileAsked,"addNewFilePrompt",t.prompt),this.listen(n.newFileDismissed,"addNewFilePrompt",t.hide),this.listen(n.newFileAdded,"addNewFilePrompt",t.hide),this.listen(n.newFileTargetFolderChanged,"addNewFilePrompt",t.changeTargetFolder),this.listen(n.itemRetrieved,"addNewFilePrompt",function(n){return t.updateChildren(n.allRetrievedItems)}),this.listen(n.editDisabledAlerted,"addNewFilePrompt",t.hide),t},n.prototype.createCompareStore=function(n){var t=new f.CompareStore;return this.listen(n.itemChanged,"compare",function(n){return n.compareOptions&&t.update(n.compareOptions)}),this.listen(n.tabChanged,"compare",function(n){return n.compareOptions&&t.update(n.compareOptions)}),this.listen(n.compareChanged,"compare",t.update),this.listen(n.diffInlineToggled,"compare",t.toggleDiffInline),this.listen(n.diffLinesLoaded,"compare",t.loadDiffLines),this.listen(n.goToPreviousDiffRequested,"compare",t.goToPreviousDiff),this.listen(n.goToNextDiffRequested,"compare",t.goToNextDiff),t},n.prototype.createContextStore=function(n){var t=new st.ContextStore;return this.listen(n.currentRepositoryChanged,"context",function(n){return t.onContextUpdated({tfsContext:n.repositoryContext.getTfsContext(),repositoryContext:n.repositoryContext})}),t},n.prototype.createEditDisabledAlertStore=function(n){var t=new e.EditDisabledAlertStore;return this.listen(n.editDisabledAlerted,"editDisabledAlert",t.prompt),this.listen(n.editDisabledDialogDismissed,"editDisabledAlert",t.dismiss),t},n.prototype.createExtensionsStore=function(n){var t=new s.ExtensionsStore;return this.listen(n.extensionLoaded,"extensions",t.load),t},n.prototype.createFileContentStore=function(n){var t=new h.FileContentStore;return this.listen(n.currentRepositoryChanged,"fileContent",t.changeRepository),this.listen(n.itemChanged,"fileContent",t.selectItem),this.listen(n.newFileAdded,"fileContent",function(n){return t.addNewFile(n.newFileItem)}),this.listen(n.initialContentRetrieved,"fileContent",function(n){return t.loadOriginalContent({originalContent:n})}),this.listen(n.editFileStarted,"fileContent",function(n){return t.editFile(n.fileItem)}),this.listen(n.fileContentLoaded,"fileContent",t.loadOriginalContent),this.listen(n.fileContentEdited,"fileContent",function(n){return t.editContent(n.newContent)}),this.listen(n.commitSaved,"fileContent",t.commit),this.listen(n.editingFileDiscarded,"fileContent",t.discardEditingFile),this.listen(n.diffInlineToggled,"fileContent",t.toggleDiffInline),t},n.prototype.createFolderContentStore=function(n,t){var u=this,i,r;return t?(r=new c.GitFolderContentStore,this.listen(n.remainderFolderLatestChangesRequested,"folderContent",r.showLoadingRemainderLatestChanges),this.listen(n.commitDetailsRetrieved,"folderContent",r.loadCommitDetails),i=r):i=new k.TfvcFolderContentStore,this.listen(n.tabChanged,"folderContent",i.changeTab),this.listen(n.itemChanged,"folderContent",function(n){var t=n.path,i=n.itemInfo;return u.folderContentStore.changeItem(t,i)}),this.listen(n.newFileAdded,"folderContent",function(n){var t=n.newFileItem;return u.folderContentStore.changeItem(t.serverItem,undefined)}),this.listen(n.commitSaved,"folderContent",i.commit),this.listen(n.filesUploaded,"folderContent",i.commit),this.listen(n.folderChildrenSelected,"folderContent",i.selectChildren),this.listen(n.itemRetrieved,"folderContent",function(n){return i.loadItems(n.itemInfo)}),this.listen(n.editingFileDiscarded,"folderContent",function(n){var t=n.path,i=n.navigateItemInfo;return u.folderContentStore.changeItem(t,i)}),this.listen(n.folderLatestChangesRetrieved,"folderContent",i.loadLatestChanges),i},n.prototype.createItemContentStore=function(n){var t=new l.ItemContentStore;return this.listen(n.tabChanged,"itemContent",t.changeTab),this.listen(n.itemChanged,"itemContent",t.changeItem),this.listen(n.newFileAdded,"itemContent",function(n){return t.editOrAddNewFile(n.newFileItem)}),this.listen(n.editFileStarted,"itemContent",function(n){return t.editOrAddNewFile(n.fileItem)}),this.listen(n.commitSaved,"itemContent",t.commit),this.listen(n.editingFileDiscarded,"itemContent",t.discardEditingFile),this.listen(n.itemRetrieved,"itemContent",function(n){return n.itemInfo&&t.loadItem(n.itemInfo,n.coercedTab)}),this.listen(n.itemRetrievalFailed,"itemContent",t.failRetrieval),t},n.prototype.createHistoryListStore=function(n){var t=new tt.HistoryListStore;return this.listen(n.historyItemsLoaded,"historyList",t.populateHistoryList),this.listen(n.historyArtifactsLoaded,"historyList",t.mergeArtifactsToHistoryList),this.linkToAllActionsThatChangeItem(n,"historyList",function(n){return t.clearAndStartLoading(n&&n.options&&n.options.historySearchCriteria)}),this.listen(n.historyFullCommentLoaded,"historyList",function(n){return t.updateFullComment(n)}),this.listen(n.historyItemsLoadErrorRaised,"historyList",t.failLoad),this.listen(n.historyGraphMessageDismissed,"historyList",t.dismissGraphMessage),this.listen(n.historyItemsReloadStarted,"historyList",t.startLoading),this.listen(n.historyGraphRowSelected,"historyList",t.historyGraphUpdated),this.listen(n.historyGraphRowUnSelected,"historyList",t.historyGraphUpdated),this.listen(n.toggleFilterPanelVisibility,"historyList",t.toggleFilterPanelVisibility),t},n.prototype.createHistoryListPermissionStore=function(n){var t=new nt.HistoryListPermissionsStore;return this.listen(n.permissionsUpdated,"historyListPermission",t.onPermissionsUpdated),t},n.prototype.createSettingsPermissionStore=function(n){var t=new ot.PermissionsStore;return this.listen(n.settingsPermissionsUpdated,"settingsPermissions",t.onPermissionsUpdated),t},n.prototype.getDefaultSettingsPermissions=function(){return{Read:!0,Write:!0}},n.prototype.createExplorerPermissionsStore=function(n){var t=new o.ExplorerPermissionsStore;return this.linkToAllActionsThatChangeItem(n,"permissions",t.setVersion),this.listen(n.permissionsUpdated,"permissions",t.onPermissionsUpdated),t},n.prototype.createTfvcHistoryListStore=function(n){var t=new rt.TfvcChangeSetsStore;return this.listen(n.tfvcHistoryItemsLoadStarted,"tfvcHistoryList",t.setLoadingStarted),this.listen(n.tfvcHistoryItemsLoaded,"tfvcHistoryList",t.loadHistoryList),this.linkToAllActionsThatChangeItem(n,"tfvcHistoryList",t.setLoadingStarted),this.listen(n.changeTypeHistoryItemsCollapsed,"tfvcHistoryList",t.collapseChangeset),this.listen(n.historyItemsLoadErrorRaised,"tfvcHistoryList",function(){return t.failLoad(null)}),t},n.prototype.createTfvcHistoryFilterStore=function(n){var t=new it.TfvcChangesetsFilterStore;return this.listen(n.itemChanged,"tfvcHistoryFilter",function(n){return n.options&&n.options.historySearchCriteria&&t.updateFilters(n.options.historySearchCriteria)}),this.listen(n.tfvcHistoryFilterCriteriaChanged,"tfvcHistoryFilter",t.updateFilters),t},n.prototype.createKnownItemsStore=function(n){var t=new a.KnownItemsStore;return this.listen(n.currentRepositoryChanged,"knownItems",function(n){return t.initializeRepository(n.isGit,n.rootNodeIconClass)}),this.listen(n.itemChanged,"knownItems",function(n){return n.hasChangedVersion&&t.reset()}),this.listen(n.editFileStarted,"knownItems",function(n){return t.loadItems([n.fileItem])}),this.listen(n.commitSaved,"knownItems",function(n){return n.path&&t.confirmSavedItems([n.path])}),this.listen(n.editingFileDiscarded,"knownItems",t.discardEdit),this.listen(n.filesUploaded,"knownItems",function(n){return t.confirmSavedItems(n.newPaths)}),this.listen(n.itemRetrieved,"knownItems",function(n){return t.loadItems(n.allRetrievedItems)}),this.listen(n.itemRetrievalFailed,"knownItems",function(n){return t.loadItems(n.allRetrievedItems)}),this.listen(n.treeItemExpanded,"knownItems",function(n){return t.loadItems(n.allRetrievedItems)}),this.listen(n.newFileAdded,"knownItems",t.addNewItem),t},n.prototype.createLoseChangesPromptStore=function(n){var t=new v.LoseChangesPromptStore;return this.listen(n.loseChangesAsked,"loseChangesPrompt",t.prompt),this.listen(n.loseChangesDialogDismissed,"loseChangesPrompt",t.dismiss),this.linkToAllActionsThatChangeItem(n,"loseChangesPrompt",t.dismiss),this.listen(n.tabChanged,"loseChangesPrompt",t.dismiss),this.listen(n.filesUploaded,"loseChangesPrompt",t.dismiss),this.listen(n.itemRetrievalFailed,"loseChangesPrompt",t.dismiss),this.listen(n.commitPrompted,"loseChangesPrompt",t.dismiss),t},n.prototype.createNotificationStore=function(n){var t=new y.NotificationStore;return this.listen(n.currentRepositoryChanged,"notification",t.initializeRepository),this.listen(n.tabChanged,"notification",t.clearErrors),this.listen(n.itemChanged,"notification",t.changeItem),this.listen(n.itemRetrieved,"notification",function(n){return n.notFoundError&&t.addSoloWarning(n.notFoundError)}),this.listen(n.itemRetrievalFailed,"notification",function(n){return n.resumableError&&t.addSoloWarning(n.resumableError)}),this.listen(n.notificationRaised,"notification",t.addSoloSpecialType),this.listen(n.notificationDismissed,"notification",t.dismiss),this.listen(n.newFileAdded,"notification",t.startEditing),this.listen(n.editFileStarted,"notification",t.startEditing),this.listen(n.commitSaved,"notification",t.notifyCommit),this.listen(n.filesUploaded,"notification",t.uploadFiles),this.listen(n.historyItemsLoadErrorRaised,"notification",t.addSoloError),t},n.prototype.createPathStore=function(n){var t=new et.PathStore;return this.listen(n.currentRepositoryChanged,"path",function(n){return t.changeRepository(n.repositoryName,n.isGit)}),this.listen(n.itemChanged,"path",function(n){return t.setPath(n.path)}),this.listen(n.newFileAdded,"path",function(n){return t.setPath(n.newFileItem.serverItem)}),this.listen(n.editFileStarted,"path",function(n){return t.setPath(n.fileItem.serverItem)}),this.listen(n.editingFileDiscarded,"path",function(n){return t.setPath(n.navigatePath)}),this.listen(n.commitSaved,"path",function(n){return n.navigatePath?t.setPath(n.navigatePath):t.changeDirty(!1)}),this.listen(n.itemRetrieved,"path",function(n){return n.itemInfo&&t.setPath(n.itemInfo.item.serverItem)}),this.listen(n.pathEditingStarted,"path",t.startEditing),this.listen(n.pathEditingCancelled,"path",t.cancelEditing),this.listen(n.fileContentEdited,"path",function(n){return t.changeDirty(n.isDirty)}),this.listen(n.pathEdited,"path",t.changeInputText),this.listen(n.pathSearchSelectionChanged,"path",function(n){return t.changeInputText(n.newInputText)}),t},n.prototype.createPathSearchStore=function(n){var t=new ft.PathSearchStore;return this.listen(n.pathEditingStarted,"pathSearch",t.setInitialSearchText),this.listen(n.pathEdited,"pathSearch",t.onPathEdit),this.listen(n.itemChanged,"pathSearch",t.reset),this.listen(n.commitSaved,"pathSearch",t.reset),this.listen(n.newFileAdded,"pathSearch",t.reset),this.listen(n.editFileStarted,"pathSearch",t.reset),this.listen(n.editingFileDiscarded,"pathSearch",t.reset),this.listen(n.pathEditingCancelled,"pathSearch",t.reset),this.listen(n.pathSearchSelectionChanged,"pathSearch",function(n){return t.selectItem(n.itemIdentifier)}),this.listen(n.globalPathSearchResultsLoaded,"pathSearch",t.setGlobalSearchResults),this.listen(n.inFolderPathSearchResultsLoaded,"pathSearch",t.setInFolderSearchResults),this.listen(n.pathSearchFailed,"pathSearch",t.failPathSearch),t},n.prototype.createPivotTabsStore=function(n){var t=new p.PivotTabsStore;return this.listen(n.currentRepositoryChanged,"pivotTabs",t.changeRepository),this.listen(n.tabChanged,"pivotTabs",t.changeTab),this.listen(n.itemChanged,"pivotTabs",t.selectItem),this.listen(n.newFileAdded,"pivotTabs",t.editNewOrExistingFile),this.listen(n.editFileStarted,"pivotTabs",t.editNewOrExistingFile),this.listen(n.commitSaved,"pivotTabs",t.commit),this.listen(n.editingFileDiscarded,"pivotTabs",t.discardEditingFile),this.listen(n.fullScreenChanged,"pivotTabs",t.changeFullScreen),this.listen(n.itemRetrieved,"pivotTabs",function(n){return t.setItem(n.itemInfo,n.coercedTab)}),t},n.prototype.createRepositoryBadgesStore=function(n){var t=new w.RepositoryBadgesStore;return this.listen(n.currentRepositoryChanged,"repositoryBadges",t.changeRepository),this.listen(n.repositoryStatsLoaded,"repositoryBadges",t.loadStats),t},n.prototype.createStatusesStore=function(n){var t=new b.StatusesStore;return this.listen(n.currentRepositoryChanged,"statuses",t.clearStatuses),this.listen(n.itemChanged,"statuses",function(n){return n.hasChangedVersion&&t.clearStatuses()}),this.listen(n.commitSaved,"statuses",t.clearStatuses),this.listen(n.buildStatusLoaded,"statuses",t.loadStatuses),this.listen(n.hasBuildDefinitionsLoaded,"statuses",t.loadHasBuildDefinitions),this.listen(n.hasReleaseDefinitionsLoaded,"statuses",t.loadHasReleaseDefinitions),this.listen(n.createReleaseDefinitionUrlFetched,"statuses",t.createReleaseDefinitionUrlFetched),t},n.prototype.createSmartFolderTreeStore=function(n,t){var i=new d.ExplorerTreeAdapter(t);return this.listen(n.itemChanged,"smartFolderTree",function(n){return i.selectItem(n.path,n.hasChangedVersion,n.itemInfo&&n.itemInfo.item,Boolean(n.notFoundError))}),this.listen(n.filesUploaded,"smartFolderTree",function(n){return i.addNewPathsAndExpand(n.newPaths)}),this.listen(n.commitSaved,"smartFolderTree",function(n){return(n.changeType===ht.VersionControlChangeType.Rename||n.changeType===ht.VersionControlChangeType.Delete)&&i.renameOrDeleteItem(n.path,n.isFolder,n.navigatePath,n.newPath)}),this.listen(n.itemRetrieved,"smartFolderTree",function(n){return i.addItemsAndExpandParent(n.allRetrievedItems,n.itemInfo&&n.itemInfo.item)}),this.listen(n.itemRetrievalFailed,"smartFolderTree",function(n){return i.addItemsAndExpand(n.allRetrievedItems)}),this.listen(n.treeItemExpanding,"smartFolderTree",i.startExpand),this.listen(n.treeItemExpanded,"smartFolderTree",function(n){return i.addItemsAndExpand(n.allRetrievedItems,n.folderPath)}),this.listen(n.treeItemCollapsed,"smartFolderTree",i.collapse),this.listen(n.newFileAdded,"smartFolderTree",function(n){return i.addItemsAndExpand([n.newFileItem].concat(n.allRetrievedItems),n.newFileItem.serverItem)}),this.listen(n.editingFileDiscarded,"smartFolderTree",function(n){return i.deleteDiscardedNewFile(n.creatingItemPaths)}),d.createTreeStore(i,t)},n.prototype.createVersionStore=function(n){var t=new g.VersionStore;return this.listen(n.currentRepositoryChanged,"version",t.changeRepository),this.listen(n.itemChanged,"version",function(n){return t.selectVersion(n.versionSpec)}),this.listen(n.editingFileDiscarded,"version",function(n){return n.navigateVersionSpec&&t.selectVersion(n.navigateVersionSpec)}),this.listen(n.itemRetrieved,"version",t.selectRealVersion),this.listen(n.itemRetrievalFailed,"version",t.selectRealVersion),this.listen(n.newFileAdded,"version",t.selectRealVersion),this.listen(n.treeItemExpanded,"version",t.selectRealVersion),this.listen(n.commitSaved,"version",t.commit),this.listen(n.branchSelectorToggled,"version",t.toggleBranchSelector),t},n.prototype.linkToAllActionsThatChangeItem=function(n,t,i){this.listen(n.itemChanged,t,i);this.listen(n.newFileAdded,t,i);this.listen(n.editFileStarted,t,i);this.listen(n.editingFileDiscarded,t,i);this.listen(n.commitSaved,t,i)},n.prototype.listen=function(n,t,i){this.listener.listen(n,t,i)},n}();t.StoresHub=ct;var vt=10,yt=function(){function n(n){this.emitChanged=n;this.listeners=[]}return n.prototype.listen=function(n,t,i){var r=this.getOrCreate(n);if(r.stores.indexOf(t)>=0)throw new Error("A store must only listen once each action.");r.stores.push(t);r.handles.push(i)},n.prototype.getOrCreate=function(n){var u=this,r=this.listeners.filter(function(t){return t.action===n}),t;return r.length?r[0]:(t={action:n,stores:[],handles:[]},n.addListener(function(r){for(var o,s,e,h,f=0;f<t.handles.length;f++)o=t.handles[f],s=performance.now(),o(r),e=performance.now()-s,e>vt&&(h=t.stores[f],i.logWarning("Explorer/StoresHub: A slow method in "+h+" store took "+e.toFixed(2)+"ms"));u.emitChanged(t.stores,n,r)}),this.listeners.push(t),t)},n}(),pt=function(){function n(){var n=this;this.compositeStores=[];this.emitCompositeChanged=function(t){for(var u,i=0,r=n.compositeStores;i<r.length;i++)u=r[i],at(t,u.childStores).length&&u.emitCompositeChanged()}}return n.prototype.getOrCreate=function(n){var t=this.compositeStores.filter(function(t){return wt(t.childStores,n)})[0];return t||(t=new lt(n),this.compositeStores.push(t)),t},n}(),lt=function(n){function t(t){var i=n.call(this)||this;return i.childStores=t,i}return __extends(t,n),t.prototype.emitCompositeChanged=function(){this.emitChanged()},t}(r.Store);t.CompositeStore=lt});

define("VersionControl/Scripts/Utils/Number",["require","exports"],function(n,t){function r(n){return Number.isInteger?Number.isInteger(n):typeof n=="number"&&isFinite(n)&&i(n)===n}function i(n){var t=Number(n);return isNaN(t)?0:t===0||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY?t:t<0?-Math.floor(Math.abs(t)):+Math.floor(Math.abs(t))}function u(n,t,i){i===void 0&&(i=1);var r=n-t;return r<i&&r>-i}Object.defineProperty(t,"__esModule",{value:!0});t.isInteger=r;t.toInteger=i;t.areSimilar=u});

define("VersionControl/Scenarios/Explorer/UrlPageHandler",["require","exports","VSS/Utils/String","VersionControl/Scripts/Controls/ControlsCommon","VersionControl/Scripts/TFS.VersionControl.VersionSpecs","VersionControl/Scripts/Utils/Number"],function(n,t,i,r,u,f){function s(n,t){var i={};return(n.tab!==n.pivotTabsState.defaultTab||t.action)&&(i.action=n.tab),(!n.pathState.isRoot||t.path)&&(i.path=n.path),n.version!=="T"&&(t.version||i.path||!u.isSameVersion(n.version,n.versionState.userLastVisitedVersionSpec))&&(i.version=n.version),(n.pivotTabsState.isFullScreen||e(t.fullScreen))&&(i.fullScreen=Boolean(n.pivotTabsState.isFullScreen).toString()),(n.fileContentState.createIfNew||n.fileContentState.isNewFile)&&(i.createIfNew=Boolean(n.fileContentState.createIfNew||n.fileContentState.isNewFile).toString()),__assign({},i,y(n),p(n),w(n))}function y(n){var i={},r=n.fileContentState,t=r.line,u=r.scrollToAnchor;return t&&(i.line=t.startLineNumber.toString(),i.lineEnd=t.endLineNumber&&t.endLineNumber.toString(),i.lineStartColumn=t.startColumn&&t.startColumn.toString(),i.lineEndColumn=t.endColumn&&t.endColumn.toString(),i.lineStyle=t.style,i.lineTooltip=t.glyphMarginText),u&&(i.anchor=u),i}function p(n){var t,i;if(n.tab===r.VersionControlActionIds.History&&(t=n.isGit?n.historyListState.searchCriteria:n.tfvcHistoryFilterState,t&&(i=b(t),i)))return{historySearchCriteria:JSON.stringify(i)}}function w(n){if(n.tab===r.VersionControlActionIds.Compare)return{mpath:n.compareState.mpath,mversion:n.compareState.mversion,opath:n.compareState.opath,oversion:n.compareState.oversion}}function b(n){var t=$.extend({},n),r,i;delete t.itemPath;delete t.itemVersion;delete t.top;delete t.skip;r=!1;for(i in t)t[i]===null||t[i]===undefined||t[i]===""?delete t[i]:r=!0;return r&&t}function k(n,t){return h(n,t)&&c(n,t)&&l(n,t)}function h(n,t){return(n.action||r.VersionControlActionIds.Contents)===(t.action||r.VersionControlActionIds.Contents)}function c(n,t){return n.path===t.path&&(n.version||"T")===(t.version||"T")&&a(n.fullScreen,t.fullScreen)&&a(n.createIfNew,t.createIfNew)&&n.anchor===t.anchor&&n.line===t.line&&n.lineEnd===t.lineEnd&&n.lineStartColumn===t.lineStartColumn&&n.lineEndColumn===t.lineEndColumn&&n.lineStyle===t.lineStyle&&n.lineTooltip===t.lineTooltip&&n.historySearchCriteria===t.historySearchCriteria}function l(n,t){return n.mpath===t.mpath&&n.mversion===t.mversion&&n.opath===t.opath&&n.oversion===t.oversion}function a(n,t){return n===t||!e(n)&&!e(t)}function d(n,t,i){var u=t.action,c,f,o,a;e(t.annotate)&&(u=r.VersionControlActionIds.Annotate);c=!i.path;f=s(i,t);c||g(t,f)?(o=e(t.createIfNew),o&&!u&&(u=r.VersionControlActionIds.Contents),a=u!==r.VersionControlActionIds.History?undefined:t.historySearchCriteria?JSON.parse(t.historySearchCriteria):{},n.changeItem(u,t.path,"url-changed",t.version,{createIfNew:o,anchor:t.anchor,line:nt(t),isFullScreen:e(t.fullScreen),historySearchCriteria:a},t)):h(t,f)?l(t,f)||n.changeCompare(t):n.changeTab(u,t)}function g(n,t){return!c(n,t)}function nt(n){if(n.line){var t=o(n.line);if(t)return{startLineNumber:t,endLineNumber:o(n.lineEnd),style:n.lineStyle,glyphMarginText:n.lineTooltip,startColumn:o(n.lineStartColumn),endColumn:o(n.lineEndColumn)}}}function o(n){var t=Number(n);if(f.isInteger(t)&&n>0)return t}function e(n){return i.localeIgnoreCaseComparer(n,v)===0}Object.defineProperty(t,"__esModule",{value:!0});var v="true";t.getUrlParameters=s;t.areEqualUrlParameters=k;t.applyNavigatedUrl=d});

define("VSS/Contributions/RestClient",["require","exports","VSS/Contributions/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function nt(n){return window.VSS&&window.VSS.VssSDKRestVersion&&d[window.VSS.VssSDKRestVersion]?r.getClient(d[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(c,undefined,undefined,undefined,n)}var o,s,e,f,h,c,l,a,v,y,p,w,b,k,g,d;Object.defineProperty(t,"__esModule",{value:!0});o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getInstalledExtensions=function(n,t,r){var u={contributionIds:n&&n.join(";"),includeDisabledApps:t,assetTypes:r&&r.join(":")};return this._beginRequest({httpMethod:"GET",area:"Contribution",locationId:"2648442b-fd63-4b9a-902f-0c913510f139",resource:"InstalledApps",routeTemplate:"_apis/{area}/{resource}/{extensionId}",responseType:i.TypeInfo.InstalledExtension,responseIsCollection:!0,queryParams:u,apiVersion:this.installedAppsApiVersion})},t}(u.VssHttpClient);t.CommonMethods2To5=o;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getInstalledExtensionByName=function(n,t,r){var u={assetTypes:r&&r.join(":")};return this._beginRequest({httpMethod:"GET",area:"Contribution",locationId:"3e2f6668-0798-4dcb-b592-bfe2fa57fde2",resource:"InstalledApps",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}",responseType:i.TypeInfo.InstalledExtension,routeValues:{publisherName:n,extensionName:t},queryParams:u,apiVersion:this.installedAppsApiVersion_3e2f6668})},t}(o);t.CommonMethods2_1To5=s;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryDataProviders=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Contribution",locationId:"738368db-35ee-4b85-9f94-77ed34af2b0d",resource:"dataProvidersQuery",routeTemplate:"_apis/{area}/dataProviders/query/{scopeName}/{scopeValue}",routeValues:{scopeName:t,scopeValue:i},apiVersion:this.dataProvidersQueryApiVersion,data:n})},t}(s);t.CommonMethods2_2To5=e;f=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryContributionNodes=function(n){return this._beginRequest({httpMethod:"POST",area:"Contribution",locationId:"db7f2146-2309-4cee-b39c-c767777a1c55",resource:"ContributionNodeQuery",routeTemplate:"_apis/{area}/nodes/query",requestType:i.TypeInfo.ContributionNodeQuery,apiVersion:this.contributionNodeQueryApiVersion,data:n})},t}(e);t.CommonMethods3_1To5=f;h=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="5.0-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient5=h;c=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="4.1-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient4_1=c;l=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="4.0-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient4=l;a=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="3.2-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient3_2=a;v=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="3.1-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient3_1=v;y=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="3.0-preview.1",r}return __extends(t,n),t}(e);t.ContributionsHttpClient3=y;p=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="2.3-preview.1",r}return __extends(t,n),t}(e);t.ContributionsHttpClient2_3=p;w=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="2.2-preview.1",r}return __extends(t,n),t}(e);t.ContributionsHttpClient2_2=w;b=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="2.1-preview.1",r}return __extends(t,n),t}(s);t.ContributionsHttpClient2_1=b;k=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.installedAppsApiVersion="2.0-preview.1",r}return __extends(t,n),t}(o);t.ContributionsHttpClient2=k;g=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(h);t.ContributionsHttpClient=g;d={"5.0":h,"4.1":c,"4.0":l,"3.2":a,"3.1":v,"3.0":y,"2.3":p,"2.2":w,"2.1":b,"2.0":k};t.getClient=nt});

define("VersionControl/Scenarios/History/GitHistory/GitCommitExtendedContracts",["require","exports","TFS/VersionControl/Contracts"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo={GitTag:{}};t.TypeInfo.GitTag.fields={tagger:{typeInfo:i.TypeInfo.GitUserDate}}});

define("VersionControl/Scenarios/History/GitHistory/Sources/HistoryCommitsSource",["require","exports","q","VSS/Contributions/Services","VSS/Contributions/RestClient","VSS/Serialization","VSS/Performance","VSS/Service","VSS/Utils/String","TFS/VersionControl/Contracts","VersionControl/Scripts/Generated/TFS.VersionControl.Legacy.Contracts","VersionControl/Scripts/Utils/Build","VersionControl/Scripts/VersionControlUrls","VersionControl/Scripts/RepositoryContext","Presentation/Scripts/TFS/TFS.OM.Common","VersionControl/Scenarios/History/GitHistory/GitCommitExtendedContracts"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){Object.defineProperty(t,"__esModule",{value:!0});var w="ms.vss-code-web.git-history-view-commits-data-provider",b=function(){function n(n){this.repositoryContext=n;this._gitClient=null;this._webPageDataService=o.getService(r.WebPageDataService);this._perfScenarioManager=e.getScenarioManager();this._initialized=!1;this._contributionClient=null;this._latestRequestKey=null;this._gitClient=n.getClient()}return n.prototype.getCommitsFromJsonIsland=function(){var t=this._perfScenarioManager.startScenario("VersionControl","HistoryCommitsDataProvider.getCommitsFromJsonIsland"),n=this._webPageDataService.getPageData(w);return this._getDeserializedCommits(n),t.end(),n},n.prototype.getCommitsFromDataProvider=function(n){var r=this,u=this._perfScenarioManager.startScenario("VersionControl","HistoryCommitsDataProvider.getCommitHistoryFromDataProviderCall"),f=this._getContributionClient(),t=i.defer();if(f===null||this.repositoryContext===null)t.resolve(null);else{var h=this._getDataProviderQuery(n),e=this._isArtifactCall(n)?null:s.generateUID(),o=this.repositoryContext.getProjectId(),c=o&&"project";this._latestRequestKey=e;f.queryDataProviders(h,c,o).then(function(n){u.end();r._getDataProvidersResult(n).then(function(n){n.searchCancelled=!r._acceptResponse(e);t.resolve(n)},function(n){t.reject(n)})},function(n){u.end();t.reject(n)})}return t.promise},n.prototype.getHistoryQueryResults=function(n){return this._gitClient.getHistoryQueryResults(n)},n.prototype.getChangeList=function(n){var t=this;return i.Promise(function(i){return t._gitClient.beginGetChangeList(t.repositoryContext,n,0,i)})},n.prototype.convertArtifactUriToPublicUrl=function(n){return l.convertArtifactUriToPublicUrl(n,this.repositoryContext)},n.prototype.getPullRequestUrl=function(n){return a.getPullRequestUrl(this.repositoryContext,n)},n.prototype.getQueryCriteria=function(n){if(this.repositoryContext.getRepositoryType()===v.RepositoryType.Git)return this._gitClient.getQueryCriteria(n)},n.prototype.testSetDataProviderParameters=function(n,t){this._webPageDataService=n;this._contributionClient=t;this._initialized=!1},n.prototype._acceptResponse=function(n){return n===null?!0:n===this._latestRequestKey?(this._latestRequestKey=null,!0):!1},n.prototype._getDataProvidersResult=function(n){var f=n.data[w]||{},t=i.defer(),r,u;return Object.keys(f).length>0?(r=f,this._getDeserializedCommits(r),t.resolve(r)):(u=this._getFetchErrorIfAny(n),u?t.reject(u):t.resolve({})),t.promise},n.prototype._isArtifactCall=function(n){return n.gitArtifactsQueryArguments!==null},n.prototype._getFetchErrorIfAny=function(n){var t=null,i=n.resolvedProviders;return!i||$.each(i,function(n,i){if(!!i.error){t=new Error;t.message=i.error;return}}),t},n.prototype._getContributionClient=function(){return!this._contributionClient&&this.repositoryContext&&(this._contributionClient=y.ProjectCollection.getConnection(this.repositoryContext.getTfsContext()).getHttpClient(u.ContributionsHttpClient)),this._contributionClient},n.prototype._getDeserializedCommits=function(n){if(n){if(n.commits&&(n.commits=f.ContractSerializer.deserialize(n.commits,h.TypeInfo.GitCommitRef)),n.pullRequests&&(n.pullRequests=f.ContractSerializer.deserialize(n.pullRequests,h.TypeInfo.GitPullRequest)),n.tags)for(var t in n.tags)n.tags[t]=f.ContractSerializer.deserialize(n.tags[t],p.TypeInfo.GitTag);n.resultsObjectType&&(n.resultsObjectType=c.GitObjectType[n.resultsObjectType]);n.graphRows&&n.graphRows.forEach(function(n){n.commit=f.ContractSerializer.deserialize(n.commit,h.TypeInfo.GitCommitRef)})}},n.prototype._getDataProviderQuery=function(n){return{context:{properties:{repositoryId:this.repositoryContext.getRepository().id,searchCriteria:n}},contributionIds:[w]}},n}();t.HistoryCommitsSource=b});

define("VersionControl/Scenarios/History/TfvcHistory/Sources/TfvcHistoryListSource",["require","exports","q","VSS/Contributions/RestClient","VSS/Serialization","VSS/Service","VSS/Contributions/Services","Presentation/Scripts/TFS/TFS.OM.Common","VersionControl/Scripts/Generated/TFS.VersionControl.Legacy.Contracts"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function n(n){this._repositoryContext=n;this._tfvcClient=null;this._contributionClient=o.ProjectCollection.getConnection(this._repositoryContext.getTfsContext()).getHttpClient(r.ContributionsHttpClient);this._tfvcClient=this._repositoryContext.getClient();this._webPageDataService=f.getService(e.WebPageDataService)}return n.prototype.getChangeSetsDataFromJsonIsland=function(){var t=this._webPageDataService.getPageData(n.CONTRIBUTION_ID),i,r;return t?(i=this._getDeserializedChangeSets(t.changesets),r=t.searchcriteria,{changesets:i,searchcriteria:r}):null},n.prototype.getShelveSetsFromJsonIsland=function(){var t=this._webPageDataService.getPageData(n.CONTRIBUTION_ID);return this._getDeserializedShelveSets(t.shelvesets)},n.prototype.getChangeSets=function(n){var t=this;return i.Promise(function(i,r){t._tfvcClient.beginGetHistory(t._repositoryContext,n,function(n){var r=t._getDeserializedChangeSets(n);i(r)},function(n){r(n)})})},n.prototype.getShelveSets=function(n){var t=this;return i.Promise(function(i,r){return t._tfvcClient.beginGetShelvesets(n,function(n){var r=t._getDeserializedShelveSets(n);i(r)},function(n){r(n)})})},n.prototype.getFullChangeItem=function(n){var t=this;return i.Promise(function(i,r){return t._tfvcClient.beginGetChangeList(t._repositoryContext,n,0,i,function(n){r(n)})})},n.prototype._getDeserializedChangeSets=function(n){if(n)return u.ContractSerializer.deserialize(n,s.TypeInfo.HistoryQueryResults)},n.prototype._getDeserializedShelveSets=function(n){if(n){var t={},i=u.ContractSerializer.deserialize(n,s.TypeInfo.ChangeList);return t.tfvcHistoryItems=this._convertchangeListToHistoryEnty(i),t.hasMoreUpdates=!1,t}},n.prototype._convertchangeListToHistoryEnty=function(n){var t=[];return $.each(n,function(n,i){var r={};r.changeList=i;r.itemChangeType=null;r.serverItem=null;t.push(r)}),t},n.CONTRIBUTION_ID="ms.vss-code-web.tfvc-list-view-data-provider",n}();t.TfvcHistoryListSource=h});

define("VersionControl/Scenarios/Shared/ActionsDebugMonitor",["require","exports","react","react-dom"],function(n,t,i,r){function s(n){var t=document.createElement("div");return document.body.appendChild(t),r.render(i.createElement(h,{actionsHub:n}),t),t}function a(n){return v(n)?"<function>":n===null?"<null>":n===undefined?"<undefined>":n.toString()}function e(n,t){for(var i in n)n.hasOwnProperty(i)&&t(i,n[i])}function o(n,t,r){return y(t)?i.createElement(u,{key:r||n,name:n,value:"[]"}):p(t)?i.createElement(f,{key:r||n,name:n,values:t}):i.createElement(u,{key:r||n,name:n,value:t})}function v(n){return typeof n=="function"}function y(n){return Array.isArray(n)&&n.length===0}function p(n){return n&&typeof n=="object"&&n.constructor!==Date}var u;Object.defineProperty(t,"__esModule",{value:!0});t.renderInBody=s;var h=function(n){function t(t){var i=n.call(this,t)||this;return i.store=new c(t.actionsHub,function(){return i.forceUpdate()}),i}return __extends(t,n),t.prototype.render=function(){return i.createElement(l,{entries:this.store.entries,onReset:this.store.reset})},t}(i.Component),c=function(){function n(n,t){var i=this;this.onChange=t;this.nextIndex=1;this.entries=[];this.reset=function(){i.entries=[];i.onChange()};this.listen(n)}return n.prototype.listen=function(n){var t=this;e(n,function(n,i){return i.addListener?i.addListener(function(i){return t.addActionInvoked(n,i)}):t.listen(i)})},n.prototype.addActionInvoked=function(n,t){this.entries=this.entries.concat([{index:this.nextIndex,name:n,payload:t}]);this.nextIndex++;this.onChange()},n}(),l=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={isOpen:!1},t}return __extends(t,n),t.prototype.render=function(){var n=this,t="#DDDDCC";return this.state.isOpen?i.createElement("div",{style:{position:"fixed",right:0,top:0,bottom:0,overflow:"auto",maxWidth:"50em",background:t,fontFamily:"consolas"}},i.createElement("h2",{style:{margin:"1em"}},"Actions Monitor"),i.createElement("ol",null,this.props.entries.map(function(n){return o(n.name,n.payload,n.index)})),i.createElement("span",{style:{position:"fixed",right:0,bottom:0,margin:"2em"}},i.createElement("button",{onClick:this.props.onReset},"Reset"),i.createElement("button",{onClick:function(){return n.setState({isOpen:!1})}},"Hide"))):i.createElement("button",{style:{position:"fixed",right:0,bottom:"26px",background:t},onClick:function(){return n.setState({isOpen:!0})}},this.props.entries.length+" actions invoked")},t}(i.Component),f=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={isExpanded:!1},t}return __extends(t,n),t.prototype.render=function(){var n=this,t=[];return e(this.props.values,function(n,i){return t.push(o(n,i))}),i.createElement("li",null,i.createElement("a",{onClick:function(){return n.setState({isExpanded:!n.state.isExpanded})}},this.props.name),this.state.isExpanded&&i.createElement("ul",{style:{paddingLeft:"1.5em"}},t))},t}(i.Component);t.ObjectValues=f;u=function(n){return i.createElement("li",null,n.name+": "," ",i.createElement("strong",null,a(n.value)))}});

define("VersionControl/Scripts/Controls/SourceEditing",["require","exports","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","VSS/FeatureAvailability/Services","VersionControl/Scripts/RepositoryContext","VersionControl/Scripts/TFS.VersionControl.VersionSpecs"],function(n,t,i,r,u,f){var e,o,s;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.UTF8=65001;n.UTF16_BE=1201;n.UTF16_LE=1200;n.UTF32_BE=12001;n.UTF32_LE=12e3;n.Binary=-1;n.Unchanged=-2}(e=t.TfvcEncodingConstants||(t.TfvcEncodingConstants={})),function(n){n.MAX_EDIT_FROM_WEB_CONTENT_SIZE=20971520}(o=t.Constants||(t.Constants={})),function(n){function t(){return r.FeatureAvailabilityService.isFeatureEnabled(i.FeatureAvailabilityFlags.WebAccessVersionControlEditing)}function e(n,t){var i=f.VersionSpec.parse(t);return n.getRepositoryType()===u.RepositoryType.Git?i instanceof f.GitBranchVersionSpec:i instanceof f.LatestVersionSpec||i instanceof f.TipVersionSpec}function o(n,i){return t()&&e(n,i)}n.isSourceEditingFeatureEnabled=t;n.isEditableVersionType=e;n.showEditingActions=o}(s=t.EditingEnablement||(t.EditingEnablement={}))});

define("TFS/WorkItemTracking/Contracts",["require","exports"],function(n,t){"use strict";var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Fail=1]="Fail";n[n.Omit=2]="Omit"}(i=t.ClassificationNodesErrorPolicy||(t.ClassificationNodesErrorPolicy={})),function(n){n[n.Asc=1]="Asc";n[n.Desc=2]="Desc"}(r=t.CommentSortOrder||(t.CommentSortOrder={})),function(n){n[n.String=0]="String";n[n.Integer=1]="Integer";n[n.DateTime=2]="DateTime";n[n.PlainText=3]="PlainText";n[n.Html=4]="Html";n[n.TreePath=5]="TreePath";n[n.History=6]="History";n[n.Double=7]="Double";n[n.Guid=8]="Guid";n[n.Boolean=9]="Boolean";n[n.Identity=10]="Identity";n[n.PicklistString=11]="PicklistString";n[n.PicklistInteger=12]="PicklistInteger";n[n.PicklistDouble=13]="PicklistDouble"}(u=t.FieldType||(t.FieldType={})),function(n){n[n.None=0]="None";n[n.WorkItem=1]="WorkItem";n[n.WorkItemLink=2]="WorkItemLink";n[n.Tree=3]="Tree";n[n.WorkItemTypeExtension=4]="WorkItemTypeExtension"}(f=t.FieldUsage||(t.FieldUsage={})),function(n){n[n.None=0]="None";n[n.ExtensionFields=1]="ExtensionFields"}(e=t.GetFieldsExpand||(t.GetFieldsExpand={})),function(n){n[n.WorkItems=0]="WorkItems";n[n.LinksOneHopMustContain=1]="LinksOneHopMustContain";n[n.LinksOneHopMayContain=2]="LinksOneHopMayContain";n[n.LinksOneHopDoesNotContain=3]="LinksOneHopDoesNotContain";n[n.LinksRecursiveMustContain=4]="LinksRecursiveMustContain";n[n.LinksRecursiveMayContain=5]="LinksRecursiveMayContain";n[n.LinksRecursiveDoesNotContain=6]="LinksRecursiveDoesNotContain"}(o=t.LinkQueryMode||(t.LinkQueryMode={})),function(n){n[n.NONE=0]="NONE";n[n.AND=1]="AND";n[n.OR=2]="OR"}(s=t.LogicalOperation||(t.LogicalOperation={})),function(n){n[n.Import=0]="Import";n[n.Validate=1]="Validate"}(h=t.ProvisioningActionType||(t.ProvisioningActionType={})),function(n){n[n.Fail=1]="Fail";n[n.Omit=2]="Omit"}(c=t.QueryErrorPolicy||(t.QueryErrorPolicy={})),function(n){n[n.None=0]="None";n[n.Wiql=1]="Wiql";n[n.Clauses=2]="Clauses";n[n.All=3]="All";n[n.Minimal=4]="Minimal"}(l=t.QueryExpand||(t.QueryExpand={})),function(n){n[n.Doing=1]="Doing";n[n.Done=2]="Done";n[n.Followed=3]="Followed"}(a=t.QueryOption||(t.QueryOption={})),function(n){n[n.ParentFirst=0]="ParentFirst";n[n.ChildFirst=1]="ChildFirst"}(v=t.QueryRecursionOption||(t.QueryRecursionOption={})),function(n){n[n.WorkItem=1]="WorkItem";n[n.WorkItemLink=2]="WorkItemLink"}(y=t.QueryResultType||(t.QueryResultType={})),function(n){n[n.Flat=1]="Flat";n[n.Tree=2]="Tree";n[n.OneHop=3]="OneHop"}(p=t.QueryType||(t.QueryType={})),function(n){n[n.None=0]="None";n[n.Fields=1]="Fields"}(w=t.ReportingRevisionsExpand||(t.ReportingRevisionsExpand={})),function(n){n[n.WorkItemType=0]="WorkItemType";n[n.GlobalWorkflow=1]="GlobalWorkflow"}(b=t.TemplateType||(t.TemplateType={})),function(n){n[n.Area=0]="Area";n[n.Iteration=1]="Iteration"}(k=t.TreeNodeStructureType||(t.TreeNodeStructureType={})),function(n){n[n.Areas=0]="Areas";n[n.Iterations=1]="Iterations"}(d=t.TreeStructureGroup||(t.TreeStructureGroup={})),function(n){n[n.Fail=1]="Fail";n[n.Omit=2]="Omit"}(g=t.WorkItemErrorPolicy||(t.WorkItemErrorPolicy={})),function(n){n[n.None=0]="None";n[n.Relations=1]="Relations";n[n.Fields=2]="Fields";n[n.Links=3]="Links";n[n.All=4]="All"}(nt=t.WorkItemExpand||(t.WorkItemExpand={})),function(n){n[n.Visited=0]="Visited";n[n.Edited=1]="Edited";n[n.Deleted=2]="Deleted";n[n.Restored=3]="Restored"}(tt=t.WorkItemRecentActivityType||(t.WorkItemRecentActivityType={})),function(n){n[n.None=0]="None";n[n.AllowedValues=1]="AllowedValues";n[n.DependentFields=2]="DependentFields";n[n.All=3]="All"}(it=t.WorkItemTypeFieldsExpandLevel||(t.WorkItemTypeFieldsExpandLevel={}));t.TypeInfo={AccountMyWorkResult:{},AccountRecentActivityWorkItemModel:{},AccountRecentMentionWorkItemModel:{},AccountWorkWorkItemModel:{},ClassificationNodesErrorPolicy:{enumValues:{fail:1,omit:2}},CommentSortOrder:{enumValues:{asc:1,desc:2}},FieldType:{enumValues:{string:0,integer:1,dateTime:2,plainText:3,html:4,treePath:5,history:6,double:7,guid:8,boolean:9,identity:10,picklistString:11,picklistInteger:12,picklistDouble:13}},FieldUsage:{enumValues:{none:0,workItem:1,workItemLink:2,tree:3,workItemTypeExtension:4}},GetFieldsExpand:{enumValues:{none:0,extensionFields:1}},LinkQueryMode:{enumValues:{workItems:0,linksOneHopMustContain:1,linksOneHopMayContain:2,linksOneHopDoesNotContain:3,linksRecursiveMustContain:4,linksRecursiveMayContain:5,linksRecursiveDoesNotContain:6}},LogicalOperation:{enumValues:{nONE:0,aND:1,oR:2}},ProvisioningActionType:{enumValues:{"import":0,validate:1}},QueryBatchGetRequest:{},QueryErrorPolicy:{enumValues:{fail:1,omit:2}},QueryExpand:{enumValues:{none:0,wiql:1,clauses:2,all:3,minimal:4}},QueryHierarchyItem:{},QueryHierarchyItemsResult:{},QueryOption:{enumValues:{doing:1,done:2,followed:3}},QueryRecursionOption:{enumValues:{parentFirst:0,childFirst:1}},QueryResultType:{enumValues:{workItem:1,workItemLink:2}},QueryType:{enumValues:{flat:1,tree:2,oneHop:3}},ReportingRevisionsExpand:{enumValues:{none:0,fields:1}},TemplateType:{enumValues:{workItemType:0,globalWorkflow:1}},TreeNodeStructureType:{enumValues:{area:0,iteration:1}},TreeStructureGroup:{enumValues:{areas:0,iterations:1}},WorkItemBatchGetRequest:{},WorkItemClassificationNode:{},WorkItemComment:{},WorkItemComments:{},WorkItemErrorPolicy:{enumValues:{fail:1,omit:2}},WorkItemExpand:{enumValues:{none:0,relations:1,fields:2,links:3,all:4}},WorkItemField:{},WorkItemHistory:{},WorkItemQueryClause:{},WorkItemQueryResult:{},WorkItemRecentActivityType:{enumValues:{visited:0,edited:1,deleted:2,restored:3}},WorkItemTypeFieldsExpandLevel:{enumValues:{none:0,allowedValues:1,dependentFields:2,all:3}},WorkItemTypeTemplateUpdateModel:{},WorkItemUpdate:{}};t.TypeInfo.AccountMyWorkResult.fields={workItemDetails:{isArray:!0,typeInfo:t.TypeInfo.AccountWorkWorkItemModel}};t.TypeInfo.AccountRecentActivityWorkItemModel.fields={activityDate:{isDate:!0},activityType:{enumType:t.TypeInfo.WorkItemRecentActivityType},changedDate:{isDate:!0}};t.TypeInfo.AccountRecentMentionWorkItemModel.fields={mentionedDateField:{isDate:!0}};t.TypeInfo.AccountWorkWorkItemModel.fields={changedDate:{isDate:!0}};t.TypeInfo.QueryBatchGetRequest.fields={$expand:{enumType:t.TypeInfo.QueryExpand},errorPolicy:{enumType:t.TypeInfo.QueryErrorPolicy}};t.TypeInfo.QueryHierarchyItem.fields={children:{isArray:!0,typeInfo:t.TypeInfo.QueryHierarchyItem},clauses:{typeInfo:t.TypeInfo.WorkItemQueryClause},createdDate:{isDate:!0},filterOptions:{enumType:t.TypeInfo.LinkQueryMode},lastExecutedDate:{isDate:!0},lastModifiedDate:{isDate:!0},linkClauses:{typeInfo:t.TypeInfo.WorkItemQueryClause},queryRecursionOption:{enumType:t.TypeInfo.QueryRecursionOption},queryType:{enumType:t.TypeInfo.QueryType},sourceClauses:{typeInfo:t.TypeInfo.WorkItemQueryClause},targetClauses:{typeInfo:t.TypeInfo.WorkItemQueryClause}};t.TypeInfo.QueryHierarchyItemsResult.fields={value:{isArray:!0,typeInfo:t.TypeInfo.QueryHierarchyItem}};t.TypeInfo.WorkItemBatchGetRequest.fields={$expand:{enumType:t.TypeInfo.WorkItemExpand},asOf:{isDate:!0},errorPolicy:{enumType:t.TypeInfo.WorkItemErrorPolicy}};t.TypeInfo.WorkItemClassificationNode.fields={children:{isArray:!0,typeInfo:t.TypeInfo.WorkItemClassificationNode},structureType:{enumType:t.TypeInfo.TreeNodeStructureType}};t.TypeInfo.WorkItemComment.fields={revisedDate:{isDate:!0}};t.TypeInfo.WorkItemComments.fields={comments:{isArray:!0,typeInfo:t.TypeInfo.WorkItemComment}};t.TypeInfo.WorkItemField.fields={type:{enumType:t.TypeInfo.FieldType},usage:{enumType:t.TypeInfo.FieldUsage}};t.TypeInfo.WorkItemHistory.fields={revisedDate:{isDate:!0}};t.TypeInfo.WorkItemQueryClause.fields={clauses:{isArray:!0,typeInfo:t.TypeInfo.WorkItemQueryClause},logicalOperator:{enumType:t.TypeInfo.LogicalOperation}};t.TypeInfo.WorkItemQueryResult.fields={asOf:{isDate:!0},queryResultType:{enumType:t.TypeInfo.QueryResultType},queryType:{enumType:t.TypeInfo.QueryType}};t.TypeInfo.WorkItemTypeTemplateUpdateModel.fields={actionType:{enumType:t.TypeInfo.ProvisioningActionType},templateType:{enumType:t.TypeInfo.TemplateType}};t.TypeInfo.WorkItemUpdate.fields={revisedDate:{isDate:!0}}});

define("TFS/WorkItemTracking/RestClient",["require","exports","TFS/WorkItemTracking/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f){"use strict";function ut(n){return window.VSS&&window.VSS.VssSDKRestVersion&&it[window.VSS.VssSDKRestVersion]?r.getClient(it[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(y,undefined,undefined,undefined,n)}var s,h,e,o,c,l,a,v,y,p,w,b,k,d,g,nt,tt,rt,it;Object.defineProperty(t,"__esModule",{value:!0});s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateWorkItemTypeDefinition=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"8637ac8b-5eb6-4f90-b3f7-4f2ff576a459",resource:"workItemTypeTemplate",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",requestType:i.TypeInfo.WorkItemTypeTemplateUpdateModel,routeValues:{project:t},apiVersion:this.workItemTypeTemplateApiVersion,data:n})},t.prototype.exportWorkItemTypeDefinition=function(n,t,i){var r={exportGlobalLists:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"8637ac8b-5eb6-4f90-b3f7-4f2ff576a459",resource:"workItemTypeTemplate",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",routeValues:{project:n,type:t},queryParams:r,apiVersion:this.workItemTypeTemplateApiVersion})},t.prototype.getWorkItemTypeStates=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c9d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypeStates",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/states",responseIsCollection:!0,routeValues:{project:n,type:t},apiVersion:this.workItemTypeStatesApiVersion})},t.prototype.getWorkItemTypes=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c8d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.workItemTypesApiVersion})},t.prototype.getWorkItemType=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c8d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",routeValues:{project:n,type:t},apiVersion:this.workItemTypesApiVersion})},t.prototype.getWorkItemTypeColorAndIcons=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f0f8dc62-3975-48ce-8051-f636b68b52e3",resource:"workItemTypeColorAndIcon",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:this.workItemTypeColorAndIconApiVersion,data:n})},t.prototype.getWorkItemTypeColors=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"958fde80-115e-43fb-bd65-749c48057faf",resource:"workitemTypeColor",routeTemplate:"_apis/work/{resource}",responseIsCollection:!0,apiVersion:this.workitemTypeColorApiVersion,data:n})},t.prototype.getWorkItemTypeCategory=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"9b9f5734-36c8-415e-ba67-f83b45c31408",resource:"workItemTypeCategories",routeTemplate:"{project}/_apis/{area}/{resource}/{category}",routeValues:{project:n,category:t},apiVersion:this.workItemTypeCategoriesApiVersion})},t.prototype.getWorkItemTypeCategories=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"9b9f5734-36c8-415e-ba67-f83b45c31408",resource:"workItemTypeCategories",routeTemplate:"{project}/_apis/{area}/{resource}/{category}",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.workItemTypeCategoriesApiVersion})},t.prototype.getWorkItemStateColors=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"0b83df8a-3496-4ddb-ba44-63634f4cda61",resource:"workitemStateColor",routeTemplate:"_apis/work/{resource}",responseIsCollection:!0,apiVersion:this.workitemStateColorApiVersion,data:n})},t.prototype.updateWorkItemTemplate=function(n,t,i,r,u){var f={validateOnly:r,bypassRules:u};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",routeValues:{project:t,type:i},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:f,apiVersion:this.workItemsApiVersion,data:n})},t.prototype.getWorkItemTemplate=function(n,t,i,r,u){var f={fields:i,asOf:r,$expand:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",routeValues:{project:n,type:t},queryParams:f,apiVersion:this.workItemsApiVersion})},t.prototype.createWorkItem=function(n,t,i,r,u,f){var e={validateOnly:r,bypassRules:u,suppressNotifications:f};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",routeValues:{project:t,type:i},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,apiVersion:this.workItemsApiVersion,data:n})},t.prototype.getRelationTypes=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f5d33bc9-5b49-4a3c-a9bd-f3cd46dd2165",resource:"workItemRelationTypes",routeTemplate:"_apis/{area}/{resource}/{relation}",responseIsCollection:!0,apiVersion:this.workItemRelationTypesApiVersion})},t.prototype.getRelationType=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f5d33bc9-5b49-4a3c-a9bd-f3cd46dd2165",resource:"workItemRelationTypes",routeTemplate:"_apis/{area}/{resource}/{relation}",routeValues:{relation:n},apiVersion:this.workItemRelationTypesApiVersion})},t.prototype.getWorkItemIconXaml=function(n,t,i){var r={color:t,v:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"image/xaml+xml",area:"wit",locationId:"4e1eb4a5-1970-4228-a682-ec48eb2dca30",resource:"workItemIcons",routeTemplate:"_apis/{area}/{resource}/{icon}",routeValues:{icon:n},queryParams:r,apiVersion:this.workItemIconsApiVersion})},t.prototype.getWorkItemIconSvg=function(n,t,i){var r={color:t,v:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"image/svg+xml",area:"wit",locationId:"4e1eb4a5-1970-4228-a682-ec48eb2dca30",resource:"workItemIcons",routeTemplate:"_apis/{area}/{resource}/{icon}",routeValues:{icon:n},queryParams:r,apiVersion:this.workItemIconsApiVersion})},t.prototype.getWorkItemIcons=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"4e1eb4a5-1970-4228-a682-ec48eb2dca30",resource:"workItemIcons",routeTemplate:"_apis/{area}/{resource}/{icon}",responseIsCollection:!0,apiVersion:this.workItemIconsApiVersion})},t.prototype.getWorkItemIconJson=function(n,t,i){var r={color:t,v:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"4e1eb4a5-1970-4228-a682-ec48eb2dca30",resource:"workItemIcons",routeTemplate:"_apis/{area}/{resource}/{icon}",routeValues:{icon:n},queryParams:r,apiVersion:this.workItemIconsApiVersion})},t.prototype.queryById=function(n,t,r,u,f){var e={timePrecision:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a02355f5-5f8a-4671-8e32-369d23aac83d",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.WorkItemQueryResult,routeValues:{project:t,team:r,id:n},queryParams:e,apiVersion:this.wiqlApiVersion})},t.prototype.getQueryResultCount=function(n,t,i,r,u){var f={timePrecision:r,$top:u};return this._beginRequest({httpMethod:"HEAD",area:"wit",locationId:"a02355f5-5f8a-4671-8e32-369d23aac83d",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",routeValues:{project:t,team:i,id:n},queryParams:f,apiVersion:this.wiqlApiVersion},!0).then(function(n){var i=n[0],r=n[1],t=n[2];return t.getResponseHeader("X-Total-Count")},function(n){throw n;})},t.prototype.queryByWiql=function(n,t,r,u,f){var e={timePrecision:u,$top:f};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"1a9c53f7-f243-4447-b110-35ef023636e4",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",responseType:i.TypeInfo.WorkItemQueryResult,routeValues:{project:t,team:r},queryParams:e,apiVersion:this.wiqlApiVersion_1a9c53f7,data:n})},t.prototype.evaluateRulesOnField=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"wit",locationId:"1a3a1536-dca6-4509-b9c3-dd9bb2981506",resource:"ruleEngine",routeTemplate:"_apis/{area}/${resource}",apiVersion:this.ruleEngineApiVersion,data:n})},t.prototype.updateQuery=function(n,t,r,u){var f={$undeleteDescendants:u};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",requestType:i.TypeInfo.QueryHierarchyItem,responseType:i.TypeInfo.QueryHierarchyItem,routeValues:{project:t,query:r},queryParams:f,apiVersion:this.queriesApiVersion,data:n})},t.prototype.searchQueries=function(n,t,r,u,f){var e={$filter:t,$top:r,$expand:u,$includeDeleted:f};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:i.TypeInfo.QueryHierarchyItemsResult,routeValues:{project:n},queryParams:e,apiVersion:this.queriesApiVersion})},t.prototype.getQuery=function(n,t,r,u,f){var e={$expand:r,$depth:u,$includeDeleted:f};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:i.TypeInfo.QueryHierarchyItem,routeValues:{project:n,query:t},queryParams:e,apiVersion:this.queriesApiVersion})},t.prototype.getQueries=function(n,t,r,u){var f={$expand:t,$depth:r,$includeDeleted:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:i.TypeInfo.QueryHierarchyItem,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.queriesApiVersion})},t.prototype.deleteQuery=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",routeValues:{project:n,query:t},apiVersion:this.queriesApiVersion})},t.prototype.createQuery=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",requestType:i.TypeInfo.QueryHierarchyItem,responseType:i.TypeInfo.QueryHierarchyItem,routeValues:{project:t,query:r},apiVersion:this.queriesApiVersion,data:n})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:this.fieldsApiVersion})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:this.fieldsApiVersion})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:this.fieldsApiVersion})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:this.fieldsApiVersion,data:n})},t.prototype.updateClassificationNode=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",requestType:i.TypeInfo.WorkItemClassificationNode,responseType:i.TypeInfo.WorkItemClassificationNode,routeValues:{project:t,structureGroup:i.TreeStructureGroup[r],path:u},apiVersion:this.classificationNodesApiVersion,data:n})},t.prototype.getClassificationNode=function(n,t,r,u){var f={$depth:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",responseType:i.TypeInfo.WorkItemClassificationNode,routeValues:{project:n,structureGroup:i.TreeStructureGroup[t],path:r},queryParams:f,apiVersion:this.classificationNodesApiVersion})},t.prototype.deleteClassificationNode=function(n,t,r,u){var f={$reclassifyId:u};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",routeValues:{project:n,structureGroup:i.TreeStructureGroup[t],path:r},queryParams:f,apiVersion:this.classificationNodesApiVersion})},t.prototype.createOrUpdateClassificationNode=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",requestType:i.TypeInfo.WorkItemClassificationNode,responseType:i.TypeInfo.WorkItemClassificationNode,routeValues:{project:t,structureGroup:i.TreeStructureGroup[r],path:u},apiVersion:this.classificationNodesApiVersion,data:n})},t.prototype.getRootNodes=function(n,t){var r={$depth:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a70579d1-f53a-48ee-a5be-7be8659023b9",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.WorkItemClassificationNode,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:this.classificationNodesApiVersion_a70579d1})},t.prototype.getClassificationNodes=function(n,t,r,u){var f={ids:t&&t.join(","),$depth:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a70579d1-f53a-48ee-a5be-7be8659023b9",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.WorkItemClassificationNode,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.classificationNodesApiVersion_a70579d1})},t.prototype.getRecentMentions=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"d60eeb6e-e18c-4478-9e94-a0094e28f41c",resource:"accountRecentMentions",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentMentionWorkItemModel,responseIsCollection:!0,apiVersion:this.accountRecentMentionsApiVersion})},t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:this.accountMyWorkRecentActivityApiVersion})},t.prototype.getAccountMyWorkData=function(n){var t={$queryOption:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"def3d688-ddf5-4096-9024-69beea15cdbd",resource:"accountMyWork",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountMyWorkResult,queryParams:t,apiVersion:this.accountMyWorkApiVersion})},t.serviceInstanceId=f.ServiceInstanceTypes.TFS,t}(u.VssHttpClient);t.CommonMethods2To5=s;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.restoreWorkItem=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:i,id:t},apiVersion:this.recyclebinApiVersion,data:n})},t.prototype.getDeletedWorkItems=function(n,t){var i={ids:n&&n.join(",")};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:t},queryParams:i,apiVersion:this.recyclebinApiVersion})},t.prototype.getDeletedWorkItem=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:t,id:n},apiVersion:this.recyclebinApiVersion})},t.prototype.destroyWorkItem=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:t,id:n},apiVersion:this.recyclebinApiVersion})},t}(s);t.CommonMethods2_1To5=h;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.readReportingRevisionsPost=function(n,t,i,r,u){var f={continuationToken:i,startDateTime:r,$expand:u};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:t},queryParams:f,apiVersion:this.workItemRevisionsApiVersion,data:n})},t.prototype.readReportingRevisionsGet=function(n,t,i,r,u,f,e,o,s,h,c,l){var a={fields:t&&t.join(","),types:i&&i.join(","),continuationToken:r,startDateTime:u,includeIdentityRef:f,includeDeleted:e,includeTagRef:o,includeLatestOnly:s,$expand:h,includeDiscussionChangesOnly:c,$maxPageSize:l};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:n},queryParams:a,apiVersion:this.workItemRevisionsApiVersion})},t}(h);t.CommonMethods2_2To5=e;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.replaceTemplate=function(n,t,i,r){return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"fb10264a-8836-48a0-8033-1b0ccd2748d5",resource:"templates",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{templateId}",routeValues:{project:t,team:i,templateId:r},apiVersion:this.templatesApiVersion,data:n})},t.prototype.getTemplate=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"fb10264a-8836-48a0-8033-1b0ccd2748d5",resource:"templates",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{templateId}",routeValues:{project:n,team:t,templateId:i},apiVersion:this.templatesApiVersion})},t.prototype.deleteTemplate=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"fb10264a-8836-48a0-8033-1b0ccd2748d5",resource:"templates",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{templateId}",routeValues:{project:n,team:t,templateId:i},apiVersion:this.templatesApiVersion})},t.prototype.getTemplates=function(n,t,i){var r={workitemtypename:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6a90345f-a676-4969-afce-8e163e1d5642",resource:"templates",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n,team:t},queryParams:r,apiVersion:this.templatesApiVersion_6a90345f})},t.prototype.createTemplate=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"6a90345f-a676-4969-afce-8e163e1d5642",resource:"templates",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",routeValues:{project:t,team:i},apiVersion:this.templatesApiVersion_6a90345f,data:n})},t}(e);t.CommonMethods3To5=o;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getWorkArtifactLinkTypes=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1a31de40-e318-41cd-a6c6-881077df52e3",resource:"artifactLinkTypes",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:this.artifactLinkTypesApiVersion})},t}(o);t.CommonMethods3_2To5=c;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateWorkItem=function(n,t,i,r,u,f){var e={validateOnly:r,bypassRules:u,suppressNotifications:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:i,id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,apiVersion:this.workItemsApiVersion_72c7ddf8,data:n})},t.prototype.getWorkItems=function(n,t,i,r,u,f){var e={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:f},queryParams:e,apiVersion:this.workItemsApiVersion_72c7ddf8})},t.prototype.getWorkItem=function(n,t,i,r,u){var f={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:u,id:n},queryParams:f,apiVersion:this.workItemsApiVersion_72c7ddf8})},t.prototype.deleteWorkItem=function(n,t,i){var r={destroy:i};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:t,id:n},queryParams:r,apiVersion:this.workItemsApiVersion_72c7ddf8})},t}(c);t.CommonMethods4To5=l;a=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getWorkItemTypeFieldWithReferences=function(n,t,i,r){var u={$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},queryParams:u,apiVersion:this.workItemTypesFieldApiVersion})},t.prototype.getWorkItemTypeFieldsWithReferences=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",responseIsCollection:!0,routeValues:{project:n,type:t},queryParams:r,apiVersion:this.workItemTypesFieldApiVersion})},t.prototype.getWorkItemNextStatesOnCheckinAction=function(n,t){var i={ids:n&&n.join(","),action:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"afae844b-e2f6-44c2-8053-17b3bb936a40",resource:"workItemTransitions",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,queryParams:i,apiVersion:this.workItemTransitionsApiVersion})},t.prototype.getUpdates=function(n,t,r,u){var f={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"{project}/_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{project:u,id:n},queryParams:f,apiVersion:this.updatesApiVersion})},t.prototype.getUpdate=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"{project}/_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{project:r,id:n,updateNumber:t},apiVersion:this.updatesApiVersion})},t.prototype.getRevisions=function(n,t,i,r,u){var f={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"{project}/_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{project:u,id:n},queryParams:f,apiVersion:this.revisionsApiVersion})},t.prototype.getRevision=function(n,t,i,r){var u={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"{project}/_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{project:r,id:n,revisionNumber:t},queryParams:u,apiVersion:this.revisionsApiVersion})},t.prototype.getDeletedWorkItemShallowReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.recyclebinApiVersion})},t.prototype.getComments=function(n,t,r,u,f){var e={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"{project}/_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{project:f,id:n},queryParams:e,apiVersion:this.commentsApiVersion})},t.prototype.getComment=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"{project}/_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{project:r,id:n,revision:t},apiVersion:this.commentsApiVersion})},t.prototype.getAttachmentZip=function(n,t,i,r){var u={fileName:t,download:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:i,id:n},queryParams:u,apiVersion:this.attachmentsApiVersion})},t.prototype.getAttachmentContent=function(n,t,i,r){var u={fileName:t,download:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:i,id:n},queryParams:u,apiVersion:this.attachmentsApiVersion})},t.prototype.createAttachment=function(n,t,i,r,u){var f={fileName:t,uploadType:i,areaPath:u};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:r},customHeaders:{"Content-Type":"application/octet-stream"},queryParams:f,apiVersion:this.attachmentsApiVersion,data:n,isRawData:!0})},t.prototype.queryWorkItemsForArtifactUris=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a9a9aa7a-8c09-44d3-ad1b-46e855c1e3d3",resource:"artifactUriQuery",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:this.artifactUriQueryApiVersion,data:n})},t}(l);t.CommonMethods4_1To5=a;v=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.accountMyWorkApiVersion=r.accountMyWorkRecentActivityApiVersion=r.accountRecentMentionsApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.workItemIconsApiVersion=r.workitemStateColorApiVersion=r.workItemTransitionsApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="5.0-preview.1",r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.commentsApiVersion=r.fieldsApiVersion=r.queriesApiVersion=r.recyclebinApiVersion=r.ruleEngineApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion="5.0-preview.2",r.attachmentsApiVersion=r.revisionsApiVersion=r.updatesApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemTypesFieldApiVersion="5.0-preview.3",r}return __extends(t,n),t.prototype.getQueriesBatch=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"549816f9-09b0-4e75-9e81-01fbfcd07426",resource:"queriesBatch",routeTemplate:"{project}/_apis/{area}/{resource}",requestType:i.TypeInfo.QueryBatchGetRequest,responseType:i.TypeInfo.QueryHierarchyItem,responseIsCollection:!0,routeValues:{project:t},apiVersion:"5.0-preview.1",data:n})},t.prototype.getReportingLinksByLinkType=function(n,t,i,r,u){var f={linkTypes:t&&t.join(","),types:i&&i.join(","),continuationToken:r,startDateTime:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b5b5b6d0-0308-40a1-b3f4-b9bb3c66878f",resource:"workItemLinks",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:n},queryParams:f,apiVersion:"5.0-preview.3"})},t.prototype.getWorkItemsBatch=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"908509b6-4248-4475-a1cd-829139ba419f",resource:"workItemsBatch",routeTemplate:"{project}/_apis/{area}/{resource}",requestType:i.TypeInfo.WorkItemBatchGetRequest,responseIsCollection:!0,routeValues:{project:t},apiVersion:"5.0-preview.1",data:n})},t}(a);t.WorkItemTrackingHttpClient5=v;y=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.attachmentsApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.fieldsApiVersion=r.queriesApiVersion=r.recyclebinApiVersion=r.revisionsApiVersion=r.ruleEngineApiVersion=r.updatesApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypesFieldApiVersion=r.workItemTypeTemplateApiVersion="4.1",r.accountMyWorkApiVersion=r.accountMyWorkRecentActivityApiVersion=r.accountRecentMentionsApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.workItemIconsApiVersion=r.workitemStateColorApiVersion=r.workItemTransitionsApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion=r.workItemTypeStatesApiVersion="4.1-preview.1",r.commentsApiVersion="4.1-preview.2",r}return __extends(t,n),t}(a);t.WorkItemTrackingHttpClient4_1=y;p=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.fieldsApiVersion=r.queriesApiVersion=r.recyclebinApiVersion=r.ruleEngineApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeTemplateApiVersion="4.0",r.accountMyWorkApiVersion=r.accountMyWorkRecentActivityApiVersion=r.accountRecentMentionsApiVersion=r.artifactLinkTypesApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.workItemIconsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion=r.workItemTypeStatesApiVersion="4.0-preview.1",r}return __extends(t,n),t.prototype.queryWorkItemsForArtifactUris=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a9a9aa7a-8c09-44d3-ad1b-46e855c1e3d3",resource:"artifactUriQuery",routeTemplate:"_apis/{area}/{resource}",apiVersion:"4.0-preview.1",data:n})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"4.0",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"4.0"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"4.0"})},t.prototype.getComment=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{id:n,revision:t},apiVersion:"4.0-preview.1"})},t.prototype.getComments=function(n,t,r,u){var f={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{id:n},queryParams:f,apiVersion:"4.0-preview.1"})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"4.0"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"4.0"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"4.0"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"4.0"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"4.0"})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"4.0"})},t}(l);t.WorkItemTrackingHttpClient4=p;w=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.fieldsApiVersion=r.queriesApiVersion=r.recyclebinApiVersion=r.ruleEngineApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeTemplateApiVersion="3.2",r.accountMyWorkApiVersion=r.accountMyWorkRecentActivityApiVersion=r.accountRecentMentionsApiVersion=r.artifactLinkTypesApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.workItemIconsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion=r.workItemTypeStatesApiVersion="3.2-preview.1",r}return __extends(t,n),t.prototype.queryWorkItemsForArtifactUris=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a9a9aa7a-8c09-44d3-ad1b-46e855c1e3d3",resource:"artifactUriQuery",routeTemplate:"_apis/{area}/{resource}",apiVersion:"3.2-preview.1",data:n})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"3.2",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.2"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.2"})},t.prototype.getComment=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{id:n,revision:t},apiVersion:"3.2-preview.1"})},t.prototype.getComments=function(n,t,r,u){var f={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{id:n},queryParams:f,apiVersion:"3.2-preview.1"})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.2"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"3.2"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.2"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"3.2"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.2"})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"3.2"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"3.2"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"3.2"})},t.prototype.updateWorkItem=function(n,t,i,r,u){var f={validateOnly:i,bypassRules:r,suppressNotifications:u};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:f,apiVersion:"3.2",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"3.2"})},t}(c);t.WorkItemTrackingHttpClient3_2=w;b=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.fieldsApiVersion=r.queriesApiVersion=r.recyclebinApiVersion=r.ruleEngineApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeTemplateApiVersion="3.1",r.accountMyWorkApiVersion=r.accountMyWorkRecentActivityApiVersion=r.accountRecentMentionsApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.workItemIconsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion=r.workItemTypeStatesApiVersion="3.1-preview.1",r}return __extends(t,n),t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"3.1",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.1"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.1"})},t.prototype.getComment=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{id:n,revision:t},apiVersion:"3.1-preview.1"})},t.prototype.getComments=function(n,t,r,u){var f={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{id:n},queryParams:f,apiVersion:"3.1-preview.1"})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.1"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"3.1"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.1"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"3.1"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.1"})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"3.1"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"3.1"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"3.1"})},t.prototype.updateWorkItem=function(n,t,i,r,u){var f={validateOnly:i,bypassRules:r,suppressNotifications:u};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:f,apiVersion:"3.1",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"3.1"})},t}(o);t.WorkItemTrackingHttpClient3_1=b;k=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.fieldsApiVersion=r.queriesApiVersion=r.recyclebinApiVersion=r.ruleEngineApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeTemplateApiVersion="3.0",r.accountMyWorkApiVersion=r.accountMyWorkRecentActivityApiVersion=r.accountRecentMentionsApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.workItemIconsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion=r.workItemTypeStatesApiVersion="3.0-preview.1",r}return __extends(t,n),t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"3.0",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.0"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.0"})},t.prototype.getComment=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{id:n,revision:t},apiVersion:"3.0-preview.1"})},t.prototype.getComments=function(n,t,r,u){var f={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{id:n},queryParams:f,apiVersion:"3.0-preview.1"})},t.prototype.getHistory=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.0"})},t.prototype.getHistoryById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,routeValues:{id:n,revisionNumber:t},apiVersion:"3.0"})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.0"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"3.0"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.0"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"3.0"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.0"})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"3.0"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"3.0"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"3.0"})},t.prototype.updateWorkItem=function(n,t,i,r,u){var f={validateOnly:i,bypassRules:r,suppressNotifications:u};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:f,apiVersion:"3.0",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"3.0"})},t}(o);t.WorkItemTrackingHttpClient3=k;d=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.fieldsApiVersion=r.queriesApiVersion=r.recyclebinApiVersion=r.ruleEngineApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeTemplateApiVersion="2.3",r.accountMyWorkApiVersion=r.accountMyWorkRecentActivityApiVersion=r.accountRecentMentionsApiVersion=r.workItemIconsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion=r.workItemTypeStatesApiVersion="2.3-preview.1",r}return __extends(t,n),t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"2.3",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.3"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.3"})},t.prototype.getHistory=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getHistoryById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,routeValues:{id:n,revisionNumber:t},apiVersion:"2.3"})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.3"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"2.3"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"2.3"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.3"})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"2.3"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"2.3"})},t.prototype.updateWorkItem=function(n,t,i,r,u){var f={validateOnly:i,bypassRules:r,suppressNotifications:u};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:f,apiVersion:"2.3",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"2.3"})},t}(e);t.WorkItemTrackingHttpClient2_3=d;g=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.fieldsApiVersion=r.queriesApiVersion=r.recyclebinApiVersion=r.ruleEngineApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeTemplateApiVersion="2.2",r.accountMyWorkApiVersion=r.accountMyWorkRecentActivityApiVersion=r.accountRecentMentionsApiVersion=r.workItemIconsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion=r.workItemTypeStatesApiVersion="2.2-preview.1",r}return __extends(t,n),t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"2.2",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.2"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.2"})},t.prototype.getHistory=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getHistoryById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,routeValues:{id:n,revisionNumber:t},apiVersion:"2.2"})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.2"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"2.2"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"2.2"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.2"})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"2.2"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"2.2"})},t.prototype.updateWorkItem=function(n,t,i,r,u){var f={validateOnly:i,bypassRules:r,suppressNotifications:u};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:f,apiVersion:"2.2",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"2.2"})},t}(e);t.WorkItemTrackingHttpClient2_2=g;nt=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.fieldsApiVersion=r.queriesApiVersion=r.recyclebinApiVersion=r.ruleEngineApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemRelationTypesApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeTemplateApiVersion="2.1",r.accountMyWorkApiVersion=r.accountMyWorkRecentActivityApiVersion=r.accountRecentMentionsApiVersion=r.workItemIconsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion=r.workItemTypeStatesApiVersion="2.1-preview.1",r}return __extends(t,n),t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"2.1",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.1"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.1"})},t.prototype.getHistory=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getHistoryById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,routeValues:{id:n,revisionNumber:t},apiVersion:"2.1"})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.1"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"2.1"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"2.1"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.1"})},t.prototype.readReportingRevisionsGet=function(n,t,i,r,u,f,e){var o={includeDeleted:t,fields:i&&i.join(","),types:r&&r.join(","),watermark:u,startDateTime:f,includeIdentityRef:e};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:n},queryParams:o,apiVersion:"2.1"})},t.prototype.readReportingRevisionsPost=function(n,t,i,r){var u={watermark:i,startDateTime:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:t},queryParams:u,apiVersion:"2.1",data:n})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"2.1"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"2.1"})},t.prototype.updateWorkItem=function(n,t,i,r,u){var f={validateOnly:i,bypassRules:r,suppressNotifications:u};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:f,apiVersion:"2.1",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"2.1"})},t}(h);t.WorkItemTrackingHttpClient2_1=nt;tt=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.fieldsApiVersion=r.queriesApiVersion=r.ruleEngineApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemRelationTypesApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeTemplateApiVersion="2.0",r.accountMyWorkApiVersion=r.accountMyWorkRecentActivityApiVersion=r.accountRecentMentionsApiVersion=r.workItemIconsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion=r.workItemTypeStatesApiVersion="2.0-preview.1",r}return __extends(t,n),t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"2.0",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.0"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.0"})},t.prototype.getHistory=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getHistoryById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,routeValues:{id:n,revisionNumber:t},apiVersion:"2.0"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"2.0"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"2.0"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.0"})},t.prototype.readReportingRevisionsGet=function(n,t,i,r,u,f,e){var o={includeDeleted:t,fields:i&&i.join(","),types:r&&r.join(","),watermark:u,startDateTime:f,includeIdentityRef:e};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:n},queryParams:o,apiVersion:"2.0"})},t.prototype.readReportingRevisionsPost=function(n,t,i,r){var u={watermark:i,startDateTime:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:t},queryParams:u,apiVersion:"2.0",data:n})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"2.0"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"2.0"})},t.prototype.updateWorkItem=function(n,t,i,r,u){var f={validateOnly:i,bypassRules:r,suppressNotifications:u};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:f,apiVersion:"2.0",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"2.0"})},t}(s);t.WorkItemTrackingHttpClient2=tt;rt=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(v);t.WorkItemTrackingHttpClient=rt;it={"5.0":v,"4.1":y,"4.0":p,"3.2":w,"3.1":b,"3.0":k,"2.3":d,"2.2":g,"2.1":nt,"2.0":tt};t.getClient=ut});

define("TFS/WorkItemTracking/BatchRestClient",["require","exports","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u){"use strict";function e(){return i.getClient(f)}Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(t){var i=n.call(this,t)||this;return i._batchApiVersion="4.0-preview",i}return __extends(t,n),t.prototype.createWorkItemsBatch=function(n,t,i){for(var f,u=[],e="/"+t+"/_apis/wit/workitems/$"+i+"?api-version="+this._batchApiVersion,r=0,o=n.length;r<o;r++)f={method:"PATCH",uri:e,headers:{"Content-Type":"application/json-patch+json"},body:n[r]},u.push(f);return this._beginBatchRequest(u)},t.prototype.updateWorkItemsBatch=function(n){var t=this,i=n.map(function(n){return t._createBatchRequest(n[0],"PATCH","workItems",n[1])});return this._beginBatchRequest(i)},t.prototype.destroyWorkItemsBatch=function(n){var t=this._createBatchRequests(n,"DELETE","recyclebin");return this._beginBatchRequest(t)},t.prototype.restoreWorkItemsBatch=function(n){var t=this._createBatchRequests(n,"PATCH","recyclebin",[{op:"replace",path:"/IsDeleted",value:!1}]);return this._beginBatchRequest(t)},t.prototype.deleteWorkItemsBatch=function(n){var t=this._createBatchRequests(n,"DELETE","workItems");return this._beginBatchRequest(t)},t.prototype.getQueriesBatch=function(n){var t=this._createBatchRequests(n,"GET","queries");return this._beginQueryBatchRequest(t)},t.prototype._createBatchRequests=function(n,t,i,r){for(var e,f=[],u=0,o=n.length;u<o;u++)e=this._createBatchRequest(n[u],t,i,r),f.push(e);return f},t.prototype._createBatchRequest=function(n,t,i,r){return{method:t,uri:"/_apis/wit/"+i+"/"+n+"?api-version="+this._batchApiVersion,headers:{"Content-Type":"application/json-patch+json"},body:r}},t.prototype._beginBatchRequest=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"A5AD93C8-56B7-4CB0-A9C0-8419DBD7FC71",resource:"batch",routeTemplate:"_apis/{area}/${resource}",data:n})},t.prototype._beginQueryBatchRequest=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"batch",routeTemplate:"_apis/{area}/${resource}",data:n})},t.serviceInstanceId=u.ServiceInstanceTypes.TFS,t}(r.VssHttpClient);t.WorkItemTrackingHttpBatchClient=f;t.getClient=e});

define("VersionControl/Scripts/Utils/WorkItemLinkUtils",["require","exports","q","VSS/Artifacts/Constants","VSS/Artifacts/Services","VSS/WebApi/Contracts","VSS/Utils/String","TFS/WorkItemTracking/Contracts","TFS/WorkItemTracking/RestClient","TFS/WorkItemTracking/BatchRestClient","VersionControl/Scripts/Resources/TFS.Resources.VersionControl"],function(n,t,i,r,u,f,e,o,s,h,c){function p(n,t,r){var u=l(n,t),f=s.getClient();return f.updateWorkItem([u],r).then(function(){return null},function(n){return n!=null&&n.responseText!=null&&n.responseText.match("Microsoft.TeamFoundation.WorkItemTracking.Web.Common.RelationAlreadyExistsException")!=null?null:i.reject(n)})}function w(n,t,i){var r=h.getClient(),u=i.map(function(i){return[i,[l(n,t)]]});return r.updateWorkItemsBatch(u).then(function(n){var i=n.value.filter(function(n){return n.code>=400}),t;if(i.length){t=JSON.parse(i[0].body);throw new Error(t&&t.value&&t.value.Message?t.value.Message:t);}})}function l(n,t){return{op:f.Operation.Add,path:"/relations/-",value:{attributes:{name:t},rel:"ArtifactLink",url:n}}}function a(n,t){var i={op:f.Operation.Test,path:"/relations/"+n+"/url",value:t},r={op:f.Operation.Remove,path:"/relations/"+n};return[i,r]}function v(n,t){var i=s.getClient();return i.getWorkItem(t,null,null,o.WorkItemExpand.Relations).then(function(r){var o,f,u;if(r!==null&&r.relations!==null)for(u=0;u<r.relations.length;++u)if(e.ignoreCaseComparer(r.relations[u].url,n)===0){f=u;o=r.relations[u].url;break}if(f>=0)return i.updateWorkItem(a(f,o),t).then(function(){return null})})}function b(n,t){if(t.length===1)return v(n,t[0]);var i=s.getClient(),r=h.getClient();return i.getWorkItems(t,null,null,o.WorkItemExpand.Relations).then(function(t){return t.map(function(t){return y(t,n)}).filter(function(n){return Boolean(n)})}).then(function(n){return r.updateWorkItemsBatch(n)}).then(function(n){var i=n.value.filter(function(n){return n.code>=400}),t;if(i.length){t=JSON.parse(i[0].body);throw new Error(t&&t.value&&t.value.Message?t.value.Message:t);}})}function y(n,t){if(n&&n.relations)for(var i=0;i<n.relations.length;++i)if(e.ignoreCaseComparer(n.relations[i].url,t)===0)return[n.id,a(i,n.relations[i].url)];return null}function k(n){var t={id:n.toString(10),tool:r.ToolNames.WorkItemTracking,type:r.ArtifactTypeNames.WorkItem,linkType:"work-item-link",linkTypeDisplayName:c.WorkItems};return t.uri=u.LinkingUtilities.encodeUri(t),t}Object.defineProperty(t,"__esModule",{value:!0});t.addWorkItemAsync=p;t.addWorkItemsBatchAsync=w;t.removeWorkItemAsync=v;t.removeWorkItemsAsync=b;t.mapWorkItemToUpdateDocument=y;t.mapWorkItemIdToLinkedArtifact=k});

define("WorkItemTracking/Scripts/RegisteredLinkTypeNames",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i;(function(n){n.Related="Related Workitem";n.Hyperlink="Workitem Hyperlink";n.Changeset="Fixed in Changeset";n.VersionedItem="Source Code File";n.Commit="Fixed in Commit";n.Branch="Branch";n.Tag="Tag";n.PullRequest="Pull Request";n.ResultAttachment="Result Attachment";n.TestResult="Test Result";n.Test="Test";n.Storyboard="Storyboard";n.Build="Build";n.FoundInBuild="Found in build";n.IntegratedInBuild="Integrated in build";n.WikiPage="Wiki Page";n.WorkItemLink="WorkItemLink";n.RemoteWorkItemLink="RemoteWorkItemLink";n.GitHubPullRequestLinkType="GitHub Pull Request";n.GitHubCommitLinkType="GitHub Commit"})(i=t.RegisteredLinkTypeNames||(t.RegisteredLinkTypeNames={}))});

define("VersionControl/Scenarios/Shared/Committing/CommittingSource",["require","exports","q","VSS/Utils/File","VSS/Utils/String","TFS/VersionControl/Contracts","VersionControl/Scripts/ChangesetArtifact","VersionControl/Scripts/CommitArtifact","VersionControl/Scripts/Controls/SourceEditing","VersionControl/Scripts/GitRefArtifact","VersionControl/Scripts/GitRefUtility","VersionControl/Scripts/RepositoryContext","VersionControl/Scripts/TFS.VersionControl.VersionSpecs","VersionControl/Scripts/Utils/WorkItemLinkUtils","VersionControl/Scripts/VersionControlPath","WorkItemTracking/Scripts/RegisteredLinkTypeNames"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){function d(n,t,i){var r=n.filter(function(n){return u.localeIgnoreCaseComparer(n.serverItem,y.combinePaths(t,i))===0});return r.length>0?r[0]:null}function g(n){return n?n.changeset:0}var k,w,b;Object.defineProperty(t,"__esModule",{value:!0});k=function(){function n(){}return n.prototype.allowEditingVersion=function(n,t){return s.EditingEnablement.isEditableVersionType(t,n)},n.prototype.commitUploadFiles=function(n,t,i,r,u,f,e,o){var s=this.getWriteManager(t,i,e),h=s.createUploadFilesChange(n,u,f),c=s.createCommit(h,r);return s.push(c,o)},n.prototype.commitEditingFile=function(n,t,i,r,u,f,e,o,h){var c=this.getWriteManager(t,i,o),l=e||s.TfvcEncodingConstants.UTF8,a=c.createAddOrEditChange(n,r,u,l),v=c.createCommit([a],f);return c.push(v,h)},n.prototype.commitEmptyFolder=function(n,t,i,r,u,f,e){var o=this.getWriteManager(i,r,f),s=o.createEmptyFolderChange(n,t),h=o.createCommit([s],u);return o.push(h,e)},n.prototype.commitRenameItem=function(n,t,i,r,u,f,e){var o=this.getWriteManager(i,r,f),s=o.createRenameChange(n,t),h=o.createCommit([s],u);return o.push(h,e)},n.prototype.commitDeleteItem=function(n,t,i,r,u,f){var e=this.getWriteManager(t,i,u),o=e.createDeleteChange(n),s=e.createCommit([o],r);return e.push(s,f)},n.prototype.linkWorkItems=function(n,t,r,u){var l;if(!n.length)return i(undefined);var s=this.isGit(u)&&u.getRepository().project.id,c=u.getRepositoryId(),a=this.isGit(u)?p.RegisteredLinkTypeNames.Commit:p.RegisteredLinkTypeNames.Changeset,y=this.isGit(u)?new o.CommitArtifact({projectGuid:s,repositoryId:c,commitId:t.commitId}):new e.ChangesetArtifact(t),f=v.addWorkItemsBatchAsync(y.getUri(),a,n);return r&&(l=new h.GitRefArtifact({projectGuid:s,repositoryId:c,refName:r.toVersionString()}),f=f.then(function(){return v.addWorkItemsBatchAsync(l.getUri(),"Branch",n)})),f},n.prototype.getWriteManager=function(n,t,i){return this.isGit(i)?new w(i,n,t):new b(i)},n.prototype.isGit=function(n){return n.getRepositoryType()===l.RepositoryType.Git},n}();t.CommittingSource=k;w=function(){function n(n,t,i){this.repositoryContext=n;this.currentVersionSpec=t;this.realVersionSpec=i;this.gitClient=this.repositoryContext.getClient()}return n.prototype.createAddOrEditChange=function(n,t,i){return{changeType:t?f.VersionControlChangeType.Add:f.VersionControlChangeType.Edit,item:{path:n.serverItem},newContent:{content:i,contentType:f.ItemContentType.RawText}}},n.prototype.createEmptyFolderChange=function(){throw new Error("Empty folders are not supported in Git.");},n.prototype.createRenameChange=function(n,t){return{changeType:f.VersionControlChangeType.Rename,sourceServerItem:n.serverItem,item:{path:t}}},n.prototype.createDeleteChange=function(n){return{changeType:f.VersionControlChangeType.Delete,item:{path:n.serverItem}}},n.prototype.createUploadFilesChange=function(n,t,i){for(var u=[],r=0,e=t.length;r<e;r++)u.push({changeType:d(i,n,t[r].name.toLowerCase())?f.VersionControlChangeType.Edit:f.VersionControlChangeType.Add,item:{path:y.combinePaths(n,t[r].name)},newContent:{content:t[r].content,contentType:f.ItemContentType.Base64Encoded}});return u},n.prototype.createCommit=function(n,t){return{changes:n,comment:t}},n.prototype.push=function(n,t){var r=this,u={refUpdates:[{name:c.specToRefName(t||this.currentVersionSpec),oldObjectId:this.realVersionSpec.commitId}],commits:[n]};return i.Promise(function(n,t){return r.gitClient.beginPushChanges(r.repositoryContext.getRepository(),u,function(t){return n(new a.GitCommitVersionSpec(t.refUpdates[0].newObjectId))},t)})},n}();t.GitWriteManager=w;b=function(){function n(n){this.repositoryContext=n;this.tfvcClient=n.getClient()}return n.prototype.createAddOrEditChange=function(n,t,i,r){return{changeType:t?f.VersionControlChangeType.Add:f.VersionControlChangeType.Edit,item:{path:n.serverItem,contentMetadata:{encoding:r},version:n.changeset},newContent:{content:i,contentType:f.ItemContentType.RawText}}},n.prototype.createRenameChange=function(n,t){return{changeType:f.VersionControlChangeType.Rename,sourceServerItem:n.serverItem,item:{path:t,version:n.changeset}}},n.prototype.createEmptyFolderChange=function(n,t){var i=g(n);return{changeType:f.VersionControlChangeType.Add,item:{path:t,isFolder:!0,version:i}}},n.prototype.createDeleteChange=function(n){return{changeType:f.VersionControlChangeType.Delete,item:{path:n.serverItem,version:n.changeset}}},n.prototype.createCommit=function(n,t){return{changes:n,comment:t}},n.prototype.createUploadFilesChange=function(n,t,i){for(var u,e=[],r=0,o=t.length;r<o;r++)u=d(i,n,t[r].name.toLowerCase()),e.push({changeType:u?f.VersionControlChangeType.Edit:f.VersionControlChangeType.Add,item:{path:y.combinePaths(n,t[r].name),contentMetadata:{encoding:this._getEncodingCodePage(t[r].encoding)},version:g(u)},newContent:{content:t[r].content,contentType:f.ItemContentType.Base64Encoded}});return e},n.prototype.push=function(n){var t=this;return i.Promise(function(i,r){return t.tfvcClient.beginCreateChangeset(n,function(n){return i(new a.ChangesetVersionSpec(n.changesetId))},r)})},n.prototype._getEncodingCodePage=function(n){switch(n){case r.FileEncoding.Binary:return s.TfvcEncodingConstants.Binary;case r.FileEncoding.UTF16_BE:return s.TfvcEncodingConstants.UTF16_BE;case r.FileEncoding.UTF16_LE:return s.TfvcEncodingConstants.UTF16_LE;case r.FileEncoding.UTF32_BE:return s.TfvcEncodingConstants.UTF32_BE;case r.FileEncoding.UTF32_LE:return s.TfvcEncodingConstants.UTF32_LE;default:return s.TfvcEncodingConstants.UTF8}},n}();t.TfvcWriteManager=b});

define("VersionControl/Scenarios/Shared/Path/LazyPathsSearchSource",["require","exports","q","VSS/VSS","VersionControl/Scripts/DeferredJobQueue"],function(n,t,i,r,u){function e(n){return n?n[n.length-1]==="/"?n:n+"/":n}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function n(n){this.repositoryContext=n;u.queueModulePreload(["VersionControl/Scenarios/Shared/Path/ThrottledPathsSearchSource","VersionControl/Scenarios/Shared/Path/PathsSearchSource",])}return n.prototype.getInFolderSearchResults=function(n,t,i){return i===void 0&&(i=!1),this.getThrottledSource().then(function(r){var u=i?e(n):n;return r.getInFolderSearchResults(u,t).then(function(t){return t.searchCancelled||(t.results.searchText=n),t})})},n.prototype.getGlobalSearchResults=function(n,t){return this.getThrottledSource().then(function(i){return i.getGlobalSearchResults(n,t)})},n.prototype.getThrottledSource=function(){var n=this;return this._throttledSource||(this._throttledSource=i.defer(),r.using(["VersionControl/Scenarios/Shared/Path/ThrottledPathsSearchSource","VersionControl/Scenarios/Shared/Path/PathsSearchSource",],function(t,i){n._throttledSource.resolve(new t.ThrottledPathsSearchSource(new i.PathsSearchSource(n.repositoryContext)))})),this._throttledSource.promise},n}();t.LazyPathsSearchSource=f});

define("VersionControl/Scenarios/Shared/Permissions/BuildPermissionsSource",["require","exports","VersionControl/Scenarios/Shared/Permissions/PermissionsSource"],function(n,t,i){function f(n){return{EditBuildDefinition:n[0].permissions.EditBuildDefinition}}var r,u;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.EditBuildDefinition=2048]="EditBuildDefinition"}(r=t.BuildPermissionSet||(t.BuildPermissionSet={}));u=function(n){function t(){return n.call(this,r)||this}return __extends(t,n),t.prototype.queryBuildPermissionsAsync=function(t){return t===void 0&&(t=!1),n.prototype.queryPermissionsAsync.call(this,["build"],t).then(f)},t.prototype.serializeKey=function(){return"build"},t}(i.PermissionsSource);t.BuildPermissionsSource=u;t.getBuildPermissions=f});

define("VersionControl/Scripts/Utils/CodeSearch",["require","exports","q","VSS/Contributions/Services","VSS/FeatureAvailability/Services","VSS/Service","VSS/VSS","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants"],function(n,t,i,r,u,f,e,o){function s(n,t){t&&e.using(["Engagement/Dispatcher","Engagement/Core","Presentation/Scripts/TFS/TFS.Engagement.Registrations"],function(t,i,r){c().then(function(n){return!n&&h(t,i)});r.registerNewFeature();t.Dispatcher.getInstance().start(n)})}function h(n,t){n.Dispatcher.getInstance().register({id:"CodeSearchPromotion",type:t.EngagementType.QuickStart,model:n.lazyLoadModel(["Presentation/Scripts/TFS/TFS.QuickStart.CodeSearchPromotion"],function(n){return new n.CodeSearchPromotionQuickStartModel(new n.CodeSearchPromotionQuickStartPageContext)})})}function c(){return u.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.WebAccessSearchShell)?i(!0):l("ms.vss-code-search.code-entity-type")}function l(n){return f.getService(r.ExtensionService).getContributions([n],!0,!1).then(function(n){return n.length>0})}Object.defineProperty(t,"__esModule",{value:!0});t.startCodeSearchEngagements=s});

define("VersionControl/Scenarios/Explorer/ExplorerView",["require","exports","q","react-dom","VSS/Contributions/Services","VSS/Controls","VSS/Controls/Navigation","VSS/Diag","VSS/Navigation/Services","VSS/Serialization","VSS/Service","VSS/VSS","Presentation/Scripts/TFS/TFS.Host.TfsContext","VersionControl/Scenarios/Explorer/ActionCreator","VersionControl/Scenarios/Explorer/ActionsHub","VersionControl/Scenarios/Explorer/Commands/AddToDashboardCommand","VersionControl/Scenarios/Explorer/Commands/OpenInVisualStudioCommand","VersionControl/Scenarios/Explorer/Components/Page","VersionControl/Scenarios/Explorer/ExplorerShortcuts","VersionControl/Scenarios/Explorer/Sources/DashboardsSource","VersionControl/Scenarios/Explorer/Sources/EditingDialogsSource","VersionControl/Scenarios/Explorer/Sources/PageSource","VersionControl/Scenarios/Explorer/Sources/RepositorySource","VersionControl/Scenarios/Explorer/Sources/StatusesSource","VersionControl/Scenarios/Explorer/Sources/TelemetrySpy","VersionControl/Scenarios/Explorer/Sources/TelemetryWriter","VersionControl/Scenarios/Explorer/Stores/StoresHub","VersionControl/Scenarios/Explorer/UrlPageHandler","VersionControl/Scenarios/History/GitHistory/Sources/HistoryCommitsSource","VersionControl/Scenarios/History/TfvcHistory/Sources/TfvcHistoryListSource","VersionControl/Scenarios/Shared/ActionsDebugMonitor","VersionControl/Scenarios/Shared/Committing/CommittingSource","VersionControl/Scenarios/Shared/Constants","VersionControl/Scenarios/Shared/EmptyRepository","VersionControl/Scenarios/Shared/Path/LazyPathsSearchSource","VersionControl/Scenarios/Shared/Permissions/BuildPermissionsSource","VersionControl/Scenarios/Shared/Permissions/GitPermissionsSource","VersionControl/Scenarios/Shared/ValidateRepository","VersionControl/Scripts/Generated/TFS.VersionControl.WebAccess.Contracts","VersionControl/Scripts/Utils/CodeSearch","VersionControl/Scripts/Views/CommonShortcuts","VSS/LoaderPlugins/Css!VersionControl/NewExplorer"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt){Object.defineProperty(t,"__esModule",{value:!0});var gt=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.disposeActions=[],t.updateTitle=function(){var n=t.getAggregateState(),i=n.pathState,r=i.itemName,f=i.isRoot,e=i.repositoryName,u=n.versionSpec,o=n.isGit;o?f?t.setWindowTitle(e):t.setWindowTitle(r):u?t.setWindowTitle(u.formatPath(r)):t.setWindowTitle(r)},t.updateUrl=function(){var n=et.getUrlParameters(t.getAggregateState(),t.rawState||{}),i=!0,r={dont:!1};t.rawState?et.areEqualUrlParameters(n,t.rawState)||s.getHistoryService().addHistoryPoint(n.action,n,undefined,i,r.dont):s.getHistoryService().replaceHistoryPoint(n.action,n,undefined,i,r.dont);t.rawState=n},t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,__assign({attachNavigate:!0},t))},t.prototype.initialize=function(){var f=this._options.tfsContext||a.TfsContext.getDefault(),s=c.getService(u.WebPageDataService),t=s.getPageData(lt.versionControlDataProviderId)||{},i,r,e,o;h.ContractSerializer.deserialize(t,bt.TypeInfo.VersionControlViewModel,!1);i=new tt.RepositorySource(f,t.gitRepository,t.defaultGitBranchName,t.deletedUserDefaultBranchName);r=i.getRepositoryContext();wt.ValidateRepository.isEmptyRepository()?this.initializeEmpty(f,r,t):(this.initializeFlux(i),e=i.isGit()?new dt.GitShortcutGroup(r):new dt.TfvcShortcutGroup(r),this.disposeActions.push(function(){return e.removeShortcutGroup()}),o=i.isGit()?new k.GitExplorerShortcutGroup(this.actionCreator):new k.ExplorerShortcutGroup(this.actionCreator),this.disposeActions.push(function(){return o.removeShortcutGroup()}),kt.startCodeSearchEngagements("CodeExplorer",f.isHosted));r.getClient()._setUserPreferencesFromViewData(t.vcUserPreferences);n.prototype.initialize.call(this)},t.prototype.getRootElement=function(){return document.querySelector(".hub-content")},t.prototype.initializeEmpty=function(n,t,i){var u=this;at.showEmptyRepository(this.getRootElement(),document,i.activeImportRequest,t,n,i.projectVersionControlInfo,i.sshEnabled,i.sshUrl,i.cloneUrl);this.disposeActions.push(function(){return r.unmountComponentAtNode(u.getRootElement())})},t.prototype.initializeFlux=function(n){var a=this,f=new y.ActionsHub,c,u,h,l;o.getDebugMode()&&(c=ht.renderInBody(f),this.disposeActions.push(function(){return r.unmountComponentAtNode(c)}));var t=n.getRepositoryContext(),k=n.isGit()?new vt.LazyPathsSearchSource(t):undefined,e=new ut.TelemetryWriter(t);this.telemetrySpy=new rt.TelemetrySpy(e,f);u=new ft.StoresHub(f,n.isGit());this.getAggregateState=u.getAggregateState;var s=t,tt=n.isGit()?new ot.HistoryCommitsSource(s):{getCommitsFromJsonIsland:function(){return undefined},getCommitsFromDataProvider:function(){return i(undefined)},getQueryCriteria:function(n){return n}},et=n.isGit()?new pt.GitPermissionsSource(s.getRepository().project.id,s.getRepositoryId()):{queryDefaultGitRepositoryPermissionsAsync:function(){return i(undefined)}};this.actionCreator=new v.ActionCreator(f,{repository:n,committing:new ct.CommittingSource,page:new nt.PageSource(this,t),statuses:new it.StatusesSource(t),search:k,dialogs:new g.EditingDialogsSource(t),historyCommits:tt,permissions:et,tfvcHistory:new st.TfvcHistoryListSource(t),buildPermissions:new yt.BuildPermissionsSource},this.getAggregateState,e);h={notify:this.actionCreator.displayInfoNotification,publishTelemetryEvent:e.publish};l=new p.AddToDashboardCommand(new d.DashboardsSource(t),h);this.actionCreator.loadExtension(l.getCommand);this.actionCreator.loadExtension(new w.OpenInVisualStudioCommand(h).getCommand);this.actionCreator.changeRepository();b.renderInto(this.getRootElement(),{actionCreator:this.actionCreator,storesHub:u});this.disposeActions.push(function(){return r.unmountComponentAtNode(a.getRootElement())});this.registerStoreChanged(u.getCompositeStore(["path","version"]),this.updateTitle);this.registerStoreChanged(u.getCompositeStore(["pivotTabs","fileContent","historyList","compare","tfvcHistoryFilter"]),this.updateUrl)},t.prototype.setHubPivotVisibility=function(n){$(".hub-pivot").toggle(n)},t.prototype._onNavigate=function(n){this.actionCreator&&et.applyNavigatedUrl(this.actionCreator,n,this.getAggregateState())},t.prototype.registerStoreChanged=function(n,t){n.addChangedListener(t);this.disposeActions.push(function(){return n.removeChangedListener(t)})},t.prototype._dispose=function(){this.disposeActions.map(function(n){return n()});this.disposeActions=undefined;n.prototype._dispose.call(this)},t}(e.NavigationView);t.ExplorerView=gt;l.classExtend(gt,a.TfsContext.ControlExtensions);f.Enhancement.registerEnhancement(gt,".versioncontrol-explorer-view")});

define("VersionControl/Scenarios/Shared/HubBase",["require","exports","VSS/Controls","VersionControl/Scenarios/Shared/EnsurePageContext"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);r.setGlobalPageContext(this._options)},t}(i.Control);t.HubBase=u});

define("VersionControl/Scenarios/Explorer/Hub",["require","exports","VSS/Controls","VSS/SDK/Shim","VSS/Utils/String","VSS/Utils/UI","VersionControl/Scenarios/Explorer/ExplorerView","VersionControl/Scenarios/Shared/HubBase","VersionControl/Scenarios/Shared/ValidateRepository","VSS/LoaderPlugins/Css!BuildStyles","VSS/LoaderPlugins/Css!DistributedTasksLibrary","VSS/LoaderPlugins/Css!VersionControl"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initialize=function(){var r,t;(n.prototype.initialize.call(this),r=u.caseInsensitiveContains(window.location.pathname,"/_versionControl"),s.ValidateRepository.repositoryForPageExists(this._element,r))&&(t=$(f.domElem("div","versioncontrol-explorer-view")),t.append(f.domElem("div","hub-content")),this._element.append(t),i.Enhancement.enhance(e.ExplorerView,this._element))},t}(o.HubBase);t.FilesHub=h;r.VSS.register("versionControl.filesHub",function(n){return i.create(h,n.$container,n.options)})});

if (window.performance && window.performance.mark) { window.performance.mark('endLoadBundleInner-view'); }