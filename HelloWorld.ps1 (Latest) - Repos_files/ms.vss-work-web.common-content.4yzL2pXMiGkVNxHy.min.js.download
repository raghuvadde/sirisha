"use strict";define("Wit/Common",["require","exports","VSS/Platform/FPS","VSS/Platform/Location","VSS/Platform/Context","VSS/Platform/RestClientBase","react","VSS/Platform/Layout","VSS/Legacy/Legacy","OfficeFabric/Utilities","Tfs/Header/Components/PinnedMenuItem","VSS/Platform/Trace"],function(n,t,i,r,u,f,e,o,s,h,c,l){var a,p,w,b,k,d,y,g,nt,v,tt;(function(n){a=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});t[n].NewWorkItem="New work item";t[n].NewQuery="New query"})("Resources"),function(n){p=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.loadItems=function(n){var s=this,h=this.pageContext.getService("ITfsPageService"),u=h.getData(),f,t,e,o;u&&u.project&&(f=[],t={},t.project=u.project.name,t.view="query-edit",t.action="new",t.newQuery="true",e=r.routeUrl(this.pageContext,"ms.vss-work-web.query-route",t),o={key:"new-query",groupKey:"app-actions",iconProps:{iconName:"QueryList"},name:a.NewQuery,href:e,onClick:function(n){return i.onClickFPS(s.pageContext,e,!0,n,{telemetrySource:"NavCreateMenu"})}},f.push(o),n(f))},t}(u.VssService);u.Services.add("work-create-menu-provider",{serviceFactory:f})}("CreateMenuProvider"),function(n){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,b,k,d,g,nt,tt;w=t[n]={};Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Id=-3]="Id";n[n.Rev=8]="Rev";n[n.Title=1]="Title";n[n.Description=52]="Description";n[n.WorkItemType=25]="WorkItemType";n[n.TeamProject=-42]="TeamProject";n[n.State=2]="State";n[n.Reason=22]="Reason";n[n.CreatedBy=33]="CreatedBy";n[n.AssignedTo=24]="AssignedTo";n[n.ChangedBy=9]="ChangedBy";n[n.ChangedDate=-4]="ChangedDate";n[n.CreatedDate=32]="CreatedDate";n[n.RevisedDate=-5]="RevisedDate";n[n.AuthorizedDate=3]="AuthorizedDate";n[n.AuthorizedAs=-1]="AuthorizedAs";n[n.History=54]="History";n[n.AreaPath=-7]="AreaPath";n[n.AreaId=-2]="AreaId";n[n.IterationPath=-105]="IterationPath";n[n.IterationId=-104]="IterationId";n[n.NodeName=-12]="NodeName";n[n.RelatedLinkCount=75]="RelatedLinkCount";n[n.HyperLinkCount=-32]="HyperLinkCount";n[n.AttachedFileCount=-31]="AttachedFileCount";n[n.ExternalLinkCount=-57]="ExternalLinkCount";n[n.CommentCount=-33]="CommentCount";n[n.LinkType=100]="LinkType";n[n.Tags=80]="Tags";n[n.Watermark=7]="Watermark";n[n.BoardColumn=90]="BoardColumn";n[n.BoardColumnDone=91]="BoardColumnDone";n[n.BoardLane=92]="BoardLane";n[n.IsDeleted=-404]="IsDeleted"}(i=t[n].CoreField||(t[n].CoreField={})),function(n){n.AreaId="System.AreaId";n.AreaPath="System.AreaPath";n.AssignedTo="System.AssignedTo";n.AttachedFileCount="System.AttachedFileCount";n.AuthorizedAs="System.AuthorizedAs";n.BoardColumn="System.BoardColumn";n.BoardColumnDone="System.BoardColumnDone";n.BoardLane="System.BoardLane";n.ChangedBy="System.ChangedBy";n.ChangedDate="System.ChangedDate";n.CreatedBy="System.CreatedBy";n.CreatedDate="System.CreatedDate";n.Description="System.Description";n.CommentCount="System.CommentCount";n.ExternalLinkCount="System.ExternalLinkCount";n.History="System.History";n.HyperLinkCount="System.HyperLinkCount";n.Id="System.Id";n.IterationId="System.IterationId";n.IterationPath="System.IterationPath";n.LinkType="System.Links.LinkType";n.NodeName="System.NodeName";n.Reason="System.Reason";n.RelatedLinkCount="System.RelatedLinkCount";n.Rev="System.Rev";n.RevisedDate="System.RevisedDate";n.State="System.State";n.AuthorizedDate="System.AuthorizedDate";n.TeamProject="System.TeamProject";n.Tags="System.Tags";n.Title="System.Title";n.WorkItemType="System.WorkItemType";n.Watermark="System.Watermark";n.IsDeleted="System.IsDeleted"}(r=t[n].CoreFieldRefNames||(t[n].CoreFieldRefNames={})),function(n){n.Related="System.LinkTypes.Related";n.Hierarchy="System.LinkTypes.Hierarchy";n.Dependency="System.LinkTypes.Dependency";n.Duplicate="System.LinkTypes.Duplicate"}(u=t[n].CoreLinkTypeReferenceNames||(t[n].CoreLinkTypeReferenceNames={})),function(n){n.IDId=-3;n.RevId=8;n.TitleId=1;n.DescriptionId=52;n.WorkItemTypeId=25;n.PortfolioProjectId=-42;n.WorkItemFormIDId=-14;n.WorkItemFormId=-15;n.StateId=2;n.ReasonId=22;n.CreatedById=33;n.WatermarkId=7;n.AssignedToId=24;n.LastChangedById=9;n.LastChangedDateId=-4;n.AuthorizedDateId=3;n.CreatedDateId=32;n.RevisedDateId=-5;n.PersonNameId=-1;n.HistoryId=54;n.AreaPathId=-7;n.AreaIDId=-2;n.IterationPathId=-105;n.IterationIDId=-104;n.NodeNameId=-12;n.RelatedLinkCountId=75;n.RemoteLinkCountId=-34;n.LinkedFileCountId=-32;n.AttachedFileCountId=-31;n.CommentCountId=-33;n.BISURICountId=-57;n.Tags=80;n.BoardColumnId=90;n.BoardColumnDoneId=91;n.BoardLaneId=92;n.RelatedLinks=37;n.PersonID=-6;n.LinkedFiles=51;n.BISURI=58;n.AttachedFiles=50;n.HiddenAttachedFiles=49;n.AreaLevel1=-43;n.AreaLevel2=-44;n.AreaLevel3=-45;n.AreaLevel4=-46;n.AreaLevel5=-47;n.AreaLevel6=-48;n.AreaLevel7=-49;n.IterationLevel1=-50;n.IterationLevel2=-51;n.IterationLevel3=-52;n.IterationLevel4=-53;n.IterationLevel5=-54;n.IterationLevel6=-55;n.IterationLevel7=-56;n.IsDeleted=-404;n.ZZZDummyField=-58}(f=t[n].DalFields||(t[n].DalFields={})),function(n){n.WORK_PLANS="Work.Plans";n.WIT_QUERYITEMS="WorkItemTracking.Queries";n.VC_PATHS="VersionControl.Paths";n.BUILD_DEFINITIONS="Build.Definitions";n.PROJECTS="Classification.TeamProjects";n.TEAMS="Team.Teams";n.REPOSITORIES="VersionControl.Repositories";n.TEST_PLANS="TestManagement.Plans"}(e=t[n].FavoriteScopes||(t[n].FavoriteScopes={})),function(n){n.WORK_PLAN="Microsoft.TeamFoundation.Work.Plans";n.WORK_ITERATION="Microsoft.TeamFoundation.Work.TeamIterations";n.WORK_TEAMBACKLOG="Microsoft.TeamFoundation.Work.TeamBacklogs";n.WORK_TEAMBOARD="Microsoft.TeamFoundation.Work.TeamBoardSets";n.WORK_IDBOARD="Microsoft.TeamFoundation.Work.IdBoard";n.WIT_QUERYITEM="Microsoft.TeamFoundation.WorkItemTracking.QueryItem";n.VC_PATH="Microsoft.TeamFoundation.VersionControl.Path";n.BUILD_DEFINITION="Microsoft.TeamFoundation.Build.Definition";n.BUILD_DEFINITION_INITIALIZED="Microsoft.TeamFoundation.Build.BuildDefinitionInitialized";n.PROJECT="Microsoft.TeamFoundation.Classification.TeamProject";n.TEAM="Microsoft.TeamFoundation.Teams.Team";n.TFVC_REPOSITORY="Microsoft.TeamFoundation.Tfvc.Repository";n.GIT_REPOSITORY="Microsoft.TeamFoundation.Git.Repository";n.TEST_PLAN="Microsoft.TeamFoundation.TestManagement.Plan";n.DASHBOARD="Microsoft.TeamFoundation.Dashboards.Dashboard"}(o=t[n].FavoriteTypes||(t[n].FavoriteTypes={})),function(n){n[n.Internal=0]="Internal";n[n.String=1]="String";n[n.Integer=2]="Integer";n[n.DateTime=3]="DateTime";n[n.PlainText=5]="PlainText";n[n.Html=7]="Html";n[n.TreePath=8]="TreePath";n[n.History=9]="History";n[n.Double=10]="Double";n[n.Guid=11]="Guid";n[n.Boolean=12]="Boolean";n[n.PicklistInteger=14]="PicklistInteger";n[n.PicklistString=15]="PicklistString"}(s=t[n].FieldType||(t[n].FieldType={})),function(n){n.ArtifactType="WorkItem";n.UnfollowResult="UnfollowResult"}(h=t[n].FollowsConstants||(t[n].FollowsConstants={})),function(n){n[n.Desktop=0]="Desktop";n[n.Mobile=1]="Mobile"}(c=t[n].FormLayoutType||(t[n].FormLayoutType={})),function(n){n.BacklogPriority="Microsoft.VSTS.Common.BacklogPriority";n.StackRank="Microsoft.VSTS.Common.StackRank";n.ActivatedBy="Microsoft.VSTS.Common.ActivatedBy";n.ActivatedDate="Microsoft.VSTS.Common.ActivatedDate";n.ClosedBy="Microsoft.VSTS.Common.ClosedBy";n.ClosedDate="Microsoft.VSTS.Common.ClosedDate";n.ResolvedBy="Microsoft.VSTS.Common.ResolvedBy";n.ResolvedDate="Microsoft.VSTS.Common.ResolvedDate";n.StateChangeDate="Microsoft.VSTS.Common.StateChangeDate"}(l=t[n].OobFieldRefNames||(t[n].OobFieldRefNames={})),function(n){n.LastVisitedQueryGroupKey="LAST_VISITED_QUERY_GROUP";n.MyFavoritesGroupKey="MY_FAVORITES_GROUP";n.LastVisitedQueryMruKey="Queries/LastVisited";n.TeamFavoriteGroupsExpandStatesMruKey="Queries/FavoriteGroupExpandStates"}(a=t[n].QueriesConstants||(t[n].QueriesConstants={})),function(n){n[n.unfollowFailed=0]="unfollowFailed";n[n.unfollowSuccess=1]="unfollowSuccess"}(v=t[n].UnfollowResultStatus||(t[n].UnfollowResultStatus={})),function(n){n.HtmlControl="HtmlFieldControl";n.PlainTextControl="PlainTextControl";n.FreshnessIndicatorControl="FreshnessIndicatorControl";n.FieldControl="FieldControl";n.DateControl="DateTimeControl";n.ClassificationControl="WorkItemClassificationControl";n.WorkItemLogControl="WorkItemLogControl";n.WorkItemHistoryControl="WorkItemHistoryControl";n.WorkItemStateGraphControl="WorkItemStateGraphControl";n.LinksControl="LinksControl";n.AttachmentsControl="AttachmentsControl";n.WebpageControl="WebpageControl";n.LabelControl="LabelControl";n.TagFieldControl="TagFieldControl";n.TestStepsControl="TestStepsControl";n.AssociatedAutomationControl="AssociatedAutomationControl";n.StageControl="StageControl";n.StageBuildControl="StageBuildControl";n.ReleaseBuildControl="ReleaseBuildControl";n.AcceptanceCriteriaControl="AcceptanceCriteriaControl";n.DevelopmentControl="DevelopmentControl";n.WorkItemDiscussionControl="WorkItemDiscussionControl";n.ParameterSetControl="ParameterSetControl"}(y=t[n].WellKnownControlNames||(t[n].WellKnownControlNames={})),function(n){n.LinkTypes="LinkTypes";n.WorkItemTypes="WorkItemTypes";n.Nodes="Nodes";n.Fields="Fields";n.AllowedValues="AllowedValues";n.ConstantSets="ConstantSets";n.WorkItemTypeCategories="WorkItemTypeCategories";n.TeamProjects="TeamProjects";n.AdhocQueries="AdhocQueries"}(p=t[n].WITCommonConstants||(t[n].WITCommonConstants={})),function(n){n.DataProviderName="ms.vss-work-web.work-item-feature-state-data-provider";n.NewWebPlatform="ms.vss-web.new-platform-support-feature"}(b=t[n].WorkItemFeatureStateConstants||(t[n].WorkItemFeatureStateConstants={})),function(n){n.ShowOnDeletedWorkItem="showOnDeletedWorkItem";n.Height="height";n.Name="name";n.Inputs="inputs";n.InputId="id";n.InputRequired="isRequired";n.InputMode="inputMode";n.InputValidation="validation";n.InputDataType="dataType";n.InputDescription="description";n.InputType="type";n.InputProperties="properties";n.InputType_WorkItemField="WorkItemField";n.FieldType="Field";n.InputProperties_WorkItemFieldTypes="workItemFieldTypes"}(k=t[n].WorkItemFormContributionProperties||(t[n].WorkItemFormContributionProperties={})),function(n){n.ContributionDefaultHeight_Group=150;n.ContributionDefaultHeight_Control=75;n.ContributionTarget_Form="ms.vss-work-web.work-item-form";n.ContributionType_Page="ms.vss-work-web.work-item-form-page";n.ContributionType_Group="ms.vss-work-web.work-item-form-group";n.ContributionType_Control="ms.vss-work-web.work-item-form-control";n.ContributionType_Notifications="ms.vss-work-web.work-item-notifications"}(d=t[n].WorkItemFormExtensionsConstants||(t[n].WorkItemFormExtensionsConstants={})),function(n){n.RESOURCELINKTYPES=["Hyperlink","ArtifactLink"];n.WORKITEMLINKUSAGE="workItemLink";n.RESOURCELINKUSAGE="resourceLink";n.ATTACHEDLINKTYPE="AttachedFile";n.HYPERLINKLINKTYPE="Hyperlink";n.ARTIFACTLINKTYPE="ArtifactLink";n.EXTERNALLINKTYPE="ExternalLink";n.ATTRIBUTES_USAGE="usage";n.ATTRIBUTES_EDITABLE="editable";n.ATTRIBUTES_ENABLED="enabled";n.ATTRIBUTES_ACYCLIC="acyclic";n.ATTRIBUTES_DIRECTIONAL="directional";n.ATTRIBUTES_SINGLETARGET="singleTarget";n.ATTRIBUTES_TOPOLOGY="topology";n.ATTRIBUTES_ID="id";n.ATTRIBUTES_AUTHORIZEDDATE="authorizedDate";n.ATTRIBUTES_RESOURCECREATEDDATE="resourceCreatedDate";n.ATTRIBUTES_RESOURCEMODIFIEDDATE="resourceModifiedDate";n.ATTRIBUTES_REVISEDDATE="revisedDate";n.ATTRIBUTES_RESOURCESIZE="resourceSize";n.ATTRIBUTES_COMMENT="comment";n.ATTRIBUTES_NAME="name";n.ATTRIBUTES_ISLOCKED="isLocked"}(g=t[n].WorkItemLinkConstants||(t[n].WorkItemLinkConstants={})),function(n){n.DataProviderName="ms.vss-work-web.work-item-settings-data-provider";n.Path="WorkItemTracking/Settings"}(nt=t[n].WorkItemSettingsConstants||(t[n].WorkItemSettingsConstants={})),function(n){n.WorkItemTypeIconNames=["icon_clipboard","icon_crown","icon_trophy","icon_list","icon_book","icon_sticky_note","icon_insect","icon_traffic_cone","icon_chat_bubble","icon_flame","icon_megaphone","icon_code_review","icon_code_response","icon_review","icon_response","icon_test_plan","icon_test_suite","icon_test_case","icon_test_step","icon_test_parameter","icon_star","icon_ribbon","icon_chart","icon_headphone","icon_key","icon_airplane","icon_car","icon_diamond","icon_asterisk","icon_database_storage","icon_government","icon_gavel","icon_parachute","icon_paint_brush","icon_palette","icon_gear","icon_check_box","icon_gift","icon_test_beaker","icon_broken_lightbulb","icon_clipboard_issue"];n.DefaultWorkItemTypeIconName="icon_clipboard"}(tt=t[n].WorkItemTypeIcons||(t[n].WorkItemTypeIcons={}))}("GeneratedConstants"),function(n){b=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var i=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.getArtifactType=function(){return"Microsoft.TeamFoundation.WorkItemTracking.QueryItem"},t.prototype.getToolTipOnHover=function(n){return n.artifactScope.name+"("+(n.artifactProperties||{}).QueryPath+")"},t}(u.VssService);u.Services.add("query-favorite-provider-data-service",{serviceFactory:i})}("QueryFavoriteProviderDataService"),function(n){k=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var i=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.createTemporaryData=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",method:"PUT",routeTemplate:"_apis/properties/{id}",routeValues:{id:t},body:n})]})})},t.prototype.getTemporaryData=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/properties/{id}",routeValues:{id:n}})]})})},t}(f.RestClientBase);u.RestClients.add("ITemporaryDataRestClient",{factory:i,options:{serviceInstanceType:"00025394-6065-48ca-87d9-7f5672854ef7"}})}("RestClientTemporaryData"),function(n){d=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var i=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getAccountMyWorkData=function(n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(){return t={$queryOption:n},[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/work/accountMyWork",queryParams:t})]})})},t.prototype.getRecentActivityData=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/work/accountMyWorkRecentActivity"})]})})},t.prototype.getRecentMentions=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/work/accountRecentMentions"})]})})},t.prototype.getWorkArtifactLinkTypes=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/wit/artifactLinkTypes"})]})})},t.prototype.queryWorkItemsForArtifactUris=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/wit/artifactUriQuery",routeValues:{project:t},body:n})]})})},t.prototype.createAttachment=function(n,t,i,r,u){return __awaiter(this,void 0,void 0,function(){var f;return __generator(this,function(){return f={fileName:i,uploadType:r,areaPath:u},[2,this.beginRequest({apiVersion:"5.0-preview.3",method:"POST",routeTemplate:"{project}/_apis/wit/attachments/{id}",routeValues:{project:t},customHeaders:{"Content-Type":"application/octet-stream"},queryParams:f,body:n,isRawData:!0})]})})},t.prototype.getAttachmentContent=function(n,t,i,r){return __awaiter(this,void 0,void 0,function(){var u;return __generator(this,function(){return u={fileName:i,download:r},[2,this.beginRequest({apiVersion:"5.0-preview.3",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/wit/attachments/{id}",routeValues:{project:t,id:n},queryParams:u})]})})},t.prototype.getAttachmentZip=function(n,t,i,r){return __awaiter(this,void 0,void 0,function(){var u;return __generator(this,function(){return u={fileName:i,download:r},[2,this.beginRequest({apiVersion:"5.0-preview.3",httpResponseType:"application/zip",routeTemplate:"{project}/_apis/wit/attachments/{id}",routeValues:{project:t,id:n},queryParams:u})]})})},t.prototype.getClassificationNodes=function(n,t,i,r){return __awaiter(this,void 0,void 0,function(){var u;return __generator(this,function(){return u={ids:t&&t.join(","),$depth:i,errorPolicy:r},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/classificationNodes",routeValues:{project:n},queryParams:u})]})})},t.prototype.getRootNodes=function(n,t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(){return i={$depth:t},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/classificationNodes",routeValues:{project:n},queryParams:i})]})})},t.prototype.createOrUpdateClassificationNode=function(n,t,i,r){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"POST",routeTemplate:"{project}/_apis/wit/classificationNodes/{structureGroup}/{*path}",routeValues:{project:t,structureGroup:i,path:r},body:n})]})})},t.prototype.deleteClassificationNode=function(n,t,i,r){return __awaiter(this,void 0,void 0,function(){var u;return __generator(this,function(){return u={$reclassifyId:r},[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"DELETE",routeTemplate:"{project}/_apis/wit/classificationNodes/{structureGroup}/{*path}",routeValues:{project:n,structureGroup:t,path:i},queryParams:u})]})})},t.prototype.getClassificationNode=function(n,t,i,r){return __awaiter(this,void 0,void 0,function(){var u;return __generator(this,function(){return u={$depth:r},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/classificationNodes/{structureGroup}/{*path}",routeValues:{project:n,structureGroup:t,path:i},queryParams:u})]})})},t.prototype.updateClassificationNode=function(n,t,i,r){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"PATCH",routeTemplate:"{project}/_apis/wit/classificationNodes/{structureGroup}/{*path}",routeValues:{project:t,structureGroup:i,path:r},body:n})]})})},t.prototype.getComment=function(n,t,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/workItems/{id}/comments/{revision}",routeValues:{project:i,id:n,revision:t}})]})})},t.prototype.getComments=function(n,t,i,r,u){return __awaiter(this,void 0,void 0,function(){var f;return __generator(this,function(){return f={fromRevision:i,$top:r,order:u},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/workItems/{id}/comments/{revision}",routeValues:{project:t,id:n},queryParams:f})]})})},t.prototype.createField=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"POST",routeTemplate:"{project}/_apis/wit/fields/{fieldNameOrRefName}",routeValues:{project:t},body:n})]})})},t.prototype.deleteField=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"DELETE",routeTemplate:"{project}/_apis/wit/fields/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n}})]})})},t.prototype.getField=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/fields/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n}})]})})},t.prototype.getFields=function(n,t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(){return i={$expand:t},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/fields/{fieldNameOrRefName}",routeValues:{project:n},queryParams:i})]})})},t.prototype.createQuery=function(n,t,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"POST",routeTemplate:"{project}/_apis/wit/queries/{*query}",routeValues:{project:t,query:i},body:n})]})})},t.prototype.deleteQuery=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"DELETE",routeTemplate:"{project}/_apis/wit/queries/{*query}",routeValues:{project:n,query:t}})]})})},t.prototype.getQueries=function(n,t,i,r){return __awaiter(this,void 0,void 0,function(){var u;return __generator(this,function(){return u={$expand:t,$depth:i,$includeDeleted:r},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/queries/{*query}",routeValues:{project:n},queryParams:u})]})})},t.prototype.getQuery=function(n,t,i,r,u){return __awaiter(this,void 0,void 0,function(){var f;return __generator(this,function(){return f={$expand:i,$depth:r,$includeDeleted:u},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/queries/{*query}",routeValues:{project:n,query:t},queryParams:f})]})})},t.prototype.searchQueries=function(n,t,i,r,u){return __awaiter(this,void 0,void 0,function(){var f;return __generator(this,function(){return f={$filter:t,$top:i,$expand:r,$includeDeleted:u},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/queries/{*query}",routeValues:{project:n},queryParams:f})]})})},t.prototype.updateQuery=function(n,t,i,r){return __awaiter(this,void 0,void 0,function(){var u;return __generator(this,function(){return u={$undeleteDescendants:r},[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"PATCH",routeTemplate:"{project}/_apis/wit/queries/{*query}",routeValues:{project:t,query:i},queryParams:u,body:n})]})})},t.prototype.getQueriesBatch=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/wit/queriesBatch",routeValues:{project:t},body:n})]})})},t.prototype.destroyWorkItem=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"DELETE",routeTemplate:"{project}/_apis/wit/recyclebin/{id}",routeValues:{project:t,id:n}})]})})},t.prototype.getDeletedWorkItem=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/recyclebin/{id}",routeValues:{project:t,id:n}})]})})},t.prototype.getDeletedWorkItems=function(n,t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(){return i={ids:n&&n.join(",")},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/recyclebin/{id}",routeValues:{project:t},queryParams:i})]})})},t.prototype.getDeletedWorkItemShallowReferences=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/recyclebin/{id}",routeValues:{project:n}})]})})},t.prototype.restoreWorkItem=function(n,t,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"PATCH",routeTemplate:"{project}/_apis/wit/recyclebin/{id}",routeValues:{project:i,id:t},body:n})]})})},t.prototype.getRevision=function(n,t,i,r){return __awaiter(this,void 0,void 0,function(){var u;return __generator(this,function(){return u={$expand:r},[2,this.beginRequest({apiVersion:"5.0-preview.3",routeTemplate:"{project}/_apis/wit/workItems/{id}/revisions/{revisionNumber}",routeValues:{project:i,id:n,revisionNumber:t},queryParams:u})]})})},t.prototype.getRevisions=function(n,t,i,r,u){return __awaiter(this,void 0,void 0,function(){var f;return __generator(this,function(){return f={$top:i,$skip:r,$expand:u},[2,this.beginRequest({apiVersion:"5.0-preview.3",routeTemplate:"{project}/_apis/wit/workItems/{id}/revisions/{revisionNumber}",routeValues:{project:t,id:n},queryParams:f})]})})},t.prototype.evaluateRulesOnField=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"POST",routeTemplate:"_apis/wit/$ruleEngine",body:n})]})})},t.prototype.createTemplate=function(n,t,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/{team}/_apis/wit/templates",routeValues:{project:t,team:i},body:n})]})})},t.prototype.getTemplates=function(n,t,i){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(){return r={workitemtypename:i},[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/{team}/_apis/wit/templates",routeValues:{project:n,team:t},queryParams:r})]})})},t.prototype.deleteTemplate=function(n,t,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",method:"DELETE",routeTemplate:"{project}/{team}/_apis/wit/templates/{templateId}",routeValues:{project:n,team:t,templateId:i}})]})})},t.prototype.getTemplate=function(n,t,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/{team}/_apis/wit/templates/{templateId}",routeValues:{project:n,team:t,templateId:i}})]})})},t.prototype.replaceTemplate=function(n,t,i,r){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",method:"PUT",routeTemplate:"{project}/{team}/_apis/wit/templates/{templateId}",routeValues:{project:t,team:i,templateId:r},body:n})]})})},t.prototype.getUpdate=function(n,t,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.3",routeTemplate:"{project}/_apis/wit/workItems/{id}/updates/{updateNumber}",routeValues:{project:i,id:n,updateNumber:t}})]})})},t.prototype.getUpdates=function(n,t,i,r){return __awaiter(this,void 0,void 0,function(){var u;return __generator(this,function(){return u={$top:i,$skip:r},[2,this.beginRequest({apiVersion:"5.0-preview.3",routeTemplate:"{project}/_apis/wit/workItems/{id}/updates/{updateNumber}",routeValues:{project:t,id:n},queryParams:u})]})})},t.prototype.queryByWiql=function(n,t,i,r,u){return __awaiter(this,void 0,void 0,function(){var f;return __generator(this,function(){return f={timePrecision:r,$top:u},[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"POST",routeTemplate:"{project}/{team}/_apis/wit/wiql",routeValues:{project:t,team:i},queryParams:f,body:n})]})})},t.prototype.getQueryResultCount=function(n,t,i,r,u){return __awaiter(this,void 0,void 0,function(){var f;return __generator(this,function(){return f={timePrecision:r,$top:u},[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"HEAD",routeTemplate:"{project}/{team}/_apis/wit/wiql/{id}",routeValues:{project:t,team:i,id:n},queryParams:f})]})})},t.prototype.queryById=function(n,t,i,r,u){return __awaiter(this,void 0,void 0,function(){var f;return __generator(this,function(){return f={timePrecision:r,$top:u},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/{team}/_apis/wit/wiql/{id}",routeValues:{project:t,team:i,id:n},queryParams:f})]})})},t.prototype.getWorkItemIconJson=function(n,t,i){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(){return r={color:t,v:i},[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/wit/workItemIcons/{icon}",routeValues:{icon:n},queryParams:r})]})})},t.prototype.getWorkItemIcons=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/wit/workItemIcons/{icon}"})]})})},t.prototype.getWorkItemIconSvg=function(n,t,i){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(){return r={color:t,v:i},[2,this.beginRequest({apiVersion:"5.0-preview.1",httpResponseType:"image/svg+xml",routeTemplate:"_apis/wit/workItemIcons/{icon}",routeValues:{icon:n},queryParams:r})]})})},t.prototype.getWorkItemIconXaml=function(n,t,i){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(){return r={color:t,v:i},[2,this.beginRequest({apiVersion:"5.0-preview.1",httpResponseType:"image/xaml+xml",routeTemplate:"_apis/wit/workItemIcons/{icon}",routeValues:{icon:n},queryParams:r})]})})},t.prototype.getReportingLinksByLinkType=function(n,t,i,r,u){return __awaiter(this,void 0,void 0,function(){var f;return __generator(this,function(){return f={linkTypes:t&&t.join(","),types:i&&i.join(","),continuationToken:r,startDateTime:u},[2,this.beginRequest({apiVersion:"5.0-preview.3",routeTemplate:"{project}/_apis/wit/reporting/workItemLinks",routeValues:{project:n},queryParams:f})]})})},t.prototype.getRelationType=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"_apis/wit/workItemRelationTypes/{relation}",routeValues:{relation:n}})]})})},t.prototype.getRelationTypes=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"_apis/wit/workItemRelationTypes/{relation}"})]})})},t.prototype.readReportingRevisionsGet=function(n,t,i,r,u,f,e,o,s,h,c,l){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(){return a={fields:t&&t.join(","),types:i&&i.join(","),continuationToken:r,startDateTime:u,includeIdentityRef:f,includeDeleted:e,includeTagRef:o,includeLatestOnly:s,$expand:h,includeDiscussionChangesOnly:c,$maxPageSize:l},[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/reporting/workItemRevisions",routeValues:{project:n},queryParams:a})]})})},t.prototype.readReportingRevisionsPost=function(n,t,i,r,u){return __awaiter(this,void 0,void 0,function(){var f;return __generator(this,function(){return f={continuationToken:i,startDateTime:r,$expand:u},[2,this.beginRequest({apiVersion:"5.0-preview.2",method:"POST",routeTemplate:"{project}/_apis/wit/reporting/workItemRevisions",routeValues:{project:t},queryParams:f,body:n})]})})},t.prototype.createWorkItem=function(n,t,i,r,u,f){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(){return e={validateOnly:r,bypassRules:u,suppressNotifications:f},[2,this.beginRequest({apiVersion:"5.0-preview.3",method:"POST",routeTemplate:"{project}/_apis/wit/workItems/${type}",routeValues:{project:t,type:i},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,body:n})]})})},t.prototype.getWorkItemTemplate=function(n,t,i,r,u){return __awaiter(this,void 0,void 0,function(){var f;return __generator(this,function(){return f={fields:i,asOf:r,$expand:u},[2,this.beginRequest({apiVersion:"5.0-preview.3",routeTemplate:"{project}/_apis/wit/workItems/${type}",routeValues:{project:n,type:t},queryParams:f})]})})},t.prototype.deleteWorkItem=function(n,t,i){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(){return r={destroy:i},[2,this.beginRequest({apiVersion:"5.0-preview.3",method:"DELETE",routeTemplate:"{project}/_apis/wit/workItems/{id}",routeValues:{project:t,id:n},queryParams:r})]})})},t.prototype.getWorkItem=function(n,t,i,r,u){return __awaiter(this,void 0,void 0,function(){var f;return __generator(this,function(){return f={fields:i&&i.join(","),asOf:r,$expand:u},[2,this.beginRequest({apiVersion:"5.0-preview.3",routeTemplate:"{project}/_apis/wit/workItems/{id}",routeValues:{project:t,id:n},queryParams:f})]})})},t.prototype.getWorkItems=function(n,t,i,r,u,f){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(){return e={ids:n&&n.join(","),fields:i&&i.join(","),asOf:r,$expand:u,errorPolicy:f},[2,this.beginRequest({apiVersion:"5.0-preview.3",routeTemplate:"{project}/_apis/wit/workItems/{id}",routeValues:{project:t},queryParams:e})]})})},t.prototype.updateWorkItem=function(n,t,i,r,u,f){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(){return e={validateOnly:r,bypassRules:u,suppressNotifications:f},[2,this.beginRequest({apiVersion:"5.0-preview.3",method:"PATCH",routeTemplate:"{project}/_apis/wit/workItems/{id}",routeValues:{project:i,id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,body:n})]})})},t.prototype.getWorkItemsBatch=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/wit/workItemsBatch",routeValues:{project:t},body:n})]})})},t.prototype.getWorkItemStateColors=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"_apis/work/workitemStateColor",body:n})]})})},t.prototype.getWorkItemNextStatesOnCheckinAction=function(n,t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(){return i={ids:n&&n.join(","),action:t},[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/wit/workItemTransitions",queryParams:i})]})})},t.prototype.getWorkItemTypeCategories=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/workItemTypeCategories/{category}",routeValues:{project:n}})]})})},t.prototype.getWorkItemTypeCategory=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/workItemTypeCategories/{category}",routeValues:{project:n,category:t}})]})})},t.prototype.getWorkItemTypeColors=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"_apis/work/workitemTypeColor",body:n})]})})},t.prototype.getWorkItemTypeColorAndIcons=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"_apis/wit/workItemTypeColorAndIcon",body:n})]})})},t.prototype.getWorkItemType=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/workItemTypes/{type}",routeValues:{project:n,type:t}})]})})},t.prototype.getWorkItemTypes=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/wit/workItemTypes/{type}",routeValues:{project:n}})]})})},t.prototype.getWorkItemTypeFieldsWithReferences=function(n,t,i){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(){return r={$expand:i},[2,this.beginRequest({apiVersion:"5.0-preview.3",routeTemplate:"{project}/_apis/wit/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t},queryParams:r})]})})},t.prototype.getWorkItemTypeFieldWithReferences=function(n,t,i,r){return __awaiter(this,void 0,void 0,function(){var u;return __generator(this,function(){return u={$expand:r},[2,this.beginRequest({apiVersion:"5.0-preview.3",routeTemplate:"{project}/_apis/wit/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},queryParams:u})]})})},t.prototype.getWorkItemTypeStates=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/wit/workitemtypes/{type}/states",routeValues:{project:n,type:t}})]})})},t.prototype.exportWorkItemTypeDefinition=function(n,t,i){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(){return r={exportGlobalLists:i},[2,this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/wit/workItemTypeTemplate/{type}",routeValues:{project:n,type:t},queryParams:r})]})})},t.prototype.updateWorkItemTypeDefinition=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/wit/workItemTypeTemplate/{type}",routeValues:{project:t},body:n})]})})},t}(f.RestClientBase);u.RestClients.add("IWorkItemTrackingRestClient",{factory:i,options:{serviceInstanceType:"00025394-6065-48ca-87d9-7f5672854ef7"}})}("RestClientWorkItemTracking"),function(n){var r,i;y=t[n]={};Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.FullPagePreferred=0]="FullPagePreferred"}(r=t[n].CreationMode||(t[n].CreationMode={}));i=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.createWorkItem=function(n,t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(r){switch(r.label){case 0:return[4,this._getService()];case 1:return i=r.sent(),i.createWorkItem(n,t),[2]}})})},t.prototype.openWorkItem=function(n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return[4,this._getService()];case 1:return t=i.sent(),t.openWorkItem(n),[2]}})})},t.prototype._getService=function(){return __awaiter(this,void 0,void 0,function(){var i,n,t;return __generator(this,function(r){switch(r.label){case 0:if(i=this.pageContext.getService("IVssContributionService"),n=i.getChildServicesEx("ms.vss-work-web.work-item-service","ms.vss-web.service"),n.length>1&&console.warn("There should only be one work item service"),n.length===0)throw new Error("Cannot find work item service");return[4,n[0].service];case 1:if(t=r.sent(),!t)throw new Error("Cannot find work item service");return[2,t]}})})},t}(u.VssService);t[n].WorkItemCreationService=i;u.Services.add("work-item-service",{serviceFactory:i})}("ServicesWorkItemService"),function(n){g=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var i=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.openWorkItem=function(n){var t=this.pageContext.getService("IVssLayoutManager");t.renderCallout(function(t){return e.createElement(o.WrappedComponent,{wrappedType:"work-item-edit-panel",dependencies:["ms.vss-work-web.work-item-view"],wrappedProps:{workItemId:n,onDismiss:t}})})},t.prototype.createWorkItem=function(n){var t=this.pageContext.getService("IVssLayoutManager");t.renderCallout(function(t){return e.createElement(o.WrappedComponent,{wrappedType:"work-item-create-panel",dependencies:["ms.vss-work-web.work-item-view"],wrappedProps:{workItemTypeName:n,onDismiss:t}})})},t}(u.VssService);t[n].WorkItemServiceHydro=i;u.Services.add("work-item-service-hydro",{serviceFactory:i})}("ServicesWorkItemServiceHydro"),function(n){nt=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.openWorkItem=function(n){var t=this.pageContext.getService("IVssLayoutManager");t.renderCallout(function(t){return e.createElement(s.LegacyComponent,{modules:["WorkItemTracking/SharedScripts/WorkItemDialogShim"],wrappedType:"WorkItemDialog",workItemId:n,onDismiss:t})})},t.prototype.createWorkItem=function(n,t){var f,u,o,h,c;t===y.CreationMode.FullPagePreferred?(f=this.pageContext.getService("ITfsPageService"),u=f.getData(),u&&u.project&&(o=r.routeUrl(this.pageContext,"ms.vss-work-web.work-items-create-route",{project:u.project.name}),h=o+"/"+n,i.FastPageSwitch(this.pageContext,h,!0))):(c=this.pageContext.getService("IVssLayoutManager"),c.renderCallout(function(t){return e.createElement(s.LegacyComponent,{modules:["WorkItemTracking/SharedScripts/WorkItemDialogShim"],wrappedType:"createNewWorkItemDialog",workItemTypeName:n,onDismiss:t})}))},t}(u.VssService);t[n].WorkItemServiceOther=f;u.Services.add("work-item-service-other",{serviceFactory:f})}("ServicesWorkItemServiceOther"),function(n){function i(n){return n=n||"",n.trim().toLowerCase()}v=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){}return n.createColorAndIcon=function(n,t){return{color:this._transformColor(n),icon:this._transformIcon(t)}},n.getDefault=function(){return{color:n.DEFAULT_WORKITEMTYPE_COLOR,icon:n.DEFAULT_WORKITEMTYPE_BOWTIE_ICON}},n._transformColor=function(t){return t?"#"+t.substr(t.length-6):n.DEFAULT_WORKITEMTYPE_COLOR},n._transformIcon=function(t){return(t=i(t),!t||!n.ICON_NAME_MAPPINGS[t])?n.DEFAULT_WORKITEMTYPE_BOWTIE_ICON:n.ICON_NAME_MAPPINGS[t]},n.ICON_NAME_MAPPINGS={icon_crown:"bowtie-symbol-crown",icon_trophy:"bowtie-symbol-trophy",icon_list:"bowtie-symbol-list",icon_book:"bowtie-symbol-book",icon_sticky_note:"bowtie-symbol-stickynote",icon_clipboard:"bowtie-symbol-task",icon_insect:"bowtie-symbol-bug",icon_traffic_cone:"bowtie-symbol-impediment",icon_chat_bubble:"bowtie-symbol-review",icon_flame:"bowtie-symbol-flame",icon_megaphone:"bowtie-symbol-ask",icon_test_plan:"bowtie-test-plan",icon_test_suite:"bowtie-test-suite",icon_test_case:"bowtie-test-case",icon_test_step:"bowtie-test-step",icon_test_parameter:"bowtie-test-parameter",icon_code_review:"bowtie-symbol-review-request",icon_code_response:"bowtie-symbol-review-response",icon_review:"bowtie-symbol-feedback-request",icon_response:"bowtie-symbol-feedback-response",icon_ribbon:"bowtie-symbol-ribbon",icon_chart:"bowtie-symbol-finance",icon_headphone:"bowtie-symbol-headphone",icon_key:"bowtie-symbol-key",icon_airplane:"bowtie-symbol-airplane",icon_car:"bowtie-symbol-car",icon_diamond:"bowtie-symbol-diamond",icon_asterisk:"bowtie-symbol-asterisk",icon_database_storage:"bowtie-symbol-storage-database",icon_government:"bowtie-symbol-government",icon_gavel:"bowtie-symbol-decision",icon_parachute:"bowtie-symbol-parachute",icon_paint_brush:"bowtie-symbol-paint-brush",icon_palette:"bowtie-symbol-color-palette",icon_gear:"bowtie-settings-gear",icon_check_box:"bowtie-status-success-box",icon_gift:"bowtie-package-fill",icon_test_beaker:"bowtie-test-fill",icon_broken_lightbulb:"bowtie-symbol-defect",icon_clipboard_issue:"bowtie-symbol-issue"},n.DEFAULT_UNPARENTED_WORKITEM_COLOR="#A6A6A6",n.DEFAULT_UNPARENTED_WORKITEM_BOWTIE_ICON="bowtie-square",n.DEFAULT_WORKITEMTYPE_COLOR_HEX="009CCC",n.DEFAULT_WORKITEMTYPE_COLOR="#"+n.DEFAULT_WORKITEMTYPE_COLOR_HEX,n.DEFAULT_WORKITEMTYPE_ICON="icon_clipboard",n.DEFAULT_WORKITEMTYPE_BOWTIE_ICON=n.ICON_NAME_MAPPINGS[n.DEFAULT_WORKITEMTYPE_ICON],n}();t[n].WorkItemTypeColorAndIcons=r}("WorkItemTypeColorAndIcons"),function(n){tt=t[n]={};Object.defineProperty(t,"__esModule",{value:!0});var i=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._typeMenuItems=[],t._subMenuCounter=0,t.onRender=function(n,t){var i={dismiss:t,item:n,key:n.key+"-wrapper"};return e.createElement(c.PinnedMenuItem,i)},t}return __extends(t,n),t.prototype._serviceStart=function(t){n.prototype._serviceStart.call(this,t);this._layoutManager=t.getService("IVssLayoutManager")},t.prototype.loadItems=function(n){var r=this,u,t,s;this._itemsUpdated=n;var f=this.pageContext.getService("ITfsPageService"),i=f.getData(),e,o;i&&(i.project&&(e=i.project.name,{}.pageSource={project:{id:i.project.id,name:i.project.name}}),u=f.getHorizontalNavigationTeamData(),u&&(o=u.name));s=this.pageContext.getService("IVssContributionService");s.getDataAsync("ms.vss-work-web.new-workitem-data-provider").then(function(n){if(t=n||{},t.hasNewWorkItemPermission&&t.workItemTypes){var u=r.pageContext.getService("ITfsNavigationSettingsService"),i=u.getUserSetting("PinnedWorkAction");i||(i=t.defaultMenuItem?["new-workitem-"+t.defaultMenuItem]:[]);r._typeMenuItems=r._createChildItems(e,o,t,i);r._createMenu()}})},t.prototype._createMenu=function(){var r=[],t=[],i=[],n,u;this._typeMenuItems.forEach(function(n){n.pinningOptions&&n.pinningOptions.isPinned?(n.groupKey="actions",r.push(n)):(n.groupKey=undefined,t.push(n),i.push(n.key))});n=[];t.length>0?(u={key:"new-work-item-"+this._subMenuCounter,rank:1,name:a.NewWorkItem,groupKey:"actions",subMenuProps:{items:t}},n.push(u)):i.push("new-work-item-"+this._subMenuCounter++);n=n.concat(r);this._itemsUpdated(n,i)},t.prototype._createChildItems=function(n,t,i,r){var f=[],o,u,e;if(i&&i.workItemTypes)for(o=this.pageContext.getService("IVssLocationService"),u=0;u<i.workItemTypes.length;u++)e=this._createMenuItem(n,t,o,i,i.workItemTypes[u],r),e&&f.push(e);return f.sort(function(n,t){return n.name&&t.name?n.name.localeCompare(t.name):0}),f},t.prototype._createMenuItem=function(n,t,i,r,u,f){var o=this,e,c,s,a;return r&&(e={key:"new-workitem-"+u.replace(" ","-").toLowerCase(),project:n,onRender:this.onRender,name:u},e.pinningOptions={isPinnable:!0,isPinned:this._isPinned(f,e.key),onPinnedChanged:function(n,t){var r=n.key,i;t?f.push(r):o._remove(f,r);o._savePinnedSettings(f);o._typeMenuItems&&(i=o._typeMenuItems.filter(function(n){return n.key===r})[0],i&&i.pinningOptions&&(i.pinningOptions.isPinned=!i.pinningOptions.isPinned,o._createMenu()))}},c={project:n,parameters:u.toLowerCase()},t&&(c.team=t),e.href=i.routeUrl("ms.vss-work-web.work-items-create-route",c),r.colorAndIcons&&(s=this._getWorkItemTypeColorAndIcon(r,u),s&&(e.color=s.color,e.icon=s.icon,a=h.css("bowtie-icon",s.icon),e.iconProps={className:a,style:{color:s.color}})),e.onClick=function(n){if(!n.ctrlKey&&!n.shiftKey){var t=o.pageContext.getService("IVssContributionService");return t.getService("ms.vss-work-web.work-item-service").then(function(n){if(!n)throw new Error("Cannot create work item creation service");n.createWorkItem(u)},function(n){l.traceException(o.pageContext,"WIT","WorkItemCreationFromNavigation",n)}),n.preventDefault(),!0}}),e},t.prototype._getWorkItemTypeColorAndIcon=function(n,t){if(t=this._getNormalizedValue(t),t&&n.colorAndIcons){var i=n.colorAndIcons[t];return i&&i.icon?v.WorkItemTypeColorAndIcons.createColorAndIcon(i.color,i.icon):v.WorkItemTypeColorAndIcons.getDefault()}return undefined},t.prototype._getNormalizedValue=function(n){return n=n||"",n.trim().toLowerCase()},t.prototype._isPinned=function(n,t){return n&&n.indexOf(t)!==-1},t.prototype._savePinnedSettings=function(n){var t=this.pageContext.getService("ITfsNavigationSettingsService");t.setUserSetting("PinnedWorkAction",n)},t.prototype._remove=function(n,t){var i=n.indexOf(t);return i>=0&&n.splice(i,1),i>=0},t}(u.VssService);u.Services.add("work-item-action-service",{serviceFactory:i})}("WorkItemHeaderActions")},["Resources","CreateMenuProvider","Generated/Constants","QueryFavoriteProviderDataService","RestClient/TemporaryData","RestClient/WorkItemTracking","Services/WorkItemService","Services/WorkItemService.Hydro","Services/WorkItemService.Other","WorkItemTypeColorAndIcons","WorkItemHeaderActions"]);document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-work-web.common-content"}}));